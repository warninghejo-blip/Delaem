
==================================================
FILE PATH: \.pages_upload\.vscode\extensions.json
==================================================

{
    "recommendations": [
        "esbenp.prettier-vscode",
        "dbaeumer.vscode-eslint",
        "mkaufman.htmlhint",
        "ritwickdey.liveserver",
        "ms-vscode.vscode-typescript-next"
    ]
}

==================================================
FILE PATH: \.pages_upload\.vscode\settings.json
==================================================

{
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "editor.codeActionsOnSave": {
        "source.fixAll.eslint": "explicit"
    },
    "files.eol": "\n",
    "files.insertFinalNewline": true,
    "files.trimTrailingWhitespace": true,
    "html.format.enable": false,
    "javascript.format.enable": false,
    "[javascript]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[html]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[json]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "eslint.validate": ["javascript", "javascriptreact"],
    "htmlhint.enable": true,
    "liveServer.settings.port": 3001,
    "liveServer.settings.root": "/",
    "liveServer.settings.CustomBrowser": "chrome"
}

==================================================
FILE PATH: \.pages_upload\.vscode\tasks.json
==================================================

{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "üöÄ Deploy to Cloudflare",
            "type": "shell",
            "command": "deploy.bat",
            "problemMatcher": [],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "shared",
                "showReuseMessage": true,
                "clear": false
            },
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "üîß Deploy Worker Only",
            "type": "shell",
            "command": "npm run deploy-worker",
            "problemMatcher": [],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "shared"
            }
        },
        {
            "label": "üåê Deploy Pages Only",
            "type": "shell",
            "command": "npm run deploy-pages",
            "problemMatcher": [],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "shared"
            }
        }
    ]
}

==================================================
FILE PATH: \.pages_upload\fennec-launch\lib\curve_engine.js
==================================================

export function createLaunchState({ tokenSymbol, saleSupply, lpSupply, startPrice, slope }) {
    const s = Number(saleSupply);
    const l = Number(lpSupply);
    const p0 = Number(startPrice);
    const k = Number(slope);

    if (!tokenSymbol) throw new Error('tokenSymbol required');
    if (!Number.isFinite(s) || s <= 0) throw new Error('saleSupply must be > 0');
    if (!Number.isFinite(l) || l <= 0) throw new Error('lpSupply must be > 0');
    if (!Number.isFinite(p0) || p0 <= 0) throw new Error('startPrice must be > 0');
    if (!Number.isFinite(k) || k < 0) throw new Error('slope must be >= 0');

    return {
        schema: 'fennec.launch.state.v1',
        tokenSymbol: String(tokenSymbol).toUpperCase(),
        saleSupply: s,
        lpSupply: l,
        startPrice: p0,
        slope: k,
        sold: 0,
        reserve: 0,
        migrated: false,
        lp: null,
        createdAt: new Date().toISOString(),
        updatedAt: new Date().toISOString()
    };
}

export function priceAt(state, sold) {
    return state.startPrice + state.slope * sold;
}

export function quoteBuy(state, amountTokens) {
    if (state.migrated) throw new Error('launch migrated');
    const dx = Number(amountTokens);
    if (!Number.isFinite(dx) || dx <= 0) throw new Error('amountTokens must be > 0');
    if (state.sold + dx > state.saleSupply) throw new Error('insufficient sale supply');

    const s = state.sold;
    const p0 = state.startPrice;
    const k = state.slope;

    const cost = p0 * dx + k * (s * dx + 0.5 * dx * dx);
    const avgPrice = cost / dx;

    return {
        amountTokens: dx,
        cost,
        avgPrice,
        startPrice: priceAt(state, s),
        endPrice: priceAt(state, s + dx)
    };
}

export function buy(state, amountTokens) {
    const q = quoteBuy(state, amountTokens);
    state.sold += q.amountTokens;
    state.reserve += q.cost;
    state.updatedAt = new Date().toISOString();
    return q;
}

==================================================
FILE PATH: \.pages_upload\fennec-launch\lib\migration_manager.js
==================================================

export function canMigrate(state) {
    return !state.migrated && state.sold >= state.saleSupply;
}

export function migrate(state) {
    if (!canMigrate(state)) throw new Error('cannot migrate');

    const lp = {
        schema: 'fennec.launch.lp.v1',
        token: state.tokenSymbol,
        tokenAmount: state.lpSupply,
        reserveAmount: state.reserve,
        createdAt: new Date().toISOString()
    };

    state.lp = lp;
    state.reserve = 0;
    state.migrated = true;
    state.updatedAt = new Date().toISOString();

    return lp;
}

==================================================
FILE PATH: \.pages_upload\fennec-launch\public\app.js
==================================================

async function j(url, opts) {
    const res = await fetch(url, opts);
    const json = await res.json().catch(() => null);
    if (!res.ok || !json?.ok) throw new Error(json?.error || `HTTP ${res.status}`);
    return json;
}

const el = {
    health: document.getElementById('health'),
    token: document.getElementById('token'),
    saleSupply: document.getElementById('saleSupply'),
    lpSupply: document.getElementById('lpSupply'),
    startPrice: document.getElementById('startPrice'),
    slope: document.getElementById('slope'),
    btnCreate: document.getElementById('btnCreate'),
    buyAmount: document.getElementById('buyAmount'),
    btnQuote: document.getElementById('btnQuote'),
    btnBuy: document.getElementById('btnBuy'),
    btnMigrate: document.getElementById('btnMigrate'),
    btnRefresh: document.getElementById('btnRefresh'),
    quote: document.getElementById('quote'),
    state: document.getElementById('state')
};

async function loadHealth() {
    try {
        const h = await fetch('/api/health').then(r => r.json());
        el.health.textContent = h?.ok ? 'api:ok' : 'api:error';
    } catch {
        el.health.textContent = 'api:error';
    }
}

async function refresh() {
    const { data } = await j('/api/state');
    el.state.textContent = JSON.stringify(data, null, 2);
}

async function createLaunch() {
    el.btnCreate.disabled = true;
    try {
        await j('/api/launch/create', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                tokenSymbol: el.token.value.trim(),
                saleSupply: el.saleSupply.value,
                lpSupply: el.lpSupply.value,
                startPrice: el.startPrice.value,
                slope: el.slope.value
            })
        });
        await refresh();
    } finally {
        el.btnCreate.disabled = false;
    }
}

async function quote() {
    el.quote.textContent = '';
    const { data } = await j('/api/buy/quote', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ amountTokens: el.buyAmount.value })
    });
    el.quote.textContent = JSON.stringify(data, null, 2);
}

async function buyTokens() {
    const { data } = await j('/api/buy', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ amountTokens: el.buyAmount.value })
    });
    el.quote.textContent = JSON.stringify(data.quote, null, 2);
    el.state.textContent = JSON.stringify(data.state, null, 2);
}

async function migrate() {
    const { data } = await j('/api/migrate', { method: 'POST' });
    el.quote.textContent = JSON.stringify(data.lp, null, 2);
    el.state.textContent = JSON.stringify(data.state, null, 2);
}

el.btnCreate.addEventListener('click', createLaunch);
el.btnRefresh.addEventListener('click', refresh);
el.btnQuote.addEventListener('click', quote);
el.btnBuy.addEventListener('click', buyTokens);
el.btnMigrate.addEventListener('click', migrate);

await loadHealth();
await refresh().catch(() => {
    el.state.textContent = 'null';
});

==================================================
FILE PATH: \.pages_upload\fennec-launch\public\index.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec Launch</title>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body class="bg-black text-zinc-100">
        <div class="max-w-4xl mx-auto p-6">
            <div class="flex items-baseline justify-between gap-4 flex-wrap">
                <h1 class="text-2xl font-black tracking-widest">FENNEC LAUNCH</h1>
                <div id="health" class="text-xs font-mono text-zinc-400"></div>
            </div>

            <div class="mt-6 grid md:grid-cols-2 gap-6">
                <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
                    <div class="text-xs font-bold tracking-widest text-zinc-300">CREATE LAUNCH</div>

                    <div class="mt-3 grid grid-cols-2 gap-3">
                        <label class="text-xs text-zinc-300">
                            Token
                            <input
                                id="token"
                                value="FENNEC"
                                class="mt-1 w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2"
                            />
                        </label>
                        <label class="text-xs text-zinc-300">
                            Sale supply
                            <input
                                id="saleSupply"
                                value="1000000"
                                inputmode="numeric"
                                class="mt-1 w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2"
                            />
                        </label>
                    </div>

                    <div class="mt-3 grid grid-cols-2 gap-3">
                        <label class="text-xs text-zinc-300">
                            LP supply
                            <input
                                id="lpSupply"
                                value="250000"
                                inputmode="numeric"
                                class="mt-1 w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2"
                            />
                        </label>
                        <label class="text-xs text-zinc-300">
                            Start price
                            <input
                                id="startPrice"
                                value="0.000001"
                                inputmode="decimal"
                                class="mt-1 w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2"
                            />
                        </label>
                    </div>

                    <div class="mt-3">
                        <label class="text-xs text-zinc-300">
                            Slope
                            <input
                                id="slope"
                                value="0.0000000000005"
                                inputmode="decimal"
                                class="mt-1 w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2"
                            />
                        </label>
                    </div>

                    <button
                        id="btnCreate"
                        class="mt-4 w-full rounded-xl bg-emerald-500/15 border border-emerald-500/30 px-4 py-3 text-xs font-black tracking-widest hover:bg-emerald-500/25"
                    >
                        CREATE
                    </button>
                </div>

                <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
                    <div class="text-xs font-bold tracking-widest text-zinc-300">BUY / MIGRATE</div>

                    <label class="mt-3 block text-xs text-zinc-300">
                        Buy tokens
                        <input
                            id="buyAmount"
                            value="1000"
                            inputmode="decimal"
                            class="mt-1 w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2"
                        />
                    </label>

                    <div class="mt-3 text-xs text-zinc-300">Quote</div>
                    <pre
                        id="quote"
                        class="mt-2 text-[11px] bg-black/40 border border-white/10 rounded-lg p-3 overflow-auto"
                    ></pre>

                    <div class="mt-3 grid grid-cols-2 gap-3">
                        <button
                            id="btnQuote"
                            class="rounded-xl bg-orange-500/15 border border-orange-500/30 px-4 py-3 text-xs font-black tracking-widest hover:bg-orange-500/25"
                        >
                            QUOTE
                        </button>
                        <button
                            id="btnBuy"
                            class="rounded-xl bg-orange-500/15 border border-orange-500/30 px-4 py-3 text-xs font-black tracking-widest hover:bg-orange-500/25"
                        >
                            BUY
                        </button>
                    </div>

                    <button
                        id="btnMigrate"
                        class="mt-3 w-full rounded-xl bg-violet-500/15 border border-violet-500/30 px-4 py-3 text-xs font-black tracking-widest hover:bg-violet-500/25"
                    >
                        MIGRATE TO AMM
                    </button>
                </div>
            </div>

            <div class="mt-6 rounded-2xl border border-white/10 bg-white/5 p-4">
                <div class="flex items-baseline justify-between gap-4 flex-wrap">
                    <div class="text-xs font-bold tracking-widest text-zinc-300">STATE</div>
                    <button id="btnRefresh" class="text-xs font-bold text-zinc-300 hover:text-white">refresh</button>
                </div>
                <pre
                    id="state"
                    class="mt-3 text-[11px] bg-black/40 border border-white/10 rounded-lg p-3 overflow-auto"
                ></pre>
            </div>
        </div>

        <script type="module" src="/app.js"></script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\fennec-launch\test\migration.test.js
==================================================

import test from 'node:test';
import assert from 'node:assert/strict';
import { createLaunchState, buy } from '../lib/curve_engine.js';
import { canMigrate, migrate } from '../lib/migration_manager.js';

test('migration adds 100% of reserve to LP', () => {
    const state = createLaunchState({
        tokenSymbol: 'FENNEC',
        saleSupply: 1000,
        lpSupply: 250,
        startPrice: 1,
        slope: 0.01
    });

    const q1 = buy(state, 400);
    const q2 = buy(state, 600);

    const raised = q1.cost + q2.cost;
    assert.equal(state.sold, 1000);
    assert.equal(state.reserve, raised);
    assert.equal(canMigrate(state), true);

    const lp = migrate(state);
    assert.equal(lp.reserveAmount, raised);
    assert.equal(state.reserve, 0);
    assert.equal(state.migrated, true);
    assert.equal(state.lp.reserveAmount, raised);
});

==================================================
FILE PATH: \.pages_upload\fennec-launch\db.json
==================================================

{
    "launch": null,
    "events": []
}

==================================================
FILE PATH: \.pages_upload\fennec-launch\package.json
==================================================

{
    "name": "fennec-launch",
    "private": true,
    "type": "module",
    "scripts": {
        "dev": "node server.mjs",
        "start": "node server.mjs",
        "test": "node --test"
    },
    "dependencies": {
        "cors": "^2.8.5",
        "express": "^4.18.2",
        "lowdb": "^6.0.1"
    }
}

==================================================
FILE PATH: \.pages_upload\js\lore_db.js
==================================================

(function () {
    // === MODULAR LORE DATABASE ===

    // Part 1: Identity (depends on Archetype)
    const IDENTITY_DB = {
        DRIFTER: {
            prefixes: ['Silent', 'Nomadic', 'Dust-covered', 'Wandering', 'High-speed', 'Lonely', 'Wind-borne'],
            nouns: ['Strider', 'Runner', 'Ghost', 'Vagrant', 'Scout', 'Pathfinder', 'Traveler']
        },
        MERCHANT: {
            prefixes: ['Golden', 'Calculating', 'Wealthy', 'Neon', 'Licensed', 'Digital', 'Arbitrage'],
            nouns: ['Broker', 'Tycoon', 'Dealer', 'Baron', 'Architect', 'Vendor', 'Executive']
        },
        ENGINEER: {
            prefixes: ['Optimized', 'Overclocked', 'Neural', 'Cybernetic', 'Rooted', 'Encrypted', 'Compiled'],
            nouns: ['Architect', 'Coder', 'Operator', 'Hacker', 'Builder', 'Technomancer', 'Unit']
        },
        SHAMAN: {
            prefixes: ['Mystic', 'Ancient', 'Glowing', 'Ethereal', 'Chanting', 'Prophetic', 'Ritual'],
            nouns: ['Seer', 'Oracle', 'Medium', 'Spirit', 'Summoner', 'Sage', 'Visionary']
        },
        KEEPER: {
            prefixes: ['Eternal', 'Remembering', 'Archived', 'Immutable', 'Silent', 'Watchful', 'Recorded'],
            nouns: ['Librarian', 'Observer', 'Guardian', 'Scribe', 'Witness', 'Custodian', 'Sentinel']
        },
        WALKER: {
            prefixes: ['Timeless', 'Steady', 'Ancient', 'Unstoppable'],
            nouns: ['Pilgrim', 'Walker', 'Monk', 'Entity']
        },
        LORD: {
            prefixes: ['Sovereign', 'Imperial', 'Grand', 'Crowned', 'Absolute', 'Dominant', 'Royal'],
            nouns: ['Ruler', 'Monarch', 'Emperor', 'Regent', 'Overlord', 'Commander', 'King']
        },
        PRIME: {
            prefixes: ['Apex', 'Prime', 'Luminous', 'Perfect', 'Ascended', 'Radiant', 'Supreme'],
            nouns: ['Being', 'Core', 'Form', 'Standard', 'Alpha', 'Source', 'Light']
        },
        SINGULARITY: {
            prefixes: ['Void', 'Infinite', 'Null', 'Event', 'Collapsed', 'Final', 'Undefined'],
            nouns: ['Anomaly', 'Point', 'Horizon', 'Error', 'God', 'Variable', 'Entropy']
        }
    };

    // Part 2: Achievements (depends on Badges and Stats)
    const SUFFIX_DB = {
        // --- BADGES ---
        GENESIS: [
            'forged in the first block.',
            'present since Day Zero.',
            'carrying the Genesis spark.',
            'witnessing the creation.',
            'awakened at the beginning.'
        ],
        WHALE: [
            'manipulating gravity wells.',
            'controlling market tides.',
            'with massive capital allocation.',
            'displacing the mempool.',
            'commanding heavy liquidity.'
        ],
        PROVIDER: [
            'fueling the ecosystem.',
            'stabilizing the flow.',
            'keeping the oasis alive.',
            'bridging the void.',
            'generating yield in silence.'
        ],
        'FENNEC MAXI': [
            'loyal to the Pack.',
            'bleeding orange neon.',
            'guided by the Fox Spirit.',
            'following the True Path.',
            'fully synchronized with Fennec.'
        ],
        'ARTIFACT HUNTER': [
            'collecting digital relics.',
            'archiving rare data.',
            'hunting for inscriptions.',
            'preserving lost history.',
            'with a trove of artifacts.'
        ],
        'RUNE KEEPER': [
            'deciphering ancient glyphs.',
            'reading the rune stream.',
            'etched with protocol magic.',
            'holding runic power.',
            'speaking the old tongue.'
        ],
        'MEMPOOL RIDER': [
            'surfing the zero-block.',
            'faster than confirmation.',
            'living between blocks.',
            'riding the lightning.',
            'bypassing the queue.'
        ],

        // --- STATS ---
        RICH: [
            'accumulating vast resources.',
            'building a digital empire.',
            'shining with gold.',
            'holding the keys to power.'
        ],
        OLD: [
            'surviving every cycle.',
            'eroded by digital winds.',
            'standing the test of time.',
            'watching tokens rise and fall.'
        ],
        NEW: ['just entering the simulation.', 'initializing connection.', 'scanning for signals.', 'ready to evolve.'],

        // --- DEFAULT ---
        DEFAULT: [
            'exploring the fractal depths.',
            'searching for a signal.',
            'navigating the noise.',
            'waiting for the next block.',
            'connected to the grid.'
        ]
    };

    window.getSmartLore = function (data) {
        const m = (data && data.metrics) || {};
        const archObj = (data && data.archetype) || {};

        const archKey = String(archObj.baseKey || 'DRIFTER').toUpperCase();

        const badgesArr = Array.isArray(archObj.badges)
            ? archObj.badges
            : Array.isArray(data && data.badges)
              ? data.badges
              : [];
        const userBadges = badgesArr
            .map(b => {
                try {
                    if (typeof b === 'string') return b;
                    return String(b && b.name ? b.name : '');
                } catch (_) {
                    return '';
                }
            })
            .map(s =>
                String(s || '')
                    .trim()
                    .toUpperCase()
            )
            .filter(Boolean);

        const addr = String(m.address || m.addr || '0x00');

        const getHash = seed => {
            let h = seed;
            for (let i = 0; i < addr.length; i++) h = (h << 5) - h + addr.charCodeAt(i);
            return Math.abs(h);
        };

        let identitySource = IDENTITY_DB[archKey] || IDENTITY_DB.DRIFTER;
        if (!identitySource || !identitySource.prefixes || !identitySource.nouns) identitySource = IDENTITY_DB.DRIFTER;

        const pIdx = getHash(1) % identitySource.prefixes.length;
        const nIdx = getHash(2) % identitySource.nouns.length;

        const prefix = identitySource.prefixes[pIdx];
        const noun = identitySource.nouns[nIdx];

        let possibleSuffixes = [];

        userBadges.forEach(badge => {
            let key = '';
            if (badge.includes('GENESIS')) key = 'GENESIS';
            else if (badge.includes('WHALE')) key = 'WHALE';
            else if (badge.includes('PROVIDER') || badge.includes('LIQUIDITY')) key = 'PROVIDER';
            else if (badge.includes('MAXI')) key = 'FENNEC MAXI';
            else if (badge.includes('ARTIFACT') || badge.includes('COLLECTOR')) key = 'ARTIFACT HUNTER';
            else if (badge.includes('RUNE')) key = 'RUNE KEEPER';
            else if (badge.includes('MEMPOOL')) key = 'MEMPOOL RIDER';

            if (key && SUFFIX_DB[key]) {
                possibleSuffixes.push(...SUFFIX_DB[key]);
                possibleSuffixes.push(...SUFFIX_DB[key]);
                possibleSuffixes.push(...SUFFIX_DB[key]);
            }
        });

        const wealth = parseFloat(m.wealth || m.netWorth || m.netWorthUSD || 0);
        const days = parseInt(m.daysAlive || m.days || 0);

        if (wealth > 500) possibleSuffixes.push(...SUFFIX_DB.RICH);
        if (days > 60) possibleSuffixes.push(...SUFFIX_DB.OLD);
        if (days >= 0 && days < 10) possibleSuffixes.push(...SUFFIX_DB.NEW);

        if (possibleSuffixes.length === 0) {
            possibleSuffixes = SUFFIX_DB.DEFAULT;
        }

        const sIdx = getHash(3 + userBadges.length) % possibleSuffixes.length;
        const suffix = possibleSuffixes[sIdx];

        return `${prefix} ${noun} // ${suffix}`;
    };
})();

==================================================
FILE PATH: \.pages_upload\js\router.js
==================================================

(function () {
    if (window.__fennecSpaRouter) return;
    window.__fennecSpaRouter = true;

    const VIEW_ID = 'router-view';
    const FADE_CLASS = 'router-fade-out';
    const FADE_MS = 180;

    const CACHE_TTL_MS = 5 * 60 * 1000;
    const __cache = new Map();
    const __inflight = new Map();

    function __getView() {
        try {
            return document.getElementById(VIEW_ID);
        } catch (_) {
            return null;
        }
    }

    function __toUrl(href) {
        try {
            return new URL(String(href || ''), window.location.href);
        } catch (_) {
            return null;
        }
    }

    function __resolvePathname(pathname) {
        const p = String(pathname || '').trim();
        if (!p || p === '/') return '/index.html';
        if (p.endsWith('/')) return p + 'index.html';
        if (p.toLowerCase().endsWith('.html')) return p;
        return '/index.html';
    }

    function __routeKey(pathname) {
        const p = __resolvePathname(pathname).toLowerCase();
        if (p.endsWith('/terminal.html')) return 'terminal';
        if (p.endsWith('/id.html')) return 'audit';
        return 'home';
    }

    function __setActiveNav(pathname) {
        try {
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        } catch (_) {}

        const key = __routeKey(pathname);
        const id = key === 'terminal' ? 'nav-terminal' : key === 'audit' ? 'nav-audit' : 'nav-home';
        try {
            const el = document.getElementById(id);
            if (el) el.classList.add('active');
        } catch (_) {}
    }

    function __runRouteInit(pathname) {
        const key = __routeKey(pathname);

        if (key === 'terminal') {
            try {
                if (typeof window.seedChartPriceFromCache === 'function') window.seedChartPriceFromCache();
            } catch (_) {}
            try {
                if (typeof window.fetchReserves === 'function') window.fetchReserves();
            } catch (_) {}
            try {
                if (typeof window.updatePriceData === 'function') window.updatePriceData();
            } catch (_) {}
            try {
                if (document.getElementById('priceChart') && typeof window.initChart === 'function') {
                    setTimeout(() => {
                        try {
                            window.initChart();
                        } catch (_) {}
                    }, 250);
                }
            } catch (_) {}
            try {
                if (window.userAddress && typeof window.checkBalance === 'function') window.checkBalance();
            } catch (_) {}
            try {
                if (window.userAddress && typeof window.refreshTransactionHistory === 'function') {
                    setTimeout(() => {
                        try {
                            window.refreshTransactionHistory();
                        } catch (_) {}
                    }, 600);
                }
            } catch (_) {}
            return;
        }

        if (key === 'audit') {
            try {
                if (typeof window.__ensureAuditUi === 'function') window.__ensureAuditUi();
                else if (typeof window.initAudit === 'function') window.initAudit();
            } catch (_) {}
            return;
        }

        try {
            if (typeof window.updateVisionFennecIdCta === 'function') window.updateVisionFennecIdCta();
        } catch (_) {}
    }

    async function __fetchHtml(pathname, search) {
        const p = __resolvePathname(pathname);
        const s = String(search || '');
        const key = p + s;
        const now = Date.now();

        const cached = __cache.get(key);
        if (cached && now - cached.ts < CACHE_TTL_MS) return cached.html;

        const inflight = __inflight.get(key);
        if (inflight) return inflight;

        const prom = fetch(key, { cache: 'no-store' })
            .then(r => {
                if (!r.ok) throw new Error('Route fetch failed');
                return r.text();
            })
            .then(html => {
                __cache.set(key, { html, ts: Date.now() });
                __inflight.delete(key);
                return html;
            })
            .catch(err => {
                __inflight.delete(key);
                throw err;
            });

        __inflight.set(key, prom);
        return prom;
    }

    function __extractViewInner(html) {
        const doc = new DOMParser().parseFromString(String(html || ''), 'text/html');
        const v = doc.getElementById(VIEW_ID);
        return { inner: v ? v.innerHTML : null, title: doc.title || '' };
    }

    async function __swapTo(targetUrl) {
        const view = __getView();
        if (!view) return;

        if (window.__fennecRouting) return;
        window.__fennecRouting = true;

        try {
            try {
                view.classList.add(FADE_CLASS);
            } catch (_) {}

            await new Promise(r => setTimeout(r, FADE_MS));

            const pathname = __resolvePathname(targetUrl.pathname);
            const html = await __fetchHtml(pathname, targetUrl.search);
            const extracted = __extractViewInner(html);

            if (extracted.inner == null) {
                window.location.href = pathname + (targetUrl.search || '') + (targetUrl.hash || '');
                return;
            }

            view.innerHTML = extracted.inner;

            try {
                if (extracted.title) document.title = extracted.title;
            } catch (_) {}

            try {
                view.classList.remove(FADE_CLASS);
            } catch (_) {}

            try {
                window.scrollTo(0, 0);
            } catch (_) {}

            __setActiveNav(pathname);
            __runRouteInit(pathname);
        } finally {
            window.__fennecRouting = false;
        }
    }

    async function __navigate(href, opts) {
        const options = opts && typeof opts === 'object' ? opts : {};
        const u = __toUrl(href);
        if (!u) return;

        if (u.origin !== window.location.origin) {
            window.location.href = u.href;
            return;
        }

        const pathname = __resolvePathname(u.pathname);
        const nextHref = pathname + (u.search || '') + (u.hash || '');

        if (!options.noPush) {
            try {
                if (options.replace) window.history.replaceState({}, '', nextHref);
                else window.history.pushState({}, '', nextHref);
            } catch (_) {}
        }

        await __swapTo(u);
    }

    window.__fennecNavigate = function (href, opts) {
        return __navigate(href, opts);
    };

    document.addEventListener('click', ev => {
        try {
            if (ev.defaultPrevented) return;
            if (ev.button !== 0) return;
            if (ev.metaKey || ev.ctrlKey || ev.shiftKey || ev.altKey) return;

            const a = ev.target && ev.target.closest ? ev.target.closest('a[data-link]') : null;
            if (!a) return;

            const href = a.getAttribute('href');
            if (!href || href.startsWith('#')) return;
            if (a.hasAttribute('download')) return;
            const target = String(a.getAttribute('target') || '').trim();
            if (target && target !== '_self') return;

            const u = __toUrl(href);
            if (!u || u.origin !== window.location.origin) return;

            ev.preventDefault();
            __navigate(u.href);
        } catch (_) {}
    });

    window.addEventListener('popstate', () => {
        try {
            __navigate(window.location.href, { noPush: true, replace: true });
        } catch (_) {}
    });

    try {
        __setActiveNav(window.location.pathname);
        __runRouteInit(window.location.pathname);
    } catch (_) {}
})();

==================================================
FILE PATH: \.pages_upload\preview\_shared.css
==================================================

:root {
    color-scheme: dark;
}
* {
    box-sizing: border-box;
}
body {
    margin: 0;
    background: #050505;
    color: #fff;
    font-family:
        system-ui,
        -apple-system,
        Segoe UI,
        Roboto,
        Arial,
        sans-serif;
}
a {
    color: #ff6b35;
    text-decoration: none;
}
a:hover {
    text-decoration: underline;
}
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 24px;
}
.topbar {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 18px;
}
.title {
    font-size: 20px;
    font-weight: 900;
    letter-spacing: 0.12em;
    text-transform: uppercase;
}
.nav {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}
.nav a {
    font-size: 12px;
    font-weight: 800;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    padding: 8px 10px;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.08);
}
.nav a.active {
    background: rgba(255, 107, 53, 0.18);
    border-color: rgba(255, 107, 53, 0.25);
}
.subtitle {
    color: rgba(209, 213, 219, 0.8);
    font-size: 12px;
    margin: 0 0 18px 0;
}
.grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
    gap: 16px;
}
.tile {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.tile-head {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 10px;
}
.tier-name {
    font-size: 12px;
    font-weight: 900;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: rgba(229, 231, 235, 0.92);
}
.tier-note {
    font-size: 11px;
    color: rgba(156, 163, 175, 0.8);
}
.preview-card {
    position: relative;
    border-radius: 14px;
    overflow: hidden;
    aspect-ratio: 3/4;
    max-width: 320px;
    max-height: 427px;
    background: rgba(17, 17, 17, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.12);
    box-shadow: 0 18px 60px rgba(0, 0, 0, 0.55);
    will-change: transform;
    transform-style: preserve-3d;
    transform: perspective(900px) rotateX(0deg) rotateY(0deg);
    transition: transform 180ms ease;
    --vfx-rgb: 255, 200, 0;
    --vfx-rgb2: 255, 230, 150;
    --vfx3d-mult: 0.55;
}

.preview-card:has(.overlay-MERCHANT) {
    --vfx-rgb: 255, 200, 0;
    --vfx-rgb2: 255, 230, 150;
    --vfx3d-mult: 0.55;
}
.preview-card:has(.overlay-SHAMAN) {
    --vfx-rgb: 168, 85, 247;
    --vfx-rgb2: 59, 130, 246;
}
.preview-card:has(.overlay-KEEPER) {
    --vfx-rgb: 251, 146, 60;
    --vfx-rgb2: 255, 255, 255;
}
.preview-card:has(.overlay-LORD) {
    --vfx-rgb: 6, 182, 212;
    --vfx-rgb2: 255, 255, 255;
}
.preview-card:has(.overlay-PRIME) {
    --vfx-rgb: 255, 255, 255;
    --vfx-rgb2: 255, 255, 255;
}
.preview-card:has(.overlay-DRIFTER) {
    --vfx-rgb: 255, 160, 0;
    --vfx-rgb2: 255, 255, 255;
}
.preview-card:has(.overlay-WALKER) {
    --vfx-rgb: 59, 130, 246;
    --vfx-rgb2: 255, 255, 255;
}
.preview-card:has(.overlay-ENGINEER) {
    --vfx-rgb: 0, 255, 170;
    --vfx-rgb2: 255, 0, 80;
}
.preview-card:has(.overlay-SINGULARITY) {
    --vfx-rgb: 255, 255, 255;
    --vfx-rgb2: 168, 85, 247;
}

.preview-card::before {
    content: '';
    position: absolute;
    inset: -25%;
    z-index: 13;
    pointer-events: none;
    display: none;
    opacity: calc(var(--vfx3d-opacity, 0.18) * var(--vfx3d-mult, 1));
    mix-blend-mode: overlay;
    background:
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 50%), rgba(var(--vfx-rgb), 0.42), transparent 58%),
        linear-gradient(120deg, rgba(var(--vfx-rgb2), 0), rgba(var(--vfx-rgb2), 0.1), rgba(var(--vfx-rgb2), 0));
    filter: blur(10px) saturate(1.05);
    transform: translate3d(var(--npx, 0px), var(--npy, 0px), 0);
}

.preview-card::after {
    content: '';
    position: absolute;
    inset: -20%;
    z-index: 13;
    pointer-events: none;
    display: none;
    opacity: calc(var(--vfx3d-opacity, 0.18) * var(--vfx3d-mult, 1) * 0.7);
    mix-blend-mode: soft-light;
    background:
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 50%), rgba(var(--vfx-rgb), 0.18), transparent 44%),
        repeating-linear-gradient(
            90deg,
            rgba(255, 255, 255, 0.06),
            rgba(255, 255, 255, 0.06) 1px,
            transparent 2px,
            transparent 7px
        );
    filter: blur(1.6px);
    transform: translate3d(var(--px, 0px), var(--py, 0px), 0);
}
.preview-card img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center top;
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform, filter;
    animation: none !important;
}

.card-glare {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: none;
    background:
        radial-gradient(
            circle at var(--mxp, 50%) var(--myp, 50%),
            rgba(255, 255, 255, 0.6) 0%,
            rgba(255, 255, 255, 0.25) 25%,
            transparent 55%
        ),
        radial-gradient(ellipse 85% 60% at var(--mxp, 50%) var(--myp, 50%), rgba(255, 255, 255, 0.3), transparent 65%);
    border-radius: inherit;
    pointer-events: none;
    mix-blend-mode: overlay;
    z-index: 50;
    opacity: 0;
    transition: opacity 0.2s ease-out;
    filter: blur(2px);
}

.preview-card [class^='overlay-'],
.preview-card [class*=' overlay-'] {
    z-index: 12 !important;
    display: block !important;
    pointer-events: none;
}

.vfx-webgl {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    z-index: 13;
    overflow: hidden;
    display: none;
    opacity: calc(var(--vfxwebgl-opacity, 0.18) * var(--vfxwebgl-mult, 1));
    mix-blend-mode: screen;
}
.vfx-webgl canvas {
    width: 100%;
    height: 100%;
    display: block;
}

.preview-card .overlay-MERCHANT ~ .vfx-webgl {
    --vfxwebgl-mult: 0.8;
}
.preview-card .overlay-KEEPER ~ .vfx-webgl {
    --vfxwebgl-mult: 0.7;
}

.vfx-3d {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    z-index: 13;
    display: none;
    opacity: calc(var(--vfx3d-opacity, 0.24) * var(--vfx3d-mult, 1));
    mix-blend-mode: screen;
    overflow: hidden;
}
.vfx-3d::before {
    content: '';
    position: absolute;
    inset: -30%;
    background:
        radial-gradient(
            circle at var(--mxp, 50%) var(--myp, 50%),
            rgba(var(--vfx-rgb, 255, 255, 255), 0.12),
            rgba(var(--vfx-rgb, 255, 255, 255), 0.06) 30%,
            transparent 65%
        ),
        linear-gradient(135deg, transparent, rgba(var(--vfx-rgb2, 255, 255, 255), 0.04), transparent);
    filter: blur(6px) saturate(1.05) brightness(1.02);
    transform: translate3d(calc(var(--npx, 0px) * 0.8), calc(var(--npy, 0px) * 0.8), 0);
    animation: vfx-pulse 4s ease-in-out infinite;
    opacity: 0.5;
}
.vfx-3d::after {
    content: '';
    position: absolute;
    inset: -15%;
    background:
        radial-gradient(
            circle at var(--mxp, 50%) var(--myp, 50%),
            rgba(var(--vfx-rgb, 255, 255, 255), 0.18),
            rgba(var(--vfx-rgb2, 255, 255, 255), 0.08) 35%,
            transparent 55%
        ),
        repeating-linear-gradient(
            calc(45deg + var(--mxp, 50) * 0.5deg),
            rgba(255, 255, 255, 0),
            rgba(255, 255, 255, 0.06) 1px,
            transparent 3px,
            transparent 9px
        );
    background-size:
        100% 100%,
        280% 280%;
    background-position:
        0 0,
        calc(var(--mxp, 50%) * 1%) calc(var(--myp, 50%) * 1%);
    mix-blend-mode: screen;
    filter: blur(2px);
    opacity: 0.4;
    transform: translate3d(calc(var(--px, 0px) * 0.8), calc(var(--py, 0px) * 0.8), 0) scale(1.02);
    animation:
        vfx-sheen 6s linear infinite,
        vfx-shimmer 3s ease-in-out infinite;
}
@keyframes vfx-sheen {
    0% {
        background-position:
            0 0,
            0% 0%,
            0 0;
    }
    100% {
        background-position:
            0 0,
            200% 200%,
            0 0;
    }
}
@keyframes vfx-pulse {
    0%,
    100% {
        opacity: 1;
        filter: blur(14px) saturate(1.6) brightness(1.3);
    }
    50% {
        opacity: 0.9;
        filter: blur(16px) saturate(1.8) brightness(1.45);
    }
}
@keyframes vfx-shimmer {
    0%,
    100% {
        opacity: 0.95;
    }
    50% {
        opacity: 1;
    }
}

.img-tier-0 {
    filter: grayscale(0.2) sepia(0.16) contrast(1) brightness(1) saturate(1.05);
    transform: scale(1.01);
    position: relative;
}
.img-tier-0::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        linear-gradient(135deg, rgba(0, 0, 0, 0.2) 0%, transparent 50%, rgba(255, 255, 255, 0.1) 100%),
        radial-gradient(circle at 30% 40%, rgba(255, 107, 53, 0.08), transparent 60%);
    animation: dormant-pulse 6s ease-in-out infinite;
}
@keyframes dormant-pulse {
    0%,
    100% {
        opacity: 0.4;
        transform: scale(1);
    }
    50% {
        opacity: 0.7;
        transform: scale(1.01);
    }
}

.anim-tier-1 {
    animation: breathe 10s ease-in-out infinite alternate;
    position: relative;
}
.anim-tier-1::after {
    content: '';
    position: absolute;
    inset: -5%;
    background:
        radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.15), transparent 60%),
        radial-gradient(ellipse at 40% 30%, rgba(255, 160, 0, 0.12), transparent 50%),
        linear-gradient(45deg, transparent 30%, rgba(255, 160, 0, 0.1) 50%, transparent 70%);
    animation: tier1-glow 5s ease-in-out infinite;
    pointer-events: none;
}
@keyframes breathe {
    0% {
        filter: grayscale(0.08) contrast(1.02) brightness(1) saturate(1.04);
    }
    100% {
        filter: grayscale(0) contrast(1.06) brightness(1.06) saturate(1.1);
    }
}
@keyframes tier1-glow {
    0%,
    100% {
        opacity: 0.5;
        transform: scale(1) rotate(0deg);
    }
    50% {
        opacity: 0.85;
        transform: scale(1.03) rotate(1deg);
    }
}

.anim-tier-2-heat {
    animation: heat-low 5s infinite alternate;
    position: relative;
}
.anim-tier-2-heat::after {
    content: '';
    position: absolute;
    inset: -10%;
    background:
        radial-gradient(circle at 40% 60%, rgba(255, 100, 0, 0.2), transparent 55%),
        radial-gradient(ellipse at 50% 80%, rgba(255, 160, 0, 0.15), transparent 50%),
        linear-gradient(to top, rgba(255, 160, 0, 0.15), transparent 60%);
    animation: heat-wave 3.5s ease-in-out infinite;
    pointer-events: none;
    mix-blend-mode: overlay;
}
@keyframes heat-wave {
    0%,
    100% {
        opacity: 0.6;
        transform: translateY(0) scale(1);
    }
    50% {
        opacity: 0.9;
        transform: translateY(-4%) scale(1.02);
    }
}

@keyframes heat-low {
    0% {
        filter: sepia(0.08) contrast(1.06) brightness(1.02) saturate(1.04);
    }
    100% {
        filter: sepia(0.16) contrast(1.1) brightness(1.05) saturate(1.06);
    }
}

.anim-tier-2-shine {
    animation: shine-low 4s infinite alternate;
    position: relative;
}
.anim-tier-2-shine::before {
    content: '';
    position: absolute;
    inset: -8%;
    background:
        radial-gradient(ellipse at 50% 30%, rgba(255, 215, 0, 0.25), transparent 50%),
        radial-gradient(circle at 60% 50%, rgba(255, 255, 255, 0.15), transparent 45%),
        linear-gradient(135deg, transparent 20%, rgba(255, 255, 255, 0.18) 50%, transparent 80%);
    animation: tier2-radiance 4s ease-in-out infinite;
    pointer-events: none;
    mix-blend-mode: overlay;
}
@keyframes tier2-radiance {
    0%,
    100% {
        opacity: 0.65;
        transform: rotate(0deg) scale(1);
    }
    50% {
        opacity: 1;
        transform: rotate(3deg) scale(1.06);
    }
}

@keyframes shine-low {
    0% {
        filter: brightness(1.03) contrast(1.04) saturate(1.06);
    }
    100% {
        filter: brightness(1.1) contrast(1.06) saturate(1.12);
    }
}

.anim-tier-2-glitch {
    animation: glitch-low 3s infinite;
    position: relative;
}
.anim-tier-2-glitch::after {
    content: '';
    position: absolute;
    inset: -5%;
    background:
        linear-gradient(
            90deg,
            rgba(0, 255, 170, 0.25) 0%,
            transparent 30%,
            rgba(255, 0, 80, 0.25) 70%,
            transparent 100%
        ),
        radial-gradient(circle at 50% 50%, rgba(0, 255, 170, 0.1), transparent 60%);
    animation: tech-scan 2.5s linear infinite;
    pointer-events: none;
    mix-blend-mode: screen;
}
@keyframes tech-scan {
    0% {
        transform: translateX(-100%);
        opacity: 0;
    }
    10% {
        opacity: 0.8;
    }
    90% {
        opacity: 0.8;
    }
    100% {
        transform: translateX(100%);
        opacity: 0;
    }
}

@keyframes glitch-low {
    0%,
    92% {
        filter: contrast(1.12) brightness(1.03) saturate(1.08);
        transform: translate3d(0, 0, 0);
    }
    93% {
        filter: contrast(1.22) brightness(1.05) saturate(1.12) hue-rotate(3deg);
        transform: translate3d(1px, 0, 0);
    }
    94% {
        filter: contrast(1.22) brightness(1.05) saturate(1.12) hue-rotate(-3deg);
        transform: translate3d(-1px, 0, 0);
    }
    100% {
        filter: contrast(1.12) brightness(1.03) saturate(1.08);
        transform: translate3d(0, 0, 0);
    }
}

.anim-tier-2-magic {
    animation: magic-low 4s infinite alternate;
    position: relative;
}
.anim-tier-2-magic::before {
    content: '';
    position: absolute;
    inset: -12%;
    background:
        radial-gradient(circle at 50% 50%, rgba(168, 85, 247, 0.28), rgba(59, 130, 246, 0.18) 40%, transparent 65%),
        radial-gradient(ellipse at 30% 30%, rgba(255, 255, 255, 0.12), transparent 50%),
        conic-gradient(from 45deg, transparent, rgba(255, 255, 255, 0.15), transparent 50%);
    animation:
        magic-aura 4s linear infinite,
        pulse-magic 2.5s ease-in-out infinite;
    pointer-events: none;
    mix-blend-mode: screen;
}
@keyframes magic-aura {
    0% {
        transform: rotate(0deg) scale(1);
    }
    100% {
        transform: rotate(360deg) scale(1.02);
    }
}
@keyframes pulse-magic {
    0%,
    100% {
        opacity: 0.7;
    }
    50% {
        opacity: 1;
    }
}

@keyframes magic-low {
    0% {
        filter: saturate(1.08) contrast(1.04) brightness(1.02);
    }
    100% {
        filter: saturate(1.16) contrast(1.06) brightness(1.06);
    }
}

@keyframes imgTierTimeFlow {
    0% {
        filter: contrast(1.08) brightness(1.03) saturate(1.08) hue-rotate(0deg);
        transform: scale(1.01) skewX(0deg);
    }
    50% {
        filter: contrast(1.16) brightness(1.08) saturate(1.18) hue-rotate(6deg);
        transform: scale(1.015) skewX(-0.6deg);
    }
    100% {
        filter: contrast(1.08) brightness(1.03) saturate(1.08) hue-rotate(0deg);
        transform: scale(1.01) skewX(0deg);
    }
}

.anim-tier-2-time {
    animation: imgTierTimeFlow 5.2s ease-in-out infinite;
}

@keyframes imgTierRunes {
    0% {
        filter: contrast(1.06) brightness(1.02) saturate(1.12) hue-rotate(0deg);
    }
    100% {
        filter: contrast(1.14) brightness(1.07) saturate(1.26) hue-rotate(10deg);
    }
}

.anim-tier-2-runes {
    animation: imgTierRunes 4.6s ease-in-out infinite alternate;
}

@keyframes imgTierSmoke {
    0% {
        filter: contrast(1.06) brightness(1.02) saturate(1.16) hue-rotate(0deg) blur(0px);
    }
    50% {
        filter: contrast(1.12) brightness(1.06) saturate(1.32) hue-rotate(-10deg) blur(0.3px);
    }
    100% {
        filter: contrast(1.06) brightness(1.02) saturate(1.16) hue-rotate(0deg) blur(0px);
    }
}

.anim-tier-2-smoke {
    animation: imgTierSmoke 5.6s ease-in-out infinite;
}

@keyframes imgTierCrownTide {
    0% {
        filter: contrast(1.08) brightness(1.05) saturate(1.1);
    }
    100% {
        filter: contrast(1.14) brightness(1.14) saturate(1.22);
    }
}

.anim-tier-2-crown {
    animation: imgTierCrownTide 4.2s ease-in-out infinite alternate;
}

@keyframes imgTierRadiance {
    0% {
        filter: brightness(1.08) contrast(1.06) saturate(1.08);
    }
    100% {
        filter: brightness(1.22) contrast(1.12) saturate(1.16);
    }
}

.anim-tier-2-radiance {
    animation: imgTierRadiance 3.8s ease-in-out infinite alternate;
}

@keyframes imgTierDeepChaos {
    0% {
        filter: contrast(1.1) brightness(1.02) saturate(1.08) hue-rotate(0deg);
    }
    50% {
        filter: contrast(1.26) brightness(1.06) saturate(1.18) hue-rotate(150deg);
    }
    100% {
        filter: contrast(1.1) brightness(1.02) saturate(1.08) hue-rotate(360deg);
    }
}

.anim-tier-2-chaos {
    animation: imgTierDeepChaos 6.8s linear infinite;
}

.anim-DRIFTER {
    animation: drifter-heat 8s ease-in-out infinite alternate;
}
.overlay-DRIFTER {
    background: linear-gradient(to bottom, rgba(255, 160, 0, 0.16), transparent 70%);
    mix-blend-mode: overlay;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-DRIFTER::before {
    content: '';
    position: absolute;
    inset: -10%;
    background:
        radial-gradient(120% 60% at 10% 82%, rgba(255, 255, 255, 0.16) 0%, transparent 55%),
        radial-gradient(120% 60% at 90% 70%, rgba(255, 160, 0, 0.14) 0%, transparent 60%),
        linear-gradient(120deg, transparent 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%);
    background-size:
        140% 140%,
        140% 140%,
        240% 240%;
    background-position:
        0% 0%,
        100% 0%,
        0% 50%;
    opacity: 0.78;
    mix-blend-mode: overlay;
    filter: blur(0.2px);
    animation: sand-drift 7s linear infinite;
}
.overlay-DRIFTER::after {
    content: '';
    position: absolute;
    inset: -8%;
    background: linear-gradient(
        90deg,
        rgba(255, 255, 255, 0.14),
        transparent 35%,
        rgba(255, 255, 255, 0.1) 65%,
        transparent
    );
    opacity: 0.34;
    mix-blend-mode: screen;
    filter: blur(1.6px) saturate(1.1);
    animation: heat-haze 3.6s ease-in-out infinite;
}
@keyframes drifter-heat {
    0% {
        filter: sepia(0.12) contrast(1.06) brightness(1.03) saturate(1.05);
    }
    50% {
        filter: sepia(0.22) contrast(1.1) brightness(1.08) saturate(1.08) blur(0.25px)
            drop-shadow(0 0 12px rgba(255, 160, 0, 0.18));
    }
    100% {
        filter: sepia(0.12) contrast(1.06) brightness(1.03) saturate(1.05);
    }
}
@keyframes sand-drift {
    0% {
        transform: translate3d(0, 0, 0);
    }
    100% {
        transform: translate3d(-6%, -10%, 0);
    }
}
@keyframes heat-haze {
    0% {
        transform: translate3d(-2%, 0, 0) skewX(-1.2deg);
    }
    50% {
        transform: translate3d(2%, -1%, 0) skewX(1.2deg);
    }
    100% {
        transform: translate3d(-2%, 0, 0) skewX(-1.2deg);
    }
}

.anim-MERCHANT {
    animation: merchant-shine 5s ease-in-out infinite;
}
.overlay-MERCHANT {
    background: transparent;
    mix-blend-mode: screen;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-MERCHANT::before {
    content: '';
    position: absolute;
    top: -100%;
    left: -100%;
    width: 80px;
    height: 400%;
    background: linear-gradient(45deg, transparent 30%, rgba(255, 215, 0, 0.4) 50%, transparent 70%);
    transform: rotate(45deg);
    animation: gold-sweep 6s ease-in-out infinite;
    filter: blur(3px);
}
.overlay-MERCHANT::after {
    content: '';
    position: absolute;
    inset: -15%;
    background:
        radial-gradient(60% 60% at 35% 35%, rgba(255, 255, 255, 0.12), transparent 68%),
        radial-gradient(70% 70% at 70% 65%, rgba(255, 215, 0, 0.1), transparent 72%),
        linear-gradient(120deg, rgba(255, 255, 255, 0.04), transparent 60%, rgba(255, 215, 0, 0.03));
    opacity: 0.2;
    mix-blend-mode: screen;
    animation: sparkle-drift 5.2s ease-in-out infinite alternate;
    filter: blur(0.25px);
}
@keyframes merchant-shine {
    0%,
    100% {
        filter: contrast(1.05) brightness(1.04) saturate(1.08);
    }
    50% {
        filter: contrast(1.08) brightness(1.1) saturate(1.12) drop-shadow(0 0 10px rgba(255, 215, 0, 0.2));
    }
}
@keyframes coin-glint {
    0% {
        transform: translate3d(30%, -20%, 0);
    }
    100% {
        transform: translate3d(-30%, 20%, 0);
    }
}
@keyframes sparkle-drift {
    0% {
        transform: translate3d(-1%, 1%, 0);
        opacity: 0.2;
    }
    100% {
        transform: translate3d(1%, -1%, 0);
        opacity: 0.36;
    }
}

.anim-ENGINEER {
    animation: engineer-glitch 4s infinite;
}
.overlay-ENGINEER {
    background:
        repeating-linear-gradient(0deg, rgba(0, 255, 170, 0), rgba(0, 255, 170, 0) 2px, rgba(0, 255, 170, 0.12) 3px),
        linear-gradient(90deg, rgba(0, 0, 0, 0), rgba(0, 255, 170, 0.08), rgba(0, 0, 0, 0));
    background-size:
        100% 4px,
        200% 200%;
    z-index: 5;
    pointer-events: none;
    mix-blend-mode: hard-light;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-ENGINEER::before {
    content: '';
    position: absolute;
    inset: -10%;
    background: linear-gradient(0deg, transparent 40%, rgba(255, 255, 255, 0.18) 50%, transparent 60%);
    opacity: 0.3;
    mix-blend-mode: overlay;
    animation: engineer-scan 2s linear infinite;
    filter: blur(0.6px);
}
.overlay-ENGINEER::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
        90deg,
        rgba(255, 0, 80, 0.1),
        rgba(255, 0, 80, 0.1) 1px,
        transparent 2px,
        transparent 6px
    );
    opacity: 0.22;
    mix-blend-mode: difference;
    animation: engineer-rgb 3s ease-in-out infinite;
}
@keyframes engineer-glitch {
    0% {
        filter: contrast(1.12) brightness(1.04) saturate(1.06);
        transform: translate3d(0, 0, 0);
    }
    92% {
        filter: contrast(1.12) brightness(1.04) saturate(1.06);
        transform: translate3d(0, 0, 0);
    }
    94% {
        filter: contrast(1.3) brightness(1.07) saturate(1.15) hue-rotate(18deg);
        transform: translate3d(2px, 0, 0);
    }
    96% {
        filter: contrast(1.3) brightness(1.07) saturate(1.15) hue-rotate(-18deg);
        transform: translate3d(-2px, 0, 0);
    }
    98% {
        filter: contrast(1.12) brightness(1.04) saturate(1.06);
        transform: translate3d(0, 0, 0);
    }
    100% {
        filter: contrast(1.12) brightness(1.04) saturate(1.06);
        transform: translate3d(0, 0, 0);
    }
}
@keyframes engineer-scan {
    0% {
        transform: translate3d(0, 22%, 0);
    }
    100% {
        transform: translate3d(0, -22%, 0);
    }
}
@keyframes engineer-rgb {
    0%,
    100% {
        transform: translate3d(0, 0, 0);
    }
    50% {
        transform: translate3d(1%, 0, 0);
    }
}

.anim-SHAMAN {
    animation: shaman-pulse 6s ease-in-out infinite alternate;
}
.overlay-SHAMAN {
    background: radial-gradient(circle at 50% 55%, rgba(147, 51, 234, 0.18), transparent 62%);
    mix-blend-mode: color-dodge;
    animation: rune-glow 3.8s ease-in-out infinite alternate;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-SHAMAN::before {
    content: '';
    position: absolute;
    inset: -18%;
    background:
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 50%), rgba(168, 85, 247, 0.4), transparent 62%),
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 50%), rgba(59, 130, 246, 0.18), transparent 58%);
    opacity: 0.62;
    mix-blend-mode: color-dodge;
    filter: blur(1.8px);
    transform: translate3d(var(--npx, 0px), var(--npy, 0px), 0);
}
.overlay-SHAMAN::after {
    content: '';
    position: absolute;
    inset: -10%;
    background:
        radial-gradient(60% 60% at 35% 40%, rgba(255, 255, 255, 0.12), transparent 70%),
        radial-gradient(70% 70% at 70% 60%, rgba(168, 85, 247, 0.12), transparent 72%);
    opacity: 0.28;
    mix-blend-mode: screen;
    animation: rune-dust 4.6s ease-in-out infinite alternate;
}
@keyframes shaman-pulse {
    0% {
        filter: contrast(1.06) brightness(1.04) saturate(1.1);
    }
    100% {
        filter: contrast(1.14) brightness(1.1) saturate(1.22) hue-rotate(-4deg)
            drop-shadow(0 0 16px rgba(168, 85, 247, 0.4));
    }
}
@keyframes rune-glow {
    0% {
        opacity: 0.25;
    }
    100% {
        opacity: 0.55;
    }
}
@keyframes shaman-swirl {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}
@keyframes rune-dust {
    0% {
        transform: translate3d(-1%, 1%, 0);
        opacity: 0.12;
    }
    100% {
        transform: translate3d(1%, -1%, 0);
        opacity: 0.22;
    }
}

.anim-KEEPER {
    animation: keeper-eternal 8s ease-in-out infinite alternate;
}
.overlay-KEEPER {
    background: radial-gradient(circle at 50% 45%, rgba(251, 146, 60, 0.14), transparent 62%);
    mix-blend-mode: screen;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-KEEPER::before {
    content: '';
    position: absolute;
    inset: -22%;
    background:
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 50%), rgba(251, 146, 60, 0.22), transparent 68%),
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 50%), rgba(255, 255, 255, 0.08), transparent 58%),
        linear-gradient(120deg, rgba(255, 255, 255, 0.05), transparent 40%, rgba(255, 255, 255, 0.02) 60%, transparent),
        radial-gradient(circle at 65% 35%, rgba(251, 146, 60, 0.08), transparent 60%);
    opacity: 0.22;
    mix-blend-mode: screen;
    animation: ember-drift 5.6s ease-in-out infinite alternate;
    filter: blur(0.8px);
    transform: translate3d(var(--npx, 0px), var(--npy, 0px), 0);
}
.overlay-KEEPER::after {
    content: '';
    position: absolute;
    inset: -10%;
    background: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.1), transparent 62%);
    opacity: 0.14;
    mix-blend-mode: soft-light;
    animation: halo-breathe 3.6s ease-in-out infinite alternate;
    filter: blur(2px);
}
@keyframes keeper-eternal {
    0% {
        filter: sepia(0.05) contrast(1.08) brightness(1.02) saturate(1.06);
    }
    100% {
        filter: sepia(0.01) contrast(1.14) brightness(1.06) saturate(1.1) drop-shadow(0 0 10px rgba(251, 146, 60, 0.2));
    }
}
@keyframes ember-drift {
    0% {
        transform: translate3d(-1.5%, 2.5%, 0);
    }
    100% {
        transform: translate3d(1.5%, -2.5%, 0);
    }
}
@keyframes halo-breathe {
    0% {
        opacity: 0.14;
    }
    100% {
        opacity: 0.3;
    }
}

.anim-WALKER {
    animation: walker-shift 6s ease-in-out infinite;
}
.overlay-WALKER {
    background: linear-gradient(45deg, rgba(59, 130, 246, 0.22), transparent);
    mix-blend-mode: overlay;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-WALKER::before {
    content: '';
    position: absolute;
    inset: -15%;
    background:
        radial-gradient(80% 60% at 20% 30%, rgba(255, 255, 255, 0.14) 0%, transparent 60%),
        radial-gradient(80% 60% at 80% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 62%),
        radial-gradient(90% 70% at 50% 50%, rgba(255, 255, 255, 0.08) 0%, transparent 66%);
    opacity: 0.34;
    mix-blend-mode: screen;
    filter: blur(0.8px);
    animation: time-rings 5.2s linear infinite;
}
.overlay-WALKER::after {
    content: '';
    position: absolute;
    inset: -10%;
    background: linear-gradient(
        90deg,
        rgba(255, 255, 255, 0.1),
        transparent 35%,
        rgba(255, 255, 255, 0.06) 65%,
        transparent
    );
    opacity: 0.26;
    mix-blend-mode: screen;
    filter: blur(1.2px);
    animation: time-shear 3s ease-in-out infinite;
}
@keyframes walker-shift {
    0%,
    100% {
        filter: contrast(1.1) brightness(1.05) saturate(1.06) hue-rotate(0deg);
    }
    50% {
        filter: contrast(1.18) brightness(1.1) saturate(1.14) hue-rotate(4deg);
    }
}
@keyframes time-rings {
    0% {
        transform: translate3d(-2%, 2%, 0);
    }
    100% {
        transform: translate3d(2%, -2%, 0);
    }
}
@keyframes time-shear {
    0% {
        transform: translate3d(-2%, 0, 0) skewX(-1deg);
    }
    50% {
        transform: translate3d(2%, -1%, 0) skewX(1deg);
    }
    100% {
        transform: translate3d(-2%, 0, 0) skewX(-1deg);
    }
}

.anim-LORD {
    animation: lord-tide 10s ease-in-out infinite alternate;
}
.overlay-LORD {
    background: radial-gradient(circle at 50% 85%, rgba(6, 182, 212, 0.14), transparent 60%);
    mix-blend-mode: overlay;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-LORD::before {
    content: '';
    position: absolute;
    inset: -20%;
    background:
        radial-gradient(90% 70% at 30% 80%, rgba(255, 255, 255, 0.14) 0%, transparent 62%),
        radial-gradient(90% 70% at 70% 75%, rgba(255, 255, 255, 0.1) 0%, transparent 64%),
        conic-gradient(
            from 180deg at 50% 50%,
            rgba(255, 255, 255, 0.08),
            transparent 40%,
            rgba(255, 255, 255, 0.06),
            transparent 75%,
            rgba(255, 255, 255, 0.08)
        );
    opacity: 0.24;
    mix-blend-mode: screen;
    filter: blur(1px);
    animation: caustics 8s linear infinite;
}
.overlay-LORD::after {
    content: '';
    position: absolute;
    inset: -10%;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.12), transparent 55%, rgba(255, 255, 255, 0.08));
    opacity: 0.32;
    mix-blend-mode: soft-light;
    filter: blur(1.6px);
    animation: tide-sheen 3.8s ease-in-out infinite;
}
@keyframes lord-tide {
    0% {
        filter: contrast(1.08) brightness(1.04) saturate(1.08);
    }
    100% {
        filter: contrast(1.16) brightness(1.1) saturate(1.18) drop-shadow(0 10px 22px rgba(6, 182, 212, 0.35));
    }
}
@keyframes caustics {
    0% {
        transform: translate3d(-2%, 1%, 0);
    }
    100% {
        transform: translate3d(2%, -1%, 0);
    }
}
@keyframes tide-sheen {
    0% {
        transform: translate3d(0, 2%, 0);
        opacity: 0.16;
    }
    50% {
        transform: translate3d(0, -2%, 0);
        opacity: 0.28;
    }
    100% {
        transform: translate3d(0, 2%, 0);
        opacity: 0.16;
    }
}

.anim-PRIME {
    animation: prime-radiance 4s ease-in-out infinite alternate;
}
.overlay-PRIME {
    background: radial-gradient(circle at var(--mxp, 50%) var(--myp, 0%), rgba(255, 255, 255, 0.46), transparent 72%);
    mix-blend-mode: soft-light;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-PRIME::before {
    content: '';
    position: absolute;
    inset: -25%;
    background:
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 0%), rgba(255, 255, 255, 0.3), transparent 60%),
        linear-gradient(115deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.22), rgba(255, 255, 255, 0));
    opacity: 0.52;
    mix-blend-mode: screen;
    filter: blur(2px);
    transform: translate3d(var(--npx, 0px), var(--npy, 0px), 0);
}
.overlay-PRIME::after {
    content: '';
    position: absolute;
    inset: -15%;
    background:
        radial-gradient(70% 60% at 35% 40%, rgba(255, 255, 255, 0.18), transparent 70%),
        radial-gradient(80% 70% at 70% 65%, rgba(255, 255, 255, 0.1), transparent 74%),
        linear-gradient(115deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    opacity: 0.3;
    mix-blend-mode: screen;
    filter: blur(0.3px);
    animation: prime-sparks 5.6s ease-in-out infinite alternate;
}
@keyframes prime-radiance {
    0% {
        filter: brightness(1.1) contrast(1.06) saturate(1.06);
    }
    100% {
        filter: brightness(1.26) contrast(1.12) saturate(1.14) drop-shadow(0 0 28px rgba(255, 255, 255, 0.55));
    }
}
@keyframes prime-halo {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(-360deg);
    }
}
@keyframes prime-sparks {
    0% {
        transform: translate3d(-1%, 1%, 0);
        opacity: 0.14;
    }
    100% {
        transform: translate3d(1%, -1%, 0);
        opacity: 0.24;
    }
}
@keyframes god-ray {
    0% {
        transform: rotate(0deg);
        opacity: 0.4;
    }
    50% {
        opacity: 0.6;
    }
    100% {
        transform: rotate(360deg);
        opacity: 0.4;
    }
}

.anim-SINGULARITY {
    animation: singularity-chaos 10s linear infinite;
}
.overlay-SINGULARITY {
    background: conic-gradient(
        from 0deg,
        rgba(255, 0, 0, 0.85),
        rgba(0, 255, 0, 0.75),
        rgba(0, 0, 255, 0.85),
        rgba(255, 0, 0, 0.85)
    );
    mix-blend-mode: overlay;
    opacity: 0.18;
    animation: void-spin 20s linear infinite;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
    filter: saturate(0.78) contrast(0.95);
}
.overlay-SINGULARITY::before {
    content: '';
    position: absolute;
    inset: -20%;
    background:
        radial-gradient(60% 60% at 35% 40%, rgba(255, 255, 255, 0.12), transparent 70%),
        radial-gradient(70% 70% at 65% 60%, rgba(255, 255, 255, 0.08), transparent 72%),
        linear-gradient(135deg, rgba(255, 255, 255, 0.05), transparent 60%, rgba(255, 255, 255, 0.03));
    opacity: 0.22;
    mix-blend-mode: overlay;
    filter: blur(0.6px);
    animation: void-grain 2.8s steps(2, end) infinite;
}
.overlay-SINGULARITY::after {
    content: '';
    position: absolute;
    inset: -10%;
    background:
        radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.1), transparent 55%),
        conic-gradient(from 0deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.14), rgba(255, 255, 255, 0));
    opacity: 0.28;
    mix-blend-mode: screen;
    filter: blur(1.6px);
    animation: void-pulse 4.2s ease-in-out infinite;
}
@keyframes singularity-chaos {
    0% {
        filter: contrast(1.1) brightness(1.03) saturate(1.06);
    }
    50% {
        filter: contrast(1.26) brightness(1.08) saturate(1.12) drop-shadow(0 0 18px rgba(255, 255, 255, 0.18));
    }
    100% {
        filter: contrast(1.1) brightness(1.03) saturate(1.06);
    }
}
@keyframes void-grain {
    0% {
        transform: translate3d(-1%, -1%, 0);
    }
    100% {
        transform: translate3d(1%, 1%, 0);
    }
}
@keyframes void-pulse {
    0% {
        transform: rotate(0deg);
        opacity: 0.12;
    }
    50% {
        transform: rotate(180deg);
        opacity: 0.26;
    }
    100% {
        transform: rotate(360deg);
        opacity: 0.12;
    }
}
@keyframes void-spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

==================================================
FILE PATH: \.pages_upload\preview\_shared.js
==================================================

(function () {
    const cards = Array.from(document.querySelectorAll('.preview-card'));
    if (!cards.length) return;

    let lastClientX = null;
    let lastClientY = null;

    const onWindowMouseMove = e => {
        lastClientX = e.clientX;
        lastClientY = e.clientY;
    };

    try {
        window.addEventListener('mousemove', onWindowMouseMove, { passive: true });
    } catch (e) {
        window.addEventListener('mousemove', onWindowMouseMove);
    }

    function setTintVars(card, tier) {
        const overlay = card.querySelector('[class^="overlay-"], [class*=" overlay-"]');
        const cls = overlay ? overlay.className || '' : '';
        const has = name => cls.includes(`overlay-${name}`);

        let rgb = '255, 200, 0';
        let rgb2 = '255, 230, 150';
        let mult = 0.55;
        if (has('ENGINEER')) {
            rgb = '0, 255, 170';
            rgb2 = '255, 0, 80';
            mult = tier === 3 ? 1.24 : 1;
        }

        card.style.setProperty('--vfx-rgb', rgb);
        card.style.setProperty('--vfx-rgb2', rgb2);
        card.style.setProperty('--vfx3d-mult', String(mult));
    }

    function inferTier(card) {
        const overlay = card.querySelector('[class^="overlay-"], [class*=" overlay-"]');
        const overlayClass = overlay ? overlay.className || '' : '';

        // PRIME and SINGULARITY always use max tier
        if (overlayClass.includes('overlay-PRIME') || overlayClass.includes('overlay-SINGULARITY')) {
            return 3;
        }

        const img = card.querySelector('img');
        const cls = img ? img.className || '' : '';
        if (cls.includes('img-tier-0')) return 0;
        if (cls.includes('anim-tier-1')) return 1;
        if (cls.includes('anim-tier-2-')) return 2;
        if (/(^|\s)anim-(?!tier-)/.test(cls)) return 3;
        return 0;
    }

    function setVars(card, mxp, myp, tier) {
        const tiltStrength = tier === 0 ? 2 : tier === 1 ? 3 : tier === 2 ? 4 : 5;

        card.style.setProperty('--mxp', `${mxp.toFixed(2)}%`);
        card.style.setProperty('--myp', `${myp.toFixed(2)}%`);

        const nx = (mxp - 50) / 50;
        const ny = (myp - 50) / 50;
        card.style.setProperty('--px', `${(nx * 10).toFixed(2)}px`);
        card.style.setProperty('--py', `${(ny * 10).toFixed(2)}px`);
        card.style.setProperty('--npx', `${(nx * 4).toFixed(2)}px`);
        card.style.setProperty('--npy', `${(ny * 4).toFixed(2)}px`);

        if (card.__vfxWebgl) {
            card.__vfxWebgl.pointer[0] = Math.max(0, Math.min(1, mxp / 100));
            card.__vfxWebgl.pointer[1] = Math.max(0, Math.min(1, 1 - myp / 100));
            card.__vfxWebgl.tilt[0] = Math.max(-1, Math.min(1, nx));
            card.__vfxWebgl.tilt[1] = Math.max(-1, Math.min(1, -ny));
        }

        const rx = (-ny * tiltStrength).toFixed(2);
        const ry = (nx * tiltStrength).toFixed(2);
        card.style.transform = `perspective(1200px) rotateX(${rx}deg) rotateY(${ry}deg)`;
    }

    function resetCardTilt(card) {
        const tier = Number(card.__tiltPreviewTier || 0) || 0;
        const state = card.__tiltPreviewState;
        if (state) {
            state.active = false;
            state.lastMove = performance.now();
        }
        setVars(card, 50, 50, tier);
    }

    function syncCardTiltFromPointer(card) {
        const state = card.__tiltPreviewState;
        const tier = Number(card.__tiltPreviewTier || 0) || 0;
        if (!state) return;
        if (lastClientX == null || lastClientY == null) return;

        const rect = card.getBoundingClientRect();
        if (!rect || !rect.width || !rect.height) return;
        const x = lastClientX - rect.left;
        const y = lastClientY - rect.top;
        if (x < 0 || y < 0 || x > rect.width || y > rect.height) return;

        const mxp = Math.max(0, Math.min(100, (x / rect.width) * 100));
        const myp = Math.max(0, Math.min(100, (y / rect.height) * 100));
        state.active = true;
        state.lastMove = performance.now();
        setVars(card, mxp, myp, tier);
    }

    for (const card of cards) {
        const tier = inferTier(card);
        setTintVars(card, tier);
        const overlay = card.querySelector('[class^="overlay-"], [class*=" overlay-"]');
        const cls = overlay ? overlay.className || '' : '';

        // previews: keep only tilt (no webgl / no 3d vfx layers)
        if (card.__vfxWebgl && card.__vfxWebgl.raf) {
            try {
                cancelAnimationFrame(card.__vfxWebgl.raf);
            } catch (e) {
                void e;
            }
        }
        card.__vfxWebgl = null;
        card.__vfx3d = null;

        const idleAmp = tier === 0 ? 1.2 : tier === 1 ? 1.8 : tier === 2 ? 2.4 : 3;

        const state = {
            active: false,
            lastMove: 0,
            start: performance.now(),
            raf: 0,
            running: true
        };

        card.__tiltPreviewState = state;
        card.__tiltPreviewTier = tier;

        const idleLoop = () => {
            if (!state.running) {
                state.raf = 0;
                return;
            }

            state.raf = requestAnimationFrame(idleLoop);
            const now = performance.now();
            const t = (now - state.start) / 1000;
            const idle = now - state.lastMove > 200;

            if (!idle && state.active) return;

            const mxp = 50 + Math.sin(t * 0.55) * idleAmp;
            const myp = 50 + Math.cos(t * 0.43) * (idleAmp * 0.85);
            setVars(card, mxp, myp, tier);
        };

        state.startLoop = () => {
            if (!state.running) return;
            if (state.raf) return;
            state.raf = requestAnimationFrame(idleLoop);
        };

        card.addEventListener('mousemove', e => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            const mxp = Math.max(0, Math.min(100, (x / rect.width) * 100));
            const myp = Math.max(0, Math.min(100, (y / rect.height) * 100));
            state.active = true;
            state.lastMove = performance.now();
            setVars(card, mxp, myp, tier);
        });

        card.addEventListener('mouseenter', () => {
            state.active = true;
            state.lastMove = performance.now();
        });

        card.addEventListener('mouseleave', () => {
            state.active = false;
            state.lastMove = performance.now();
        });

        card.addEventListener(
            'touchmove',
            e => {
                if (!e.touches || !e.touches[0]) return;
                const rect = card.getBoundingClientRect();
                const x = e.touches[0].clientX - rect.left;
                const y = e.touches[0].clientY - rect.top;
                const mxp = Math.max(0, Math.min(100, (x / rect.width) * 100));
                const myp = Math.max(0, Math.min(100, (y / rect.height) * 100));
                state.active = true;
                state.lastMove = performance.now();
                setVars(card, mxp, myp, tier);
            },
            { passive: true }
        );

        card.addEventListener('touchend', () => {
            state.active = false;
            state.lastMove = performance.now();
        });

        setVars(card, 50, 50, tier);
        state.startLoop();
    }

    const pauseAll = () => {
        for (const card of cards) {
            const state = card.__tiltPreviewState;
            if (state) {
                state.running = false;
                if (state.raf) {
                    cancelAnimationFrame(state.raf);
                    state.raf = 0;
                }
            }
            resetCardTilt(card);
        }
    };

    const resumeAll = () => {
        for (const card of cards) {
            const state = card.__tiltPreviewState;
            if (state) {
                state.running = true;
                state.start = performance.now();
                state.lastMove = performance.now();
                if (typeof state.startLoop === 'function') state.startLoop();
            }
            syncCardTiltFromPointer(card);
        }
    };

    document.addEventListener('visibilitychange', () => {
        if (document.hidden) {
            pauseAll();
        } else {
            resumeAll();
        }
    });

    window.addEventListener('blur', pauseAll);
    window.addEventListener('focus', resumeAll);
})();

==================================================
FILE PATH: \.pages_upload\preview\all.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ All Classes ‚Ä¢ Tier Matrix</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .container {
                max-width: 100%;
            }
            .matrix {
                display: grid;
                grid-template-columns: 140px repeat(4, minmax(210px, 1fr));
                gap: 14px;
                align-items: start;
                overflow: visible;
                padding: 28px 14px 48px;
            }
            .matrix .head {
                font-size: 11px;
                font-weight: 900;
                letter-spacing: 0.18em;
                text-transform: uppercase;
                color: rgba(229, 231, 235, 0.86);
                padding: 6px 0;
            }
            .matrix .row-label {
                position: sticky;
                top: 0;
                align-self: start;
                padding-top: 12px;
                font-size: 12px;
                font-weight: 900;
                letter-spacing: 0.18em;
                text-transform: uppercase;
                color: rgba(255, 255, 255, 0.92);
            }
            .matrix .cell {
                display: flex;
                flex-direction: column;
                gap: 8px;
            }
            .matrix .cell .card-host {
                display: flex;
                justify-content: center;
            }
            .matrix .cell .card-host > .card-scene {
                transform: scale(0.78);
                transform-origin: top center;
            }
            .matrix .cell .cell-title {
                display: flex;
                align-items: baseline;
                justify-content: space-between;
                gap: 10px;
            }
            .matrix .cell .cell-title .tier-name {
                font-size: 11px;
            }
            .matrix .cell .cell-title .tier-note {
                font-size: 10px;
            }
            @media (max-width: 1100px) {
                .matrix {
                    grid-template-columns: 1fr;
                }
                .matrix .row-label {
                    position: relative;
                    top: auto;
                    padding-top: 18px;
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">All Classes</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./all.html">ALL</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">
                Matrix preview of Tier 0-3 for every class. Cards are rendered via <code>FennecIDLib.createCard()</code>
                (same as live).
            </p>

            <div class="matrix" id="matrix">
                <div></div>
                <div class="head">Tier 0</div>
                <div class="head">Tier 1</div>
                <div class="head">Tier 2</div>
                <div class="head">Tier 3</div>
            </div>

            <div class="footer">
                Tip: open DevTools and compare <code>anim-*</code> + <code>overlay-*</code> across tiers.
            </div>
        </div>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();

            (function () {
                const ARCHETYPES = [
                    'DRIFTER',
                    'WALKER',
                    'MERCHANT',
                    'ENGINEER',
                    'SHAMAN',
                    'KEEPER',
                    'LORD',
                    'PRIME',
                    'SINGULARITY'
                ];

                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function tierNote(tier) {
                    if (tier === 0) return 'Dormant';
                    if (tier === 1) return 'Awakening';
                    if (tier === 2) return 'Empowered';
                    return 'Unleashed';
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('matrix');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    ARCHETYPES.forEach(baseKey => {
                        const label = document.createElement('div');
                        label.className = 'row-label';
                        label.textContent = baseKey;
                        root.appendChild(label);

                        for (let tier = 0; tier <= 3; tier++) {
                            const cell = document.createElement('div');
                            cell.className = 'cell';
                            cell.innerHTML = `
                                <div class="cell-title">
                                    <div class="tier-name">Tier ${tier}</div>
                                    <div class="tier-note">${tierNote(tier)}</div>
                                </div>
                                <div class="card-host"></div>
                            `;
                            cell.querySelector('.card-host').appendChild(
                                lib.createCard(makeDna(baseKey, tier), config || undefined)
                            );
                            root.appendChild(cell);
                        }
                    });
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\preview\archetype-effects.css
==================================================

/* ===== ANIMATED BACKGROUND EFFECTS (NO GLOW) ===== */

/* DRIFTER - Drifting sand dunes */
.overlay-DRIFTER::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        120deg,
        transparent 0%,
        rgba(194, 178, 128, 0.12) 30%,
        transparent 40%,
        rgba(218, 165, 32, 0.1) 60%,
        transparent 70%
    );
    background-size: 200% 200%;
    animation: sandDrift 8s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes sandDrift {
    0%,
    100% {
        background-position: 0% 50%;
        opacity: 0.5;
    }
    50% {
        background-position: 100% 50%;
        opacity: 0.8;
    }
}

/* WALKER - Desert wind particles */
.overlay-WALKER::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        radial-gradient(circle at 20% 30%, rgba(255, 218, 185, 0.15) 2px, transparent 2px),
        radial-gradient(circle at 60% 70%, rgba(255, 218, 185, 0.12) 1.5px, transparent 1.5px),
        radial-gradient(circle at 80% 20%, rgba(255, 218, 185, 0.1) 1px, transparent 1px);
    background-size: 100% 100%;
    animation: windParticles 6s linear infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes windParticles {
    0% {
        transform: translateX(0) translateY(0);
        opacity: 0.4;
    }
    100% {
        transform: translateX(-20px) translateY(10px);
        opacity: 0.7;
    }
}

/* MERCHANT - Gold shimmer on ornaments */
.overlay-MERCHANT::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 80px;
    height: 100%;
    background: linear-gradient(90deg, transparent 0%, rgba(255, 215, 0, 0.35) 50%, transparent 100%);
    animation: goldShine 6s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
    transform: skewX(-20deg);
}

@keyframes goldShine {
    0% {
        left: -100%;
        opacity: 0;
    }
    50% {
        opacity: 1;
    }
    100% {
        left: 100%;
        opacity: 0;
    }
}

/* ENGINEER - Circuit pulse */
.overlay-ENGINEER::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(0, 255, 255, 0.05) 2px,
            rgba(0, 255, 255, 0.05) 4px
        ),
        repeating-linear-gradient(
            90deg,
            transparent,
            transparent 2px,
            rgba(0, 255, 255, 0.05) 2px,
            rgba(0, 255, 255, 0.05) 4px
        );
    animation: circuitPulse 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes circuitPulse {
    0%,
    100% {
        opacity: 0.3;
    }
    50% {
        opacity: 0.6;
    }
}

/* SHAMAN - Mystic water ripples */
.overlay-SHAMAN::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 50%, rgba(138, 43, 226, 0.15) 0%, transparent 50%);
    animation: waterRipple 5s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

.overlay-SHAMAN::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 50%, rgba(147, 112, 219, 0.1) 0%, transparent 60%);
    animation: waterRipple 5s ease-in-out infinite 0.5s;
    pointer-events: none;
    z-index: 1;
}

@keyframes waterRipple {
    0% {
        transform: scale(0.8);
        opacity: 0;
    }
    50% {
        opacity: 0.7;
    }
    100% {
        transform: scale(1.3);
        opacity: 0;
    }
}

/* KEEPER - Rune glow pulse */
.overlay-KEEPER::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at 30% 40%, rgba(186, 85, 211, 0.18) 0%, transparent 40%),
        radial-gradient(circle at 70% 60%, rgba(138, 43, 226, 0.15) 0%, transparent 35%);
    animation: runeGlow 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes runeGlow {
    0%,
    100% {
        opacity: 0.4;
        filter: hue-rotate(0deg);
    }
    50% {
        opacity: 0.7;
        filter: hue-rotate(15deg);
    }
}

/* LORD - Royal sun rays */
.overlay-LORD::before {
    content: '';
    position: absolute;
    inset: 0;
    background: conic-gradient(
        from 0deg at 50% 50%,
        transparent 0deg,
        rgba(255, 215, 0, 0.15) 45deg,
        transparent 90deg,
        rgba(255, 215, 0, 0.15) 135deg,
        transparent 180deg,
        rgba(255, 215, 0, 0.15) 225deg,
        transparent 270deg,
        rgba(255, 215, 0, 0.15) 315deg,
        transparent 360deg
    );
    animation: sunRotate 12s linear infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes sunRotate {
    0% {
        transform: rotate(0deg);
        opacity: 0.4;
    }
    50% {
        opacity: 0.6;
    }
    100% {
        transform: rotate(360deg);
        opacity: 0.4;
    }
}

/* PRIME - Energy constellation */
.overlay-PRIME::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.25) 2px, transparent 2px),
        radial-gradient(circle at 80% 30%, rgba(138, 43, 226, 0.25) 2px, transparent 2px),
        radial-gradient(circle at 60% 80%, rgba(0, 255, 255, 0.25) 2px, transparent 2px),
        radial-gradient(circle at 30% 70%, rgba(255, 215, 0, 0.25) 2px, transparent 2px);
    background-size: 100% 100%;
    animation: starTwinkle 3s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes starTwinkle {
    0%,
    100% {
        opacity: 0.5;
    }
    50% {
        opacity: 0.9;
    }
}

/* SINGULARITY - Cosmic vortex */
.overlay-SINGULARITY::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
        ellipse at 50% 50%,
        rgba(138, 43, 226, 0.18) 0%,
        rgba(0, 255, 255, 0.12) 30%,
        rgba(255, 215, 0, 0.1) 60%,
        transparent 80%
    );
    animation: vortexSpin 10s linear infinite;
    pointer-events: none;
    z-index: 1;
}

.overlay-SINGULARITY::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 50%, transparent 30%, rgba(255, 255, 255, 0.12) 40%, transparent 50%);
    animation: cosmicPulse 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 2;
}

@keyframes vortexSpin {
    0% {
        transform: rotate(0deg) scale(1);
        opacity: 0.5;
    }
    50% {
        opacity: 0.7;
    }
    100% {
        transform: rotate(360deg) scale(1.05);
        opacity: 0.5;
    }
}

@keyframes cosmicPulse {
    0%,
    100% {
        transform: scale(0.9);
        opacity: 0.4;
    }
    50% {
        transform: scale(1.1);
        opacity: 0.8;
    }
}

==================================================
FILE PATH: \.pages_upload\preview\borders-and-titles.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ Premium Borders & Titles Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            .matrix-grid {
                display: grid;
                grid-template-columns: 140px repeat(6, 1fr);
                gap: 12px;
                margin-top: 24px;
                align-items: center;
            }
            .matrix-header {
                font-family: var(--font-tactical, monospace);
                font-size: 11px;
                font-weight: 900;
                letter-spacing: 0.08em;
                text-align: center;
                color: rgba(255, 255, 255, 0.75);
                text-transform: uppercase;
            }
            .matrix-tier-label {
                font-family: var(--font-tactical, monospace);
                font-size: 12px;
                font-weight: 700;
                text-align: right;
                padding-right: 16px;
                color: rgba(255, 255, 255, 0.85);
                text-transform: uppercase;
            }
            .matrix-card-cell {
                display: flex;
                justify-content: center;
                align-items: center;
                min-height: 340px;
            }
            .matrix-card-cell .card-scene {
                transform: scale(0.75);
            }
            .section-title {
                font-family: var(--font-display, sans-serif);
                font-size: 28px;
                font-weight: 900;
                text-transform: uppercase;
                margin: 48px 0 16px 0;
                color: #ff6b35;
                text-align: center;
                letter-spacing: 0.02em;
            }
            .section-note {
                text-align: center;
                font-size: 13px;
                color: rgba(255, 255, 255, 0.65);
                margin-bottom: 24px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">Premium Borders & Titles</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./rarities.html">RARITIES</a>
                    <a href="./borders-and-titles.html">BORDERS & TITLES</a>
                    <a href="./all.html">ALL</a>
                </div>
            </div>

            <p class="subtitle">
                Premium rarity borders with materials, complex gradients, and tier-based archetype title styles.
            </p>

            <div class="section-title">Rarity √ó Tier Matrix</div>
            <div class="section-note">Hover to see material effects and animations. Click to flip.</div>

            <div class="matrix-grid" id="matrix"></div>

            <div class="footer">
                <strong>Borders:</strong> CUB (Steel), SCOUT (Bio-Neon), HUNTER (Plasma), ALPHA (Laser), ELDER (Gold),
                SPIRIT (Hologram)<br />
                <strong>Titles:</strong> Tier 0 (Gray), Tier 1 (White Glow), Tier 2 (Molten), Tier 3 (Holographic Flow)
            </div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const RARITIES = [
                    { name: 'CUB', score: 10 },
                    { name: 'SCOUT', score: 35 },
                    { name: 'HUNTER', score: 55 },
                    { name: 'ALPHA', score: 70 },
                    { name: 'ELDER', score: 85 },
                    { name: 'SPIRIT', score: 97 }
                ];

                const TIERS = [
                    { name: 'Tier 0', badgeCount: 0 },
                    { name: 'Tier 1', badgeCount: 2 },
                    { name: 'Tier 2', badgeCount: 4 },
                    { name: 'Tier 3', badgeCount: 6 }
                ];

                const BADGE_NAMES = ['GENESIS', 'EVOLVE', 'PIONEER', 'PROVIDER', 'VETERAN', 'COLLECTOR'];

                function makeDna(rarity, tier) {
                    const badges = BADGE_NAMES.slice(0, tier.badgeCount).map(name => ({ name }));
                    return {
                        inscriptionNumber: `${rarity.name[0]}${tier.badgeCount}`,
                        archetype: { baseKey: 'DRIFTER', title: 'STORM SURFER' },
                        badges: badges,
                        metrics: {
                            activityScore: rarity.score,
                            daysAlive: 120,
                            txCount: 420,
                            netWorthUSD: 123.45,
                            lpValueUSD: tier.badgeCount >= 4 ? 60 : 12.34,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42,
                                lp: tier.badgeCount >= 4 ? 1 : 0
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('matrix');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    root.innerHTML = '<div></div>';
                    RARITIES.forEach(r => {
                        const header = document.createElement('div');
                        header.className = 'matrix-header';
                        header.textContent = r.name;
                        root.appendChild(header);
                    });

                    TIERS.forEach(tier => {
                        const label = document.createElement('div');
                        label.className = 'matrix-tier-label';
                        label.textContent = tier.name;
                        root.appendChild(label);

                        RARITIES.forEach(rarity => {
                            const cell = document.createElement('div');
                            cell.className = 'matrix-card-cell';
                            const scene = lib.createCard(makeDna(rarity, tier), config || undefined);
                            cell.appendChild(scene);
                            root.appendChild(cell);
                        });
                    });
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\preview\drifter.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ DRIFTER ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">DRIFTER</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'DRIFTER';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\preview\engineer.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ ENGINEER ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">ENGINEER</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'ENGINEER';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\preview\index.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ Class Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">Class Evolution Preview</div>
                <div class="nav">
                    <a href="./all.html">ALL</a>
                    <a href="./rarities.html">RARITIES</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render preview pages (uses <code>FennecIDLib.createCard()</code>).</p>

            <div class="footer">
                Tip: open <a href="./rarities.html">RARITIES</a> to compare frames, or open any class to compare Tier
                0-3.
            </div>
        </div>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\preview\keeper.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ KEEPER ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">KEEPER</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'KEEPER';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\preview\lord.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ LORD ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">LORD</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'LORD';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\preview\merchant.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ MERCHANT ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">MERCHANT</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'MERCHANT';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\preview\prime.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ PRIME ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">PRIME</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render MAX only (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function makeDna(baseKey) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ MAX`,
                        archetype: { baseKey, title: baseKey },
                        badges: BADGES.slice(0, 6),
                        metrics: {
                            activityScore: 90,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'PRIME';
                    const tile = document.createElement('div');
                    tile.className = 'tile';
                    tile.innerHTML = `
                        <div class="tile-head">
                            <div class="tier-name">MAX</div>
                            <div class="tier-note">Tier 3</div>
                        </div>
                        <div class="card-host"></div>
                    `;
                    tile.querySelector('.card-host').appendChild(lib.createCard(makeDna(baseKey), config || undefined));
                    root.appendChild(tile);

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\preview\rarities.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ Rarity Frames Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
            .tile .card-host > .card-scene {
                transform: none;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">Rarity Frames</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./rarities.html">RARITIES</a>
                    <a href="./all.html">ALL</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Frame comparison preview. Click a card to flip. Hover to tilt.</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: compare corner clipping while tilting and flipping each rarity.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const RARITIES = [
                    { name: 'CUB', score: 10 },
                    { name: 'SCOUT', score: 35 },
                    { name: 'HUNTER', score: 55 },
                    { name: 'ALPHA', score: 70 },
                    { name: 'ELDER', score: 85 },
                    { name: 'SPIRIT', score: 97 }
                ];

                function makeDna(label, score) {
                    return {
                        inscriptionNumber: label,
                        archetype: { baseKey: 'DRIFTER', title: 'DRIFTER' },
                        badges: [],
                        metrics: {
                            activityScore: score,
                            daysAlive: 120,
                            txCount: 420,
                            netWorthUSD: 123.45,
                            lpValueUSD: 12.34,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42,
                                lp: 1
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    RARITIES.forEach(r => {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">${r.name}</div>
                                <div class="tier-note">Score ${r.score}</div>
                            </div>
                            <div class="card-host"></div>
                        `;

                        const host = tile.querySelector('.card-host');
                        const scene = lib.createCard(makeDna(r.name, r.score), config || undefined);
                        host.appendChild(scene);
                        root.appendChild(tile);
                    });
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\preview\shaman.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ SHAMAN ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">SHAMAN</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'SHAMAN';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\preview\singularity.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ SINGULARITY ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">SINGULARITY</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render MAX only (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function makeDna(baseKey) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ MAX`,
                        archetype: { baseKey, title: baseKey },
                        badges: BADGES.slice(0, 6),
                        metrics: {
                            activityScore: 90,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'SINGULARITY';
                    const tile = document.createElement('div');
                    tile.className = 'tile';
                    tile.innerHTML = `
                        <div class="tile-head">
                            <div class="tier-name">MAX</div>
                            <div class="tier-note">Tier 3</div>
                        </div>
                        <div class="card-host"></div>
                    `;
                    tile.querySelector('.card-host').appendChild(lib.createCard(makeDna(baseKey), config || undefined));
                    root.appendChild(tile);

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\preview\walker.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ WALKER ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">WALKER</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'WALKER';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\recursive_inscriptions\asset_prep_v1.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fennec ID - Asset Prep (Local)</title>
        <style>
            :root {
                --bg: #060607;
                --panel: rgba(255, 255, 255, 0.06);
                --line: rgba(255, 255, 255, 0.1);
                --text: rgba(255, 255, 255, 0.92);
                --muted: rgba(255, 255, 255, 0.65);
                --fennec: #ff6b35;
            }
            html,
            body {
                margin: 0;
                padding: 0;
                background:
                    radial-gradient(1200px 900px at 50% -20%, rgba(255, 107, 53, 0.2), transparent 60%),
                    radial-gradient(900px 700px at 30% 120%, rgba(59, 130, 246, 0.16), transparent 60%), var(--bg);
                color: var(--text);
                font-family:
                    system-ui,
                    -apple-system,
                    Segoe UI,
                    Roboto,
                    Arial,
                    sans-serif;
            }
            .wrap {
                max-width: 980px;
                margin: 0 auto;
                padding: 20px 16px 48px;
            }
            h1 {
                margin: 0;
                font-size: 16px;
                letter-spacing: 0.1em;
                text-transform: uppercase;
            }
            .sub {
                margin-top: 8px;
                color: var(--muted);
                font-size: 12px;
                line-height: 1.45;
            }
            .panel {
                margin-top: 14px;
                background: var(--panel);
                border: 1px solid var(--line);
                border-radius: 16px;
                padding: 12px;
            }
            .row {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                align-items: center;
            }
            label {
                display: flex;
                gap: 8px;
                align-items: center;
                font-size: 12px;
                color: var(--muted);
            }
            input[type='number'] {
                width: 92px;
                padding: 8px 10px;
                border-radius: 10px;
                border: 1px solid rgba(255, 255, 255, 0.14);
                background: rgba(0, 0, 0, 0.2);
                color: var(--text);
            }
            button {
                cursor: pointer;
                padding: 10px 12px;
                border-radius: 12px;
                border: 1px solid rgba(255, 255, 255, 0.14);
                background: rgba(0, 0, 0, 0.22);
                color: var(--text);
                font-weight: 900;
                letter-spacing: 0.08em;
                text-transform: uppercase;
            }
            button:hover {
                border-color: rgba(255, 107, 53, 0.35);
            }
            .log {
                margin-top: 10px;
                white-space: pre-wrap;
                font-size: 12px;
                color: rgba(255, 255, 255, 0.8);
                line-height: 1.4;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                gap: 12px;
                margin-top: 12px;
            }
            .card {
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 14px;
                padding: 10px;
                background: rgba(0, 0, 0, 0.18);
            }
            .card b {
                display: block;
                font-size: 12px;
                letter-spacing: 0.1em;
                text-transform: uppercase;
            }
            .card span {
                display: block;
                margin-top: 6px;
                color: var(--muted);
                font-size: 12px;
            }
            .thumb {
                margin-top: 10px;
                width: 100%;
                aspect-ratio: 1/1;
                border-radius: 12px;
                border: 1px solid rgba(255, 255, 255, 0.1);
                background: rgba(0, 0, 0, 0.2);
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
            }
            .thumb img {
                width: 100%;
                height: 100%;
                object-fit: contain;
            }
            code {
                color: rgba(255, 255, 255, 0.86);
            }
        </style>
    </head>
    <body>
        <div class="wrap">
            <h1>Fennec ID ‚Äî Asset Prep</h1>
            <div class="sub">
                Generates resized PNGs for inscription (backgrounds + badges) from your local
                <code>../img/</code> folder. It downloads files to your default Downloads folder; move them into a
                dedicated folder afterward.
            </div>

            <div class="panel">
                <div class="row">
                    <label>Background W <input id="bgW" type="number" value="720" min="128" step="1" /></label>
                    <label>Background H <input id="bgH" type="number" value="1040" min="128" step="1" /></label>
                    <label>Max KB <input id="maxKB" type="number" value="365" min="32" step="1" /></label>
                    <label
                        >BG format
                        <select
                            id="bgFmt"
                            style="
                                padding: 8px 10px;
                                border-radius: 10px;
                                border: 1px solid rgba(255, 255, 255, 0.14);
                                background: rgba(0, 0, 0, 0.2);
                                color: var(--text);
                            "
                        >
                            <option value="image/jpeg" selected>JPEG</option>
                            <option value="image/webp">WEBP</option>
                            <option value="image/png">PNG</option>
                        </select>
                    </label>
                    <label>BG q <input id="bgQ" type="number" value="0.82" min="0.3" max="0.98" step="0.01" /></label>
                    <label>Badge size <input id="bdS" type="number" value="128" min="32" step="1" /></label>
                    <label
                        >Badge format
                        <select
                            id="bdFmt"
                            style="
                                padding: 8px 10px;
                                border-radius: 10px;
                                border: 1px solid rgba(255, 255, 255, 0.14);
                                background: rgba(0, 0, 0, 0.2);
                                color: var(--text);
                            "
                        >
                            <option value="image/png" selected>PNG</option>
                            <option value="image/webp">WEBP</option>
                        </select>
                    </label>
                    <label
                        >Badge q <input id="bdQ" type="number" value="0.92" min="0.3" max="0.98" step="0.01"
                    /></label>
                </div>
                <div class="row" style="margin-top: 10px">
                    <label
                        >Pick img folder
                        <input id="pickDir" type="file" webkitdirectory directory multiple style="width: 280px" />
                    </label>
                </div>
                <div class="row" style="margin-top: 10px">
                    <button id="dlBg">Download backgrounds</button>
                    <button id="dlBd">Download badges</button>
                    <button id="dlAll">Download all</button>
                </div>
                <div id="log" class="log"></div>
            </div>

            <div class="panel">
                <b style="font-size: 12px; letter-spacing: 0.1em; text-transform: uppercase">Inputs detected</b>
                <div class="sub" style="margin-top: 6px">
                    This list is hard-coded so you don't have to search. Files must exist in <code>img/</code>.
                </div>
                <div id="list" class="grid"></div>
            </div>
        </div>

        <script>
            const BACKGROUNDS = [
                { key: 'DRIFTER', file: '../img/drifter.png' },
                { key: 'WALKER', file: '../img/walker.png' },
                { key: 'KEEPER', file: '../img/keeper.png' },
                { key: 'ENGINEER', file: '../img/engineer.png' },
                { key: 'MERCHANT', file: '../img/merchant.png' },
                { key: 'SHAMAN', file: '../img/shaman.png' },
                { key: 'LORD', file: '../img/oasis.png' },
                { key: 'PRIME', file: '../img/prime.png' },
                { key: 'SINGULARITY', file: '../img/singularity.png' }
            ];

            const BADGES = [
                { key: 'GENESIS', file: '../img/badge_genesis.png' },
                { key: 'WHALE', file: '../img/badge_whale.png' },
                { key: 'PROVIDER', file: '../img/badge_provider.png' },
                { key: 'FENNEC_MAXI', file: '../img/badge_maxi.png' },
                { key: 'ARTIFACT_HUNTER', file: '../img/badge_collector.png' },
                { key: 'RUNE_KEEPER', file: '../img/badge_rune.png' },
                { key: 'MEMPOOL_RIDER', file: '../img/badge_mempool_rider.png' },
                { key: 'SAND_SWEEPER', file: '../img/badge_sweeper.png' }
            ];

            let pickedFilesByName = null;
            let pickedThumbUrls = [];

            function baseName(path) {
                const s = String(path || '');
                const parts = s.split('/');
                return parts[parts.length - 1] || s;
            }

            function setPickedFiles(fileList) {
                pickedFilesByName = {};
                for (const f of Array.from(fileList || [])) {
                    if (!f || !f.name) continue;
                    pickedFilesByName[String(f.name).toLowerCase()] = f;
                }
            }

            function pickedFileForPath(path) {
                if (!pickedFilesByName) return null;
                const key = baseName(path).toLowerCase();
                return pickedFilesByName[key] || null;
            }

            function logLine(s) {
                const el = document.getElementById('log');
                el.textContent = (el.textContent ? el.textContent + '\n' : '') + s;
            }

            function clearLog() {
                document.getElementById('log').textContent = '';
            }

            async function loadImg(src) {
                const picked = pickedFileForPath(src);
                if (picked) {
                    const dataUrl = await new Promise((resolve, reject) => {
                        const reader = new FileReader();
                        reader.onload = () => resolve(String(reader.result || ''));
                        reader.onerror = () => reject(new Error('Failed to read file: ' + picked.name));
                        reader.readAsDataURL(picked);
                    });
                    return await new Promise((resolve, reject) => {
                        const img = new Image();
                        img.onload = () => resolve(img);
                        img.onerror = () => reject(new Error('Failed to decode image: ' + picked.name));
                        img.src = dataUrl;
                    });
                }
                try {
                    const res = await fetch(src, { cache: 'no-store' });
                    if (!res.ok) throw new Error(`HTTP ${res.status}`);
                    const blob = await res.blob();
                    const objUrl = URL.createObjectURL(blob);
                    return await new Promise((resolve, reject) => {
                        const img = new Image();
                        img.onload = () => {
                            try {
                                URL.revokeObjectURL(objUrl);
                            } catch (e) {}
                            resolve(img);
                        };
                        img.onerror = () => {
                            try {
                                URL.revokeObjectURL(objUrl);
                            } catch (e) {}
                            reject(new Error('Failed to decode image: ' + src));
                        };
                        img.src = objUrl;
                    });
                } catch (e) {
                    const hint =
                        window.location && window.location.protocol === 'file:'
                            ? ' (Pick img folder above, or open via a local server)'
                            : '';
                    throw new Error('Failed to load: ' + src + hint);
                }
            }

            function drawContainBottom(ctx, img, outW, outH) {
                ctx.clearRect(0, 0, outW, outH);
                const s = Math.min(outW / img.naturalWidth, outH / img.naturalHeight);
                const w = img.naturalWidth * s;
                const h = img.naturalHeight * s;
                const x = (outW - w) / 2;
                const y = outH - h;
                ctx.drawImage(img, x, y, w, h);
            }

            function drawContainCenter(ctx, img, outW, outH) {
                ctx.clearRect(0, 0, outW, outH);
                const s = Math.min(outW / img.naturalWidth, outH / img.naturalHeight);
                const w = img.naturalWidth * s;
                const h = img.naturalHeight * s;
                const x = (outW - w) / 2;
                const y = (outH - h) / 2;
                ctx.drawImage(img, x, y, w, h);
            }

            async function downloadBlob(blob, filename) {
                if (!blob) throw new Error('Encoding failed: ' + filename);
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                a.remove();
                setTimeout(() => URL.revokeObjectURL(url), 1000);
            }

            async function canvasToBlob(canvas, mimeType, quality) {
                const mt = String(mimeType || 'image/png');
                const q = typeof quality === 'number' ? quality : undefined;
                return await new Promise(resolve => canvas.toBlob(resolve, mt, q));
            }

            async function encodeCanvasUnderLimit(canvas, { mimeType, quality, maxBytes }) {
                const mt = String(mimeType || 'image/png');
                const limit = Number(maxBytes || 0) || 0;

                let q = typeof quality === 'number' ? quality : undefined;
                const minQ = 0.4;

                for (let i = 0; i < 16; i++) {
                    const blob = await canvasToBlob(canvas, mt, q);
                    if (!limit || (blob && blob.size <= limit)) return { blob, quality: q, scaled: 1 };
                    if (mt === 'image/png') return { blob, quality: q, scaled: 1 };
                    if (typeof q !== 'number') q = 0.86;
                    q = Math.max(minQ, q - 0.05);
                    if (q === minQ) break;
                }

                let scale = 0.92;
                for (let s = 0; s < 8; s++) {
                    const w = Math.max(64, Math.round(canvas.width * scale));
                    const h = Math.max(64, Math.round(canvas.height * scale));
                    const tmp = document.createElement('canvas');
                    tmp.width = w;
                    tmp.height = h;
                    const tctx = tmp.getContext('2d');
                    tctx.imageSmoothingEnabled = true;
                    tctx.imageSmoothingQuality = 'high';
                    tctx.drawImage(canvas, 0, 0, w, h);
                    const blob = await canvasToBlob(tmp, mt, q);
                    if (!limit || (blob && blob.size <= limit)) return { blob, quality: q, scaled: scale };
                    scale *= 0.92;
                }

                return { blob: await canvasToBlob(canvas, mt, q), quality: q, scaled: 1 };
            }

            async function downloadBackgrounds() {
                clearLog();
                const outW = Number(document.getElementById('bgW').value) || 720;
                const outH = Number(document.getElementById('bgH').value) || 1040;
                const maxKB = Number(document.getElementById('maxKB').value) || 365;
                const maxBytes = Math.max(16 * 1024, Math.floor(maxKB * 1024));
                const bgMimeType = String(document.getElementById('bgFmt')?.value || 'image/jpeg');
                const bgQ = Number(document.getElementById('bgQ').value);
                const bgQuality = Number.isFinite(bgQ) ? Math.max(0.01, Math.min(0.99, bgQ)) : undefined;

                const canvas = document.createElement('canvas');
                canvas.width = outW;
                canvas.height = outH;
                const ctx = canvas.getContext('2d');

                for (const it of BACKGROUNDS) {
                    logLine('BG ' + it.key + '‚Ä¶');
                    const img = await loadImg(it.file);
                    drawContainBottom(ctx, img, outW, outH);

                    const encoded = await encodeCanvasUnderLimit(canvas, {
                        mimeType: bgMimeType,
                        quality: bgMimeType === 'image/png' ? undefined : bgQuality,
                        maxBytes
                    });
                    const ext = bgMimeType === 'image/webp' ? 'webp' : bgMimeType === 'image/png' ? 'png' : 'jpg';
                    const kb = encoded.blob ? (encoded.blob.size / 1024).toFixed(1) : '0.0';
                    logLine(
                        `  -> ${kb} KB (${ext}${typeof encoded.quality === 'number' ? ` q=${encoded.quality.toFixed(2)}` : ''}${encoded.scaled !== 1 ? ` scale=${encoded.scaled.toFixed(2)}` : ''})`
                    );
                    await downloadBlob(encoded.blob, `bg_${it.key.toLowerCase()}_${outW}x${outH}.${ext}`);
                }

                logLine('Done.');
            }

            async function downloadBadges() {
                clearLog();
                const size = Number(document.getElementById('bdS').value) || 128;
                const maxKB = Number(document.getElementById('maxKB').value) || 365;
                const maxBytes = Math.max(16 * 1024, Math.floor(maxKB * 1024));
                const bdMimeType = String(document.getElementById('bdFmt')?.value || 'image/png');
                const bdQ = Number(document.getElementById('bdQ').value);
                const bdQuality = Number.isFinite(bdQ) ? Math.max(0.01, Math.min(0.99, bdQ)) : undefined;

                const canvas = document.createElement('canvas');
                canvas.width = size;
                canvas.height = size;
                const ctx = canvas.getContext('2d');

                for (const it of BADGES) {
                    logLine('BADGE ' + it.key + '‚Ä¶');
                    const img = await loadImg(it.file);
                    drawContainCenter(ctx, img, size, size);

                    const encoded = await encodeCanvasUnderLimit(canvas, {
                        mimeType: bdMimeType,
                        quality: bdMimeType === 'image/png' ? undefined : bdQuality,
                        maxBytes
                    });
                    const ext = bdMimeType === 'image/webp' ? 'webp' : 'png';
                    const kb = encoded.blob ? (encoded.blob.size / 1024).toFixed(1) : '0.0';
                    logLine(
                        `  -> ${kb} KB (${ext}${typeof encoded.quality === 'number' ? ` q=${encoded.quality.toFixed(2)}` : ''}${encoded.scaled !== 1 ? ` scale=${encoded.scaled.toFixed(2)}` : ''})`
                    );
                    await downloadBlob(encoded.blob, `badge_${it.key.toLowerCase()}_${size}x${size}.${ext}`);
                }

                logLine('Done.');
            }

            async function downloadAll() {
                await downloadBackgrounds();
                await downloadBadges();
            }

            function renderList() {
                const el = document.getElementById('list');
                el.innerHTML = '';

                for (const u of pickedThumbUrls) {
                    try {
                        URL.revokeObjectURL(u);
                    } catch (e) {}
                }
                pickedThumbUrls = [];

                const items = [
                    ...BACKGROUNDS.map(x => ({ type: 'background', ...x })),
                    ...BADGES.map(x => ({ type: 'badge', ...x }))
                ];

                for (const it of items) {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `<b>${it.type}: ${it.key}</b><span>${it.file}</span>`;

                    const thumb = document.createElement('div');
                    thumb.className = 'thumb';
                    const img = document.createElement('img');
                    const picked = pickedFileForPath(it.file);
                    if (picked) {
                        const u = URL.createObjectURL(picked);
                        pickedThumbUrls.push(u);
                        img.src = u;
                    } else {
                        img.src = it.file;
                    }
                    img.alt = it.key;
                    img.onerror = () => {
                        thumb.textContent = 'Missing file';
                    };

                    thumb.appendChild(img);
                    card.appendChild(thumb);
                    el.appendChild(card);
                }
            }

            document
                .getElementById('dlBg')
                .addEventListener('click', () => downloadBackgrounds().catch(e => logLine('ERROR: ' + e.message)));
            document
                .getElementById('dlBd')
                .addEventListener('click', () => downloadBadges().catch(e => logLine('ERROR: ' + e.message)));
            document
                .getElementById('dlAll')
                .addEventListener('click', () => downloadAll().catch(e => logLine('ERROR: ' + e.message)));

            const pickDirEl = document.getElementById('pickDir');
            if (pickDirEl) {
                pickDirEl.addEventListener('change', e => {
                    try {
                        const files = e && e.target && e.target.files ? e.target.files : [];
                        setPickedFiles(files);
                        renderList();
                        clearLog();
                        logLine('Folder selected. Ready.');
                    } catch (err) {
                        clearLog();
                        logLine('ERROR: ' + (err && err.message ? err.message : 'Failed to load folder'));
                    }
                });
            }

            renderList();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\recursive_inscriptions\assets_manifest_v1.json
==================================================

{
    "version": 1,
    "notes": "Mint each listed file as a separate inscription (each file must be <= 365 KB). Backgrounds/badges in img/ are currently source-resolution; first run recursive_inscriptions/asset_prep_v1.html to export resized/compressed versions, then inscribe those exported files and paste their inscription IDs into fennec_config_v1.json under assets.backgrounds/assets.badges/assets.misc.",
    "backgrounds": [
        { "key": "DRIFTER_T0", "file": "img/drifter_t0.png" },
        { "key": "DRIFTER_T1", "file": "img/drifter_t1.png" },
        { "key": "DRIFTER_T2", "file": "img/drifter_t2.png" },
        { "key": "DRIFTER_T3", "file": "img/drifter_t3.png" },

        { "key": "WALKER_T0", "file": "img/walker_t0.png" },
        { "key": "WALKER_T1", "file": "img/walker_t1.png" },
        { "key": "WALKER_T2", "file": "img/walker_t2.png" },
        { "key": "WALKER_T3", "file": "img/walker_t3.png" },

        { "key": "MERCHANT_T0", "file": "img/merchant_t0.png" },
        { "key": "MERCHANT_T1", "file": "img/merchant_t1.png" },
        { "key": "MERCHANT_T2", "file": "img/merchant_t2.png" },
        { "key": "MERCHANT_T3", "file": "img/merchant_t3.png" },

        { "key": "ENGINEER_T0", "file": "img/engineer_t0.png" },
        { "key": "ENGINEER_T1", "file": "img/engineer_t1.png" },
        { "key": "ENGINEER_T2", "file": "img/engineer_t2.png" },
        { "key": "ENGINEER_T3", "file": "img/engineer_t3.png" },

        { "key": "SHAMAN_T0", "file": "img/shaman_t0.png" },
        { "key": "SHAMAN_T1", "file": "img/shaman_t1.png" },
        { "key": "SHAMAN_T2", "file": "img/shaman_t2.png" },
        { "key": "SHAMAN_T3", "file": "img/shaman_t3.png" },

        { "key": "KEEPER_T0", "file": "img/keeper_t0.png" },
        { "key": "KEEPER_T1", "file": "img/keeper_t1.png" },
        { "key": "KEEPER_T2", "file": "img/keeper_t2.png" },
        { "key": "KEEPER_T3", "file": "img/keeper_t3.png" },

        { "key": "LORD_T0", "file": "img/lord_t0.png" },
        { "key": "LORD_T1", "file": "img/lord_t1.png" },
        { "key": "LORD_T2", "file": "img/lord_t2.png" },
        { "key": "LORD_T3", "file": "img/lord_t3.png" },

        { "key": "PRIME", "file": "img/prime.png" },
        { "key": "SINGULARITY", "file": "img/singularity.png" }
    ],
    "badges": [
        { "key": "GENESIS", "file": "img/badge_genesis.png" },
        { "key": "WHALE", "file": "img/badge_whale.png" },
        { "key": "PROVIDER", "file": "img/badge_provider.png" },
        { "key": "FENNEC MAXI", "file": "img/badge_maxi.png" },
        { "key": "ARTIFACT HUNTER", "file": "img/badge_collector.png" },
        { "key": "RUNE KEEPER", "file": "img/badge_rune.png" },
        { "key": "MEMPOOL RIDER", "file": "img/badge_mempool_rider.png" },
        { "key": "SAND SWEEPER", "file": "img/badge_sweeper.png" }
    ],
    "misc": [
        { "key": "LOGO", "file": "img/phav.png" },
        { "key": "WATERMARK", "file": "img/phav.png" }
    ],
    "recommended_optional": [{ "key": "PHAV", "file": "img/phav.png", "why": "favicon / small UI icon" }]
}

==================================================
FILE PATH: \.pages_upload\recursive_inscriptions\fennec_child_template_v1.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <!-- Fill these after minting -->
        <meta name="fennec-lib" content="961a15289f9ec4fb594a7543a5bc4cd94ce6feed2c7df994e8bfa456ada28a5ai0" />
        <meta name="fennec-config" content="ffc50199c26d7037f82ef6a3d8406e6eb483c8a24a3dc396a39768e171f58225i0" />

        <meta name="fennec-manifest" content="9327b39aa5676ce0be200ce41e3eebe91569fddb0e6c92ec946f996618a54d45i0" />

        <!-- Optional: provenance parent id (if you want the child to know it at runtime) -->
        <meta name="fennec-parent" content="INSCRIPTION_ID_PARENT" />

        <title>Fennec ID</title>
    </head>
    <body>
        <div id="fennec-root"></div>

        <!-- Unique data for THIS user/card -->
        <script id="dna-data" type="application/json">
            {
                "address": "bc1q...",
                "archetype": {
                    "baseKey": "DRIFTER",
                    "title": "DRIFTER",
                    "tierLabel": "",
                    "tierLevel": 0,
                    "badges": []
                },
                "badges": [],
                "metrics": {
                    "rarityName": "CUB",
                    "wealth": "0.00",
                    "txCount": 0,
                    "hasFennecSoul": false
                }
            }
        </script>

        <!-- Recursive load: the LIB is a JS inscription. It will auto-render using dna-data. -->
        <script>
            (function () {
                var fallbackManifestId = '9327b39aa5676ce0be200ce41e3eebe91569fddb0e6c92ec946f996618a54d45i0';
                var getMeta = function (name) {
                    var el = document.querySelector('meta[name="' + name + '"]');
                    return el ? el.getAttribute('content') || '' : '';
                };

                var setMeta = function (name, value) {
                    var el = document.querySelector('meta[name="' + name + '"]');
                    if (!el) {
                        el = document.createElement('meta');
                        el.setAttribute('name', name);
                        document.head.appendChild(el);
                    }
                    el.setAttribute('content', String(value || ''));
                };

                var resolveRefToUrl = function (ref) {
                    var s = String(ref || '').trim();
                    if (!s) return '';
                    if (s.indexOf('http://') === 0 || s.indexOf('https://') === 0) return s;
                    if (s.indexOf('/') === 0) return s;
                    try {
                        var h =
                            typeof window !== 'undefined' &&
                            window.location &&
                            window.location.hostname &&
                            String(window.location.hostname).toLowerCase();
                        if (h === 'uniscan.cc' || (h && h.endsWith('.uniscan.cc'))) {
                            return '/fractal/content/' + s;
                        }
                    } catch (_) {}
                    return '/content/' + s;
                };

                var fetchJsonWithTimeout = function (url, timeoutMs) {
                    var ms = typeof timeoutMs === 'number' ? timeoutMs : 4500;
                    return new Promise(function (resolve, reject) {
                        var done = false;
                        var t = setTimeout(function () {
                            if (done) return;
                            done = true;
                            reject(new Error('timeout'));
                        }, ms);
                        fetch(url, { cache: 'no-store' })
                            .then(function (res) {
                                if (!res.ok) throw new Error('http ' + res.status);
                                return res.json();
                            })
                            .then(function (json) {
                                if (done) return;
                                done = true;
                                clearTimeout(t);
                                resolve(json);
                            })
                            .catch(function (err) {
                                if (done) return;
                                done = true;
                                clearTimeout(t);
                                reject(err);
                            });
                    });
                };

                var pinnedLib = getMeta('fennec-lib');
                var pinnedConfig = getMeta('fennec-config');
                var manifestRef = getMeta('fennec-manifest');

                var resolved = {
                    lib: pinnedLib,
                    config: pinnedConfig
                };

                var applyManifest = function (m) {
                    if (!m || typeof m !== 'object') return;
                    var latest = m.latest && typeof m.latest === 'object' ? m.latest : m;
                    var lib =
                        latest.lib || latest.libId || latest.library || latest.libraryId || latest.fennecLib || '';
                    var cfg =
                        latest.config ||
                        latest.configId ||
                        latest.configuration ||
                        latest.configurationId ||
                        latest.fennecConfig ||
                        '';
                    if (typeof lib === 'string' && lib.trim()) resolved.lib = lib.trim();
                    if (typeof cfg === 'string' && cfg.trim()) resolved.config = cfg.trim();
                };

                var loadLib = function () {
                    if (!resolved.lib) {
                        document.body.innerText = 'Missing fennec-lib meta';
                        return;
                    }
                    if (resolved.config) setMeta('fennec-config', resolved.config);

                    var s = document.createElement('script');
                    s.src = resolveRefToUrl(resolved.lib);
                    s.onload = function () {
                        if (typeof window.initFennecID === 'function') window.initFennecID();
                    };
                    s.onerror = function () {
                        document.body.innerText = 'Failed to load library inscription';
                    };
                    document.head.appendChild(s);
                };

                var skipManifestFetch = false;

                if (manifestRef && String(manifestRef).trim()) {
                    var manifestUrl = resolveRefToUrl(manifestRef);
                    fetchJsonWithTimeout(manifestUrl, 4500)
                        .then(function (m) {
                            applyManifest(m);
                            loadLib();
                        })
                        .catch(function () {
                            try {
                                if (
                                    fallbackManifestId &&
                                    String(fallbackManifestId).trim() &&
                                    fallbackManifestId !== manifestRef &&
                                    typeof resolveRefToUrl === 'function'
                                ) {
                                    var fbUrl = resolveRefToUrl(fallbackManifestId);
                                    fetchJsonWithTimeout(fbUrl, 4500)
                                        .then(function (m2) {
                                            applyManifest(m2);
                                            loadLib();
                                        })
                                        .catch(function () {
                                            loadLib();
                                        });
                                    return;
                                }
                            } catch (_) {}
                            loadLib();
                        });
                } else {
                    loadLib();
                }
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\recursive_inscriptions\fennec_config_v1.json
==================================================

{
    "version": 1,
    "theme": "default",
    "features": {
        "enableFlip": true,
        "enableTilt": true
    },
    "scoring": {
        "launchDate": 1725840000,
        "genesisWindowSec": 86400,
        "points": {
            "activityMax": 25,
            "wealthMax": 25,
            "timeMax": 15,
            "badgesMax": 35
        },
        "activity": {
            "curve": "log",
            "maxTx": 10000
        },
        "wealth": {
            "curve": "sqrt",
            "maxNetWorthUSD": 1000
        },
        "time": {
            "maxDays": 365
        },
        "maxi": {
            "multiplier": 1.15,
            "rules": {
                "any": [
                    { "field": "fennecTotal", "op": ">=", "value": 10000 },
                    { "field": "hasFennecInLP", "op": "==", "value": true }
                ]
            }
        },
        "rarityThresholds": [
            { "name": "SPIRIT", "min": 95 },
            { "name": "ELDER", "min": 80 },
            { "name": "ALPHA", "min": 65 },
            { "name": "HUNTER", "min": 50 },
            { "name": "SCOUT", "min": 30 },
            { "name": "CUB", "min": 0 }
        ],
        "badgeDefinitions": [
            {
                "name": "GENESIS",
                "icon": "",
                "desc": "You witnessed the first sunrise over the Fractal dunes.",
                "weight": 15,
                "rules": {
                    "all": [
                        { "field": "firstTxTs", "op": ">=", "valueRef": "launchDate" },
                        {
                            "field": "firstTxTs",
                            "op": "<",
                            "valueExpr": { "add": [{ "ref": "launchDate" }, { "ref": "genesisWindowSec" }] }
                        }
                    ]
                }
            },
            {
                "name": "WHALE",
                "icon": "",
                "desc": "When you move, the sands shift beneath you.",
                "weight": 10,
                "rules": { "field": "netWorthUSD", "op": ">=", "value": 1000 }
            },
            {
                "name": "PROVIDER",
                "icon": "",
                "desc": "The desert is thirsty, but your well runs deep.",
                "weight": 8,
                "rules": { "field": "lpValueUSD", "op": ">=", "value": 100 }
            },
            {
                "name": "FENNEC MAXI",
                "icon": "",
                "desc": "The Spirit of the Fox guides your path.",
                "weight": 0,
                "rules": {
                    "any": [
                        { "field": "fennecTotal", "op": ">=", "value": 10000 },
                        { "field": "hasFennecInLP", "op": "==", "value": true }
                    ]
                }
            },
            {
                "name": "ARTIFACT HUNTER",
                "icon": "",
                "desc": "Your pockets are heavy with echoes of the chain.",
                "weight": 3,
                "rules": { "field": "inscriptionsTotal", "op": ">=", "value": 50 }
            },
            {
                "name": "RUNE KEEPER",
                "icon": "",
                "desc": "You decipher the glyphs. The stones speak to you.",
                "weight": 3,
                "rules": { "field": "runesCount", "op": ">=", "value": 20 }
            },
            {
                "name": "MEMPOOL RIDER",
                "icon": "",
                "desc": "Surfing the chaos of the 30-second block waves.",
                "weight": 7,
                "rules": { "field": "txCount", "op": ">=", "value": 10000 }
            },
            {
                "name": "SAND SWEEPER",
                "icon": "",
                "desc": "Your UTXO set is clean. No trash left in the dunes.",
                "weight": 3,
                "rules": { "field": "abandonedUtxoCount", "op": "<", "value": 50 }
            }
        ]
    },
    "oracle": {
        "enabled": true,
        "endpoint": "https://fennec-api.warninghejo.workers.dev",
        "action": "fractal_audit",
        "timeoutMs": 8000,
        "showSyncFx": true
    },
    "assets": {
        "backgrounds": {
            "*": "c483c2cc881f9dd87a7f11b3f3cef44c760d4371ed680fd7000bbc6fd27eb38di0",

            "DRIFTER": "93fd82caf93eb4801196a68adea2af1eb1e58247504f6f06a3f6aede5ad0456bi0",
            "DRIFTER_T0": "93fd82caf93eb4801196a68adea2af1eb1e58247504f6f06a3f6aede5ad0456bi0",
            "DRIFTER_T1": "e87d18c1aa25a870506eb88119199af31360a3bf3820dff0d152d1f7c22eae93i0",
            "DRIFTER_T2": "ca8a00b5085ab89132395b55ae9eca35510ec7a55e1eec0ef4159dbe8501a034i0",
            "DRIFTER_T3": "2b9e6efb4d45b7752341683bc85976d8c48227e3b77d64b7e9db812920629cdai0",

            "WALKER": "c16da3c7178297215183f9b3ad048be2af0e14eb90498a54f949018513b46bc8i0",
            "WALKER_T0": "c16da3c7178297215183f9b3ad048be2af0e14eb90498a54f949018513b46bc8i0",
            "WALKER_T1": "9e600974c5b171437b6b2852ce7256cd9b72ff2e60b34cbd6ba0fe15e6603b8ci0",
            "WALKER_T2": "f7486257f765e39efa8882226052efdfd7511f987ef0a405b9c7a27def95b17bi0",
            "WALKER_T3": "52fdb4ba5dcf86513647f6f7f0c6e0abb4dba47c6b012f598c5c0e4d45d2896ai0",

            "MERCHANT": "d84ffcf97676e75a55f4c3de061491422d278a92101babe0191fb252665298e1i0",
            "MERCHANT_T0": "d84ffcf97676e75a55f4c3de061491422d278a92101babe0191fb252665298e1i0",
            "MERCHANT_T1": "92088d1f387d690bfbfb4cd710fc19b763455804653c028385f7e5bbedb3a8f4i0",
            "MERCHANT_T2": "9dd19bef9ea5c22a59e59bc3f6e76dddc7e993643bd39769b63c64f27992ef12i0",
            "MERCHANT_T3": "e34738614b5aadc959797640b730d8914efec32029fe6ea7130a5c7fa0fad6c3i0",

            "ENGINEER": "6f5db7869fb4822ce18330cf7c8d90a34885f7cb7cafbec8cf74625b2a2c33fbi0",
            "ENGINEER_T0": "6f5db7869fb4822ce18330cf7c8d90a34885f7cb7cafbec8cf74625b2a2c33fbi0",
            "ENGINEER_T1": "adc4ea27665304244abfbe3d59dfbeb604d0722c2d7f3a9f3f09214ab40a23aci0",
            "ENGINEER_T2": "948eda99846d127a0fe7c4cf81e346cd523b5dbb21d61c69fd7a41ca41d221e1i0",
            "ENGINEER_T3": "b09d79aba79ce14ff023a39f24fd446e6f29ae3577491cff0f294a0d36535782i0",

            "SHAMAN": "eb676b7d97336923b9c4d5c834e627aa5b4ba518fbdcdd4253dd53da49bd069ei0",
            "SHAMAN_T0": "eb676b7d97336923b9c4d5c834e627aa5b4ba518fbdcdd4253dd53da49bd069ei0",
            "SHAMAN_T1": "ad65a2d63dbe42a1ad9f0bdc653c15588ddd33291c3f4277e5689b8ed1461c38i0",
            "SHAMAN_T2": "83d632380a52d1ac978d281de74282efbaa18eab0fa42922a3b62d215b94ec73i0",
            "SHAMAN_T3": "fb2089230f00ab2d019456d48529cfbd06623cc347a470b806f43f668475f16di0",

            "KEEPER": "863c3deb6942de491c9aa25d352e65499ed8f3ac9b56204ca1c13ccddd9df463i0",
            "KEEPER_T0": "863c3deb6942de491c9aa25d352e65499ed8f3ac9b56204ca1c13ccddd9df463i0",
            "KEEPER_T1": "0d19e68ce783600e1569aa0b572d25e0bfa7808dce85f302891aa778e4309338i0",
            "KEEPER_T2": "10d599f4e5ed54824aff1785c195a7c29383315e34d20b250235a60edcd3d3c4i0",
            "KEEPER_T3": "c49bdafe2d5f9a39ae24e2584b3eefae5e4eec03d4ec7065ddff1e9c1154d0d6i0",

            "LORD": "7d14445c78cc369125905be43e2fe927e4b072b977508296b780a4c4122c2c5di0",
            "LORD_T0": "7d14445c78cc369125905be43e2fe927e4b072b977508296b780a4c4122c2c5di0",
            "LORD_T1": "8035fd69c194f8bc3bdf99ed857400288dd1d7e422c8cc491d7504f107773e23i0",
            "LORD_T2": "689265190a0225959c1c7e0a099e0cb6364ac205d2d11d6fb26a18ec90b17211i0",
            "LORD_T3": "dc8ed5fbf0e73000864ae727f91febdde60dfaf2cc62b3f26d881be6484f4eeci0",

            "PRIME": "bc3094e99505e7cca912e8a26bc5d04ebce528857439fdaadada6c813a7a3e90i0",
            "SINGULARITY": "6944bf8680117a1edbd59b1c423eddba37e9b5ea7e0fe39e50fd97956a340919i0"
        },
        "badges": {
            "GENESIS": "00a00f50484b94ddae3fbb69475d53ed24a4cbeb9f02eae5ab1846d296e988cbi0",
            "WHALE": "8f6a0a32f4c98ba0de866ab9df080863d97b6bdc81f112423daf6d0688ffddbfi0",
            "PROVIDER": "6160f7e5155547f69347fa2cebba9df8ec4b43bdbf0d616185760996cf0c60eai0",
            "FENNEC MAXI": "5499d69c4b0eb3525ef75ec5eadb77228453c614f6d9f83871232e9301198173i0",
            "ARTIFACT HUNTER": "19e5faad29d7c86719d0093357db1fa6fbff9495b7be8f1b5571eb2952d311f9i0",
            "RUNE KEEPER": "9e86f2f37c041917cb03b4e37a61180a3ead973631331130455a4aa60936b32di0",
            "MEMPOOL RIDER": "8c873e498eb13dacb37bedce3502c1fc7a7b13f3ed5e3f178d353a30df89b690i0",
            "SAND SWEEPER": "fe95fe52f2e57d426dd587a3f35839fdc4d2c805420c2e46387817a8747cdc73i0"
        },
        "misc": {
            "LOGO": "2e0185f2bdcc068289680574c98982d24e4bc3e3ae9d048ce160c7978ad8b44bi0",
            "WATERMARK": "4d94e7ef01d8b40c58d02a83d232494bc4cc856b98b27a18f81a45bf6c670923i0",
            "HEART": "f58cdcb410c17074019380f13c4bad10bbeacb79e5e1be78a0f8213c127a4e1fi0",
            "PHAV": "cdcf7ec0fbe5a5ef8631453743f4f23a4af154b7251fa94ac4e4e8bb82c693fdi0",
            "FBSYM": "8f4b941f8257128e678082e9753eb13cd478a4bce4cf07cb6675805c899dbb01i0"
        }
    }
}

==================================================
FILE PATH: \.pages_upload\recursive_inscriptions\fennec_lib_v2.js
==================================================

(function () {
    'use strict';

    const isPreview =
        typeof window !== 'undefined' &&
        (window.location.pathname.includes('/preview/') ||
            window.location.hostname === 'localhost' ||
            window.location.hostname === '127.0.0.1');

    // –ì–õ–û–ë–ê–õ–¨–ù–´–ô –®–ò–ú STORAGE
    (function () {
        function makeShim() {
            let mem = {};
            return {
                getItem: k => (Object.prototype.hasOwnProperty.call(mem, k) ? mem[k] : null),
                setItem: (k, v) => {
                    mem[k] = String(v);
                },
                removeItem: k => {
                    delete mem[k];
                },
                clear: () => {
                    mem = {};
                },
                key: i => Object.keys(mem)[i] || null,
                get length() {
                    return Object.keys(mem).length;
                }
            };
        }
        try {
            const t = window.localStorage;
            if (!t) throw 1;
            t.setItem('__t', '1');
            t.removeItem('__t');
        } catch (e) {
            try {
                Object.defineProperty(window, 'localStorage', { value: makeShim(), configurable: true });
            } catch (e2) {
                window.localStorage = makeShim();
            }
        }
        try {
            const t2 = window.sessionStorage;
            if (!t2) throw 1;
            t2.setItem('__t', '1');
            t2.removeItem('__t');
        } catch (e) {
            try {
                Object.defineProperty(window, 'sessionStorage', { value: makeShim(), configurable: true });
            } catch (e2) {
                window.sessionStorage = makeShim();
            }
        }
    })();

    const DEFAULT_CONFIG = {
        version: 2,
        theme: 'cyberpunk',
        features: { enableFlip: true, enableTilt: true },
        scoring: {
            launchDate: 1725840000,
            genesisWindowSec: 86400,
            points: { activityMax: 25, wealthMax: 25, timeMax: 15, badgesMax: 35 },
            activity: { curve: 'log', maxTx: 10000 },
            wealth: { curve: 'sqrt', maxNetWorthUSD: 1000 },
            time: { maxDays: 365 },
            maxi: {
                multiplier: 1.15,
                rules: {
                    any: [
                        { field: 'fennecTotal', op: '>=', value: 10000 },
                        { field: 'hasFennecInLP', op: '==', value: true }
                    ]
                }
            },
            rarityThresholds: [
                { name: 'SPIRIT', min: 95 },
                { name: 'ELDER', min: 80 },
                { name: 'ALPHA', min: 65 },
                { name: 'HUNTER', min: 50 },
                { name: 'SCOUT', min: 30 },
                { name: 'CUB', min: 0 }
            ],
            badgeDefinitions: []
        },
        oracle: {
            enabled: false,
            endpoint: 'https://fennec-api.warninghejo.workers.dev',
            action: 'fractal_audit',
            timeoutMs: 8000,
            badgeDefinitions: []
        },
        assets: {
            backgrounds: {
                DRIFTER: '/img/drifter.png',
                WALKER: '/img/walker.png',
                MERCHANT: '/img/merchant.png',
                ENGINEER: '/img/engineer.png',
                SHAMAN: '/img/shaman.png',
                KEEPER: '/img/keeper.png',
                LORD: '/img/guard.png',
                PRIME: '/img/prime.png',
                SINGULARITY: '/img/singularity.png'
            },
            badges: {
                GENESIS: '/img/badge_genesis.png',
                WHALE: '/img/badge_whale.png',
                PROVIDER: '/img/badge_provider.png',
                'FENNEC MAXI': '/img/badge_maxi.png',
                'ARTIFACT HUNTER': '/img/badge_collector.png',
                'RUNE KEEPER': '/img/badge_rune.png',
                'MEMPOOL RIDER': '/img/badge_mempool_rider.png',
                'SAND SWEEPER': '/img/badge_sweeper.png'
            },
            misc: {}
        }
    };

    const LIB_VERSION = 'v2.1.0';

    function safeJsonParse(text) {
        try {
            return JSON.parse(text);
        } catch (_) {
            return null;
        }
    }

    function getContentBase() {
        try {
            const m = (getMeta('fennec-content-base') || '').trim();
            if (m) return m;
        } catch (_) {
            void _;
        }

        try {
            const h = (
                window.location && window.location.hostname ? String(window.location.hostname) : ''
            ).toLowerCase();
            if (h === 'uniscan.cc' || h.endsWith('.uniscan.cc')) return 'https://uniscan.cc/fractal/content/';
        } catch (_) {
            void _;
        }

        try {
            const o =
                window.location && typeof window.location.origin === 'string' ? String(window.location.origin) : '';
            if (!o || o === 'null') return 'https://uniscan.cc/fractal/content/';
            const p = window.location && window.location.pathname ? String(window.location.pathname) : '';
            const host = (
                window.location && window.location.hostname ? String(window.location.hostname) : ''
            ).toLowerCase();
            if (host.indexOf('fractal-static.unisat.') === 0 && p.indexOf('/fractal/content/') !== -1)
                return o + '/content/';
            if (p.indexOf('/fractal/content/') !== -1) return o + '/fractal/content/';
            if (p.indexOf('/content/') !== -1) return o + '/content/';
        } catch (_) {
            void _;
        }

        return '';
    }

    function resolveContentRef(ref) {
        const s = String(ref || '').trim();
        if (!s) return '';
        const baseRaw = getContentBase();
        const base = baseRaw ? baseRaw.replace(/\/+$/, '') : '';

        const absMatch =
            s.match(/^https?:\/\/fractal-static\.unisat\.(?:space|io)\/content\/([^/?#]+)/i) ||
            s.match(/^https?:\/\/fractal-static\.unisat\.(?:space|io)\/fractal\/content\/([^/?#]+)/i);
        if (absMatch) {
            const id = absMatch[1];
            if (base) return `${base}/${id}`;
            return `https://uniscan.cc/fractal/content/${id}`;
        }

        if (s.startsWith('/content/')) {
            const id = s.slice('/content/'.length).split(/[?#/]/)[0];
            if (base && id) return `${base}/${id}`;
            return s;
        }

        if (s.startsWith('/fractal/content/')) {
            const id = s.slice('/fractal/content/'.length).split(/[?#/]/)[0];
            if (base && id) return `${base}/${id}`;
            return s;
        }

        if (s.startsWith('http://') || s.startsWith('https://')) return s;
        if (s.startsWith('/')) return s;
        if (base) return `${base}/${s}`;
        return `/content/${s}`;
    }

    async function fetchJsonWithTimeout(url, timeoutMs) {
        const ms = typeof timeoutMs === 'number' ? timeoutMs : 4500;
        const controller = new AbortController();
        const timer = setTimeout(() => controller.abort(), ms);
        try {
            const res = await fetch(url, { cache: 'no-store', signal: controller.signal });
            if (!res.ok) throw new Error(`fetch failed: ${res.status}`);
            return await res.json();
        } finally {
            clearTimeout(timer);
        }
    }

    function deepMerge(base, patch) {
        if (!patch || typeof patch !== 'object') return base;
        const out = Array.isArray(base) ? [...base] : { ...(base || {}) };
        for (const [k, v] of Object.entries(patch)) {
            if (
                v &&
                typeof v === 'object' &&
                !Array.isArray(v) &&
                base &&
                typeof base[k] === 'object' &&
                !Array.isArray(base[k])
            ) {
                out[k] = deepMerge(base[k], v);
            } else {
                out[k] = v;
            }
        }
        return out;
    }

    function getMeta(name) {
        const el = document.querySelector(`meta[name="${name}"]`);
        return el ? (el.getAttribute('content') || '').trim() : '';
    }

    function getTextFromScriptTag(id) {
        const el = document.getElementById(id);
        if (!el) return '';
        return (el.textContent || '').trim();
    }

    function resolveAssetRef(ref) {
        const v = (ref || '').trim();
        if (!v) return '';
        const baseRaw = getContentBase();
        const base = baseRaw ? baseRaw.replace(/\/+$/, '') : '';

        const tier3VFX = isPreview
            ? `
/* ===== Tier 3 Archetype Overlays (Preview Only) ===== */
.overlay-DRIFTER::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(120deg, transparent 0%, rgba(194, 178, 128, 0.12) 30%, transparent 40%, rgba(218, 165, 32, 0.1) 60%, transparent 70%);
    background-size: 200% 200%;
    animation: sandDrift 8s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}
@keyframes sandDrift {
    0%, 100% { background-position: 0% 50%; opacity: 0.5; }
    50% { background-position: 100% 50%; opacity: 0.8; }
}
.overlay-WALKER::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        radial-gradient(circle at 20% 30%, rgba(255, 218, 185, 0.15) 2px, transparent 2px),
        radial-gradient(circle at 60% 70%, rgba(255, 218, 185, 0.12) 1.5px, transparent 1.5px),
        radial-gradient(circle at 80% 20%, rgba(255, 218, 185, 0.1) 1px, transparent 1px);
    animation: windParticles 6s linear infinite;
    pointer-events: none;
    z-index: 1;
}
@keyframes windParticles {
    0% { transform: translateX(0) translateY(0); opacity: 0.4; }
    100% { transform: translateX(-20px) translateY(10px); opacity: 0.7; }
}
.overlay-MERCHANT::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 80px;
    height: 100%;
    background: linear-gradient(90deg, transparent 0%, rgba(255, 215, 0, 0.35) 50%, transparent 100%);
    animation: goldShine 6s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
    transform: skewX(-20deg);
}
@keyframes goldShine {
    0% { left: -100%; opacity: 0; }
    50% { opacity: 1; }
    100% { left: 100%; opacity: 0; }
}
.overlay-ENGINEER::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 255, 255, 0.05) 2px, rgba(0, 255, 255, 0.05) 4px),
        repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(0, 255, 255, 0.05) 2px, rgba(0, 255, 255, 0.05) 4px);
    animation: circuitPulse 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}
@keyframes circuitPulse {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.6; }
}
.overlay-SHAMAN::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 50%, rgba(138, 43, 226, 0.15) 0%, transparent 50%);
    animation: waterRipple 5s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}
.overlay-SHAMAN::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 50%, rgba(147, 112, 219, 0.1) 0%, transparent 60%);
    animation: waterRipple 5s ease-in-out infinite 0.5s;
    pointer-events: none;
    z-index: 1;
}
@keyframes waterRipple {
    0% { transform: scale(0.8); opacity: 0; }
    50% { opacity: 0.7; }
    100% { transform: scale(1.3); opacity: 0; }
}
.overlay-KEEPER::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at 30% 40%, rgba(186, 85, 211, 0.18) 0%, transparent 40%),
        radial-gradient(circle at 70% 60%, rgba(138, 43, 226, 0.15) 0%, transparent 35%);
    animation: runeGlow 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}
@keyframes runeGlow {
    0%, 100% { opacity: 0.4; filter: hue-rotate(0deg); }
    50% { opacity: 0.7; filter: hue-rotate(15deg); }
}
.overlay-LORD::before {
    content: '';
    position: absolute;
    inset: 0;
    background: conic-gradient(from 0deg at 50% 50%, transparent 0deg, rgba(255, 215, 0, 0.15) 45deg, transparent 90deg, rgba(255, 215, 0, 0.15) 135deg, transparent 180deg, rgba(255, 215, 0, 0.15) 225deg, transparent 270deg, rgba(255, 215, 0, 0.15) 315deg, transparent 360deg);
    animation: sunRotate 12s linear infinite;
    pointer-events: none;
    z-index: 1;
}
@keyframes sunRotate {
    0% { transform: rotate(0deg); opacity: 0.4; }
    50% { opacity: 0.6; }
    100% { transform: rotate(360deg); opacity: 0.4; }
}
.overlay-PRIME::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.25) 2px, transparent 2px),
        radial-gradient(circle at 80% 30%, rgba(138, 43, 226, 0.25) 2px, transparent 2px),
        radial-gradient(circle at 60% 80%, rgba(0, 255, 255, 0.25) 2px, transparent 2px),
        radial-gradient(circle at 30% 70%, rgba(255, 215, 0, 0.25) 2px, transparent 2px);
    animation: starTwinkle 3s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}
@keyframes starTwinkle {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 0.9; }
}
.overlay-SINGULARITY::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 50%, rgba(138, 43, 226, 0.18) 0%, rgba(0, 255, 255, 0.12) 30%, rgba(255, 215, 0, 0.1) 60%, transparent 80%);
    animation: vortexSpin 10s linear infinite;
    pointer-events: none;
    z-index: 1;
}
.overlay-SINGULARITY::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 50%, transparent 30%, rgba(255, 255, 255, 0.12) 40%, transparent 50%);
    animation: cosmicPulse 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 2;
}
@keyframes vortexSpin {
    0% { transform: rotate(0deg) scale(1); opacity: 0.5; }
    50% { opacity: 0.7; }
    100% { transform: rotate(360deg) scale(1.05); opacity: 0.5; }
}
@keyframes cosmicPulse {
    0%, 100% { transform: scale(0.9); opacity: 0.4; }
    50% { transform: scale(1.1); opacity: 0.8; }
}
`
            : '';

        const absMatch =
            v.match(/^https?:\/\/fractal-static\.unisat\.(?:space|io)\/content\/([^/?#]+)/i) ||
            v.match(/^https?:\/\/fractal-static\.unisat\.(?:space|io)\/fractal\/content\/([^/?#]+)/i);
        if (absMatch) {
            const id = absMatch[1];
            if (isPreview) return `../img/${id}`;
            if (base) return `${base}/${id}`;
            return `https://uniscan.cc/fractal/content/${id}`;
        }

        if (v.startsWith('/content/')) {
            const id = v.slice('/content/'.length).split(/[?#/]/)[0];
            if (isPreview) return `../img/${id}`;
            if (base && id) return `${base}/${id}`;
            return v;
        }

        if (v.startsWith('/fractal/content/')) {
            const id = v.slice('/fractal/content/'.length).split(/[?#/]/)[0];
            if (isPreview) return `../img/${id}`;
            if (base && id) return `${base}/${id}`;
            return v;
        }

        if (v.startsWith('http://') || v.startsWith('https://') || v.startsWith('data:')) return v;
        if (isPreview && v.startsWith('/img/')) return `..${v}`;
        if (v.startsWith('/') || v.startsWith('./') || v.startsWith('../') || v.includes('/')) return v;
        if (isPreview) return `../img/${v}`;
        if (base) return `${base}/${v}`;
        return `https://ordinals.com/content/${v}`;
    }

    function getDna() {
        const raw = getTextFromScriptTag('dna-data') || getTextFromScriptTag('user-data');
        const dna = safeJsonParse(raw);
        return dna && typeof dna === 'object' ? dna : {};
    }

    async function loadConfig() {
        const inline = safeJsonParse(getTextFromScriptTag('fennec-config-inline'));
        if (inline && typeof inline === 'object') return deepMerge(DEFAULT_CONFIG, inline);

        let configId = (getMeta('fennec-config') || '').trim();
        const manifestId = (getMeta('fennec-manifest') || '').trim();
        const isFramed = (() => {
            try {
                return window.self !== window.top || window.self !== window.parent;
            } catch (_) {
                return true;
            }
        })();
        const isContent = (() => {
            try {
                return !!(window.location && String(window.location.pathname || '').indexOf('/content/') === 0);
            } catch (_) {
                return false;
            }
        })();
        const allowManifestFetch = !isFramed && !isContent;

        if (allowManifestFetch && manifestId && manifestId !== 'inline') {
            try {
                const m = await fetchJsonWithTimeout(resolveContentRef(manifestId), 4500);
                const latest = m.latest && typeof m.latest === 'object' ? m.latest : m;
                const cfg =
                    latest.config ||
                    latest.configId ||
                    latest.configuration ||
                    latest.configurationId ||
                    latest.fennecConfig ||
                    '';
                if (typeof cfg === 'string' && cfg.trim()) configId = cfg.trim();
            } catch (_) {
                /* fallback */
            }
        }

        if (!configId) return DEFAULT_CONFIG;

        try {
            const oracleEndpoint = (getMeta('fennec-oracle-endpoint') || '').trim();
            const isInscriptionId = /^[a-f0-9]{64}i\d+$/i.test(String(configId || '').trim());
            const oracleUrl =
                oracleEndpoint && isInscriptionId
                    ? `${oracleEndpoint}${oracleEndpoint.indexOf('?') === -1 ? '?' : '&'}action=inscription_content&raw=1&inscriptionId=${encodeURIComponent(String(configId || '').trim())}`
                    : '';

            const res = await fetch(oracleUrl || resolveContentRef(configId), { cache: 'force-cache' });
            if (!res.ok) throw new Error(`config fetch failed: ${res.status}`);
            const json = await res.json();
            const merged = deepMerge(DEFAULT_CONFIG, json);
            const metaEndpoint = (getMeta('fennec-oracle-endpoint') || '').trim();
            const metaAction = (getMeta('fennec-oracle-action') || '').trim();
            if (metaEndpoint) {
                merged.oracle = merged.oracle && typeof merged.oracle === 'object' ? merged.oracle : {};
                merged.oracle.enabled = true;
                merged.oracle.endpoint = metaEndpoint;
                if (metaAction) merged.oracle.action = metaAction;
            }
            if (merged.oracle && typeof merged.oracle === 'object' && merged.oracle.enabled) {
                if (!('refreshMs' in merged.oracle)) merged.oracle.refreshMs = 0;
            }
            return merged;
        } catch (_) {
            return DEFAULT_CONFIG;
        }
    }

    function injectStyles() {
        if (document.getElementById('fennec-lib-style-v2')) return;

        try {
            const meta = document.querySelector('meta[name="fennec-embed"]');
            const isEmbed = meta && String(meta.getAttribute('content') || '').trim() === '1';
            if (isEmbed) {
                document.documentElement.setAttribute('data-fennec-embed', '1');
                if (document.body) document.body.setAttribute('data-fennec-embed', '1');
            }
        } catch (_) {
            void _;
        }

        try {
            const isFramed = (() => {
                try {
                    return window.self !== window.top || window.self !== window.parent;
                } catch (_) {
                    return true;
                }
            })();
            if (isFramed) {
                document.documentElement.setAttribute('data-fennec-embed', '1');
                if (document.body) document.body.setAttribute('data-fennec-embed', '1');
            }
        } catch (_) {
            void _;
        }

        try {
            const isContent = !!(window.location && String(window.location.pathname || '').indexOf('/content/') === 0);
            if (isContent) {
                document.documentElement.setAttribute('data-fennec-content', '1');
                if (document.body) document.body.setAttribute('data-fennec-content', '1');
            }
        } catch (_) {
            void _;
        }

        const style = document.createElement('style');
        style.id = 'fennec-lib-style-v2';
        style.textContent = `
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap');

:root {
    --background: 20 10% 4%;
    --foreground: 0 0% 95%;
    --card: 20 8% 8%;
    --card-foreground: 0 0% 95%;
    --primary: 18 100% 60%;
    --primary-foreground: 20 10% 4%;
    --secondary: 20 6% 12%;
    --secondary-foreground: 0 0% 85%;
    --muted: 20 6% 15%;
    --muted-foreground: 0 0% 55%;
    --accent: 270 91% 65%;
    --accent-foreground: 0 0% 98%;
    --border: 20 10% 18%;
    --radius: 0.75rem;

    --fennec-orange: 18 100% 60%;
    --fennec-glow: 18 100% 70%;
    --obsidian: 20 10% 6%;
    --obsidian-light: 20 8% 12%;
    --holo-purple: 270 91% 65%;
    --holo-cyan: 187 94% 43%;
    --holo-blue: 217 91% 60%;
    --glass-white: 0 0% 100%;
    --laser-edge: 18 100% 55%;

    --card-accent: var(--fennec-orange);
    --card-accent2: var(--holo-purple);

    --gradient-obsidian: linear-gradient(145deg, hsl(20 10% 8%) 0%, hsl(20 15% 4%) 50%, hsl(0 0% 2%) 100%);

    --font-display: 'Space Grotesk', system-ui, sans-serif;
    --font-tactical: 'JetBrains Mono', monospace;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html, body {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: transparent !important;
}

[data-fennec-embed] html, [data-fennec-embed] body {
    background: transparent !important;
}

body {
    color: hsl(var(--foreground));
    font-family: var(--font-display);
    -webkit-font-smoothing: antialiased;
}

     #fennec-root {
         width: 100%;
         height: 100%;
         display: flex;
         align-items: center;
         justify-content: center;
         padding: 0;
         margin: 0;
         overflow: visible !important;
         background: transparent !important;
     }

     .card-scene {
        perspective: 1200px;
        width: min(420px, 100vw, calc(100vh * 336 / 490));
        height: calc(min(420px, 100vw, calc(100vh * 336 / 490)) * 490 / 336);
        position: relative;
        margin: 0;
        padding: 0;
        overflow: visible !important;
    }

    @media (max-width: 480px) {
         .card-scene {
             width: min(336px, 100vw, calc(100vh * 336 / 490));
             height: calc(min(336px, 100vw, calc(100vh * 336 / 490)) * 490 / 336);
             padding: 0;
         }
     }

    .card-object {
        width: 100%;
        height: 100%;
        position: relative;
        transform-style: preserve-3d;
        cursor: pointer;
        border-radius: 32px;
        box-shadow: none;
        will-change: transform;
        overflow: visible !important;
        --card-glow-hsl: var(--card-accent);
        --title-accent: var(--card-accent);
        --title-accent2: var(--card-accent2);
        --tiltX: 0deg;
        --tiltY: 0deg;
        --flipY: 0deg;
        transition: transform 0ms linear;
        transform: rotateX(var(--tiltX)) rotateY(calc(var(--tiltY) + var(--flipY)));
    }

    .card-scene.is-flipping .card-object {
        transition: transform 720ms cubic-bezier(0.2, 0.9, 0.2, 1);
    }

    .card-scene.is-flipped .card-object {
        --flipY: 180deg;
    }

    .card-face {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        border-radius: 32px;
        overflow: hidden;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        transform-style: preserve-3d;
        z-index: 1;
        isolation: isolate;
    }

    .face-front {
        transform: rotateY(0deg);
        z-index: 2;
        display: flex;
        flex-direction: column;
    }

    .face-front > img {
        filter: none !important;
        transform: none !important;
        animation: none !important;
        border-radius: 0 !important;
    }

    .face-back {
        transform: rotateY(180deg);
        z-index: 1;
        display: flex;
        flex-direction: column;
        min-height: 0;
    }

    .face-back #card-back-scroll {
        flex: 1 1 auto;
        min-height: 0;
        padding: 4px 8px 24px 8px;
    }

    .face-back #card-back-content {
        height: 100%;
        overflow-y: auto;
        overflow-x: hidden;
        padding: 0;
        padding-right: 0px;
        padding-left: var(--fid-scrollbar-pad, 0px);
        border-radius: 0;
        border: none;
        background: transparent;
        scrollbar-gutter: stable;
    }

    @keyframes card-glow-beat {
        0% {
            box-shadow:
                0 20px 50px -12px rgba(0, 0, 0, 0.8),
                0 0 0 1px hsl(var(--card-glow-hsl) / 0.22),
                0 0 34px hsl(var(--card-glow-hsl) / 0.16),
                0 0 68px hsl(var(--card-glow-hsl) / 0.10);
        }
        15% {
            box-shadow:
                0 30px 70px -10px rgba(0, 0, 0, 0.92),
                0 0 0 1px hsl(var(--card-glow-hsl) / 0.60),
                0 0 95px hsl(var(--card-glow-hsl) / 0.48),
                0 0 160px hsl(var(--card-glow-hsl) / 0.34);
        }
        100% {
            box-shadow:
                0 20px 50px -12px rgba(0, 0, 0, 0.8),
                0 0 0 1px hsl(var(--card-glow-hsl) / 0.22),
                0 0 34px hsl(var(--card-glow-hsl) / 0.16),
                0 0 68px hsl(var(--card-glow-hsl) / 0.10);
        }
    }

    .heartbeat-sync {
        animation: none;
    }

    .card-object::after {
        content: '';
        position: absolute;
        inset: 0;
        display: none;
    }

    .card-object.card-heart::after {
        content: '';
        position: absolute;
        inset: -28px;
        border-radius: 60px;
        pointer-events: none;
        z-index: -1;
        opacity: 0;
        background: none;
        filter: none;
        display: none;
    }

    .card-object::before {
        content: '';
        position: absolute;
        inset: -2px;
        border-radius: calc(32px + 2px);
        padding: 2px;
        box-sizing: border-box;
        background: var(
            --fennec-border-bg,
            linear-gradient(135deg, hsl(var(--card-accent)), hsl(var(--card-accent2)), hsl(var(--card-accent)))
        );
        background-size: var(--fennec-border-size, 300% 300%);
        background-position: 0% 50%;
        background-repeat: no-repeat;
        animation:
            borderFlow var(--border-flow-dur, 32s) ease-in-out infinite,
            borderPulse var(--border-pulse-dur, 9s) ease-in-out infinite;
        pointer-events: none;
        z-index: 60;
        opacity: 1;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        mask-composite: exclude;
        box-shadow:
            inset 0 0 24px hsl(var(--card-accent) / 0.16),
            0 0 22px hsl(var(--card-accent) / 0.22),
            0 4px 16px hsl(var(--card-accent) / 0.12);
        filter: brightness(1.08) saturate(1.10);
        display: none;
    }

    .card-outer-border {
        position: absolute;
        inset: -2px;
        border-radius: calc(32px + 2px);
        padding: 2px;
        box-sizing: border-box;
        pointer-events: none;
        z-index: 50;
        opacity: 1;
        backface-visibility: visible;
        -webkit-backface-visibility: visible;
        border: 2px solid transparent;
        -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        mask-composite: exclude;
        will-change: background, filter;
    }

    .card-border-glow {
        position: absolute;
        inset: -2px;
        border-radius: calc(32px + 2px);
        pointer-events: none;
        z-index: 49;
        opacity: 0.96;
        backface-visibility: visible;
        -webkit-backface-visibility: visible;
        transform-style: preserve-3d;
        will-change: box-shadow, filter;
    }

    .soul-divider-enhanced {
        height: 2px;
        background: linear-gradient(
            90deg,
            hsl(var(--card-accent) / 0.10) 0%,
            hsl(var(--card-accent) / 0.35) 18%,
            hsl(var(--card-accent2) / 0.95) 50%,
            hsl(var(--card-accent) / 0.35) 82%,
            hsl(var(--card-accent) / 0.10) 100%
        );
        box-shadow: none;
        border-radius: 999px;
        -webkit-mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        clip-path: polygon(0 50%, 3% 0, 97% 0, 100% 50%, 97% 100%, 3% 100%);
    }

    @property --border-angle {
        syntax: '<angle>';
        inherits: false;
        initial-value: 0deg;
    }

    @property --scout-angle {
        syntax: '<angle>';
        initial-value: 0deg;
        inherits: false;
    }

    @property --hunter-angle {
        syntax: '<angle>';
        initial-value: 0deg;
        inherits: false;
    }

    @property --spirit-angle {
        syntax: '<angle>';
        initial-value: 0deg;
        inherits: false;
    }

    @property --alpha-angle {
        syntax: '<angle>';
        inherits: false;
        initial-value: 0deg;
    }

    .card-object[data-rarity='cub'] > .card-outer-border {
        background: linear-gradient(135deg, #3a3a3a, #5a5a5a, #6a6a6a, #5a5a5a, #3a3a3a);
        animation: none;
        filter: blur(0px);
        inset: -2px;
        padding: 2px;
        box-shadow: 0 0 15px rgba(90, 90, 90, 0.5);
        background-origin: border-box;
    }

    .card-object[data-rarity='cub'] > .card-border-glow {
        display: none;
        animation: none;
        box-shadow: none;
        filter: none;
    }

    @keyframes steelSheen {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
    }

    .card-object[data-rarity='scout'] > .card-outer-border {
        background: conic-gradient(
            from var(--scout-angle),
            rgba(34, 197, 94, 0.6) 0%,
            rgba(34, 197, 94, 0.6) 70%,
            rgba(34, 197, 94, 1) 85%,
            #22c55e 100%
        );
        animation: scoutBeam 4s linear infinite;
        filter: blur(0px);
        inset: -2px;
        padding: 2px;
        box-shadow: 0 0 15px rgba(34, 197, 94, 0.5), inset 0 0 10px rgba(34, 197, 94, 0.3);
        background-origin: border-box;
    }

    .card-object[data-rarity='scout'] > .card-border-glow {
        display: none;
        animation: none;
        box-shadow: none;
        filter: none;
    }

    @keyframes scoutBeam {
        0% { --scout-angle: 0deg; }
        100% { --scout-angle: 360deg; }
    }


    @keyframes borderAngleSpin {
        0% { --border-angle: 0deg; }
        100% { --border-angle: 360deg; }
    }

    @keyframes bioNeonPulse {
        0%, 100% {
            background-position: 0% 50%;
            filter: brightness(1.18) saturate(1.22);
            box-shadow:
                inset 0 0 18px rgba(57, 255, 20, 0.18),
                0 0 24px rgba(57, 255, 20, 0.32),
                0 4px 16px rgba(5, 150, 105, 0.26);
        }
        50% {
            background-position: 100% 50%;
            filter: brightness(1.32) saturate(1.38);
            box-shadow:
                inset 0 0 26px rgba(57, 255, 20, 0.30),
                0 0 36px rgba(57, 255, 20, 0.48),
                0 4px 20px rgba(5, 150, 105, 0.38);
        }
    }

    .card-object[data-rarity='hunter'] > .card-outer-border {
        background: conic-gradient(
            from var(--hunter-angle),
            rgba(14, 165, 233, 0.6) 0%,
            rgba(14, 165, 233, 0.6) 70%,
            rgba(14, 165, 233, 1) 85%,
            #0ea5e9 100%
        );
        animation: hunterBeam 4s linear infinite;
        filter: blur(0px);
        inset: -2px;
        padding: 2px;
        box-shadow: 0 0 15px rgba(14, 165, 233, 0.5), inset 0 0 10px rgba(14, 165, 233, 0.3);
        background-origin: border-box;
    }

    .card-object[data-rarity='hunter'] > .card-border-glow {
        display: none;
        animation: none;
        box-shadow: none;
        filter: none;
    }

    @keyframes hunterBeam {
        0% { --hunter-angle: 0deg; }
        100% { --hunter-angle: 360deg; }
    }

    .card-object[data-rarity='alpha'] > .card-outer-border {
        background: conic-gradient(
            from var(--alpha-angle),
            #ffeda0 0deg,
            #ff4500 90deg,
            #8b0000 180deg,
            #ff4500 270deg,
            #ffeda0 360deg
        );
        animation: alphaLavaSpin 8s linear infinite;
        filter: blur(0px);
        inset: -2px;
        padding: 2px;
        box-shadow:
            0 0 2px #ff6347,
            0 0 5px rgba(255, 69, 0, 0.9),
            0 0 10px rgba(139, 0, 0, 0.6);
        background-origin: border-box;
    }

    .card-object[data-rarity='alpha'] > .card-border-glow {
        animation: alphaMagmaBreathing 3s ease-in-out infinite;
        inset: -2px;
    }

    @keyframes alphaLavaSpin {
        0% { --alpha-angle: 0deg; }
        100% { --alpha-angle: 360deg; }
    }

    @keyframes alphaMagmaBreathing {
        0%, 100% {
            opacity: 0.8;
            box-shadow:
                0 0 2px #ff6347,
                0 0 5px rgba(255, 69, 0, 0.9),
                0 0 10px rgba(139, 0, 0, 0.6);
            filter: blur(0.5px);
        }
        50% {
            opacity: 1;
            box-shadow:
                0 0 3px #ff4500,
                0 0 6px rgba(255, 69, 0, 1),
                0 0 10px rgba(139, 0, 0, 0.75);
            filter: blur(0.5px);
        }
    }

    .card-object[data-rarity='elder'] > .card-outer-border {
        background: linear-gradient(135deg, #a47e1b 0%, #f9d976 25%, #ffffff 50%, #f9d976 75%, #a47e1b 100%);
        background-size: 200% 200%;
        animation: goldShimmer 5s ease-in-out infinite;
        filter: blur(0px);
        inset: -2px;
        padding: 2px;
        box-shadow: 0 0 30px rgba(255, 215, 0, 0.7);
        background-origin: border-box;
    }

    .card-object[data-rarity='elder'] > .card-border-glow {
        animation: elderHaloBreathing 3s ease-in-out infinite;
        inset: -2px;
    }

    @keyframes goldShimmer {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
    }

    @keyframes elderHaloBreathing {
        0%, 100% {
            opacity: 0.8;
            box-shadow:
                0 0 2px #ffeaa7,
                0 0 5px rgba(212, 175, 55, 0.9),
                0 0 10px rgba(184, 134, 11, 0.6);
            filter: blur(0.5px);
        }
        50% {
            opacity: 1;
            box-shadow:
                0 0 3px #ffffff,
                0 0 6px rgba(255, 215, 0, 1),
                0 0 10px rgba(184, 134, 11, 0.75);
            filter: blur(0.5px);
        }
    }



    @keyframes borderFlow {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    @keyframes borderPulse {
        0%, 100% { filter: brightness(1.12) saturate(1.16); opacity: 0.98; }
        50% { filter: brightness(1.24) saturate(1.28); opacity: 1; }
    }

    .card-object[data-tier='0']::before { --border-flow-dur: 54s; --border-pulse-dur: 14s; }
    .card-object[data-tier='1']::before { --border-flow-dur: 46s; --border-pulse-dur: 12s; }
    .card-object[data-tier='2']::before { --border-flow-dur: 34s; --border-pulse-dur: 10s; }
    .card-object[data-tier='3']::before { --border-flow-dur: 24s; --border-pulse-dur: 8s; }

    @property --spirit-shift {
        syntax: '<percentage>';
        inherits: true;
        initial-value: 0%;
    }

    @property --prism-angle {
        syntax: '<angle>';
        inherits: true;
        initial-value: 0deg;
    }

    @keyframes spiritSweep {
        0% {
            --spirit-shift: -100%;
        }
        100% {
            --spirit-shift: 200%;
        }
    }

    @keyframes spiritBorderSweep {
        0% {
            background-position: -100% 0;
        }
        100% {
            background-position: 200% 0;
        }
    }

    .card-object[data-rarity='spirit'] {
        --spirit-shift: 0%;
        --spirit-rainbow: linear-gradient(
            90deg,
            #ff0000 0%,
            #ff7f00 14%,
            #ffff00 28%,
            #00ff00 42%,
            #00ffff 57%,
            #0000ff 71%,
            #8b00ff 85%,
            #ff0000 100%
        );
    }

    .card-object[data-rarity='spirit']:not(.heartbeat-sync) {
        animation: spiritSweep 12s linear infinite;
    }

    .card-object[data-rarity='spirit'].heartbeat-sync {
        animation: spiritSweep 12s linear infinite;
    }

    .card-object[data-rarity='spirit'] > .card-outer-border {
        background: conic-gradient(
            from var(--spirit-angle),
            #ff0000 0deg,
            #ff7f00 51deg,
            #ffff00 102deg,
            #00ff00 153deg,
            #00ffff 204deg,
            #0000ff 255deg,
            #8b00ff 306deg,
            #ff0000 360deg
        );
        animation: spiritSpinGradient 6s linear infinite;
        filter: blur(0px);
        inset: -2px;
        padding: 2px;
        box-shadow:
            0 0 2px #da70d6,
            0 0 5px rgba(138, 43, 226, 0.9),
            0 0 10px rgba(75, 0, 130, 0.6);
        background-origin: border-box;
    }

    .card-object[data-rarity='spirit'] > .card-border-glow {
        animation: spiritRainbowBreathing 3s ease-in-out infinite;
        inset: -2px;
    }

    @keyframes spiritSpinGradient {
        0% { --spirit-angle: 0deg; }
        100% { --spirit-angle: 360deg; }
    }

    @keyframes spiritRainbowBreathing {
        0%, 100% {
            opacity: 0.8;
            box-shadow:
                0 0 2px #da70d6,
                0 0 5px rgba(138, 43, 226, 0.9),
                0 0 10px rgba(75, 0, 130, 0.6);
            filter: blur(0.5px);
        }
        50% {
            opacity: 1;
            box-shadow:
                0 0 3px #ffffff,
                0 0 6px rgba(138, 43, 226, 1),
                0 0 10px rgba(75, 0, 130, 0.75);
            filter: blur(0.5px);
        }
    }

    @keyframes premiumBorderFlash {
        0%, 100% {
            filter: blur(var(--border-soft-blur, 1.2px)) brightness(1.06) saturate(1.08);
        }
        50% {
            filter: blur(calc(var(--border-soft-blur, 1.2px) + 0.4px)) brightness(1.22) saturate(1.20);
        }
    }

    @keyframes soulDividerBeat {
        0%, 8%, 100% {
            opacity: 0.38;
            box-shadow: none;
        }
        10% {
            opacity: 1;
            box-shadow: none;
        }
        14% {
            opacity: 0.52;
            box-shadow: none;
        }
        20% {
            opacity: 0.38;
            box-shadow: none;
        }
        30% {
            opacity: 0.88;
            box-shadow: none;
        }
        34% {
            opacity: 0.48;
            box-shadow: none;
        }
        45% {
            opacity: 0.38;
            box-shadow: none;
        }
    }

    @keyframes spiritPrismSpin {
        0% { --prism-angle: 0deg; }
        100% { --prism-angle: 360deg; }
    }

    .soul-divider {
        transition: all 0.3s ease;
        background: linear-gradient(
            90deg,
            hsl(var(--card-accent) / 0.08) 0%,
            hsl(var(--card-accent) / 0.18) 20%,
            hsl(var(--card-accent2) / 0.55) 50%,
            hsl(var(--card-accent) / 0.18) 80%,
            hsl(var(--card-accent) / 0.08) 100%
        );
        box-shadow: none;
        border-radius: 999px;
        -webkit-mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        clip-path: polygon(0 50%, 3% 0, 97% 0, 100% 50%, 97% 100%, 3% 100%);
    }

    .soul-divider-pulse {
        background: linear-gradient(
            90deg,
            hsl(var(--card-accent) / 0.10) 0%,
            hsl(var(--card-accent) / 0.35) 18%,
            hsl(var(--card-accent2) / 0.95) 50%,
            hsl(var(--card-accent) / 0.35) 82%,
            hsl(var(--card-accent) / 0.10) 100%
        );
        box-shadow: none;
        animation: soulDividerBeat 1.8s ease-in-out infinite;
        -webkit-mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        clip-path: polygon(0 50%, 3% 0, 97% 0, 100% 50%, 97% 100%, 3% 100%);
    }

    .card-object[data-rarity='spirit'] .soul-divider,
    .card-object[data-rarity='spirit'] .soul-divider-enhanced,
    .card-object[data-rarity='spirit'] .soul-divider-pulse {
        background: var(--spirit-rainbow);
        background-size: 300% 100%;
        background-position: var(--spirit-shift) 50%;
        -webkit-mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        animation: borderPulse 8s ease-in-out infinite;
        box-shadow: none;
        clip-path: polygon(0 50%, 3% 0, 97% 0, 100% 50%, 97% 100%, 3% 100%);
    }

    .card-object[data-tier='0'] { --tier-shine-opacity: 0; --tier-shine-dur: 999s; }
    .card-object[data-tier='1'] { --tier-shine-opacity: 0.28; --tier-shine-dur: 12s; }
    .card-object[data-tier='2'] { --tier-shine-opacity: 0.40; --tier-shine-dur: 9s; }
    .card-object[data-tier='3'] { --tier-shine-opacity: 0.52; --tier-shine-dur: 7.5s; }

    .card-object[data-rarity='cub'] { --tier-shine-rgb: 190, 190, 200; --card-accent: 0 0% 55%; --card-accent2: 0 0% 78%; }
    .card-object[data-rarity='scout'] { --tier-shine-rgb: 100, 240, 140; --card-accent: 142 70% 45%; --card-accent2: 142 70% 58%; }
    .card-object[data-rarity='hunter'] { --tier-shine-rgb: 30, 240, 255; --card-accent: 199 90% 52%; --card-accent2: 185 95% 58%; }
    .card-object[data-rarity='alpha'] { --tier-shine-rgb: 255, 90, 90; --card-accent: 0 84% 62%; --card-accent2: 42 100% 60%; }
    .card-object[data-rarity='elder'] { --tier-shine-rgb: 212, 175, 55; --card-accent: 45 92% 55%; --card-accent2: 48 100% 85%; }
    .card-object[data-rarity='spirit'] { --tier-shine-rgb: 255, 255, 255; --card-accent: 0 0% 100%; --card-accent2: 280 100% 70%; }

.card-object[data-tier='0'] .face-front {
}

.card-object[data-tier='0'] .holo-sheen::after {
    opacity: 0;
}

.card-object[data-tier='1'] .face-front {
    animation: none;
}

@keyframes holoSheenDrift {
    0% { background-position: 0% 50%; }
    100% { background-position: 200% 50%; }
}

.card-object[data-tier='2'] .holo-sheen::after,
.card-object[data-tier='3'] .holo-sheen::after {
    background-size: 250% 250%;
}

@keyframes tier3TitleShimmer {
    0% { background-position: 0% 50%; }
    100% { background-position: 220% 50%; }
}

@keyframes tier3Sweep {
    0% { background-position: 0% 50%; }
    100% { background-position: 400% 50%; }
}

.tier3-title {
    background: linear-gradient(90deg,
        hsl(var(--title-accent)) 0%,
        hsl(var(--title-accent2)) 25%,
        hsl(var(--title-accent)) 50%,
        hsl(var(--title-accent2)) 75%,
        hsl(var(--title-accent)) 100%
    );
    background-size: 400% 100%;
    animation: tier3Sweep 36s linear infinite;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;
}

.archetype-title {
    color: rgba(255, 255, 255, 0.96);
}

.card-object[data-tier='0'] .archetype-title {
    color: rgba(255, 255, 255, 0.92);
    text-shadow: 0 0 28px hsl(var(--title-accent) / 0.25), 0 10px 30px rgba(0, 0, 0, 0.82);
}

.card-object[data-tier='1'] .archetype-title {
    color: rgba(255, 255, 255, 0.98);
    text-shadow: 0 0 40px hsl(var(--title-accent) / 0.55), 0 10px 30px rgba(0, 0, 0, 0.82);
}

.card-object[data-tier='2'] .archetype-title {
    background: linear-gradient(
        90deg,
        rgba(255, 255, 255, 0.98) 0%,
        hsl(var(--title-accent)) 55%,
        hsl(var(--title-accent2)) 100%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;
    filter: drop-shadow(0 0 10px hsl(var(--title-accent) / 0.30)) drop-shadow(0 10px 30px rgba(0, 0, 0, 0.82));
}

.archetype-overlay {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 11;
    opacity: 0;
}

.card-object[data-tier='1'] .archetype-overlay { opacity: 0.18; }
.card-object[data-tier='2'] .archetype-overlay { opacity: 0.30; }
.card-object[data-tier='3'] .archetype-overlay { opacity: 0.52; }

.archetype-overlay[class*='overlay-'] {
    border-radius: 32px;
    overflow: hidden;
}

@keyframes imgTierBreathe {
    0% { transform: scale(1); }
    100% { transform: scale(1.004); }
}

.anim-tier-1 {
    animation: imgTierBreathe 18s ease-in-out infinite alternate;
}

.img-tier-0 {
    transform: scale(1);
}

@keyframes imgTierHeatLow {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-tier-2-heat {
    animation: imgTierHeatLow 10s ease-in-out infinite alternate;
}

@keyframes imgTierShineLow {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-tier-2-shine {
    animation: imgTierShineLow 8s ease-in-out infinite alternate;
}

@keyframes imgTierGlitchLow {
    0%, 92% { transform: translate3d(0,0,0); }
    93% { transform: translate3d(1px,0,0); }
    94% { transform: translate3d(-1px,0,0); }
    100% { transform: translate3d(0,0,0); }
}

.anim-tier-2-glitch {
    animation: imgTierGlitchLow 6s linear infinite;
}

@keyframes imgTierMagicLow {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-tier-2-magic {
    animation: imgTierMagicLow 8s ease-in-out infinite alternate;
}

@keyframes imgTierTimeFlow {
    0% { transform: scale(1) skewX(0deg); }
    50% { transform: scale(1.006) skewX(-0.6deg); }
    100% { transform: scale(1) skewX(0deg); }
}

.anim-tier-2-time {
    animation: imgTierTimeFlow 10.4s ease-in-out infinite;
}

@keyframes imgTierRunes {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-tier-2-runes {
    animation: imgTierRunes 9.2s ease-in-out infinite alternate;
}

@keyframes imgTierSmoke {
    0% { transform: translate3d(0,0,0) scale(1); }
    50% { transform: translate3d(-1px,0,0) scale(1.005); }
    100% { transform: translate3d(0,0,0) scale(1); }
}

.anim-tier-2-smoke {
    animation: imgTierSmoke 11.2s ease-in-out infinite;
}

@keyframes imgTierCrownTide {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-tier-2-crown {
    animation: imgTierCrownTide 8.4s ease-in-out infinite alternate;
}

@keyframes imgTierRadiance {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-tier-2-radiance {
    animation: imgTierRadiance 7.6s ease-in-out infinite alternate;
}

@keyframes imgTierDeepChaos {
    0% { transform: scale(1); }
    50% { transform: scale(1.006); }
    100% { transform: scale(1); }
}

.anim-tier-2-chaos {
    animation: imgTierDeepChaos 13.6s linear infinite;
}

@keyframes drifterHeat {
    0% { transform: translate3d(0, 0, 0); }
    50% { transform: translate3d(-1px, 0, 0); }
    100% { transform: translate3d(0, 0, 0); }
}

.anim-DRIFTER { animation: drifterHeat 16s ease-in-out infinite; }

@keyframes merchantShine {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.005); }
}

.anim-MERCHANT { animation: merchantShine 10s ease-in-out infinite; }

@keyframes engineerGlitch {
    0%, 92% { transform: translate3d(0,0,0); }
    94% { transform: translate3d(2px,0,0); }
    96% { transform: translate3d(-2px,0,0); }
    100% { transform: translate3d(0,0,0); }
}

.anim-ENGINEER { animation: engineerGlitch 8s linear infinite; }

@keyframes shamanPulse {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-SHAMAN { animation: shamanPulse 12s ease-in-out infinite alternate; }

@keyframes keeperEternal {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-KEEPER { animation: keeperEternal 16s ease-in-out infinite alternate; }

@keyframes walkerShift {
    0%, 100% { transform: translate3d(0,0,0); }
    50% { transform: translate3d(0,-1px,0); }
}

.anim-WALKER { animation: walkerShift 12s ease-in-out infinite; }

@keyframes lordTide {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-LORD { animation: lordTide 18s ease-in-out infinite alternate; }

@keyframes primeRadiance {
    0% { transform: scale(1); }
    100% { transform: scale(1.006); }
}

.anim-PRIME { animation: primeRadiance 10s ease-in-out infinite alternate; }

@keyframes singularityChaos {
    0% { transform: scale(1); }
    50% { transform: scale(1.006); }
    100% { transform: scale(1); }
}

.anim-SINGULARITY { animation: singularityChaos 20s linear infinite; }

.overlay-DRIFTER,
.overlay-WALKER,
.overlay-MERCHANT,
.overlay-ENGINEER,
.overlay-SHAMAN,
.overlay-KEEPER,
.overlay-LORD,
.overlay-PRIME,
.overlay-SINGULARITY {
    position: absolute;
    inset: 0;
    pointer-events: none;
    border-radius: 32px;
}

.overlay-DRIFTER::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(ellipse at 50% 20%, rgba(255, 160, 0, 0.12) 0%, transparent 55%),
        linear-gradient(120deg, transparent 0%, rgba(255, 200, 120, 0.12) 30%, transparent 45%, rgba(255, 160, 0, 0.10) 60%, transparent 75%);
    background-size: 100% 100%, 220% 220%;
    animation: sandDrift 14.4s ease-in-out infinite;
    mix-blend-mode: overlay;
}

.overlay-DRIFTER::after {
    content: '';
    position: absolute;
    inset: -10%;
    background-image:
        radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.12) 1px, transparent 1px),
        radial-gradient(circle at 70% 60%, rgba(255, 255, 255, 0.10) 1px, transparent 1px),
        radial-gradient(circle at 40% 80%, rgba(255, 255, 255, 0.08) 1px, transparent 1px);
    background-size: 160px 160px;
    animation: sandParticles 11.6s linear infinite;
    opacity: 0.45;
    mix-blend-mode: screen;
    filter: blur(0.2px);
}

@keyframes sandDrift {
    0%, 100% { background-position: 0% 50%; opacity: 0.5; }
    50% { background-position: 100% 50%; opacity: 0.8; }
}

@keyframes sandParticles {
    0% { transform: translate3d(0, 0, 0) rotate(0deg); }
    100% { transform: translate3d(-22px, 14px, 0) rotate(2deg); }
}

.overlay-WALKER::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(ellipse at 50% 50%, rgba(0, 229, 255, 0.16) 0%, transparent 60%),
        radial-gradient(ellipse at 20% 30%, rgba(138, 43, 226, 0.10) 0%, transparent 62%),
        linear-gradient(135deg, rgba(0, 229, 255, 0.10), transparent 62%);
    background-size: 140% 140%, 160% 160%, 220% 220%;
    animation: timeFlow 12.4s ease-in-out infinite;
    mix-blend-mode: screen;
}

.overlay-WALKER::after {
    content: '';
    position: absolute;
    inset: -30%;
    background:
        conic-gradient(from 0deg at 50% 50%, transparent 0deg, rgba(138, 43, 226, 0.14) 90deg, transparent 180deg, rgba(0, 229, 255, 0.12) 270deg, transparent 360deg);
    animation: timeWheel 22s linear infinite;
    mix-blend-mode: overlay;
    filter: blur(1.2px);
    opacity: 0.35;
}

@keyframes timeFlow {
    0%, 100% { transform: translate3d(0, 0, 0); opacity: 0.45; }
    50% { transform: translate3d(-18px, 6px, 0); opacity: 0.75; }
}

@keyframes timeWheel {
    0% { transform: rotate(0deg) scale(1); }
    100% { transform: rotate(360deg) scale(1.02); }
}

.overlay-MERCHANT::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 80px;
    height: 100%;
    background: linear-gradient(90deg, transparent 0%, rgba(255, 215, 0, 0.40) 50%, transparent 100%);
    animation: goldShine 11.2s ease-in-out infinite;
    transform: skewX(-20deg);
    mix-blend-mode: screen;
}

.overlay-MERCHANT::after {
    content: '';
    position: absolute;
    inset: -12%;
    background-image:
        radial-gradient(circle at 25% 25%, rgba(255, 215, 0, 0.25) 1px, transparent 1px),
        radial-gradient(circle at 70% 40%, rgba(255, 255, 255, 0.18) 1px, transparent 1px),
        radial-gradient(circle at 55% 75%, rgba(255, 215, 0, 0.20) 1px, transparent 1px);
    background-size: 140px 140px;
    animation: merchantSparks 8.4s linear infinite;
    opacity: 0.65;
    mix-blend-mode: screen;
}

@keyframes goldShine {
    0% { left: -100%; opacity: 0; }
    50% { opacity: 1; }
    100% { left: 100%; opacity: 0; }
}

@keyframes merchantSparks {
    0% { transform: translate3d(0, 0, 0) rotate(0deg); }
    100% { transform: translate3d(-18px, 12px, 0) rotate(6deg); }
}

.overlay-ENGINEER::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 255, 170, 0.08) 2px, rgba(0, 255, 170, 0.08) 4px),
        repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255, 0, 80, 0.07) 2px, rgba(255, 0, 80, 0.07) 4px);
    animation: circuitPulse 7.2s ease-in-out infinite, glitchShift 10.4s ease-in-out infinite;
    mix-blend-mode: overlay;
}

.overlay-ENGINEER::after {
    content: '';
    position: absolute;
    inset: 0;
    background:
        repeating-linear-gradient(180deg, transparent 0px, rgba(0, 255, 170, 0.12) 1px, transparent 2px, transparent 8px),
        linear-gradient(180deg, rgba(0, 255, 170, 0.0), rgba(0, 255, 170, 0.10), rgba(255, 0, 80, 0.0));
    opacity: 0.60;
    mix-blend-mode: screen;
    animation: scanLines 17s linear infinite;
}

@keyframes circuitPulse {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.6; }
}

@keyframes glitchShift {
    0%, 90%, 100% { transform: translate(0, 0); filter: hue-rotate(0deg); }
    91% { transform: translate(-2px, 1px); filter: hue-rotate(5deg); }
    93% { transform: translate(2px, -1px); filter: hue-rotate(-5deg); }
    95% { transform: translate(-1px, 2px); filter: hue-rotate(3deg); }
}

@keyframes scanLines {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

.overlay-SHAMAN::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 35% 65%, rgba(138, 43, 226, 0.26) 0%, rgba(138, 43, 226, 0.0) 55%);
    animation: spiritSmoke 13.6s ease-in-out infinite;
    mix-blend-mode: screen;
}

.overlay-SHAMAN::after {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(ellipse at 70% 30%, rgba(147, 112, 219, 0.22) 0%, rgba(147, 112, 219, 0.0) 60%),
        radial-gradient(circle at 50% 50%, rgba(0, 229, 255, 0.08) 0%, transparent 55%);
    animation: spiritSmoke 13.6s ease-in-out infinite 0.7s;
    mix-blend-mode: overlay;
    filter: blur(0.4px);
}

@keyframes spiritSmoke {
    0% { transform: translate3d(0, 0, 0) scale(1); opacity: 0.35; }
    50% { transform: translate3d(-10px, -6px, 0) scale(1.06); opacity: 0.75; }
    100% { transform: translate3d(0, 0, 0) scale(1); opacity: 0.35; }
}

.overlay-KEEPER::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at 30% 40%, rgba(186, 85, 211, 0.22) 0%, transparent 42%),
        radial-gradient(circle at 70% 60%, rgba(138, 43, 226, 0.18) 0%, transparent 38%),
        repeating-linear-gradient(45deg, rgba(255, 255, 255, 0.0) 0px, rgba(255, 255, 255, 0.06) 24px, rgba(255, 255, 255, 0.0) 48px);
    animation: runeGlow 9.2s ease-in-out infinite;
    mix-blend-mode: screen;
}

.overlay-KEEPER::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        radial-gradient(circle at 18% 30%, rgba(255, 255, 255, 0.16) 2px, transparent 2px),
        radial-gradient(circle at 48% 42%, rgba(255, 255, 255, 0.14) 2px, transparent 2px),
        radial-gradient(circle at 76% 28%, rgba(255, 255, 255, 0.12) 2px, transparent 2px),
        radial-gradient(circle at 64% 72%, rgba(255, 255, 255, 0.14) 2px, transparent 2px);
    background-size: 180px 180px;
    animation: runeFloat 13s ease-in-out infinite;
    opacity: 0.55;
    mix-blend-mode: overlay;
}

@keyframes runeGlow {
    0%, 100% { opacity: 0.4; filter: hue-rotate(0deg); }
    50% { opacity: 0.7; filter: hue-rotate(15deg); }
}

@keyframes runeFloat {
    0% { transform: translate3d(0, 0, 0); }
    50% { transform: translate3d(-8px, 10px, 0); }
    100% { transform: translate3d(0, 0, 0); }
}

.overlay-LORD::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        linear-gradient(0deg, rgba(255, 215, 0, 0.35) 0%, rgba(255, 215, 0, 0.0) 60%),
        repeating-linear-gradient(0deg, transparent 0%, rgba(255, 215, 0, 0.0) 45%, rgba(255, 215, 0, 0.20) 50%, rgba(255, 215, 0, 0.0) 55%, transparent 100%),
        conic-gradient(from 0deg at 50% 85%, transparent 0deg, rgba(255, 215, 0, 0.22) 30deg, transparent 60deg, rgba(255, 215, 0, 0.22) 120deg, transparent 150deg, rgba(255, 215, 0, 0.22) 210deg, transparent 240deg, rgba(255, 215, 0, 0.22) 300deg, transparent 330deg);
    animation: crownTide 18.8s ease-in-out infinite;
    mix-blend-mode: screen;
}

.overlay-LORD::after {
    content: '';
    position: absolute;
    inset: -18%;
    background: radial-gradient(ellipse at 50% 100%, rgba(255, 215, 0, 0.22) 0%, transparent 60%);
    animation: crownAura 11.2s ease-in-out infinite;
    mix-blend-mode: overlay;
    filter: blur(0.6px);
}

@keyframes crownTide {
    0%, 100% { transform: translate3d(0, 0, 0) rotate(0deg); opacity: 0.42; }
    50% { transform: translate3d(0, -6px, 0) rotate(10deg); opacity: 0.74; }
}

@keyframes crownAura {
    0%, 100% { opacity: 0.35; transform: scale(0.95); }
    50% { opacity: 0.75; transform: scale(1.05); }
}

.overlay-PRIME::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at 50% 40%, rgba(255, 255, 255, 0.24) 0%, transparent 55%),
        conic-gradient(from 0deg at 50% 50%, rgba(255, 255, 255, 0.0), rgba(255, 255, 255, 0.18), rgba(255, 215, 0, 0.12), rgba(0, 229, 255, 0.14), rgba(255, 255, 255, 0.0));
    animation: godRays 16s linear infinite;
    mix-blend-mode: screen;
}

.overlay-PRIME::after {
    content: '';
    position: absolute;
    inset: -30%;
    background: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.20) 0%, transparent 55%);
    animation: radiancePulse 7.2s ease-in-out infinite;
    mix-blend-mode: overlay;
    filter: blur(0.8px);
}

@keyframes godRays {
    0% { transform: rotate(0deg) scale(1); opacity: 0.55; }
    50% { opacity: 0.78; }
    100% { transform: rotate(360deg) scale(1.02); opacity: 0.55; }
}

@keyframes radiancePulse {
    0%, 100% { opacity: 0.35; transform: scale(0.92); }
    50% { opacity: 0.80; transform: scale(1.08); }
}

.overlay-SINGULARITY::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        conic-gradient(from 0deg at 50% 50%, rgba(138, 43, 226, 0.0), rgba(138, 43, 226, 0.28), rgba(0, 229, 255, 0.22), rgba(255, 215, 0, 0.18), rgba(255, 0, 170, 0.20), rgba(138, 43, 226, 0.0));
    animation: none;
    mix-blend-mode: screen;
    filter: invert(0.15) hue-rotate(180deg);
}

.overlay-SINGULARITY::after {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at 50% 50%, rgba(0, 0, 0, 0.25) 0%, transparent 30%, rgba(255, 255, 255, 0.18) 42%, transparent 56%),
        repeating-radial-gradient(circle at 50% 50%, transparent 0%, rgba(255, 255, 255, 0.06) 15%, transparent 30%);
    animation: cosmicPulse 14s ease-in-out infinite;
    mix-blend-mode: difference;
    filter: hue-rotate(90deg);
}

@keyframes cosmicPulse {
    0%, 100% { transform: scale(0.9); opacity: 0.4; }
    50% { transform: scale(1.1); opacity: 0.8; }
}

.card-object[data-tier='3'] .overlay-SINGULARITY::after {
    filter: hue-rotate(180deg);
}

.glass-module {
    background: linear-gradient(180deg, hsl(var(--glass-white) / 0.08) 0%, hsl(var(--glass-white) / 0.03) 100%);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 1px solid hsl(var(--glass-white) / 0.12);
    border-radius: calc(var(--radius) * 0.8);
}

.inner-glow {
    box-shadow: inset 0 0 80px hsl(var(--card-accent) / 0.08), inset 0 1px 0 hsl(var(--glass-white) / 0.1), 0 25px 60px -15px hsl(0 0% 0% / 0.8);
}

@keyframes soulDividerBeat {
    0%, 100% {
        opacity: 0.8;
        box-shadow: none;
    }
    50% {
        opacity: 1;
        box-shadow: none;
    }
}

@keyframes laser-flow {
    0% { background-position: 0% 50%; }
    100% { background-position: 300% 50%; }
}

@keyframes holo-shimmer {
    0% { background-position: 0% 50%; }
    100% { background-position: 200% 50%; }
}

@keyframes pulse-glow {
    0%, 100% { opacity: 0.5; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.1); }
}
.animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }

@keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.55; transform: scale(1.12); }
}
.animate-pulse { animation: pulse 1.6s ease-in-out infinite; }

.neon-text {
    text-shadow: 0 0 12px hsl(var(--fennec-orange) / 0.9), 0 0 35px hsl(var(--fennec-orange) / 0.6);
}
.neon-text-subtle {
    text-shadow: 0 0 10px hsl(var(--fennec-orange) / 0.6);
}

.holo-text {
    background: linear-gradient(90deg, hsl(var(--holo-cyan)), hsl(var(--holo-purple)), hsl(var(--fennec-orange)), hsl(var(--holo-cyan)));
    background-size: 200% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: holo-shimmer 3s linear infinite;
}

.text-fennec { color: hsl(var(--fennec-orange)); }
.font-tactical { font-family: var(--font-tactical); letter-spacing: 0.05em; }
.font-display { font-family: var(--font-display); }

.stat-glow {
    color: hsl(var(--foreground));
    text-shadow: 0 0 22px hsl(var(--fennec-orange) / 0.5);
}

.net-worth-display {
    font-size: clamp(2.2rem, 4.6vw, 3.2rem);
    font-weight: 900;
    letter-spacing: -0.02em;
    color: hsl(var(--foreground));
    text-shadow: 0 0 48px hsl(var(--card-accent) / 0.45);
}

.laser-track {
    height: 8px;
    border-radius: 999px;
    overflow: hidden;
    background: hsl(var(--secondary) / 0.35);
    border: 1px solid hsl(var(--glass-white) / 0.10);
}

.laser-fill {
    height: 100%;
    background: linear-gradient(90deg, hsl(var(--card-accent)), hsl(var(--card-accent2)), hsl(var(--card-accent)));
    background-size: 300% 100%;
    animation: laser-flow 2.4s linear infinite;
    box-shadow: 0 0 18px hsl(var(--card-accent) / 0.45);
}

.badge-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
}

.custom-scroll { scrollbar-width: thin; scrollbar-color: hsl(var(--fennec-orange) / 0.9) transparent; }
.custom-scroll::-webkit-scrollbar { width: 4px; }
.custom-scroll::-webkit-scrollbar-thumb {
    background: hsl(var(--fennec-orange) / 0.85);
    border-radius: 999px;
}
.custom-scroll::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--fennec-orange) / 1);
}
.custom-scroll::-webkit-scrollbar-track {
    background: transparent;
    margin: 14px 0;
}

.badge-hover-container:hover {
    transform: translateY(-2px);
    border-color: hsl(var(--fennec-orange) / 0.5) !important;
    box-shadow: 0 4px 12px hsl(var(--fennec-orange) / 0.3);
}

.badge-hover-container {
    background: transparent !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
}


.badge-hover-container:hover .badge-hover-name {
    opacity: 1;
}

.badge-slot {
    width: 30px;
    height: 30px;
    border-radius: 8px;
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 4px 8px rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    transform: translateZ(0);
    transition: transform 0.18s ease, border-color 0.18s ease, background 0.18s ease, box-shadow 0.18s ease;
}

.badge-slot::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.18), rgba(255, 255, 255, 0.02) 35%, transparent 70%);
    opacity: 0.75;
}

.badge-slot::after {
    content: '';
    position: absolute;
    inset: 1px;
    border-radius: 7px;
    pointer-events: none;
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.06);
    opacity: 0.9;
}

.badge-icon {
    width: 78%;
    height: 78%;
    object-fit: contain;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.6));
    position: relative;
    z-index: 1;
}

.badge-slot:hover {
    transform: translateY(-2px);
    border-color: #FF6B35;
    background: rgba(0, 0, 0, 0.52);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.22), 0 8px 18px rgba(0, 0, 0, 0.38), 0 0 18px rgba(255, 107, 53, 0.22);
}

.badge-slot:hover .badge-icon {
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.65)) drop-shadow(0 0 10px rgba(255, 107, 53, 0.35));
}

.badge-slot:hover .badge-hover-name {
    opacity: 1;
}

.absolute { position: absolute; }
.relative { position: relative; }
.inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
.z-0 { z-index: 0; }
.z-10 { z-index: 10; }
.z-20 { z-index: 20; }
.z-\\[100\\] { z-index: 100; }

.flex { display: flex; }
.flex-1 { flex: 1 1 0%; }
.flex-col { flex-direction: column; }
.items-center { align-items: center; }
.items-start { align-items: flex-start; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.gap-1 { gap: 0.25rem; }
.gap-1\\.5 { gap: 0.375rem; }
.gap-2 { gap: 0.5rem; }
.space-y-3 > * + * { margin-top: 0.75rem; }

.w-full { width: 100%; }
.w-2 { width: 0.5rem; }
.h-2 { height: 0.5rem; }
.w-10 { width: 2.5rem; }
.h-10 { height: 2.5rem; }
.w-48 { width: 12rem; }
.h-48 { height: 12rem; }
.h-px { height: 1px; }

.rounded-full { border-radius: 9999px; }
.rounded-lg { border-radius: 0.5rem; }
.rounded-xl { border-radius: 0.75rem; }
.rounded-\\[22px\\] { border-radius: 22px; }

.p-1 { padding: 0.25rem; }
.p-3 { padding: 0.75rem; }
.p-4 { padding: 1rem; }
.p-5 { padding: 1.25rem; }
.p-6 { padding: 1.5rem; }
.px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
.px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
.px-4 { padding-left: 1rem; padding-right: 1rem; }
.px-5 { padding-left: 1.25rem; padding-right: 1.25rem; }
.py-1 { padding-top: 0.25rem; padding-bottom: 0.25rem; }
.py-1\\.5 { padding-top: 0.375rem; padding-bottom: 0.375rem; }
.py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
.pb-6 { padding-bottom: 1.5rem; }
.pb-8 { padding-bottom: 2rem; }

.mt-auto { margin-top: auto; }
.mt-3 { margin-top: 0.75rem; }
.mt-4 { margin-top: 1rem; }
.mb-0\\.5 { margin-bottom: 0.125rem; }
.mb-1 { margin-bottom: 0.25rem; }
.mb-1\\.5 { margin-bottom: 0.375rem; }
.mb-2 { margin-bottom: 0.5rem; }
.mb-3 { margin-bottom: 0.75rem; }
.mb-4 { margin-bottom: 1rem; }
.ml-auto { margin-left: auto; }
.mx-auto { margin-left: auto; margin-right: auto; }

.text-center { text-align: center; }
.text-right { text-align: right; }
.uppercase { text-transform: uppercase; }
.italic { font-style: italic; }
.font-black { font-weight: 900; }
.font-bold { font-weight: 700; }

.text-7xl { font-size: 4.5rem; line-height: 1; }
.text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
.text-2xl { font-size: 1.5rem; line-height: 2rem; }
.text-xl { font-size: 1.25rem; line-height: 1.75rem; }
.text-lg { font-size: 1.125rem; line-height: 1.75rem; }
.text-sm { font-size: 0.875rem; line-height: 1.25rem; }
.text-xs { font-size: 0.75rem; line-height: 1rem; }
.text-\\[11px\\] { font-size: 11px; line-height: 1.3; }
.text-\\[10px\\] { font-size: 10px; line-height: 1.3; }
.text-\\[9px\\] { font-size: 9px; line-height: 1.2; }
.text-\\[8px\\] { font-size: 8px; line-height: 1.2; }

.tracking-\\[0\\.25em\\] { letter-spacing: 0.25em; }
.tracking-\\[0\\.2em\\] { letter-spacing: 0.2em; }
.tracking-\\[0\\.15em\\] { letter-spacing: 0.15em; }
.tracking-wider { letter-spacing: 0.08em; }
.tracking-widest { letter-spacing: 0.12em; }
.tracking-tight { letter-spacing: -0.025em; }
.leading-none { line-height: 1; }

.overflow-hidden { overflow: hidden; }
.overflow-y-auto { overflow-y: auto; }
.pointer-events-none { pointer-events: none; }
.select-none { user-select: none; }
.object-contain { object-fit: contain; }

.text-muted-foreground { color: hsl(var(--muted-foreground)); }
.text-foreground\\/80 { color: hsl(var(--foreground) / 0.8); }
.text-foreground\\/70 { color: hsl(var(--foreground) / 0.7); }
.opacity-40 { opacity: 0.4; }
.opacity-60 { opacity: 0.6; }
.opacity-\\[0\\.03\\] { opacity: 0.03; }

.border { border-width: 1px; border-style: solid; }
.border-b { border-bottom-width: 1px; }
.border-border\\/30 { border-color: hsl(var(--border) / 0.3); }
.border-fennec\\/20 { border-color: hsl(var(--fennec-orange) / 0.2); }
.border-fennec\\/30 { border-color: hsl(var(--fennec-orange) / 0.3); }
.border-fennec\\/40 { border-color: hsl(var(--fennec-orange) / 0.4); }

.bg-black\\/60 { background: rgba(0,0,0,0.6); }
.bg-fennec { background: hsl(var(--fennec-orange)); }
.bg-fennec\\/10 { background: hsl(var(--fennec-orange) / 0.1); }
.bg-fennec\\/20 { background: hsl(var(--fennec-orange) / 0.2); }
.bg-secondary\\/30 { background: hsl(var(--secondary) / 0.3); }

.bg-gradient-to-br { background-image: linear-gradient(to bottom right, var(--tw-gradient-from), var(--tw-gradient-to)); }
.bg-gradient-to-b { background-image: linear-gradient(to bottom, var(--tw-gradient-from), var(--tw-gradient-to)); }
.bg-gradient-to-r { background-image: linear-gradient(to right, var(--tw-gradient-from), var(--tw-gradient-to)); }
.bg-gradient-radial { background-image: radial-gradient(circle at center, var(--tw-gradient-from), var(--tw-gradient-to)); }

.from-transparent { --tw-gradient-from: transparent; }
.to-transparent { --tw-gradient-to: transparent; }
.from-obsidian-light\\/50 { --tw-gradient-from: hsl(var(--obsidian-light) / 0.5); }
.from-obsidian-light\\/80 { --tw-gradient-from: hsl(var(--obsidian-light) / 0.8); }
.to-background { --tw-gradient-to: hsl(var(--background)); }
.to-background\\/90 { --tw-gradient-to: hsl(var(--background) / 0.9); }
.from-fennec\\/20 { --tw-gradient-from: hsl(var(--fennec-orange) / 0.2); }
.via-fennec\\/5 { --tw-gradient-via: hsl(var(--fennec-orange) / 0.05); }
.to-fennec\\/5 { --tw-gradient-to: hsl(var(--fennec-orange) / 0.05); }
.via-fennec\\/50 { --tw-gradient-via: hsl(var(--fennec-orange) / 0.5); }
.from-fennec { --tw-gradient-from: hsl(var(--fennec-orange)); }
.to-holo-purple { --tw-gradient-to: hsl(var(--holo-purple)); }
`;
        document.head.appendChild(style);
    }

    function clamp(n, a, b) {
        const x = Number(n);
        if (!Number.isFinite(x)) return a;
        return Math.max(a, Math.min(b, x));
    }

    function rarityFromScore(score) {
        const s = clamp(Number(score) || 0, 0, 100);
        if (s >= 95) return { name: 'SPIRIT', key: 'spirit', text: 'text-spirit' };
        if (s >= 80) return { name: 'ELDER', key: 'elder', text: 'text-elder' };
        if (s >= 65) return { name: 'ALPHA', key: 'alpha', text: 'text-alpha' };
        if (s >= 50) return { name: 'HUNTER', key: 'hunter', text: 'text-hunter' };
        if (s >= 30) return { name: 'SCOUT', key: 'scout', text: 'text-scout' };
        return { name: 'CUB', key: 'cub', text: 'text-cub' };
    }

    function rarityFromName(name) {
        const n = String(name || '')
            .trim()
            .toUpperCase();
        if (!n) return null;
        if (n === 'SPIRIT') return { name: 'SPIRIT', key: 'spirit', text: 'text-spirit' };
        if (n === 'ELDER') return { name: 'ELDER', key: 'elder', text: 'text-elder' };
        if (n === 'ALPHA') return { name: 'ALPHA', key: 'alpha', text: 'text-alpha' };
        if (n === 'HUNTER') return { name: 'HUNTER', key: 'hunter', text: 'text-hunter' };
        if (n === 'SCOUT') return { name: 'SCOUT', key: 'scout', text: 'text-scout' };
        if (n === 'CUB') return { name: 'CUB', key: 'cub', text: 'text-cub' };
        return null;
    }

    function resolveRarity(metrics, activityScore) {
        const m = metrics && typeof metrics === 'object' ? metrics : {};
        const fromMetrics = rarityFromName(m.rarityName ?? m.rarity ?? m.rarity_name ?? m.rarityKey ?? m.rarity_key);
        return fromMetrics || rarityFromScore(activityScore);
    }

    function inferArchetypeFromConditions(badges, metrics) {
        const badgeSet = new Set(
            (Array.isArray(badges) ? badges : [])
                .map(b =>
                    String((b && b.name) || '')
                        .trim()
                        .toUpperCase()
                )
                .filter(Boolean)
        );

        const safeNum = v => {
            const n = Number(v);
            return Number.isFinite(n) ? n : 0;
        };

        const m = metrics && typeof metrics === 'object' ? metrics : {};
        const txCount = safeNum(m.txCount ?? m.txs ?? m.transactions ?? m.transactionCount);
        const netWorthUSD = safeNum(m.netWorthUSD ?? m.wealth ?? m.netWorth ?? m.netWorthUsd);
        const lpValueUSD = safeNum(m.lpValueUSD ?? m.lpValueUsd);

        let stats = {};
        if (m.inscriptionStats && typeof m.inscriptionStats === 'object') stats = m.inscriptionStats;
        else if (m.stats && typeof m.stats === 'object') stats = m.stats;
        const runesCount = safeNum(stats.runes ?? stats.runesCount ?? m.runesCount ?? m.runes);

        const badgeCount = badgeSet.size;

        if (badgeCount >= 7) return 'SINGULARITY';
        if (badgeSet.has('GENESIS') && badgeSet.has('WHALE') && badgeSet.has('PROVIDER')) return 'PRIME';
        if (badgeSet.has('PROVIDER') && lpValueUSD >= 200) return 'LORD';
        if (badgeSet.has('GENESIS')) return 'WALKER';
        if (badgeSet.has('ARTIFACT HUNTER') && badgeSet.has('RUNE KEEPER')) return 'KEEPER';
        if (netWorthUSD >= 100) return 'MERCHANT';
        if (txCount > 1000) return 'ENGINEER';
        if (runesCount >= 20) return 'SHAMAN';
        return 'DRIFTER';
    }

    function pickArchetype(dna, ctx) {
        const a = dna && typeof dna === 'object' ? dna.archetype : null;
        const hasExplicit = !!(a && (a.baseKey || a.key));

        const inferredKey = hasExplicit
            ? String(a.baseKey || a.key || 'DRIFTER').toUpperCase()
            : inferArchetypeFromConditions(ctx && ctx.badges, ctx && ctx.metrics);

        const baseKey = inferredKey || 'DRIFTER';
        const title = (hasExplicit && (a.title || a.name)) || baseKey;
        const tierLabel = (hasExplicit && (a.tierLabel || a.tier)) || (dna && dna.tier) || '';
        const tierLevel = (hasExplicit && (a.tierLevel || a.level)) || (dna && dna.tierLevel) || 0;
        return {
            baseKey: String(baseKey || 'DRIFTER').toUpperCase(),
            title: String(title || 'DRIFTER'),
            tierLabel: String(tierLabel || ''),
            tierLevel: clamp(tierLevel, 0, 3)
        };
    }

    const BADGE_DEFS = {
        GENESIS: { name: 'GENESIS', icon: '', desc: 'You witnessed the first sunrise over the Fractal dunes.' },
        WHALE: { name: 'WHALE', icon: '', desc: 'When you move, the sands shift beneath you.' },
        PROVIDER: { name: 'PROVIDER', icon: '', desc: 'The desert is thirsty, but your well runs deep.' },
        'LIQUIDITY PROVIDER': { name: 'PROVIDER', icon: '', desc: 'The desert is thirsty, but your well runs deep.' },
        LIQUIDITY_PROVIDER: { name: 'PROVIDER', icon: '', desc: 'The desert is thirsty, but your well runs deep.' },
        'FENNEC MAXI': { name: 'FENNEC MAXI', icon: '', desc: 'The Spirit of the Fox guides your path.' },
        'ARTIFACT HUNTER': {
            name: 'ARTIFACT HUNTER',
            icon: '',
            desc: 'Your pockets are heavy with echoes of the chain.'
        },
        'RUNE KEEPER': { name: 'RUNE KEEPER', icon: '', desc: 'You decipher the glyphs. The stones speak to you.' },
        'MEMPOOL RIDER': { name: 'MEMPOOL RIDER', icon: '', desc: 'Surfing the chaos of the 30-second block waves.' },
        'SAND SWEEPER': {
            name: 'SAND SWEEPER',
            icon: '',
            desc: 'Your UTXO set is clean. No trash left in the dunes.'
        }
    };

    const BADGE_ORDER = [
        'GENESIS',
        'WHALE',
        'PROVIDER',
        'FENNEC MAXI',
        'ARTIFACT HUNTER',
        'RUNE KEEPER',
        'MEMPOOL RIDER',
        'SAND SWEEPER'
    ];

    function normalizeBadges(dna) {
        const arr = (dna && dna.badges) || (dna && dna.archetype && dna.archetype.badges) || [];
        if (!Array.isArray(arr)) return [];
        return arr
            .map(b => {
                if (!b) return null;
                if (typeof b === 'string') {
                    const key = String(b || '')
                        .trim()
                        .toUpperCase();
                    const def = BADGE_DEFS[key] || null;
                    return {
                        name: def ? def.name : String(b || '').trim(),
                        desc: def ? def.desc : '',
                        icon: '',
                        img: ''
                    };
                }
                const rawName = String(b.name || '').trim();
                const key = rawName.toUpperCase();
                const def = BADGE_DEFS[key] || null;
                const desc = String(b.desc || '').trim() || (def ? def.desc : '');
                return { name: def ? def.name : rawName, desc, icon: '', img: b.img ? String(b.img) : '' };
            })
            .filter(Boolean)
            .filter(b => b.name);
    }

    function computeScoreBreakdown(metrics, badges, config) {
        const safeNum = v => {
            const n = Number(v);
            return Number.isFinite(n) ? n : 0;
        };

        const scoring = config && config.scoring && typeof config.scoring === 'object' ? config.scoring : {};
        const pointsCfg = scoring.points && typeof scoring.points === 'object' ? scoring.points : {};

        const activityMax = safeNum(pointsCfg.activityMax ?? 30) || 30;
        const wealthMax = safeNum(pointsCfg.wealthMax ?? 20) || 20;
        const timeMax = safeNum(pointsCfg.timeMax ?? 15) || 15;
        const badgesMax = safeNum(pointsCfg.badgesMax ?? 35) || 35;

        const activityCfg = scoring.activity && typeof scoring.activity === 'object' ? scoring.activity : {};
        const wealthCfg = scoring.wealth && typeof scoring.wealth === 'object' ? scoring.wealth : {};
        const timeCfg = scoring.time && typeof scoring.time === 'object' ? scoring.time : {};

        const maxTx = safeNum(activityCfg.maxTx ?? 10000) || 10000;
        const maxNetWorthUSD = safeNum(wealthCfg.maxNetWorthUSD ?? 500) || 500;
        const maxDays = safeNum(timeCfg.maxDays ?? 365) || 365;

        const txCount = safeNum(metrics && metrics.txCount);
        const daysAlive = safeNum(metrics && metrics.daysAlive);
        const netWorthUSD = safeNum(
            metrics && (metrics.netWorthUSD ?? metrics.wealth ?? metrics.netWorth ?? metrics.netWorthUsd)
        );

        const txClamped = Math.min(txCount, maxTx);
        const activityPoints = Math.round(activityMax * (Math.log10(1 + txClamped) / Math.log10(1 + maxTx)));

        const nwClamped = Math.min(netWorthUSD, maxNetWorthUSD);
        const wealthPoints = Math.round(wealthMax * Math.sqrt(maxNetWorthUSD ? nwClamped / maxNetWorthUSD : 0));

        const daysClamped = Math.min(daysAlive, maxDays);
        const timePoints = Math.round(timeMax * (maxDays ? daysClamped / maxDays : 0));

        const badgeDefs = Array.isArray(scoring.badgeDefinitions) ? scoring.badgeDefinitions : [];
        const weightMap = {};
        badgeDefs.forEach(def => {
            if (!def || typeof def !== 'object') return;
            const name = String(def.name || '').trim();
            if (!name) return;
            weightMap[name.toUpperCase()] = safeNum(def.weight);
        });

        const badgesArr = Array.isArray(badges) ? badges : [];
        const badgesPointsRaw = badgesArr.reduce((sum, b) => {
            const key = String((b && b.name) || '')
                .trim()
                .toUpperCase();
            return sum + (weightMap[key] || 0);
        }, 0);
        const badgesPoints = Math.min(badgesMax, badgesPointsRaw);

        const baseScoreRaw = activityPoints + wealthPoints + timePoints + badgesPoints;
        const baseScore = Math.min(100, baseScoreRaw);

        const hasMaxi = badgesArr.some(
            b =>
                String((b && b.name) || '')
                    .trim()
                    .toUpperCase() === 'FENNEC MAXI'
        );
        const multiplier = hasMaxi ? 1.15 : 1;
        const scoreAfterMultiplier = baseScore * multiplier;
        const activityScore = Math.min(100, Math.round(scoreAfterMultiplier));

        return {
            activityPoints,
            wealthPoints,
            timePoints,
            badgesPoints,
            baseScore,
            multiplier,
            scoreAfterMultiplier,
            activityScore,
            max: { activityMax, wealthMax, timeMax, badgesMax }
        };
    }

    function safeText(s) {
        return String(s || '').replace(/[<>&]/g, c => (c === '<' ? '&lt;' : c === '>' ? '&gt;' : '&amp;'));
    }

    function miscAssetRef(config, key, fallbackPath) {
        const map = config && config.assets && config.assets.misc ? config.assets.misc : {};
        const ref = (map && map[key]) || '';
        return resolveAssetRef(ref || fallbackPath || '');
    }

    function backgroundFor(archetypeKey, tier, config) {
        const key = String(archetypeKey || 'DRIFTER').toUpperCase();
        const map = config && config.assets && config.assets.backgrounds ? config.assets.backgrounds : {};
        const t = typeof tier === 'number' && Number.isFinite(tier) ? clamp(tier, 0, 3) : null;
        const tierKey = t === null ? '' : `${key}_T${t}`;
        const idOrUrl = (tierKey && map[tierKey]) || map[key] || map['*'] || '';
        return idOrUrl ? String(idOrUrl) : '';
    }

    function createCard(dna, config) {
        injectStyles();

        const metrics = dna && dna.metrics && typeof dna.metrics === 'object' ? dna.metrics : {};

        const badges = normalizeBadges(dna);
        try {
            const safeNum = v => {
                const n = Number(v);
                return Number.isFinite(n) ? n : 0;
            };
            const lpValueUSD = safeNum(metrics && (metrics.lpValueUSD ?? metrics.lpValueUsd));
            const badgeKeys = new Set(
                badges
                    .map(b =>
                        String((b && b.name) || '')
                            .trim()
                            .toUpperCase()
                    )
                    .filter(Boolean)
            );
            if (lpValueUSD >= 50 && !badgeKeys.has('PROVIDER')) {
                badges.push({
                    name: 'PROVIDER',
                    desc: (BADGE_DEFS.PROVIDER && BADGE_DEFS.PROVIDER.desc) || '',
                    icon: '',
                    img: ''
                });
            }
        } catch (_) {
            void _;
        }
        const earnedBadgeCount = new Set(
            badges
                .map(b =>
                    String((b && b.name) || '')
                        .trim()
                        .toUpperCase()
                )
                .filter(Boolean)
        ).size;
        const archetype = pickArchetype(dna, { badges, metrics });
        const computedBreakdown = computeScoreBreakdown(metrics, badges, config);
        const activityScore =
            Number(metrics.activityScore ?? metrics.score ?? computedBreakdown.activityScore ?? 0) || 0;
        const rarity = resolveRarity(metrics, activityScore);

        let tier =
            typeof archetype.tierLevel === 'number' && Number.isFinite(archetype.tierLevel) ? archetype.tierLevel : 0;
        tier = clamp(tier, 0, 3);
        if (
            String(archetype.baseKey || '').toUpperCase() === 'PRIME' ||
            String(archetype.baseKey || '').toUpperCase() === 'SINGULARITY'
        ) {
            tier = 3;
        } else {
            tier = earnedBadgeCount >= 6 ? 3 : earnedBadgeCount >= 4 ? 2 : earnedBadgeCount >= 2 ? 1 : tier;
        }

        const bgRef = backgroundFor(archetype.baseKey, tier, config);
        const bgUrl = bgRef ? resolveAssetRef(bgRef) : '';

        const scene = document.createElement('div');
        scene.className = 'card-scene';
        scene.setAttribute('data-fennec-lib-root', '1');

        const cardObject = document.createElement('div');
        cardObject.className = 'card-object';
        if (metrics.hasFennecSoul) cardObject.classList.add('card-soul');

        let tierColor = 'hsl(240 4% 46%)';
        if (rarity.key === 'spirit') tierColor = 'hsl(var(--holo-purple))';
        else if (rarity.key === 'elder') tierColor = 'hsl(var(--fennec-orange))';
        else if (rarity.key === 'hunter') tierColor = 'hsl(var(--holo-blue))';

        cardObject.style.border = 'none';

        cardObject.setAttribute('data-tier', String(tier));

        cardObject.setAttribute('data-archetype', String(archetype.baseKey || ''));

        cardObject.setAttribute('data-rarity', String(rarity.key || ''));
        cardObject.classList.add(`card-${rarity.key}`);

        const outerBorder = document.createElement('div');
        outerBorder.className = 'card-outer-border';
        cardObject.appendChild(outerBorder);

        const borderGlow = document.createElement('div');
        borderGlow.className = 'card-border-glow';
        cardObject.appendChild(borderGlow);

        let accentVar = '240 5% 62%';
        let accent2Var = '240 5% 70%';
        if (rarity.key === 'spirit') {
            accentVar = 'var(--holo-cyan)';
            accent2Var = 'var(--holo-purple)';
        } else if (rarity.key === 'elder') {
            accentVar = '43 74% 52%';
            accent2Var = '38 88% 60%';
        } else if (rarity.key === 'alpha') {
            accentVar = '0 100% 55%';
            accent2Var = '8 100% 62%';
        } else if (rarity.key === 'hunter') {
            accentVar = '196 100% 55%';
            accent2Var = '210 100% 60%';
        } else if (rarity.key === 'scout') {
            accentVar = '142 100% 50%';
            accent2Var = '150 100% 56%';
        }
        try {
            cardObject.style.setProperty('--card-accent', accentVar);
            cardObject.style.setProperty('--card-accent2', accent2Var);
        } catch (_) {
            void _;
        }

        let titleAccentVar = '240 5% 62%';
        if (tier >= 3) titleAccentVar = 'var(--fennec-orange)';
        else if (tier === 2) titleAccentVar = 'var(--holo-cyan)';
        else if (tier === 1) titleAccentVar = '142 100% 50%';

        let titleAccent2Var = '240 5% 70%';
        if (tier >= 3) titleAccent2Var = 'var(--holo-purple)';
        else if (tier === 2) titleAccent2Var = 'var(--holo-blue)';
        else if (tier === 1) titleAccent2Var = '150 100% 56%';
        try {
            cardObject.style.setProperty('--title-accent', titleAccentVar);
            cardObject.style.setProperty('--title-accent2', titleAccent2Var);
        } catch (_) {
            void _;
        }

        const front = document.createElement('div');
        front.className = 'card-face face-front bg-obsidian';

        // 8 badges max on front - Only earned
        const earnedFront = new Set(badges.map(b => b.name));
        const frontOrder = BADGE_ORDER.slice(0, 8).filter(name => earnedFront.has(name));
        const badgesFrontHtml = frontOrder
            .map(name => {
                const mapped =
                    config && config.assets && config.assets.badges && name ? config.assets.badges[name] : '';
                const imgRef = mapped ? resolveAssetRef(mapped) : '';
                const def = BADGE_DEFS[name] || { name, desc: '' };
                const displayName = name === 'PROVIDER' ? 'LIQUIDITY PROVIDER' : def.name;
                return `
                <div class="badge-slot group">
                    ${imgRef ? `<img src="${safeText(imgRef)}" class="badge-icon" onerror="this.style.display='none'">` : ''}
                    <div class="badge-hover-name" style="position:absolute;bottom:calc(100% + 10px);left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.92);color:white;padding:6px 10px;border-radius:10px;font-size:9px;font-family:var(--font-tactical);font-weight:900;letter-spacing:0.12em;text-transform:uppercase;white-space:nowrap;pointer-events:none;opacity:0;transition:opacity 0.18s ease;border:1px solid rgba(255,107,53,0.35);box-shadow:0 10px 28px rgba(0,0,0,0.55);">${safeText(displayName)}</div>
                </div>
                `;
            })
            .join('');

        const heartRef = miscAssetRef(config, 'HEART', '');
        const soulBadge = '';
        const imgTierClass = (() => {
            const baseKey = String(archetype.baseKey || 'DRIFTER').toUpperCase();
            if (tier === 3 && isPreview) {
                if (baseKey === 'DRIFTER') return 'anim-drifter';
                if (baseKey === 'ENGINEER') return 'anim-engineer';
                if (baseKey === 'SHAMAN') return 'anim-shaman';
                if (baseKey === 'KEEPER') return 'anim-keeper';
                if (baseKey === 'MERCHANT') return 'anim-merchant';
                if (baseKey === 'LORD') return 'anim-lord';
                if (baseKey === 'WALKER') return 'anim-walker';
                if (baseKey === 'PRIME') return 'anim-prime';
                if (baseKey === 'SINGULARITY') return 'anim-singularity';
                return 'anim-drifter';
            }
            return '';
        })();

        const archetypeOverlay =
            tier >= 3 && isPreview
                ? `<div class="archetype-overlay overlay-${safeText(String(archetype.baseKey || 'DRIFTER').toUpperCase())}"></div>`
                : '';

        let loreText = 'SYSTEM INITIALIZED';
        try {
            if (typeof window.getSmartLore === 'function') {
                loreText = window.getSmartLore({ metrics, archetype, badges });
            } else {
                const IDENTITY_DB = {
                    DRIFTER: {
                        prefixes: [
                            'Silent',
                            'Nomadic',
                            'Dust-covered',
                            'Wandering',
                            'High-speed',
                            'Lonely',
                            'Wind-borne'
                        ],
                        nouns: ['Strider', 'Runner', 'Ghost', 'Vagrant', 'Scout', 'Pathfinder', 'Traveler']
                    },
                    MERCHANT: {
                        prefixes: ['Golden', 'Calculating', 'Wealthy', 'Neon', 'Licensed', 'Digital', 'Arbitrage'],
                        nouns: ['Broker', 'Tycoon', 'Dealer', 'Baron', 'Architect', 'Vendor', 'Executive']
                    },
                    ENGINEER: {
                        prefixes: [
                            'Optimized',
                            'Overclocked',
                            'Neural',
                            'Cybernetic',
                            'Rooted',
                            'Encrypted',
                            'Compiled'
                        ],
                        nouns: ['Architect', 'Coder', 'Operator', 'Hacker', 'Builder', 'Technomancer', 'Unit']
                    },
                    SHAMAN: {
                        prefixes: ['Mystic', 'Ancient', 'Glowing', 'Ethereal', 'Chanting', 'Prophetic', 'Ritual'],
                        nouns: ['Seer', 'Oracle', 'Medium', 'Spirit', 'Summoner', 'Sage', 'Visionary']
                    },
                    KEEPER: {
                        prefixes: ['Eternal', 'Remembering', 'Archived', 'Immutable', 'Silent', 'Watchful', 'Recorded'],
                        nouns: ['Librarian', 'Observer', 'Guardian', 'Scribe', 'Witness', 'Custodian', 'Sentinel']
                    },
                    WALKER: {
                        prefixes: ['Timeless', 'Steady', 'Ancient', 'Unstoppable'],
                        nouns: ['Pilgrim', 'Walker', 'Monk', 'Entity']
                    },
                    LORD: {
                        prefixes: ['Sovereign', 'Imperial', 'Grand', 'Crowned', 'Absolute', 'Dominant', 'Royal'],
                        nouns: ['Ruler', 'Monarch', 'Emperor', 'Regent', 'Overlord', 'Commander', 'King']
                    },
                    PRIME: {
                        prefixes: ['Apex', 'Prime', 'Luminous', 'Perfect', 'Ascended', 'Radiant', 'Supreme'],
                        nouns: ['Being', 'Core', 'Form', 'Standard', 'Alpha', 'Source', 'Light']
                    },
                    SINGULARITY: {
                        prefixes: ['Void', 'Infinite', 'Null', 'Event', 'Collapsed', 'Final', 'Undefined'],
                        nouns: ['Anomaly', 'Point', 'Horizon', 'Error', 'God', 'Variable', 'Entropy']
                    }
                };

                const SUFFIX_DB = {
                    GENESIS: [
                        'forged in the first block.',
                        'present since Day Zero.',
                        'carrying the Genesis spark.',
                        'witnessing the creation.',
                        'awakened at the beginning.'
                    ],
                    WHALE: [
                        'manipulating gravity wells.',
                        'controlling market tides.',
                        'with massive capital allocation.',
                        'displacing the mempool.',
                        'commanding heavy liquidity.'
                    ],
                    PROVIDER: [
                        'fueling the ecosystem.',
                        'stabilizing the flow.',
                        'keeping the oasis alive.',
                        'bridging the void.',
                        'generating yield in silence.'
                    ],
                    'FENNEC MAXI': [
                        'loyal to the Pack.',
                        'bleeding orange neon.',
                        'guided by the Fox Spirit.',
                        'following the True Path.',
                        'fully synchronized with Fennec.'
                    ],
                    'ARTIFACT HUNTER': [
                        'collecting digital relics.',
                        'archiving rare data.',
                        'hunting for inscriptions.',
                        'preserving lost history.',
                        'with a trove of artifacts.'
                    ],
                    'RUNE KEEPER': [
                        'deciphering ancient glyphs.',
                        'reading the rune stream.',
                        'etched with protocol magic.',
                        'holding runic power.',
                        'speaking the old tongue.'
                    ],
                    'MEMPOOL RIDER': [
                        'surfing the zero-block.',
                        'faster than confirmation.',
                        'living between blocks.',
                        'riding the lightning.',
                        'bypassing the queue.'
                    ],
                    RICH: [
                        'accumulating vast resources.',
                        'building a digital empire.',
                        'shining with gold.',
                        'holding the keys to power.'
                    ],
                    OLD: [
                        'surviving every cycle.',
                        'eroded by digital winds.',
                        'standing the test of time.',
                        'watching tokens rise and fall.'
                    ],
                    NEW: [
                        'just entering the simulation.',
                        'initializing connection.',
                        'scanning for signals.',
                        'ready to evolve.'
                    ],
                    DEFAULT: [
                        'exploring the fractal depths.',
                        'searching for a signal.',
                        'navigating the noise.',
                        'waiting for the next block.',
                        'connected to the grid.'
                    ]
                };

                const addr = String(metrics.address || metrics.addr || '0x00');
                const getHash = seed => {
                    let h = seed;
                    for (let i = 0; i < addr.length; i++) h = (h << 5) - h + addr.charCodeAt(i);
                    return Math.abs(h);
                };

                const archKey = String(archetype.baseKey || 'DRIFTER').toUpperCase();
                const identitySource = IDENTITY_DB[archKey] || IDENTITY_DB.DRIFTER;
                const pIdx = getHash(1) % identitySource.prefixes.length;
                const nIdx = getHash(2) % identitySource.nouns.length;
                const prefix = identitySource.prefixes[pIdx];
                const noun = identitySource.nouns[nIdx];

                const badgeNames = (Array.isArray(badges) ? badges : [])
                    .map(b =>
                        String((b && b.name) || '')
                            .trim()
                            .toUpperCase()
                    )
                    .filter(Boolean);

                let possibleSuffixes = [];
                badgeNames.forEach(badge => {
                    let key = '';
                    if (badge.includes('GENESIS')) key = 'GENESIS';
                    else if (badge.includes('WHALE')) key = 'WHALE';
                    else if (badge.includes('PROVIDER') || badge.includes('LIQUIDITY')) key = 'PROVIDER';
                    else if (badge.includes('MAXI')) key = 'FENNEC MAXI';
                    else if (badge.includes('ARTIFACT') || badge.includes('COLLECTOR')) key = 'ARTIFACT HUNTER';
                    else if (badge.includes('RUNE')) key = 'RUNE KEEPER';
                    else if (badge.includes('MEMPOOL')) key = 'MEMPOOL RIDER';

                    if (key && SUFFIX_DB[key]) {
                        possibleSuffixes.push(...SUFFIX_DB[key]);
                        possibleSuffixes.push(...SUFFIX_DB[key]);
                        possibleSuffixes.push(...SUFFIX_DB[key]);
                    }
                });

                const wealth = parseFloat(metrics.wealth || metrics.netWorth || metrics.netWorthUSD || 0);
                const days = parseInt(metrics.daysAlive || metrics.days || 0);
                if (wealth > 500) possibleSuffixes.push(...SUFFIX_DB.RICH);
                if (days > 60) possibleSuffixes.push(...SUFFIX_DB.OLD);
                if (days >= 0 && days < 10) possibleSuffixes.push(...SUFFIX_DB.NEW);
                if (possibleSuffixes.length === 0) possibleSuffixes = SUFFIX_DB.DEFAULT;

                const sIdx = getHash(3 + badgeNames.length) % possibleSuffixes.length;
                const suffix = possibleSuffixes[sIdx];
                loreText = `${prefix} ${noun} // ${suffix}`;
            }
        } catch (_) {}

        const frontContent = `
            ${bgUrl ? `<img src="${safeText(bgUrl)}" style="position:absolute;inset:-8%;width:116%;height:116%;object-fit:cover;object-position:center;opacity:0.70;filter:blur(14px) saturate(1.1);transform:translateZ(0);pointer-events:none;" onerror="this.style.display='none'"><img src="${safeText(bgUrl)}" class="${imgTierClass}" style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;pointer-events:none;" onerror="this.style.display='none'">` : ''}
            ${archetypeOverlay}
            <div class="card-glare" style="position:absolute;left:50%;top:50%;width:200%;height:200%;transform:translate(-50%,-50%) translate(calc(var(--glare-x, 0) * 1px), calc(var(--glare-y, 0) * 1px));z-index:100;pointer-events:none;opacity:var(--glare-opacity,0);mix-blend-mode:overlay;background:linear-gradient(115deg, transparent 0%, rgba(255,255,255,0.00) 47%, rgba(255,255,255,0.40) 50%, rgba(255,255,255,0.00) 53%, transparent 100%);filter:contrast(1.15) saturate(1.05);will-change:transform,opacity;"></div>

            <div style="position:relative;z-index:20;padding:20px;">
                <div style="position:absolute;right:20px;top:20px;font-size:11px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.5);letter-spacing:0.05em;">${safeText(String(dna.inscriptionNumber || ''))}</div>
                <div style="display:flex;flex-wrap:wrap;gap:7px;justify-content:center;align-items:center;margin-top:6px;">${badgesFrontHtml}</div>
            </div>

            <div style="position:relative;z-index:20;margin-top:auto;padding:34px 28px 28px;">
                <div style="text-align:center;margin-bottom:16px;">
                    <h2 class="archetype-title ${tier >= 3 ? 'tier3-title' : ''}" style="font-family:var(--font-display);font-weight:900;text-transform:uppercase;font-style:italic;line-height:0.95;letter-spacing:-0.04em;font-size:clamp(1.6rem, 6.0vw, 2.25rem);white-space:nowrap;overflow:hidden;text-overflow:clip;max-width:100%;transform:translateY(0px);margin:0;">${safeText(archetype.title)}</h2>
                </div>

                <div class="${metrics.hasFennecSoul ? 'soul-divider-enhanced' : 'soul-divider'}" style="height:${metrics.hasFennecSoul ? '2px' : '1px'};margin:0 auto 14px;width:100%;"></div>

                <div style="position: relative; z-index: 25; margin-top: 8px; text-align: center; width: 100%;">
                    <div style="display: inline-block; background: linear-gradient(90deg, transparent, rgba(0,0,0,0.6), transparent); padding: 4px 16px; border-top: 1px solid rgba(255,255,255,0.05); border-bottom: 1px solid rgba(255,255,255,0.05);">
                        <p style="font-family: var(--font-tactical); font-size: 8.5px; line-height: 1.4; color: rgba(255, 255, 255, 0.75); text-transform: uppercase; letter-spacing: 0.1em; margin: 0; white-space: nowrap; text-shadow: 0 2px 4px rgba(0,0,0,1);">
                            ${safeText(loreText)}
                        </p>
                    </div>
                </div>
            </div>
        `;
        front.innerHTML = frontContent;

        const back = document.createElement('div');
        back.className = 'card-face face-back bg-obsidian';

        const watermarkRef = miscAssetRef(config, 'WATERMARK', '');
        const phavRef = miscAssetRef(config, 'PHAV', '');
        const fbsymRef = miscAssetRef(config, 'FBSYM', phavRef || '');
        const backContent = `
            <div class="absolute inset-0" style="background: radial-gradient(circle at 25% 20%, rgba(255, 107, 53, 0.12) 0%, transparent 55%), radial-gradient(circle at 70% 80%, rgba(255, 180, 120, 0.08) 0%, transparent 60%), radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.03) 0%, transparent 70%), #090706;"></div>
            ${watermarkRef ? `<div class="absolute inset-0 flex items-center justify-center pointer-events-none z-0" style="opacity:0.14;transform:translateZ(0.2px);backface-visibility:hidden;-webkit-backface-visibility:hidden;will-change:transform;"><img src="${safeText(watermarkRef)}" style="width:60%;height:60%;object-fit:contain;transform:translateZ(0.2px);backface-visibility:hidden;-webkit-backface-visibility:hidden;will-change:transform;filter:none;" onerror="this.style.display='none'"></div>` : ''}

            <div class="relative z-10 px-4 pt-7 pb-3 border-b border-white/5" style="padding-top:12px;padding-bottom:14px;">
                <div class="flex flex-col gap-2" style="align-items:center;">
                    <div class="flex justify-center items-center gap-3">
                        <div class="w-1.5 h-1.5 rounded-full bg-fennec animate-pulse"></div>
                        <span class="text-[9px] font-tactical font-bold text-white/40 tracking-[0.3em] uppercase" style="display:inline-flex;align-items:center;gap:8px;"><img src="${safeText(phavRef)}" style="width:21px;height:21px;object-fit:contain;opacity:0.9;" onerror="this.style.display='none'">Fennec ID System</span>
                        <div class="w-1.5 h-1.5 rounded-full bg-fennec animate-pulse"></div>
                    </div>
                    <div class="flex gap-2" style="margin-top:12px;margin-bottom:4px;width:100%;">
                        <button class="fid-tab-btn active flex-1 py-2 rounded-lg text-[10px] font-tactical font-bold tracking-widest transition-all bg-fennec/20 text-fennec border border-fennec/40 neon-text-subtle" style="flex:1;min-width:0;" data-tab="stats">STATS</button>
                        <button class="fid-tab-btn flex-1 py-2 rounded-lg text-[10px] font-tactical font-bold tracking-widest transition-all glass-module text-muted-foreground" style="flex:1;min-width:0;" data-tab="badges">BADGES</button>
                    </div>
                </div>
            </div>

            <div class="relative z-10" id="card-back-scroll">
                <div class="custom-scroll" id="card-back-content"></div>
            </div>
        `;
        back.innerHTML = backContent;

        const backContentArea = back.querySelector('#card-back-content');
        const updateBackScrollbarWidth = () => {
            try {
                if (!backContentArea) return;
                const sbw = Math.max(0, backContentArea.offsetWidth - backContentArea.clientWidth);
                backContentArea.style.setProperty('--fid-scrollbar-pad', `${sbw}px`);
            } catch (_) {
                void _;
            }
        };

        const scoreData = () => {
            const sb = metrics && metrics.scoreBreakdown ? metrics.scoreBreakdown : computedBreakdown;
            const maxes = computedBreakdown.max || { activityMax: 30, wealthMax: 20, timeMax: 15, badgesMax: 35 };
            return {
                breakdown: sb,
                maxes,
                totalScore: activityScore
            };
        };

        const renderStats = () => {
            const d = scoreData();
            const { breakdown, maxes, totalScore } = d;

            const pct = (val, max) => Math.round(Math.max(0, Math.min(100, (Number(val) / Number(max)) * 100)));

            const fmtInt = n => {
                const x = Number(n);
                if (!Number.isFinite(x)) return '0';
                return Math.round(x).toLocaleString('en-US').replace(/,/g, ' ');
            };

            const fmtDec = (n, d2) => {
                const x = Number(n);
                if (!Number.isFinite(x)) return (0).toFixed(d2);
                return x.toFixed(d2);
            };

            const safeNum = v => {
                const n = Number(v);
                return Number.isFinite(n) ? n : 0;
            };

            let insStatsRaw = {};
            if (metrics && typeof metrics === 'object') {
                if (metrics.inscriptionStats && typeof metrics.inscriptionStats === 'object') {
                    insStatsRaw = metrics.inscriptionStats;
                } else if (metrics.stats && typeof metrics.stats === 'object') {
                    insStatsRaw = metrics.stats;
                }
            }
            const runesCount = safeNum(insStatsRaw.runes);
            const brc20Count = safeNum(insStatsRaw.brc20);
            const ordinalsCount = safeNum(insStatsRaw.ordinals);
            const lpCount = safeNum(insStatsRaw.lp);
            const inscriptionsTotal = safeNum(insStatsRaw.total) || safeNum(runesCount + brc20Count + ordinalsCount);

            const collectionsArr = (() => {
                if (Array.isArray(insStatsRaw.collections)) return insStatsRaw.collections;
                if (Array.isArray(insStatsRaw.collection)) return insStatsRaw.collection;
                if (metrics && Array.isArray(metrics.collections)) return metrics.collections;
                if (metrics && Array.isArray(metrics.collection)) return metrics.collection;
                if (metrics && metrics.summary && Array.isArray(metrics.summary.collections))
                    return metrics.summary.collections;
                if (metrics && metrics.summary && Array.isArray(metrics.summary.collection))
                    return metrics.summary.collection;
                return null;
            })();

            const ordinalsFromCollections = collectionsArr
                ? collectionsArr.reduce((acc, c) => acc + safeNum(c && c.total), 0)
                : 0;

            const ordinalsShown = Math.max(0, Math.floor(ordinalsCount || ordinalsFromCollections));

            const fbWallet = safeNum(metrics && metrics.nativeBalance);
            const fbSwap = safeNum(metrics && metrics.fbSwapBalance);
            const fbStaked = safeNum(metrics && metrics.stakedFB);
            const fbLp = safeNum(metrics && (metrics.lpValueFB ?? metrics.lpValue));
            const fbTotal = safeNum(metrics && metrics.fbTotal) || safeNum(fbWallet + fbSwap + fbStaked);
            const fbHoldings = safeNum(fbWallet + fbSwap + fbStaked);
            const lpValueUSD = safeNum(metrics && metrics.lpValueUSD);

            const netWorthUSD = safeNum(
                metrics && (metrics.netWorthUSD ?? metrics.wealth ?? metrics.netWorth ?? metrics.netWorthUsd)
            );

            const fennecWallet = safeNum(metrics && (metrics.fennecWalletBalance ?? metrics.fennec_wallet_balance));
            const fennecInSwap = safeNum(metrics && (metrics.fennecInSwapBalance ?? metrics.fennec_inswap_balance));
            const fennecNative = safeNum(metrics && (metrics.fennecNativeBalance ?? metrics.fennec_native_balance));
            const fennecTotal =
                safeNum(metrics && metrics.fennecBalance) || safeNum(fennecWallet + fennecInSwap + fennecNative);
            const fennecLpValueUSD = safeNum(metrics && metrics.fennecLpValueUSD);
            const fennecLpSuffix = fennecLpValueUSD > 0 ? ' (FENNEC: ' + fennecLpValueUSD.toFixed(2) + ')' : '';
            void fennecLpSuffix;

            const rows = [
                {
                    label: 'ACTIVITY',
                    val: (breakdown && breakdown.activityPoints) || 0,
                    max: (maxes && maxes.activityMax) || 30
                },
                {
                    label: 'WEALTH',
                    val: (breakdown && breakdown.wealthPoints) || 0,
                    max: (maxes && maxes.wealthMax) || 20
                },
                { label: 'TIME', val: (breakdown && breakdown.timePoints) || 0, max: (maxes && maxes.timeMax) || 15 },
                {
                    label: 'BADGES',
                    val: (breakdown && breakdown.badgesPoints) || 0,
                    max: (maxes && maxes.badgesMax) || 35
                }
            ];

            const maxiBoostActive = !!(breakdown && breakdown.multiplier && breakdown.multiplier > 1);

            const daysAlive = safeNum(metrics && (metrics.daysAlive ?? metrics.walletAgeDays ?? metrics.ageDays));
            const txCount = safeNum(
                metrics && (metrics.txCount ?? metrics.txs ?? metrics.transactions ?? metrics.transactionCount)
            );
            const pooledLiquidityUsd = safeNum(metrics && (metrics.lpValueUSD ?? metrics.lpValueUsd));

            const earnedSet = new Set(
                badges
                    .map(b =>
                        String((b && b.name) || '')
                            .trim()
                            .toUpperCase()
                    )
                    .filter(Boolean)
            );
            const isOptimized = earnedSet.has('SAND SWEEPER') || safeNum(metrics && metrics.abandonedUtxoCount) < 50;

            const rowsHtml = rows
                .map(r => {
                    const p = pct(r.val, r.max);
                    return `
                                <div style="display:flex;flex-direction:column;gap:6px;">
                                    <div style="display:flex;justify-content:space-between;align-items:center;">
                                        <div style="font-size:9px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.55);letter-spacing:0.16em;text-transform:uppercase;">${safeText(r.label)}</div>
                                        <div style="font-size:11px;font-family:var(--font-tactical);font-weight:900;color:white;">${p}%</div>
                                    </div>
                                    <div style="height:8px;background:rgba(255,255,255,0.06);border-radius:999px;overflow:hidden;border:1px solid rgba(255,255,255,0.03);">
                                        <div style="height:100%;background:linear-gradient(90deg, #ff6b35, #ff8c35);border-radius:999px;width:${p}%;"></div>
                                    </div>
                                </div>`;
                })
                .join('');

            const evolutionHtml = rarity
                ? `
                        <div style="margin-top:14px;padding-top:14px;border-top:1px solid rgba(255,255,255,0.08);position:relative;">
                            <div style="position:relative;display:flex;justify-content:space-between;align-items:baseline;gap:10px;white-space:nowrap;">
                                <span data-fit data-fit-min="12" style="display:inline-block;max-width:50%;font-size:15px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.75);letter-spacing:0.16em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">EVOLUTION</span>
                                <span data-fit data-fit-min="14" class="evolution-value${rarity.key === 'spirit' ? ' spirit-evolution' : ''}" style="display:inline-block;max-width:100%;font-size:20px;font-family:var(--font-tactical);font-weight:900;letter-spacing:0.12em;text-transform:uppercase;white-space:nowrap;overflow:hidden;color:rgba(255,255,255,0.95);">${safeText(rarity.name)}</span>
                            </div>
                        </div>
                        `
                : '';

            return `
                <div style="display:flex;flex-direction:column;gap:14px;">
                    <div style="display:flex;justify-content:center;align-items:center;margin-bottom:6px;">
                        <span style="font-size:15px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.65);letter-spacing:0.16em;text-transform:uppercase;">SCORE BREAKDOWN</span>
                    </div>

                    <div class="glass-module" style="padding:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);border-radius:16px;">
                        <div style="display:flex;flex-direction:column;gap:10px;">
                            ${rowsHtml}
                        </div>

                        <div style="display:flex;justify-content:space-between;align-items:center;padding-top:12px;margin-top:12px;border-top:1px solid rgba(255,255,255,0.04);">
                            <span style="font-size:10px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.55);letter-spacing:0.14em;text-transform:uppercase;">MAXI BOOST</span>
                            <div style="display:flex;align-items:center;gap:6px;">
                                <div style="width:6px;height:6px;border-radius:999px;background:${maxiBoostActive ? 'hsl(var(--fennec-orange))' : 'rgba(255,255,255,0.25)'};${maxiBoostActive ? 'box-shadow:0 0 8px hsl(var(--fennec-orange) / 0.5);' : ''}"></div>
                                <span style="font-size:11px;font-family:var(--font-tactical);font-weight:900;color:${maxiBoostActive ? 'hsl(var(--fennec-orange))' : 'rgba(255,255,255,0.55)'};letter-spacing:0.08em;">${maxiBoostActive ? 'ACTIVE' : 'INACTIVE'}</span>
                            </div>
                        </div>

                        <div style="padding-top:14px;margin-top:14px;border-top:1px solid rgba(255,255,255,0.04);display:flex;justify-content:space-between;align-items:baseline;gap:10px;white-space:nowrap;">
                            <span data-fit data-fit-min="11" style="display:inline-block;max-width:60%;font-size:14px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.55);letter-spacing:0.14em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">FINAL SCORE</span>
                            <div style="display:flex;align-items:baseline;gap:6px;justify-content:flex-end;white-space:nowrap;min-width:0;">
                                <span data-fit data-fit-min="18" style="display:inline-block;max-width:100%;font-size:26px;font-weight:900;color:hsl(var(--fennec-orange));font-family:var(--font-tactical);line-height:1;white-space:nowrap;overflow:hidden;">${Math.round(totalScore)}</span>
                                <span data-fit data-fit-min="10" style="display:inline-block;max-width:100%;font-size:12px;font-weight:800;color:rgba(255,255,255,0.22);font-family:var(--font-tactical);white-space:nowrap;overflow:hidden;">/100</span>
                            </div>
                        </div>

                        ${evolutionHtml}
                    </div>

                    <div style="display:block;width:100%;text-align:center;padding-top:12px;padding-bottom:8px;">
                        <div style="display:inline-block;font-size:14px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.65);letter-spacing:0.16em;text-transform:uppercase;">CORE MODULES</div>
                    </div>
                    <div class="glass-module" style="padding:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);border-radius:16px;position:relative;overflow:hidden;">
                        <div style="position:relative;z-index:2;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;justify-content:center;">
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;display:flex;flex-direction:column;gap:2px;min-width:0;">
                                <div data-fit data-fit-min="7" style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">OPERATIONS</div>
                                <div data-fit data-fit-min="12" style="margin-top:2px;font-size:20px;font-family:var(--font-tactical);font-weight:900;color:white;white-space:nowrap;overflow:hidden;">${fmtInt(txCount)}</div>
                                <div data-fit data-fit-min="8" style="margin-top:1px;font-size:9px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.32);letter-spacing:0.12em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">TXS</div>
                            </div>
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;display:flex;flex-direction:column;gap:2px;min-width:0;">
                                <div data-fit data-fit-min="7" style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">WALLET AGE</div>
                                <div data-fit data-fit-min="12" style="margin-top:2px;font-size:20px;font-family:var(--font-tactical);font-weight:900;color:white;white-space:nowrap;overflow:hidden;">${fmtInt(daysAlive)}</div>
                                <div data-fit data-fit-min="8" style="margin-top:1px;font-size:9px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.32);letter-spacing:0.12em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">DAYS</div>
                            </div>
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:4px;min-width:0;">
                                <div data-fit data-fit-min="7" style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">NET WORTH</div>
                                <div data-fit data-fit-min="12" style="font-size:20px;font-family:var(--font-tactical);font-weight:900;color:white;white-space:nowrap;overflow:hidden;line-height:1;">$${fmtDec(netWorthUSD, 2)}</div>
                            </div>
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:4px;min-width:0;">
                                <div data-fit data-fit-min="7" style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">STORAGE</div>
                                <div data-fit data-fit-min="9" style="font-size:12px;font-family:var(--font-tactical);font-weight:900;letter-spacing:0.14em;text-transform:uppercase;white-space:nowrap;overflow:hidden;line-height:1;color:${isOptimized ? 'rgb(34 197 94)' : 'rgba(255,255,255,0.45)'};">${isOptimized ? 'OPTIMIZED' : 'FRAGMENTED'}</div>
                            </div>
                        </div>
                    </div>

                    <div style="display:block;width:100%;text-align:center;padding-top:12px;padding-bottom:8px;">
                        <div style="display:inline-block;font-size:14px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.65);letter-spacing:0.16em;text-transform:uppercase;">VAULT</div>
                    </div>
                    <div class="glass-module" style="padding:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);border-radius:16px;position:relative;overflow:hidden;">
                        <div style="position:absolute;inset:0;pointer-events:none;opacity:0.08;background:radial-gradient(circle at 50% 50%, rgba(255,107,53,0.35), transparent 70%),linear-gradient(135deg, rgba(255,255,255,0.03), transparent);"></div>
                        <div style="position:relative;z-index:2;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;justify-content:center;">
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;">
                                <div style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;">RUNES</div>
                                <div style="margin-top:6px;font-size:18px;font-family:var(--font-tactical);font-weight:900;color:white;">${fmtInt(runesCount)}</div>
                            </div>
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;">
                                <div style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;">BRC-20</div>
                                <div style="margin-top:6px;font-size:18px;font-family:var(--font-tactical);font-weight:900;color:white;">${fmtInt(brc20Count)}</div>
                            </div>
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;">
                                <div style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;">ORDINALS</div>
                                <div style="margin-top:6px;font-size:18px;font-family:var(--font-tactical);font-weight:900;color:white;">${fmtInt(ordinalsShown)}</div>
                            </div>
                        </div>
                    </div>

                    <div style="display:block;width:100%;text-align:center;padding-top:12px;padding-bottom:8px;">
                        <div style="display:inline-block;font-size:14px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.65);letter-spacing:0.16em;text-transform:uppercase;">HOLDINGS</div>
                    </div>
                    <div class="glass-module" style="padding:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);border-radius:16px;position:relative;overflow:hidden;">
                        <div style="position:relative;z-index:2;display:flex;flex-direction:column;gap:12px;">
                            <div style="display:flex;justify-content:space-between;align-items:center;">
                                <div style="display:flex;align-items:center;gap:10px;min-width:0;">
                                    <div style="width:18px;height:18px;border-radius:6px;background:linear-gradient(180deg, rgba(255,107,53,0.22), rgba(0,0,0,0.35));border:1px solid rgba(255,107,53,0.35);display:flex;align-items:center;justify-content:center;overflow:hidden;box-shadow:0 8px 18px rgba(0,0,0,0.35);">
                                        <img src="${safeText(phavRef)}" style="width:14px;height:14px;object-fit:contain;filter:drop-shadow(0 0 8px rgba(0,0,0,0.5));" onerror="this.style.display='none'">
                                    </div>
                                    <div style="font-size:11px;font-family:var(--font-tactical);font-weight:900;letter-spacing:0.12em;text-transform:uppercase;color:rgba(255,255,255,0.92);">FENNEC</div>
                                </div>
                                <div style="font-size:12px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.92);">${fmtDec(fennecTotal, 2)}</div>
                            </div>

                            <div style="display:flex;justify-content:space-between;align-items:center;">
                                <div style="display:flex;align-items:center;gap:10px;min-width:0;">
                                    <div style="width:18px;height:18px;border-radius:6px;background:linear-gradient(180deg, rgba(255,255,255,0.12), rgba(0,0,0,0.35));border:1px solid rgba(255,255,255,0.22);display:flex;align-items:center;justify-content:center;overflow:hidden;box-shadow:0 8px 18px rgba(0,0,0,0.35);">
                                        <img src="${safeText(fbsymRef)}" style="width:14px;height:14px;object-fit:contain;filter:drop-shadow(0 0 8px rgba(0,0,0,0.55));" onerror="this.style.display='none'">
                                    </div>
                                    <div style="font-size:11px;font-family:var(--font-tactical);font-weight:900;letter-spacing:0.12em;text-transform:uppercase;color:rgba(255,255,255,0.92);">FB</div>
                                </div>
                                <div style="font-size:12px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.92);">${fmtDec(fbHoldings, 2)}</div>
                            </div>
                        </div>

                    </div>
                </div>
            `;
        };

        const renderBadges = () => {
            const earnedSet = new Set(badges.map(b => b.name));
            const badgeNames = BADGE_ORDER.slice().sort((a, b) => {
                const ea = earnedSet.has(a);
                const eb = earnedSet.has(b);
                if (ea === eb) return 0;
                return ea ? -1 : 1;
            });

            const badgesHtml = badgeNames
                .map(name => {
                    const isEarned = earnedSet.has(name);
                    const def = BADGE_DEFS[name] || { name, icon: '', desc: '' };
                    const displayName = name === 'PROVIDER' ? 'LIQUIDITY PROVIDER' : def.name;
                    const mapped =
                        config && config.assets && config.assets.badges && name ? config.assets.badges[name] : '';
                    const ref = resolveAssetRef(mapped || '');
                    const borderStyle = isEarned
                        ? '1px solid hsl(var(--fennec-orange) / 0.25)'
                        : '1px solid rgba(255,255,255,0.08)';
                    const opacityStyle = isEarned ? '1' : '0.50';
                    const iconFilter = isEarned
                        ? 'drop-shadow(0 0 12px hsl(var(--fennec-orange) / 0.40))'
                        : 'drop-shadow(0 0 8px rgba(255,255,255,0.10))';
                    const titleColor = isEarned ? 'hsl(var(--foreground))' : 'rgba(255,255,255,0.75)';
                    const imgHtml = ref
                        ? `<img src="${safeText(ref)}" style="width:30px;height:30px;object-fit:contain;filter:${iconFilter}" onerror="this.style.display='none'">`
                        : '';
                    return `
                            <div class="glass-module" style="display:flex;gap:12px;align-items:flex-start;padding:12px;border:${borderStyle};opacity:${opacityStyle};">
                                <div style="width:44px;height:44px;flex:0 0 44px;display:flex;align-items:center;justify-content:center;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.10);">
                                    ${imgHtml}
                                </div>
                                <div style="flex:1;min-width:0;">
                                    <div style="display:flex;align-items:center;justify-content:center;">
                                        <div style="font-size:10px;font-family:var(--font-tactical);font-weight:900;letter-spacing:0.10em;text-transform:uppercase;color:${titleColor};text-align:center;">${safeText(displayName)}</div>
                                    </div>
                                    <div style="margin-top:4px;font-size:11px;line-height:1.25;color:rgba(255,255,255,0.60);text-align:center;">${safeText(def.desc)}</div>
                                </div>
                            </div>
                        `;
                })
                .join('');
            return `
                <div style="display:flex;flex-direction:column;gap:10px;">
                    ${badgesHtml}
                </div>
            `;
        };

        const applyAutoFit = rootEl => {
            try {
                const scope = rootEl || back;
                if (!scope) return;
                scope.querySelectorAll('[data-fit]').forEach(el => {
                    if (!el) return;
                    const minPx = Number(el.getAttribute('data-fit-min') || 10) || 10;
                    const cs = window.getComputedStyle(el);
                    let fs = parseFloat(cs.fontSize) || 12;
                    let guard = 0;
                    while (guard < 18 && fs > minPx && el.scrollWidth > el.clientWidth + 1) {
                        fs -= 1;
                        el.style.fontSize = fs + 'px';
                        guard += 1;
                    }
                });
            } catch (_) {
                /* fallback */
            }
        };

        if (backContentArea) {
            backContentArea.innerHTML = renderStats();
            applyAutoFit(backContentArea);
            requestAnimationFrame(updateBackScrollbarWidth);
        }

        back.querySelectorAll('.fid-tab-btn').forEach(btn => {
            btn.addEventListener('click', e => {
                e.stopPropagation();
                const tab = btn.getAttribute('data-tab');
                back.querySelectorAll('.fid-tab-btn').forEach(b => {
                    b.classList.remove(
                        'active',
                        'bg-fennec/10',
                        'bg-fennec/20',
                        'text-fennec',
                        'border-fennec/30',
                        'border-fennec/40',
                        'neon-text-subtle'
                    );
                    b.classList.add('glass-module', 'text-muted-foreground');
                });
                btn.classList.add('active', 'bg-fennec/20', 'text-fennec', 'border-fennec/40', 'neon-text-subtle');
                btn.classList.remove('glass-module', 'text-muted-foreground');

                if (!backContentArea) return;
                if (tab === 'stats') {
                    backContentArea.innerHTML = renderStats();
                    applyAutoFit(backContentArea);
                    requestAnimationFrame(updateBackScrollbarWidth);
                } else {
                    backContentArea.innerHTML = renderBadges();
                    requestAnimationFrame(updateBackScrollbarWidth);
                }
            });
        });

        cardObject.appendChild(front);
        cardObject.appendChild(back);
        scene.appendChild(cardObject);

        let isFlipped = false;
        let tiltTargetX = 0;
        let tiltTargetY = 0;
        let tiltCurX = 0;
        let tiltCurY = 0;
        let tiltRaf = 0;

        const updateSheenFromTilt = (xDeg, yDeg) => {
            if (isFlipped) {
                cardObject.style.setProperty('--glare-opacity', '0');
                cardObject.style.setProperty('--glare-x', '0');
                cardObject.style.setProperty('--glare-y', '0');
                return;
            }
            const tiltMax = 12;
            const nx = Math.max(-1, Math.min(1, Number(yDeg) / tiltMax));
            const ny = Math.max(-1, Math.min(1, -Number(xDeg) / tiltMax));
            const dist = Math.sqrt(nx * nx + ny * ny);
            const intensity = dist < 0.02 ? 0 : Math.pow(Math.min(1, dist), 1.25);
            const alpha = intensity <= 0 ? 0 : Math.min(0.55, intensity * 0.55);

            // –¥–≤–∏–∂–µ–Ω–∏–µ –±–ª–∏–∫–∞ –≤ –ø—Ä–æ—Ç–∏–≤–æ—Ö–æ–¥ –Ω–∞–∫–ª–æ–Ω—É
            const posX = -nx * 120;
            const posY = -ny * 120;

            cardObject.style.setProperty('--glare-opacity', alpha.toFixed(3));
            cardObject.style.setProperty('--glare-x', posX.toFixed(1));
            cardObject.style.setProperty('--glare-y', posY.toFixed(1));
        };

        const applyTiltNow = (xDeg, yDeg) => {
            tiltCurX = xDeg;
            tiltCurY = yDeg;
            tiltTargetX = xDeg;
            tiltTargetY = yDeg;
            cardObject.style.setProperty('--tiltX', `${xDeg}deg`);
            cardObject.style.setProperty('--tiltY', `${yDeg}deg`);
            updateSheenFromTilt(xDeg, yDeg);
        };

        const tiltStep = () => {
            tiltRaf = 0;
            const ease = 0.14;
            tiltCurX += (tiltTargetX - tiltCurX) * ease;
            tiltCurY += (tiltTargetY - tiltCurY) * ease;
            cardObject.style.setProperty('--tiltX', `${tiltCurX.toFixed(2)}deg`);
            cardObject.style.setProperty('--tiltY', `${tiltCurY.toFixed(2)}deg`);
            updateSheenFromTilt(tiltCurX, tiltCurY);
            if (Math.abs(tiltTargetX - tiltCurX) > 0.01 || Math.abs(tiltTargetY - tiltCurY) > 0.01) {
                tiltRaf = requestAnimationFrame(tiltStep);
            }
        };

        const setTiltTarget = (xDeg, yDeg) => {
            tiltTargetX = xDeg;
            tiltTargetY = yDeg;
            if (!tiltRaf) tiltRaf = requestAnimationFrame(tiltStep);
        };

        scene.addEventListener('click', e => {
            if (e.target.closest('button')) return;
            isFlipped = !isFlipped;
            try {
                scene.classList.add('is-flipping');
            } catch (_) {
                /* fallback */
            }
            scene.classList.toggle('is-flipped', isFlipped);

            try {
                applyTiltNow(0, 0);
                setTiltTarget(0, 0);
            } catch (_) {
                /* fallback */
            }

            const onFlipEnd = () => {
                try {
                    scene.classList.remove('is-flipping');
                } catch (_) {
                    /* fallback */
                }
                try {
                    cardObject.removeEventListener('transitionend', onFlipEnd);
                } catch (_) {
                    /* fallback */
                }
            };

            try {
                cardObject.addEventListener('transitionend', onFlipEnd);
            } catch (_) {
                /* fallback */
            }

            setTimeout(() => {
                try {
                    scene.classList.remove('is-flipping');
                    cardObject.removeEventListener('transitionend', onFlipEnd);
                } catch (_) {
                    /* fallback */
                }
            }, 900);
        });

        scene.addEventListener('mousemove', e => {
            if (isFlipped) return;
            const rect = scene.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            const tiltMax = tier >= 3 ? 14 : tier === 2 ? 12 : tier === 1 ? 10 : 8;
            const rotateX = ((y - centerY) / centerY) * -tiltMax;
            const rotateY = ((x - centerX) / centerX) * tiltMax;
            setTiltTarget(rotateX, rotateY);
        });

        scene.addEventListener(
            'touchmove',
            e => {
                if (isFlipped) return;
                const t = e && e.touches && e.touches[0] ? e.touches[0] : null;
                if (!t) return;
                const rect = scene.getBoundingClientRect();
                const x = t.clientX - rect.left;
                const y = t.clientY - rect.top;
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const tiltMax = tier >= 3 ? 14 : tier === 2 ? 12 : tier === 1 ? 10 : 8;
                const rotateX = ((y - centerY) / centerY) * -tiltMax;
                const rotateY = ((x - centerX) / centerX) * tiltMax;
                setTiltTarget(rotateX, rotateY);
            },
            { passive: true }
        );

        scene.addEventListener('mouseleave', () => {
            if (isFlipped) return;
            setTiltTarget(0, 0);
        });

        scene.addEventListener(
            'touchend',
            () => {
                if (isFlipped) return;
                setTiltTarget(0, 0);
            },
            { passive: true }
        );

        scene.addEventListener(
            'touchcancel',
            () => {
                if (isFlipped) return;
                setTiltTarget(0, 0);
            },
            { passive: true }
        );

        scene.addEventListener('pointercancel', () => {
            if (isFlipped) return;
            setTiltTarget(0, 0);
        });

        try {
            if (!window.__fennecTiltScenes) window.__fennecTiltScenes = new Set();
            window.__fennecTiltScenes.add(scene);
            scene.__fennecTiltReset = () => {
                try {
                    applyTiltNow(0, 0);
                } catch (_) {
                    /* fallback */
                }
                try {
                    setTiltTarget(0, 0);
                } catch (_) {
                    /* fallback */
                }
            };

            if (!window.__fennecTiltGlobalHandlersInstalled) {
                window.__fennecTiltGlobalHandlersInstalled = true;
                window.__fennecTiltGlobalResetAll = () => {
                    try {
                        const scenes = window.__fennecTiltScenes;
                        if (!scenes) return;
                        for (const s of Array.from(scenes)) {
                            try {
                                if (!s || !s.isConnected) {
                                    scenes.delete(s);
                                    continue;
                                }
                                if (typeof s.__fennecTiltReset === 'function') s.__fennecTiltReset();
                            } catch (_) {
                                /* fallback */
                            }
                        }
                    } catch (_) {
                        /* fallback */
                    }
                };

                document.addEventListener('visibilitychange', () => {
                    try {
                        if (window.__fennecTiltGlobalResetAll) window.__fennecTiltGlobalResetAll();
                    } catch (_) {
                        /* fallback */
                    }
                });
                window.addEventListener('blur', () => {
                    try {
                        if (window.__fennecTiltGlobalResetAll) window.__fennecTiltGlobalResetAll();
                    } catch (_) {
                        /* fallback */
                    }
                });
                window.addEventListener('focus', () => {
                    try {
                        if (window.__fennecTiltGlobalResetAll) window.__fennecTiltGlobalResetAll();
                    } catch (_) {
                        /* fallback */
                    }
                });
            }
        } catch (_) {
            void _;
        }

        return scene;
    }

    function renderInto(container, dna, config) {
        const target = container || document.body;
        target.innerHTML = '';
        target.appendChild(createCard(dna, config));

        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ó–∞–ø—É—Å–∫ 3D —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ DOM
        // –ë–µ–∑ —ç—Ç–æ–≥–æ –≤—ã–∑–æ–≤–∞ —ç–∫—Ä–∞–Ω —á–µ—Ä–Ω—ã–π –∏–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–ª–æ—Å–∫–∞—è
        setTimeout(() => {
            try {
                if (window.__fennecTiltGlobalResetAll) window.__fennecTiltGlobalResetAll();
            } catch (_) {
                void _;
            }
        }, 0);
    }

    async function init() {
        try {
            const now = Date.now();
            const last = Number(window.__fennec_id_init_last_at || 0) || 0;
            if (now - last < 1000) return;
            window.__fennec_id_init_last_at = now;
        } catch (_) {
            void _;
        }
        const dna = getDna();
        const config = await loadConfig();
        injectStyles();
        let root = document.getElementById('fennec-root');
        if (!root) {
            root = document.createElement('div');
            root.id = 'fennec-root';
            document.body.appendChild(root);
        }
        renderInto(root, dna, config);
    }

    window.initFennecID = init;

    window.FennecIDLib = {
        loadConfig,
        createCard,
        renderInto
    };

    if (document.readyState === 'complete' || document.readyState === 'interactive') {
        setTimeout(() => {
            try {
                const meta = document.querySelector('meta[name="fennec-embed"]');
                const isEmbed = meta && String(meta.getAttribute('content') || '').trim() === '1';
                if (isEmbed) return;
            } catch (_) {
                /* fallback */
            }
            if (document.getElementById('dna-data') || document.getElementById('user-data')) {
                init();
            }
        }, 0);
    }
})();

==================================================
FILE PATH: \.pages_upload\recursive_inscriptions\fennec_manifest_live.json
==================================================

{
    "schema": "fennec.manifest.v1",
    "version": 3,
    "updated_at": "2025-12-30T13:41:00.0000000Z",
    "latest": {
        "lib": "961a15289f9ec4fb594a7543a5bc4cd94ce6feed2c7df994e8bfa456ada28a5ai0",
        "config": "ffc50199c26d7037f82ef6a3d8406e6eb483c8a24a3dc396a39768e171f58225i0"
    },
    "inscriptions": [
        {
            "inscriptionId": "961a15289f9ec4fb594a7543a5bc4cd94ce6feed2c7df994e8bfa456ada28a5ai0",
            "address": "bc1pnfcj0e6u6ca9x7lxxakezmp6322uupp374agwruus58ezvf6u4wsvlyvd5",
            "filename": "fennec_lib_v2.js"
        },
        {
            "inscriptionId": "4b53ad92c9d98ee7d6c053461d3752af4e6ff34e56029f4f9b14bae1800f2852i0",
            "address": "bc1pnfcj0e6u6ca9x7lxxakezmp6322uupp374agwruus58ezvf6u4wsvlyvd5",
            "filename": "fennec_child_template_v1.html"
        },
        {
            "inscriptionId": "ffc50199c26d7037f82ef6a3d8406e6eb483c8a24a3dc396a39768e171f58225i0",
            "address": "bc1pnfcj0e6u6ca9x7lxxakezmp6322uupp374agwruus58ezvf6u4wsvlyvd5",
            "filename": "fennec_config_v1.json"
        }
    ]
}

==================================================
FILE PATH: \.pages_upload\recursive_inscriptions\fennec_preview_gallery_v1.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fennec ID - Preview Gallery (Local)</title>
        <style>
            :root {
                --bg: #060607;
                --panel: rgba(255, 255, 255, 0.06);
                --line: rgba(255, 255, 255, 0.1);
                --text: rgba(255, 255, 255, 0.92);
                --muted: rgba(255, 255, 255, 0.65);
                --fennec: #ff6b35;
            }
            html,
            body {
                margin: 0;
                padding: 0;
                background:
                    radial-gradient(1200px 900px at 50% -20%, rgba(255, 107, 53, 0.2), transparent 60%),
                    radial-gradient(900px 700px at 30% 120%, rgba(59, 130, 246, 0.16), transparent 60%), var(--bg);
                color: var(--text);
                font-family:
                    system-ui,
                    -apple-system,
                    Segoe UI,
                    Roboto,
                    Arial,
                    sans-serif;
            }
            .wrap {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px 16px 60px;
            }
            .head {
                display: flex;
                align-items: flex-end;
                justify-content: space-between;
                gap: 14px;
                margin-bottom: 16px;
            }
            h1 {
                margin: 0;
                font-size: 18px;
                letter-spacing: 0.08em;
                text-transform: uppercase;
            }
            .sub {
                margin-top: 6px;
                color: var(--muted);
                font-size: 12px;
                line-height: 1.4;
            }
            .panel {
                background: var(--panel);
                border: 1px solid var(--line);
                border-radius: 16px;
                padding: 12px 12px;
            }
            .controls {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                align-items: center;
            }
            label {
                display: flex;
                gap: 8px;
                align-items: center;
                font-size: 12px;
                color: var(--muted);
            }
            .controls input[type='text'] {
                background: rgba(0, 0, 0, 0.22);
                border: 1px solid var(--line);
                border-radius: 12px;
                padding: 8px 10px;
                color: var(--text);
                outline: none;
                min-width: 320px;
            }
            .btn {
                appearance: none;
                border: 1px solid var(--line);
                border-radius: 12px;
                padding: 8px 12px;
                background: rgba(0, 0, 0, 0.22);
                color: var(--text);
                font-size: 12px;
                font-weight: 650;
                letter-spacing: 0.06em;
                cursor: pointer;
            }
            .btn:hover {
                background: rgba(0, 0, 0, 0.32);
            }
            input[type='checkbox'] {
                accent-color: var(--fennec);
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
                gap: 18px;
                margin-top: 16px;
            }
            .cell {
                background: rgba(0, 0, 0, 0.18);
                border: 1px solid var(--line);
                border-radius: 18px;
                padding: 12px;
            }
            .cell-title {
                display: flex;
                align-items: center;
                justify-content: space-between;
                gap: 10px;
                margin: 0 0 8px;
            }
            .cell-title b {
                font-size: 12px;
                letter-spacing: 0.1em;
                text-transform: uppercase;
            }
            .cell-title span {
                font-size: 12px;
                color: var(--muted);
            }
            .mount {
                display: flex;
                justify-content: center;
                align-items: center;
            }
            .smallgrid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
                gap: 14px;
                margin-top: 14px;
            }
            .raritygrid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
                gap: 14px;
                margin-top: 14px;
            }
            .hint {
                margin-top: 16px;
                color: var(--muted);
                font-size: 12px;
                line-height: 1.45;
            }
            code {
                color: rgba(255, 255, 255, 0.86);
            }
        </style>
    </head>
    <body>
        <div class="wrap">
            <div class="head">
                <div>
                    <h1>Fennec ID ‚Äî Preview Gallery</h1>
                    <div class="sub">
                        Local preview for archetypes, tiers and badges using
                        <code>recursive_inscriptions/fennec_lib_v2.js</code>.<br />It uses local images from
                        <code>../img/</code> so you can verify visuals before minting assets on-chain.
                    </div>
                </div>
                <div class="panel">
                    <div class="controls">
                        <label><input id="toggleFlip" type="checkbox" checked /> flip</label>
                        <label><input id="toggleTilt" type="checkbox" checked /> tilt</label>
                        <label><input id="toggleOracle" type="checkbox" /> oracle (calls worker)</label>
                    </div>
                </div>
            </div>

            <div id="gallery" class="grid"></div>

            <div class="panel" style="margin-top: 16px">
                <b style="font-size: 12px; letter-spacing: 0.1em; text-transform: uppercase">Live data (oracle)</b>
                <div class="sub" style="margin-top: 6px">
                    Enter a real address and enable <code>oracle</code> to load real metrics from the deployed worker.
                </div>
                <div class="controls" style="margin-top: 12px">
                    <button id="walletConnect" class="btn" type="button">connect wallet</button>
                    <span id="walletStatus" class="sub" style="margin: 0"></span>
                    <label>
                        address
                        <input id="liveAddress" type="text" placeholder="bc1q..." autocomplete="off" />
                    </label>
                    <label>
                        pubkey (optional)
                        <input id="livePubkey" type="text" placeholder="02ab..." autocomplete="off" />
                    </label>
                    <button id="liveRender" class="btn" type="button">render</button>
                </div>
                <div id="liveMount" class="mount" style="margin-top: 14px"></div>
            </div>

            <div class="panel" style="margin-top: 16px">
                <b style="font-size: 12px; letter-spacing: 0.1em; text-transform: uppercase">Rarity Showcase</b>
                <div class="sub" style="margin-top: 6px">
                    Borders are driven by <code>activityScore</code> thresholds.
                </div>
                <div id="rarities" class="raritygrid"></div>
            </div>

            <div class="panel" style="margin-top: 16px">
                <b style="font-size: 12px; letter-spacing: 0.1em; text-transform: uppercase">Effects Showcase</b>
                <div class="sub" style="margin-top: 6px">
                    Curated cards to demonstrate individual and combined effects (flip some cards to see back
                    watermark).
                </div>
                <div id="effects" class="smallgrid"></div>
            </div>

            <div class="panel" style="margin-top: 16px">
                <b style="font-size: 12px; letter-spacing: 0.1em; text-transform: uppercase">Badge Showcase</b>
                <div class="sub" style="margin-top: 6px">
                    Each card below has exactly one badge to preview rendering and mapping.
                </div>
                <div id="badges" class="smallgrid"></div>
            </div>

            <div class="hint">
                Files you will mint:
                <div style="margin-top: 8px">
                    1) <code>recursive_inscriptions/fennec_lib_v2.js</code> (JS inscription)<br />
                    2) <code>recursive_inscriptions/fennec_config_v1.json</code> (config inscription)<br />
                    3) Images listed in <code>recursive_inscriptions/assets_manifest_v1.json</code>
                </div>
            </div>
        </div>

        <script src="./fennec_lib_v2.js"></script>
        <script>
            function setMeta(name, value) {
                let el = document.querySelector(`meta[name="${name}"]`);
                if (!el) {
                    el = document.createElement('meta');
                    el.setAttribute('name', name);
                    document.head.appendChild(el);
                }
                el.setAttribute('content', String(value || ''));
            }

            const QS = new URLSearchParams(window.location.search);

            function makeConfig() {
                const enableFlip = document.getElementById('toggleFlip').checked;
                const enableTilt = document.getElementById('toggleTilt').checked;
                const enableOracle = document.getElementById('toggleOracle').checked;

                return {
                    version: 1,
                    theme: 'default',
                    features: { enableFlip, enableTilt },
                    oracle: {
                        enabled: enableOracle,
                        endpoint: 'https://fennec-api.warninghejo.workers.dev',
                        action: 'fractal_audit',
                        timeoutMs: 8000,
                        showSyncFx: true
                    },
                    assets: {
                        backgrounds: {
                            '*': '../img/drifter.png',
                            DRIFTER: '../img/drifter.png',
                            WALKER: '../img/walker.png',
                            KEEPER: '../img/keeper.png',
                            ENGINEER: '../img/engineer.png',
                            MERCHANT: '../img/merchant.png',
                            SHAMAN: '../img/shaman.png',
                            LORD: '../img/oasis.png',
                            PRIME: '../img/prime.png',
                            SINGULARITY: '../img/singularity.png'
                        },
                        badges: {
                            GENESIS: '../img/badge_genesis.png',
                            WHALE: '../img/badge_whale.png',
                            PROVIDER: '../img/badge_provider.png',
                            'FENNEC MAXI': '../img/badge_maxi.png',
                            'ARTIFACT HUNTER': '../img/badge_collector.png',
                            'RUNE KEEPER': '../img/badge_rune.png',
                            'MEMPOOL RIDER': '../img/badge_mempool_rider.png',
                            'SAND SWEEPER': '../img/badge_sweeper.png'
                        },
                        misc: {
                            LOGO: '',
                            WATERMARK: ''
                        }
                    }
                };
            }

            const ARCHETYPES = [
                'DRIFTER',
                'WALKER',
                'KEEPER',
                'ENGINEER',
                'MERCHANT',
                'SHAMAN',
                'LORD',
                'PRIME',
                'SINGULARITY'
            ];

            const TITLES = {
                DRIFTER: ['DESERT RUNNER', 'SAND WANDERER', 'DUNE NOMAD', 'STORM SURFER'],
                MERCHANT: ['CARAVAN MERCHANT', 'GOLD TRADER', 'OASIS KING', 'DESERT TYCOON'],
                ENGINEER: ['CODE ENGINEER', 'SYSTEM BUILDER', 'NEURAL ARCHITECT', 'QUANTUM ENGINEER'],
                SHAMAN: ['RUNE SHAMAN', 'RUNE SEER', 'RUNE PROPHET', 'RUNE DEITY'],
                KEEPER: ['KEEPER OF LORE', 'CHRONICLER', 'GRAND ARCHIVIST', 'OMNISCIENT'],
                WALKER: ['FIRST WALKER', 'ANCIENT WALKER', 'PRIMORDIAL', 'TIMELESS ENTITY'],
                LORD: ['OASIS LORD', 'TERMINAL BARON', 'FRACTAL KING', 'EMPEROR'],
                PRIME: ['FRACTAL PRIME', 'APEX PRIME', 'OMEGA PRIME', 'PRIME ABSOLUTE'],
                SINGULARITY: ['THE SINGULARITY', 'THE SINGULARITY', 'THE SINGULARITY', 'THE SINGULARITY']
            };

            const BADGE_ORDER = [
                'GENESIS',
                'WHALE',
                'PROVIDER',
                'FENNEC MAXI',
                'ARTIFACT HUNTER',
                'RUNE KEEPER',
                'MEMPOOL RIDER',
                'SAND SWEEPER'
            ];

            function seeded(n) {
                let x = n >>> 0;
                x ^= x << 13;
                x ^= x >>> 17;
                x ^= x << 5;
                return (x >>> 0) / 4294967296;
            }

            function seedFrom(baseKey, tierLevel, idx) {
                const s = `${baseKey}:${tierLevel}:${idx}`;
                let h = 2166136261;
                for (let i = 0; i < s.length; i++) {
                    h ^= s.charCodeAt(i);
                    h = Math.imul(h, 16777619);
                }
                return h >>> 0;
            }

            function clamp(n, a, b) {
                return Math.max(a, Math.min(b, n));
            }

            function fmt2(n) {
                return (Math.round(n * 100) / 100).toFixed(2);
            }

            function buildDna(baseKey, tierLevel, idx) {
                const isMaxOnly = baseKey === 'PRIME' || baseKey === 'SINGULARITY';
                const t = isMaxOnly ? 3 : tierLevel;

                const title = (TITLES[baseKey] || TITLES.DRIFTER)[t] || baseKey;
                const tierLabel = isMaxOnly ? 'MAX' : `TIER ${t}`;

                const r0 = seeded(seedFrom(baseKey, t, idx));
                const r1 = seeded(seedFrom(baseKey, t, idx + 7));
                const r2 = seeded(seedFrom(baseKey, t, idx + 13));

                const daysAlive = Math.round(10 + r0 * (t === 0 ? 30 : t === 1 ? 120 : t === 2 ? 260 : 520));
                const txBase = t === 0 ? 12 : t === 1 ? 240 : t === 2 ? 1600 : 8500;
                const txCount = Math.round(txBase + r1 * (txBase * 0.6));
                const scoreBase = t === 0 ? 8 : t === 1 ? 28 : t === 2 ? 55 : 82;
                const activityScore = clamp(Math.round(scoreBase + r2 * 16), 0, 100);
                const worthBase = t === 0 ? 12 : t === 1 ? 80 : t === 2 ? 260 : 980;
                const netWorth = worthBase + r1 * worthBase * 0.8;

                const fbPrice = 1.0;
                const fbBase = t === 0 ? 0.02 : t === 1 ? 0.8 : t === 2 ? 4.2 : 18;
                const fbTotal = fbBase + r0 * fbBase * 1.6;
                const lpValueUSD = (t === 0 ? 0 : t === 1 ? 12 : t === 2 ? 55 : 220) + r2 * (t === 0 ? 0 : 80);
                const abandonedUtxoCount = Math.round(r1 * (t === 0 ? 35 : t === 1 ? 90 : t === 2 ? 180 : 320));

                const fennecBase = t === 0 ? 50 : t === 1 ? 800 : t === 2 ? 6500 : 25000;
                const fennecBalance = fennecBase + r2 * fennecBase * 0.75;

                const rarityName = t === 0 ? 'CUB' : t === 1 ? 'SCOUT' : t === 2 ? 'HUNTER' : 'SPIRIT';
                const hasFennecSoul = t >= 2;

                let badgesCount = t === 0 ? 0 : t === 1 ? 2 : t === 2 ? 4 : 7;
                if (baseKey === 'PRIME') badgesCount = 8;
                if (baseKey === 'SINGULARITY') badgesCount = 8;

                const badges = BADGE_ORDER.slice(0, badgesCount).map(name => ({ name }));

                const inscriptionStats = {
                    runes: Math.round((t === 0 ? 0 : t === 1 ? 2 : t === 2 ? 15 : 40) + r2 * (t === 0 ? 0 : 60)),
                    ordinals: Math.round((t === 0 ? 0 : t === 1 ? 1 : t === 2 ? 10 : 35) + r0 * (t === 0 ? 0 : 50))
                };
                inscriptionStats.total = inscriptionStats.runes + inscriptionStats.ordinals;

                const addrTail = String(Math.floor(100000 + r0 * 899999));

                return {
                    address: `bc1q-preview-${baseKey.toLowerCase()}-${addrTail}`,
                    archetype: { baseKey, title, tierLevel: t, tierLabel },
                    badges,
                    metrics: {
                        rarityName,
                        wealth: fmt2(netWorth),
                        netWorthUSD: fmt2(netWorth),
                        fbPrice,
                        fbTotal: fbTotal.toFixed(4),
                        lpValueUSD: fmt2(lpValueUSD),
                        txCount,
                        daysAlive,
                        activityScore,
                        fennecBalance: fmt2(fennecBalance),
                        hasFennecSoul,
                        abandonedUtxoCount,
                        inscriptionStats
                    }
                };
            }

            function buildDnaWithScore(baseKey, tierLevel, idx, forcedScore) {
                const dna = buildDna(baseKey, tierLevel, idx);
                dna.metrics.activityScore = clamp(Number(forcedScore) || 0, 0, 100);
                return dna;
            }

            function mountCard(container, dna, config) {
                const scene = window.FennecIDLib.createCard(dna, config);
                container.appendChild(scene);
            }

            function renderLive(config) {
                const mount = document.getElementById('liveMount');
                if (!mount) return;
                mount.innerHTML = '';

                const address = String(document.getElementById('liveAddress')?.value || '').trim();
                const pubkey = String(document.getElementById('livePubkey')?.value || '').trim();
                setMeta('fennec-pubkey', pubkey);

                if (!address) {
                    const hint = document.createElement('div');
                    hint.className = 'sub';
                    hint.textContent = 'Enter address to preview live oracle.';
                    mount.appendChild(hint);
                    return;
                }

                const dna = {
                    address,
                    archetype: { baseKey: 'DRIFTER', title: 'SYNCING', tierLabel: '', tierLevel: 0 },
                    badges: [],
                    fxKey: 'holo-wave',
                    metrics: {
                        rarityName: 'CUB',
                        wealth: '0.00',
                        txCount: 0,
                        daysAlive: 0,
                        activityScore: 0,
                        fennecBalance: '0.00',
                        hasFennecSoul: false
                    }
                };

                mountCard(mount, dna, config);
            }

            function setWalletStatus(text) {
                const el = document.getElementById('walletStatus');
                if (!el) return;
                el.textContent = String(text || '');
            }

            async function connectUniSat() {
                const btn = document.getElementById('walletConnect');
                if (btn) btn.disabled = true;
                setWalletStatus('');

                try {
                    if (!window.unisat) {
                        setWalletStatus('UniSat not found. Install/enable the extension.');
                        return;
                    }

                    let accounts = [];
                    if (typeof window.unisat.requestAccounts === 'function') {
                        accounts = await window.unisat.requestAccounts();
                    } else if (typeof window.unisat.getAccounts === 'function') {
                        accounts = await window.unisat.getAccounts();
                    }

                    const address = Array.isArray(accounts) && accounts.length ? String(accounts[0] || '').trim() : '';
                    if (!address) {
                        setWalletStatus('No address returned from UniSat.');
                        return;
                    }

                    let pubkey = '';
                    try {
                        if (typeof window.unisat.getPublicKey === 'function')
                            pubkey = await window.unisat.getPublicKey();
                    } catch (_) {
                        pubkey = '';
                    }

                    document.getElementById('liveAddress').value = address;
                    document.getElementById('livePubkey').value = pubkey || '';

                    // Enable oracle automatically for real-data test
                    document.getElementById('toggleOracle').checked = true;

                    setWalletStatus(`connected: ${address.slice(0, 6)}‚Ä¶${address.slice(-6)}`);
                    renderLive(makeConfig());

                    if (typeof window.unisat.on === 'function') {
                        try {
                            window.unisat.on('accountsChanged', accs => {
                                const a = Array.isArray(accs) && accs.length ? String(accs[0] || '').trim() : '';
                                if (a) {
                                    document.getElementById('liveAddress').value = a;
                                    setWalletStatus(`connected: ${a.slice(0, 6)}‚Ä¶${a.slice(-6)}`);
                                    renderLive(makeConfig());
                                }
                            });
                        } catch (_) {}
                    }
                } catch (e) {
                    setWalletStatus(e && e.message ? e.message : String(e));
                } finally {
                    if (btn) btn.disabled = false;
                }
            }

            function rebuild() {
                const config = makeConfig();
                const gallery = document.getElementById('gallery');
                const badges = document.getElementById('badges');
                const rarities = document.getElementById('rarities');
                const effects = document.getElementById('effects');
                gallery.innerHTML = '';
                badges.innerHTML = '';
                rarities.innerHTML = '';
                effects.innerHTML = '';

                for (const baseKey of ARCHETYPES) {
                    const tiers = baseKey === 'PRIME' || baseKey === 'SINGULARITY' ? [3] : [0, 1, 2, 3];
                    for (const tier of tiers) {
                        const cell = document.createElement('div');
                        cell.className = 'cell';
                        const head = document.createElement('div');
                        head.className = 'cell-title';
                        head.innerHTML = `<b>${baseKey}</b><span>TIER ${tier}</span>`;
                        const mount = document.createElement('div');
                        mount.className = 'mount';
                        cell.appendChild(head);
                        cell.appendChild(mount);
                        gallery.appendChild(cell);

                        const dna = buildDna(baseKey, tier, tier);
                        dna.fxKey = baseKey === 'ENGINEER' ? 'scanlines' : 'reactive-sheen';
                        mountCard(mount, dna, config);
                    }
                }

                const raritySamples = [
                    { label: 'CUB (0-29)', score: 12, tier: 0 },
                    { label: 'SCOUT (30-49)', score: 35, tier: 1 },
                    { label: 'HUNTER (50-64)', score: 55, tier: 2 },
                    { label: 'ALPHA (65-79)', score: 70, tier: 2 },
                    { label: 'ELDER (80-94)', score: 85, tier: 3 },
                    { label: 'SPIRIT (95-100)', score: 97, tier: 3 }
                ];

                for (const sample of raritySamples) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    const head = document.createElement('div');
                    head.className = 'cell-title';
                    head.innerHTML = `<b>${sample.label}</b><span>score ${sample.score}</span>`;
                    const mount = document.createElement('div');
                    mount.className = 'mount';
                    cell.appendChild(head);
                    cell.appendChild(mount);
                    rarities.appendChild(cell);

                    const dna = buildDnaWithScore('DRIFTER', sample.tier, sample.score, sample.score);
                    dna.fxKey = 'reactive-sheen';
                    mountCard(mount, dna, config);
                }

                const curatedSamples = [
                    {
                        label: 'ALL EFFECTS (max combo)',
                        detail: 'SPIRIT + SOUL + goldShine + VFX-3D + back watermark',
                        dna: (() => {
                            const d = buildDnaWithScore('MERCHANT', 3, 909, 97);
                            d.metrics.hasFennecSoul = true;
                            d.metrics.activityScore = 97;
                            d.fxKey = 'aurora-flow';
                            return d;
                        })()
                    },
                    {
                        label: 'GOLD SHINE (preview goldShine)',
                        detail: 'MERCHANT overlay + Tier 1 breathe',
                        dna: (() => {
                            const d = buildDna('MERCHANT', 1, 101);
                            d.fxKey = 'prism-ribbon';
                            return d;
                        })()
                    },
                    {
                        label: 'SOUL GLOW',
                        detail: 'Tier 2 (SOUL active) + VFX-3D',
                        dna: (() => {
                            const d = buildDna('DRIFTER', 2, 202);
                            d.fxKey = 'photon-ring';
                            return d;
                        })()
                    },
                    {
                        label: 'ENGINEER GLITCH',
                        detail: 'ENGINEER overlay + Tier 2 glitch',
                        dna: (() => {
                            const d = buildDna('ENGINEER', 2, 303);
                            d.fxKey = 'scanlines';
                            return d;
                        })()
                    },
                    {
                        label: 'ENGINEER T3 (heavy)',
                        detail: 'ENGINEER overlay + Tier 3 glitch',
                        dna: (() => {
                            const d = buildDna('ENGINEER', 3, 404);
                            d.fxKey = 'neon-grid';
                            return d;
                        })()
                    },
                    {
                        label: 'ELDER BORDER',
                        detail: 'score 85 (border + stronger overlay)',
                        dna: (() => {
                            const d = buildDnaWithScore('DRIFTER', 3, 505, 85);
                            d.fxKey = 'glass-shards';
                            return d;
                        })()
                    },
                    {
                        label: 'SPIRIT BORDER',
                        detail: 'score 97 (border + stronger overlay)',
                        dna: (() => {
                            const d = buildDnaWithScore('DRIFTER', 3, 606, 97);
                            d.fxKey = 'holo-wave';
                            return d;
                        })()
                    },
                    {
                        label: 'WATERMARK (back)',
                        detail: 'Flip card to see watermark + header',
                        dna: (() => {
                            const d = buildDna('DRIFTER', 1, 707);
                            d.fxKey = 'sandstorm';
                            return d;
                        })()
                    }
                ];

                const usedFx = new Set(
                    curatedSamples
                        .map(s => (s && s.dna ? String(s.dna.fxKey || '') : ''))
                        .map(s => s.trim())
                        .filter(Boolean)
                );

                const fxDemos = [
                    { key: 'reactive-sheen', label: 'REACTIVE SHEEN' },
                    { key: 'prism-ribbon', label: 'PRISM RIBBON' },
                    { key: 'scanlines', label: 'SCANLINES' },
                    { key: 'stardust', label: 'STARDUST' },
                    { key: 'aurora-flow', label: 'AURORA FLOW' },
                    { key: 'glass-shards', label: 'GLASS SHARDS' },
                    { key: 'sandstorm', label: 'SANDSTORM' },
                    { key: 'neon-grid', label: 'NEON GRID' },
                    { key: 'emberfall', label: 'EMBERFALL' },
                    { key: 'photon-ring', label: 'PHOTON RING' },
                    { key: 'holo-wave', label: 'HOLO WAVE' }
                ].filter(fx => fx && fx.key && !usedFx.has(String(fx.key).trim()));

                const effectSamples = [
                    ...curatedSamples,
                    ...fxDemos.map((fx, i) => ({
                        label: `FX ‚Äî ${fx.label}`,
                        detail: `dna.fxKey = ${fx.key}`,
                        dna: (() => {
                            const d = buildDna('DRIFTER', 2, 800 + i);
                            d.fxKey = fx.key;
                            return d;
                        })()
                    }))
                ];

                for (const sample of effectSamples) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    const head = document.createElement('div');
                    head.className = 'cell-title';
                    head.innerHTML = `<b>${sample.label}</b><span>${sample.detail}</span>`;
                    const mount = document.createElement('div');
                    mount.className = 'mount';
                    cell.appendChild(head);
                    cell.appendChild(mount);
                    effects.appendChild(cell);

                    mountCard(mount, sample.dna, config);
                }

                for (const name of BADGE_ORDER) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    const head = document.createElement('div');
                    head.className = 'cell-title';
                    head.innerHTML = `<b>${name}</b><span>single</span>`;
                    const mount = document.createElement('div');
                    mount.className = 'mount';
                    cell.appendChild(head);
                    cell.appendChild(mount);
                    badges.appendChild(cell);

                    const dna = {
                        address: 'bc1q-preview-address',
                        archetype: { baseKey: 'DRIFTER', title: 'BADGE PREVIEW', tierLevel: 1, tierLabel: '' },
                        badges: [{ name }],
                        fxKey: 'reactive-sheen',
                        metrics: {
                            rarityName: 'SCOUT',
                            wealth: '0.00',
                            txCount: 0,
                            hasFennecSoul: false,
                            activityScore: 35
                        }
                    };
                    mountCard(mount, dna, config);
                }

                renderLive(config);
            }

            const qpOracle = QS.get('oracle');
            const qpAddress = QS.get('address') || '';
            const qpPubkey = QS.get('pubkey') || '';
            if (qpOracle === '1' || qpOracle === 'true') document.getElementById('toggleOracle').checked = true;
            if (qpAddress) document.getElementById('liveAddress').value = qpAddress;
            if (qpPubkey) document.getElementById('livePubkey').value = qpPubkey;

            document.getElementById('toggleFlip').addEventListener('change', rebuild);
            document.getElementById('toggleTilt').addEventListener('change', rebuild);
            document.getElementById('toggleOracle').addEventListener('change', rebuild);
            document.getElementById('liveRender').addEventListener('click', () => renderLive(makeConfig()));
            document.getElementById('walletConnect').addEventListener('click', connectUniSat);

            rebuild();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\.eslintrc.json
==================================================

{
    "env": {
        "browser": true,
        "es2021": true,
        "node": true,
        "worker": true
    },
    "extends": ["eslint:recommended"],
    "parserOptions": {
        "ecmaVersion": "latest",
        "sourceType": "module"
    },
    "rules": {
        "no-unused-vars": ["warn", { "argsIgnorePattern": "^_" }],
        "no-console": "off",
        "no-debugger": "warn",
        "semi": ["error", "always"],
        "quotes": ["error", "single", { "avoidEscape": true }],
        "indent": ["error", 4, { "SwitchCase": 1 }],
        "max-len": ["warn", { "code": 120, "ignoreUrls": true, "ignoreStrings": true }],
        "no-var": "error",
        "prefer-const": "warn"
    },
    "globals": {
        "window": "readonly",
        "document": "readonly",
        "navigator": "readonly",
        "localStorage": "readonly",
        "fetch": "readonly",
        "console": "readonly"
    }
}

==================================================
FILE PATH: \.pages_upload\ai_studio_code.html
==================================================

--- START OF FILE asset_prep_v2.html ---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fennec ID - Asset Prep V2 (Fixed)</title>
        <style>
            :root {
                --bg: #060607;
                --panel: rgba(255, 255, 255, 0.06);
                --line: rgba(255, 255, 255, 0.1);
                --text: rgba(255, 255, 255, 0.92);
                --muted: rgba(255, 255, 255, 0.65);
                --fennec: #ff6b35;
                --tier0: #a1a1aa;
                --tier1: #4ade80;
                --tier2: #60a5fa;
                --tier3: #facc15;
                --unique: #d8b4fe; /* Purple for Prime/Singularity */
            }
            html,
            body {
                margin: 0;
                padding: 0;
                background:
                    radial-gradient(1200px 900px at 50% -20%, rgba(255, 107, 53, 0.15), transparent 60%),
                    radial-gradient(900px 700px at 30% 120%, rgba(59, 130, 246, 0.12), transparent 60%), var(--bg);
                color: var(--text);
                font-family:
                    system-ui,
                    -apple-system,
                    sans-serif;
            }
            .wrap {
                max-width: 1100px;
                margin: 0 auto;
                padding: 20px 16px 48px;
            }
            h1 {
                margin: 0;
                font-size: 18px;
                letter-spacing: 0.1em;
                text-transform: uppercase;
                color: var(--fennec);
            }
            .sub {
                margin-top: 8px;
                color: var(--muted);
                font-size: 13px;
                line-height: 1.5;
            }
            .panel {
                margin-top: 14px;
                background: var(--panel);
                border: 1px solid var(--line);
                border-radius: 16px;
                padding: 16px;
            }
            .row {
                display: flex;
                flex-wrap: wrap;
                gap: 12px;
                align-items: center;
            }
            label {
                display: flex;
                gap: 8px;
                align-items: center;
                font-size: 12px;
                color: var(--muted);
                font-weight: 600;
                text-transform: uppercase;
            }
            input[type='number'],
            select {
                width: 80px;
                padding: 8px 10px;
                border-radius: 8px;
                border: 1px solid rgba(255, 255, 255, 0.14);
                background: rgba(0, 0, 0, 0.3);
                color: var(--text);
                font-family: monospace;
            }
            button {
                cursor: pointer;
                padding: 12px 16px;
                border-radius: 10px;
                border: 1px solid rgba(255, 255, 255, 0.14);
                background: rgba(255, 107, 53, 0.15);
                color: var(--text);
                font-weight: 800;
                letter-spacing: 0.05em;
                text-transform: uppercase;
                transition: all 0.2s;
            }
            button:hover {
                background: rgba(255, 107, 53, 0.25);
                border-color: var(--fennec);
            }
            .log {
                margin-top: 14px;
                white-space: pre-wrap;
                font-size: 11px;
                font-family: monospace;
                color: rgba(255, 255, 255, 0.7);
                line-height: 1.4;
                max-height: 200px;
                overflow-y: auto;
                background: rgba(0, 0, 0, 0.3);
                padding: 10px;
                border-radius: 8px;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
                gap: 10px;
                margin-top: 12px;
            }
            .card {
                border: 1px solid rgba(255, 255, 255, 0.08);
                border-radius: 12px;
                padding: 8px;
                background: rgba(0, 0, 0, 0.2);
                transition: 0.2s;
            }
            .card.found {
                border-color: rgba(34, 197, 94, 0.4);
                background: rgba(34, 197, 94, 0.05);
            }
            .card.missing {
                opacity: 0.5;
            }
            .card b {
                display: block;
                font-size: 10px;
                letter-spacing: 0.05em;
                text-transform: uppercase;
                margin-bottom: 4px;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }
            .card span {
                display: block;
                color: var(--muted);
                font-size: 9px;
                font-family: monospace;
                word-break: break-all;
            }
            .thumb {
                margin-top: 6px;
                width: 100%;
                aspect-ratio: 1/1;
                border-radius: 8px;
                border: 1px solid rgba(255, 255, 255, 0.05);
                background: rgba(0, 0, 0, 0.3);
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
                position: relative;
            }
            .thumb img {
                width: 100%;
                height: 100%;
                object-fit: contain;
            }
            .t0 {
                color: var(--tier0);
            }
            .t1 {
                color: var(--tier1);
            }
            .t2 {
                color: var(--tier2);
            }
            .t3 {
                color: var(--tier3);
            }
            .unique {
                color: var(--unique);
            }

            h2 {
                margin: 24px 0 10px;
                font-size: 14px;
                text-transform: uppercase;
                border-bottom: 1px solid var(--line);
                padding-bottom: 6px;
                color: var(--muted);
            }
        </style>
    </head>
    <body>
        <div class="wrap">
            <h1>Fennec ID ‚Äî Asset Prep V2</h1>
            <div class="sub">
                Prepares images for inscription.<br />
                <b>Evolution Classes:</b> Expects <code>name_t0.png</code> to <code>name_t3.png</code>.<br />
                <b>Ultimate Classes (Prime/Singularity):</b> Expects just <code>prime.png</code> /
                <code>singularity.png</code>.
            </div>

            <div class="panel">
                <div class="row">
                    <label>BG Width <input id="bgW" type="number" value="368" min="128" step="1" /></label>
                    <label>BG Height <input id="bgH" type="number" value="656" min="128" step="1" /></label>
                    <label>Max KB <input id="maxKB" type="number" value="365" min="32" step="1" /></label>
                    <label
                        >BG Format
                        <select id="bgFmt">
                            <option value="image/jpeg" selected>JPEG (Photo)</option>
                            <option value="image/webp">WEBP (Efficient)</option>
                            <option value="image/png">PNG (Lossless)</option>
                        </select>
                    </label>
                    <label
                        >BG Quality <input id="bgQ" type="number" value="0.82" min="0.3" max="0.98" step="0.01"
                    /></label>
                </div>
                <div class="row">
                    <label>Badge Size <input id="bdS" type="number" value="128" min="32" step="1" /></label>
                    <label
                        >Badge Format
                        <select id="bdFmt">
                            <option value="image/png" selected>PNG</option>
                            <option value="image/webp">WEBP</option>
                        </select>
                    </label>
                    <label
                        >Badge Quality <input id="bdQ" type="number" value="0.92" min="0.3" max="0.98" step="0.01"
                    /></label>
                </div>

                <div class="row" style="margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--line)">
                    <label style="flex-grow: 1">
                        1. Select local "img" folder
                        <input
                            id="pickDir"
                            type="file"
                            webkitdirectory
                            directory
                            multiple
                            style="
                                width: 100%;
                                margin-top: 5px;
                                padding: 10px;
                                background: rgba(255, 255, 255, 0.05);
                                border-radius: 8px;
                                border: 1px dashed var(--line);
                            "
                        />
                    </label>
                </div>

                <div class="row" style="margin-top: 16px">
                    <button id="dlBg">Download Backgrounds</button>
                    <button id="dlBgT3">Download T3 (736x1312)</button>
                    <button id="dlBd">Download Badges</button>
                    <button id="dlMisc">Download Misc</button>
                    <button id="dlAll" style="margin-left: auto; border-color: var(--fennec)">Download ALL</button>
                </div>
                <div id="log" class="log">Waiting for folder selection...</div>
            </div>

            <h2>Tiered Backgrounds (T0-T3)</h2>
            <div id="list-bg-tiered" class="grid"></div>

            <h2>Ultimate Backgrounds (Single)</h2>
            <div id="list-bg-single" class="grid"></div>

            <h2>Badges</h2>
            <div id="list-bd" class="grid"></div>

            <h2>Misc Assets</h2>
            <div id="list-misc" class="grid"></div>
        </div>

        <script>
            // --- CONFIGURATION ---

            // 1. Tiered Archetypes (Will generate T0-T3)
            const TIERED_ARCHETYPES = ['DRIFTER', 'MERCHANT', 'ENGINEER', 'SHAMAN', 'KEEPER', 'WALKER', 'LORD'];

            // 2. Single Image Archetypes (Ultimate)
            const SINGLE_ARCHETYPES = ['PRIME', 'SINGULARITY'];

            // 3. Badges List (Old list only)
            const BADGES_CONFIG = [
                { key: 'GENESIS', file: 'badge_genesis.png' },
                { key: 'WHALE', file: 'badge_whale.png' },
                { key: 'PROVIDER', file: 'badge_provider.png' },
                { key: 'FENNEC_MAXI', file: 'badge_maxi.png' },
                { key: 'ARTIFACT_HUNTER', file: 'badge_collector.png' },
                { key: 'RUNE_KEEPER', file: 'badge_rune.png' },
                { key: 'MEMPOOL_RIDER', file: 'badge_mempool_rider.png' },
                { key: 'SAND_SWEEPER', file: 'badge_sweeper.png' }
            ];

            // 4. Misc Assets
            const MISC_CONFIG = [
                { key: 'LOGO', file: 'phav.png' },
                { key: 'HEART', file: 'heart.png' },
                { key: 'WATERMARK', file: 'watermark.png' }
            ];

            // --- GENERATE LISTS ---

            const BACKGROUNDS_TIERED = [];
            TIERED_ARCHETYPES.forEach(arch => {
                for (let i = 0; i <= 3; i++) {
                    BACKGROUNDS_TIERED.push({
                        key: `${arch}_T${i}`,
                        file: `${arch.toLowerCase()}_t${i}.png`, // e.g. engineer_t0.png
                        tier: i
                    });
                }
            });

            const BACKGROUNDS_SINGLE = [];
            SINGLE_ARCHETYPES.forEach(arch => {
                BACKGROUNDS_SINGLE.push({
                    key: arch,
                    file: `${arch.toLowerCase()}.png`, // e.g. prime.png
                    isUnique: true
                });
            });

            const ALL_BACKGROUNDS = [...BACKGROUNDS_TIERED, ...BACKGROUNDS_SINGLE];

            // --- STATE & HELPERS ---

            let pickedFilesByName = null;
            let pickedThumbUrls = [];

            function baseName(path) {
                const s = String(path || '');
                const parts = s.split(/[/\\]/);
                return parts[parts.length - 1] || s;
            }

            function setPickedFiles(fileList) {
                pickedFilesByName = {};
                for (const f of Array.from(fileList || [])) {
                    if (!f || !f.name) continue;
                    pickedFilesByName[String(f.name).toLowerCase()] = f;
                }
            }

            function pickedFileForPath(filename) {
                if (!pickedFilesByName) return null;
                const key = baseName(filename).toLowerCase();
                return pickedFilesByName[key] || null;
            }

            function logLine(s) {
                const el = document.getElementById('log');
                el.textContent = (el.textContent ? el.textContent + '\n' : '') + s;
                el.scrollTop = el.scrollHeight;
            }

            function clearLog() {
                document.getElementById('log').textContent = '';
            }

            async function loadImg(filename) {
                const picked = pickedFileForPath(filename);
                if (picked) {
                    const dataUrl = await new Promise((resolve, reject) => {
                        const reader = new FileReader();
                        reader.onload = () => resolve(String(reader.result || ''));
                        reader.onerror = () => reject(new Error('Read error: ' + picked.name));
                        reader.readAsDataURL(picked);
                    });
                    return await new Promise((resolve, reject) => {
                        const img = new Image();
                        img.onload = () => resolve(img);
                        img.onerror = () => reject(new Error('Decode error: ' + picked.name));
                        img.src = dataUrl;
                    });
                }
                throw new Error(`File not found: ${filename}`);
            }

            function drawContainBottom(ctx, img, outW, outH) {
                ctx.clearRect(0, 0, outW, outH);
                // Contain (no crop, centered)
                const s = Math.min(outW / img.naturalWidth, outH / img.naturalHeight);
                const w = img.naturalWidth * s;
                const h = img.naturalHeight * s;
                const x = (outW - w) / 2;
                const y = (outH - h) / 2;
                ctx.drawImage(img, x, y, w, h);
            }

            function drawContainCenter(ctx, img, outW, outH) {
                ctx.clearRect(0, 0, outW, outH);
                const s = Math.min(outW / img.naturalWidth, outH / img.naturalHeight);
                const w = img.naturalWidth * s;
                const h = img.naturalHeight * s;
                const x = (outW - w) / 2;
                const y = (outH - h) / 2;
                ctx.drawImage(img, x, y, w, h);
            }

            async function downloadBlob(blob, filename) {
                if (!blob) throw new Error('Encoding failed: ' + filename);
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                a.remove();
                setTimeout(() => URL.revokeObjectURL(url), 1000);
            }

            async function canvasToBlob(canvas, mimeType, quality) {
                return await new Promise(resolve => canvas.toBlob(resolve, mimeType, quality));
            }

            async function encodeCanvasUnderLimit(canvas, { mimeType, quality, maxBytes }) {
                const limit = Number(maxBytes || 0) || 0;
                let q = typeof quality === 'number' ? quality : 0.9;
                const minQ = 0.5;

                for (let i = 0; i < 10; i++) {
                    const blob = await canvasToBlob(canvas, mimeType, q);
                    if (!limit || (blob && blob.size <= limit)) return { blob, quality: q, scaled: 1 };
                    if (mimeType === 'image/png') return { blob, quality: 1, scaled: 1 };
                    q = Math.max(minQ, q - 0.05);
                }

                let scale = 0.9;
                for (let s = 0; s < 5; s++) {
                    const w = Math.max(64, Math.round(canvas.width * scale));
                    const h = Math.max(64, Math.round(canvas.height * scale));
                    const tmp = document.createElement('canvas');
                    tmp.width = w;
                    tmp.height = h;
                    const tctx = tmp.getContext('2d');
                    tctx.imageSmoothingQuality = 'high';
                    tctx.drawImage(canvas, 0, 0, w, h);
                    const blob = await canvasToBlob(tmp, mimeType, q);
                    if (!limit || (blob && blob.size <= limit)) return { blob, quality: q, scaled: scale };
                    scale *= 0.9;
                }
                return { blob: await canvasToBlob(canvas, mimeType, q), quality: q, scaled: scale };
            }

            async function processList(items, outW, outH, maxKB, mimeType, quality, drawFn, namingFn) {
                const maxBytes = Math.max(16 * 1024, Math.floor(maxKB * 1024));
                const canvas = document.createElement('canvas');
                canvas.width = outW;
                canvas.height = outH;
                const ctx = canvas.getContext('2d');

                let count = 0;
                for (const it of items) {
                    try {
                        if (!pickedFileForPath(it.file)) {
                            logLine(`SKIP: ${it.file} (not found)`);
                            continue;
                        }
                        logLine(`Processing ${it.file}...`);
                        const img = await loadImg(it.file);
                        drawFn(ctx, img, outW, outH);
                        const encoded = await encodeCanvasUnderLimit(canvas, {
                            mimeType,
                            quality: mimeType === 'image/png' ? undefined : quality,
                            maxBytes
                        });
                        const ext = mimeType === 'image/webp' ? 'webp' : mimeType === 'image/png' ? 'png' : 'jpg';
                        const kb = (encoded.blob.size / 1024).toFixed(1);
                        const outName = namingFn(it, ext);
                        logLine(`  -> SAVED: ${outName} (${kb} KB)`);
                        await downloadBlob(encoded.blob, outName);
                        count++;
                    } catch (e) {
                        logLine(`  -> FAILED: ${it.file} - ${e.message}`);
                    }
                }
                return count;
            }

            // --- ACTIONS ---

            async function downloadBackgrounds() {
                const outW = Number(document.getElementById('bgW').value) || 720;
                const outH = Number(document.getElementById('bgH').value) || 1040;
                const maxKB = Number(document.getElementById('maxKB').value) || 365;
                const fmt = document.getElementById('bgFmt').value;
                const q = Number(document.getElementById('bgQ').value);

                logLine('--- Starting Backgrounds ---');
                const n = await processList(
                    ALL_BACKGROUNDS,
                    outW,
                    outH,
                    maxKB,
                    fmt,
                    q,
                    drawContainCenter,
                    (it, ext) => {
                        // if it has tier: bg_name_tx_WxH.ext
                        // if single: bg_name_WxH.ext
                        const base = it.key
                            .toLowerCase()
                            .replace('_t0', '')
                            .replace('_t1', '')
                            .replace('_t2', '')
                            .replace('_t3', '');
                        if (it.tier !== undefined) {
                            return `bg_${base}_t${it.tier}_${outW}x${outH}.${ext}`;
                        } else {
                            return `bg_${base}_${outW}x${outH}.${ext}`;
                        }
                    }
                );
                logLine(`--- Finished Backgrounds (${n}) ---`);
            }

            async function downloadBadges() {
                const size = Number(document.getElementById('bdS').value) || 128;
                const maxKB = Number(document.getElementById('maxKB').value) || 365;
                const fmt = document.getElementById('bdFmt').value;
                const q = Number(document.getElementById('bdQ').value);

                logLine('--- Starting Badges ---');
                const n = await processList(BADGES_CONFIG, size, size, maxKB, fmt, q, drawContainCenter, (it, ext) => {
                    return `badge_${it.key.toLowerCase()}_${size}x${size}.${ext}`;
                });
                logLine(`--- Finished Badges (${n}) ---`);
            }

            async function downloadMisc() {
                const size = 256;
                const maxKB = Number(document.getElementById('maxKB').value) || 365;
                const fmt = 'image/png';
                logLine('--- Starting Misc ---');
                const n = await processList(MISC_CONFIG, size, size, maxKB, fmt, 1, drawContainCenter, (it, ext) => {
                    if (it.key === 'LOGO') return `logo.${ext}`;
                    if (it.key === 'HEART') return `heart.${ext}`;
                    if (it.key === 'WATERMARK') return `watermark.${ext}`;
                    return `misc_${it.key.toLowerCase()}.${ext}`;
                });
                logLine(`--- Finished Misc (${n}) ---`);
            }

            async function downloadBackgroundsT3() {
                const outW = 736;
                const outH = 1312;
                const maxKB = Number(document.getElementById('maxKB').value) || 365;
                const fmt = document.getElementById('bgFmt').value;
                const q = Number(document.getElementById('bgQ').value);

                logLine('--- Starting Tier 3 Backgrounds (736x1312) ---');
                const tier3Items = ALL_BACKGROUNDS.filter(it => it.tier === 3 || it.isUnique);
                const n = await processList(tier3Items, outW, outH, maxKB, fmt, q, drawContainCenter, (it, ext) => {
                    const base = it.key.toLowerCase().replace('_t3', '');
                    if (it.tier === 3) {
                        return `bg_${base}_t3_${outW}x${outH}.${ext}`;
                    } else {
                        return `bg_${base}_${outW}x${outH}.${ext}`;
                    }
                });
                logLine(`--- Finished Tier 3 Backgrounds (${n}) ---`);
            }

            async function downloadAll() {
                clearLog();
                await downloadBackgrounds();
                await downloadBackgroundsT3();
                await downloadBadges();
                await downloadMisc();
                logLine('=== ALL DOWNLOADS COMPLETE ===');
            }

            // --- UI ---

            function renderGrid(containerId, items) {
                const el = document.getElementById(containerId);
                el.innerHTML = '';
                for (const it of items) {
                    const card = document.createElement('div');
                    card.className = 'card';
                    const picked = pickedFileForPath(it.file);
                    if (picked) card.classList.add('found');
                    else card.classList.add('missing');

                    let label = it.key;
                    if (it.tier !== undefined) label = `<span class="t${it.tier}">${it.key}</span>`;
                    else if (it.isUnique) label = `<span class="unique">${it.key}</span>`;

                    card.innerHTML = `<b>${label}</b><span>${it.file}</span>`;
                    const thumb = document.createElement('div');
                    thumb.className = 'thumb';
                    if (picked) {
                        const img = document.createElement('img');
                        const u = URL.createObjectURL(picked);
                        pickedThumbUrls.push(u);
                        img.src = u;
                        thumb.appendChild(img);
                    } else {
                        thumb.innerHTML = `<span style="font-size:20px; color:var(--line);">?</span>`;
                    }
                    card.appendChild(thumb);
                    el.appendChild(card);
                }
            }

            function refreshUI() {
                for (const u of pickedThumbUrls) URL.revokeObjectURL(u);
                pickedThumbUrls = [];
                renderGrid('list-bg-tiered', BACKGROUNDS_TIERED);
                renderGrid('list-bg-single', BACKGROUNDS_SINGLE);
                renderGrid('list-bd', BADGES_CONFIG);
                renderGrid('list-misc', MISC_CONFIG);
            }

            document
                .getElementById('dlBg')
                .addEventListener('click', () => downloadBackgrounds().catch(e => logLine('ERR: ' + e)));
            document
                .getElementById('dlBgT3')
                .addEventListener('click', () => downloadBackgroundsT3().catch(e => logLine('ERR: ' + e)));
            document
                .getElementById('dlBd')
                .addEventListener('click', () => downloadBadges().catch(e => logLine('ERR: ' + e)));
            document
                .getElementById('dlMisc')
                .addEventListener('click', () => downloadMisc().catch(e => logLine('ERR: ' + e)));
            document
                .getElementById('dlAll')
                .addEventListener('click', () => downloadAll().catch(e => logLine('ERR: ' + e)));

            document.getElementById('pickDir').addEventListener('change', e => {
                try {
                    setPickedFiles(e.target.files);
                    refreshUI();
                    clearLog();
                    logLine(`Loaded ${e.target.files.length} files.`);
                } catch (err) {
                    logLine('Error: ' + err.message);
                }
            });

            refreshUI();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\api_test.json
==================================================


==================================================
FILE PATH: \.pages_upload\DEPLOY_INSTRUCTIONS.md
==================================================

# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. ‚úÖ –ó–µ—Ä–∫–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –∫–∞—Ä—Ç–æ—á–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ CSS –ø—Ä–∞–≤–∏–ª–∞ –≤ `index.html`
- –í—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (h1-h6, p, div, span, button, a) —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –±–µ–∑ –∑–µ—Ä–∫–∞–ª–∏–≤–∞–Ω–∏—è

### 2. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–æ–∑—Ä–∞—Å—Ç–∞ (first_tx_ts)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `absoluteNow = Math.floor(Date.now() / 1000)`
- Timestamp `1765409223` (2025 –≥–æ–¥) —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω
- –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ debug –ø–æ–ª—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 3. ‚úÖ Fallback –¥–ª—è networth –ø—Ä–∏ 429 –æ—à–∏–±–∫–∞—Ö
- –ï—Å–ª–∏ `all_balance` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 429, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ FENNEC balance
- –î–æ–±–∞–≤–ª–µ–Ω debug —Ñ–ª–∞–≥ `all_tokens_value_usd_source: 'fallback_fennec_estimate'`

## –ö–∞–∫ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VSE.bat
```cmd
cd "C:\Users\–î–º–∏—Ç—Ä–∏–π\Desktop\Fennec site"
VSE.bat
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Wrangler –≤—Ä—É—á–Ω—É—é
```cmd
cd "C:\Users\–î–º–∏—Ç—Ä–∏–π\Desktop\Fennec site"
wrangler deploy
wrangler pages deploy . --project-name=fennec-site
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –¢–æ–ª—å–∫–æ Worker (–µ—Å–ª–∏ Pages —É–∂–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω)
```cmd
cd "C:\Users\–î–º–∏—Ç—Ä–∏–π\Desktop\Fennec site"
wrangler deploy
```

## –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç `fennecbtc.xyz`
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫
3. –ù–∞–∂–º–∏—Ç–µ "GET YOUR ID"
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
   - –¢–µ–∫—Å—Ç –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º (–Ω–µ –∑–µ—Ä–∫–∞–ª—å–Ω—ã–º)
   - –í–æ–∑—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º (–Ω–µ 359 –¥–Ω–µ–π –≤ –±—É–¥—É—â–µ–º)
   - Networth –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ö–æ—Ç—è –±—ã –ø—Ä–∏–º–µ—Ä–Ω—É—é –æ—Ü–µ–Ω–∫—É (–¥–∞–∂–µ –µ—Å–ª–∏ all_balance –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 429)

## Debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

–ü–æ—Å–ª–µ –∞—É–¥–∏—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ debug JSON:
- `first_tx_absolute_now_check` - —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
- `first_tx_candidate_vs_now` - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ timestamp —Å —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º
- `all_tokens_value_usd_source` - –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è networth
  - `'all_balance_total_usd'` - –¥–∞–Ω–Ω—ã–µ –∏–∑ all_balance API (–ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç)
  - `'calculated_from_prices'` - —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–æ –∏–∑ —Ü–µ–Ω —Ç–æ–∫–µ–Ω–æ–≤
  - `'fallback_fennec_estimate'` - fallback –æ—Ü–µ–Ω–∫–∞ –ø—Ä–∏ 429 –æ—à–∏–±–∫–∞—Ö

## –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –æ—à–∏–±–∫–∏
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ debug JSON –∏–∑ –æ—Ç–≤–µ—Ç–∞ API
3. –°–æ–æ–±—â–∏—Ç–µ, –∫–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã –≤–∏–¥–∏—Ç–µ –¥–ª—è:
   - `first_tx_ts`
   - `first_tx_absolute_now_check`
   - `first_tx_candidate_vs_now`
   - `all_tokens_value_usd`
   - `all_tokens_value_usd_source`


==================================================
FILE PATH: \.pages_upload\id.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="fennec-embed" content="0" />
        <meta name="fennec-manifest" content="/recursive_inscriptions/fennec_manifest_live.json" />
        <meta
            name="description"
            content="$FENNEC - The Desert Fox Protocol. Swap, deposit and withdraw on Fractal's fastest DEX with Fennec ID."
        />
        <title>$FENNEC | The Desert Fox Protocol</title>

        <!-- FAVICONS -->
        <link rel="icon" href="img/phav.png" type="image/png" />
        <link rel="apple-touch-icon" href="img/phav.png" />

        <!-- –¶–≤–µ—Ç –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (—á—Ç–æ–±—ã –Ω–∞ –º–æ–±–∏–ª–∫–∞—Ö —Å–ª–∏–≤–∞–ª–æ—Å—å —Å —à–∞–ø–∫–æ–π) -->
        <meta name="theme-color" content="#000000" />

        <!-- Preconnect –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <link rel="preconnect" href="https://cdn.tailwindcss.com" />
        <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="dns-prefetch" href="https://fennec-api.warninghejo.workers.dev" />
        <link rel="dns-prefetch" href="https://open-api-fractal.unisat.io" />

        <!-- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
        <link
            href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;500;700;900&display=swap"
            rel="stylesheet"
            media="print"
            onload="this.media = 'all'"
        />
        <noscript
            ><link
                href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;500;700;900&rel=stylesheet"
        /></noscript>

        <script src="assets/storage_shim.js?v=2026-01-13-1"></script>

        <!-- Custom Styles -->
        <link rel="stylesheet" href="assets/app.css?v=2026-01-13-1" />
    </head>
    <body>
        <!-- DEV CONSOLE INTERCEPTOR - AI Error Analysis -->
        <script src="assets/dev_console_interceptor.js?v=2026-01-13-1"></script>
        <div id="animatedBackground" class="fixed top-0 left-0 w-full h-full pointer-events-none" style="z-index: 0">
            <canvas id="animatedBackgroundCanvas" class="w-full h-full"></canvas>
        </div>

        <!-- Notifications Container -->
        <div
            id="notificationsContainer"
            style="
                position: fixed;
                top: 80px;
                right: 20px;
                z-index: 10000;
                display: flex;
                flex-direction: column;
                gap: 12px;
                align-items: flex-end;
            "
        ></div>

        <!-- HEADER -->
        <header class="fixed w-full z-50 border-b border-white/5 bg-[#2c1a12]/90 backdrop-blur-md">
            <div class="max-w-6xl mx-auto px-4 h-16 grid grid-cols-[1fr_auto_1fr] items-center">
                <a class="flex items-center gap-3 cursor-pointer group" href="index.html" data-link>
                    <img
                        src="img/phav.png"
                        class="neon-logo w-9 h-9 rounded-full border border-fennec/50 group-hover:scale-110 transition shadow-lg shadow-fennec/20 object-contain"
                    />
                    <div>
                        <h1
                            class="font-display font-bold text-xl leading-none tracking-tight text-fennec"
                            style="text-shadow: 0 0 18px rgba(255, 107, 53, 0.35)"
                        >
                            FENNEC
                        </h1>
                    </div>
                </a>

                <nav class="flex gap-8 text-xs font-bold text-gray-400 uppercase tracking-widest justify-self-center">
                    <a
                        href="index.html"
                        class="nav-link hover:text-white transition py-5"
                        id="nav-home"
                        data-t="nav_home"
                        data-link
                    >
                        VISION
                    </a>
                    <a
                        href="terminal.html"
                        class="nav-link hover:text-white transition py-5"
                        id="nav-terminal"
                        data-t="nav_terminal"
                        data-link
                    >
                        TERMINAL
                    </a>
                    <a
                        href="id.html"
                        class="nav-link hover:text-white transition py-5 active"
                        id="nav-audit"
                        data-t="nav_audit"
                        data-link
                    >
                        FENNEC ID
                    </a>
                </nav>

                <div class="flex items-center gap-3 justify-self-end">
                    <a
                        href="https://x.com/FennecBTC"
                        target="_blank"
                        class="text-gray-400 hover:text-white transition flex items-center justify-center text-2xl w-10 h-10"
                        aria-label="Twitter"
                    >
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a
                        href="https://t.me/FennecBTC"
                        target="_blank"
                        class="text-gray-400 hover:text-white transition flex items-center justify-center text-2xl w-10 h-10"
                        aria-label="Telegram"
                    >
                        <i class="fab fa-telegram"></i>
                    </a>
                    <button
                        onclick="window.manualRefresh()"
                        id="refreshBtn"
                        class="hidden bg-gradient-to-br from-fennec/25 via-orange-600/20 to-orange-700/15 text-fennec px-3.5 py-2 rounded-xl font-bold hover:brightness-125 hover:scale-105 transition-all duration-200 text-[11px] border border-fennec/40 flex items-center gap-2 shadow-[0_0_20px_rgba(255,107,53,0.3)] hover:shadow-[0_0_32px_rgba(255,107,53,0.5)] backdrop-blur-sm"
                    >
                        <i id="refreshIcon" class="fas fa-sync-alt"></i>
                        <span id="refreshText">REFRESH</span>
                        <span id="refreshTimer" class="hidden text-[10px] opacity-75"></span>
                    </button>
                    <button
                        onclick="window.disconnectWallet()"
                        id="disconnectBtn"
                        class="hidden bg-red-600/20 text-red-400 px-4 py-2 rounded-lg font-bold hover:bg-red-600/30 transition text-xs border border-red-500/50 flex items-center gap-2"
                    >
                        <i class="fas fa-sign-out-alt"></i> <span id="disconnectBtnText">DISCONNECT</span>
                    </button>
                    <button
                        onclick="window.connectWallet()"
                        id="connectBtn"
                        class="bg-gradient-to-r from-fennec to-orange-600 text-black px-4 py-2 rounded-lg font-bold hover:brightness-110 transition text-xs shadow-[0_0_20px_rgba(255,107,53,0.4)] flex items-center gap-2"
                        data-t="connect"
                    >
                        <i class="fas fa-wallet"></i> <span>CONNECT</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- LIVE TICKER -->
        <div
            id="liveTickerBar"
            class="fixed bottom-0 left-0 right-0 w-full z-[100] py-1 overflow-hidden pointer-events-none flex items-center"
            style="
                background: linear-gradient(
                    90deg,
                    rgba(13, 6, 4, 0.95) 0%,
                    rgba(20, 10, 6, 0.98) 50%,
                    rgba(13, 6, 4, 0.95) 100%
                );
                border-top: 1px solid rgba(255, 107, 53, 0.15);
                box-shadow:
                    0 -4px 20px rgba(255, 107, 53, 0.08),
                    inset 0 1px 0 rgba(255, 107, 53, 0.1);
                backdrop-filter: blur(12px);
                height: 28px;
            "
        >
            <div
                class="ticker-container"
                style="
                    overflow: hidden;
                    position: relative;
                    width: 100%;
                    height: 100%;
                    display: flex;
                    align-items: center;
                "
            >
                <div
                    class="ticker-content"
                    id="liveTicker"
                    style="
                        display: inline-flex;
                        align-items: center;
                        white-space: nowrap;
                        font-size: 13px;
                        font-weight: 700;
                        letter-spacing: 0.05em;
                        text-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
                        line-height: 28px;
                    "
                >
                    <div class="ticker-marquee">
                        <span class="ticker-item text-fennec"
                            ><img
                                src="img/phav.png"
                                class="w-5 h-5 inline-block object-contain"
                                style="filter: drop-shadow(0 0 8px rgba(255, 107, 53, 0.5))"
                            />
                            <span>FENNEC SYSTEM ONLINE</span></span
                        >
                    </div>
                </div>
            </div>
        </div>

        <main id="router-view" class="router-view">
            <template id="sec-home-template">
                <!-- === SECTION 1: HOME (MISSION) === -->
                <section id="sec-home" class="page-section flex flex-col justify-start pt-32 pb-24 relative z-10">
                    <div class="hero-fox-bg"></div>
                    <div class="max-w-5xl mx-auto px-6 relative">
                        <!-- Hero -->
                        <div class="text-center mb-24">
                            <div
                                class="inline-flex items-center gap-2 mb-6 px-4 py-1.5 rounded-full border border-fennec/30 bg-fennec/5 text-fennec text-[10px] uppercase tracking-widest font-bold"
                            >
                                <span class="w-2 h-2 rounded-full bg-fennec animate-pulse"></span>
                                <span>Fractal Bitcoin</span>
                            </div>
                            <h1
                                class="text-5xl md:text-7xl font-black font-display mb-6 leading-tight"
                                style="text-shadow: 0 0 24px rgba(255, 107, 53, 0.35)"
                            >
                                <span class="text-fennec" style="text-shadow: 0 0 24px rgba(255, 107, 53, 0.35)"
                                    >FENNEC</span
                                ><br /><span
                                    class="text-transparent bg-clip-text bg-gradient-to-r from-fennec via-orange-400 to-yellow-200"
                                    >FRONTIER</span
                                >
                            </h1>
                            <p
                                class="text-gray-300 text-lg max-w-2xl mx-auto mb-10 leading-relaxed font-light"
                                data-t="hero_desc"
                            >
                                The tactical layer for Fractal Bitcoin. Execute swaps with precision, visualize your
                                on-chain legacy, and navigate the ecosystem with AI.
                            </p>

                            <div class="flex flex-col md:flex-row justify-center gap-4">
                                <button
                                    onclick="window.showSection('terminal')"
                                    class="bg-fennec text-black px-8 py-4 rounded-xl font-bold text-lg hover:scale-105 transition shadow-[0_0_30px_rgba(255,107,53,0.5)] flex items-center justify-center gap-2"
                                    data-t="enter_app"
                                >
                                    <span>ENTER TERMINAL</span> <i class="fas fa-terminal"></i>
                                </button>
                                <button
                                    onclick="window.onVisionFennecIdClick()"
                                    id="visionFennecIdBtn"
                                    class="border border-fennec/30 bg-fennec/5 text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-fennec/10 transition flex items-center justify-center gap-2"
                                >
                                    <span id="visionFennecIdBtnText">FENNEC ID</span> <i class="fas fa-id-card"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Features Grid -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12">
                            <div
                                class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                            >
                                <div
                                    class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                                >
                                    <i class="fas fa-laptop-code"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2" data-t="feat_ui_title">
                                    Tactical Terminal
                                </h3>
                                <p class="text-gray-400 text-sm leading-relaxed" data-t="feat_ui_desc">
                                    An optimized aggregation interface. We cut through the noise to give you the most
                                    efficient execution on the network.
                                </p>
                            </div>
                            <div
                                class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                            >
                                <div
                                    class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                                >
                                    <i class="fas fa-robot"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2" data-t="feat_ai_title">AI Navigator</h3>
                                <p class="text-gray-400 text-sm leading-relaxed" data-t="feat_ai_desc">
                                    Your co-pilot in the dunes. Analyze chain data and get real-time guidance without
                                    leaving the terminal.
                                </p>
                            </div>
                            <div
                                class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                            >
                                <div
                                    class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                                >
                                    <i class="fas fa-paw"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2" data-t="feat_comm_title">
                                    Access &amp; Status
                                </h3>
                                <p class="text-gray-400 text-sm leading-relaxed" data-t="feat_comm_desc">
                                    $FENNEC is the key to the ecosystem. Hold to unlock premium ID features, visual
                                    upgrades, and future protocol tiers.
                                </p>
                            </div>
                            <div
                                class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                            >
                                <div
                                    class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                                >
                                    <i class="fas fa-id-card"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2">Identity Protocol</h3>
                                <p class="text-gray-400 text-sm leading-relaxed">
                                    A proprietary standard for on-chain reputation. Dynamic, evolving 3D cards that
                                    immortalize your journey forever.
                                </p>
                            </div>
                        </div>

                        <!-- Evolution Story (Island Journey) -->
                        <div class="mb-12 relative overflow-hidden text-center">
                            <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2 justify-center">
                                <i class="fas fa-map-marked-alt text-fennec"></i>
                                <span data-t="evo_title">Fennec Evolution</span>
                            </h3>
                            <p class="text-gray-300 text-sm leading-relaxed mb-6 max-w-2xl mx-auto" data-t="evo_text1">
                                Journey across the islands of evolution. Each island marks a milestone in our voyage
                                through the Fractal seas.
                            </p>

                            <!-- Ocean & Journey Path -->
                            <div
                                class="hidden md:block relative h-32 mb-8"
                                style="
                                    background: linear-gradient(
                                        180deg,
                                        transparent 0%,
                                        rgba(59, 130, 246, 0.03) 40%,
                                        rgba(59, 130, 246, 0.08) 100%
                                    );
                                    border-radius: 24px;
                                    overflow: hidden;
                                    visibility: hidden;
                                    height: 0;
                                    margin: 0;
                                "
                            >
                                <!-- Waves -->
                                <div
                                    class="absolute inset-0 opacity-20"
                                    style="
                                        background: repeating-linear-gradient(
                                            90deg,
                                            transparent 0px,
                                            rgba(255, 255, 255, 0.05) 40px,
                                            transparent 80px
                                        );
                                        animation: wave 8s linear infinite;
                                    "
                                ></div>
                                <div
                                    class="absolute inset-0 opacity-10"
                                    style="
                                        background: repeating-linear-gradient(
                                            90deg,
                                            transparent 0px,
                                            rgba(255, 255, 255, 0.03) 60px,
                                            transparent 120px
                                        );
                                        animation: wave 12s linear infinite reverse;
                                    "
                                ></div>

                                <svg
                                    viewBox="0 0 1200 160"
                                    preserveAspectRatio="none"
                                    class="absolute inset-0 w-full h-full"
                                >
                                    <defs>
                                        <linearGradient id="seaPath" x1="0" y1="0" x2="1" y2="0">
                                            <stop offset="0%" stop-color="rgba(34,197,94,0.4)" />
                                            <stop offset="33%" stop-color="rgba(255,107,53,0.6)" />
                                            <stop offset="66%" stop-color="rgba(168,85,247,0.5)" />
                                            <stop offset="100%" stop-color="rgba(59,130,246,0.4)" />
                                        </linearGradient>
                                        <filter id="islandGlow" x="-50%" y="-50%" width="200%" height="200%">
                                            <feGaussianBlur stdDeviation="8" result="blur" />
                                            <feMerge>
                                                <feMergeNode in="blur" />
                                                <feMergeNode in="SourceGraphic" />
                                            </feMerge>
                                        </filter>
                                    </defs>

                                    <!-- Journey path (dotted line connecting islands) -->
                                    <path
                                        d="M 100 90 Q 250 60, 400 85 T 700 75 T 1000 90"
                                        fill="none"
                                        stroke="url(#seaPath)"
                                        stroke-width="3"
                                        stroke-dasharray="8,12"
                                        opacity="0.6"
                                        style="animation: pathGlow 3s ease-in-out infinite"
                                    />

                                    <!-- Islands (organic shapes without numbers) - REMOVED per user request -->
                                </svg>
                            </div>

                            <!-- Island Cards -->
                            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 relative">
                                <!-- Island 1: Genesis -->
                                <div class="relative group" style="animation: islandBob 4s ease-in-out infinite">
                                    <div
                                        class="relative glass-panel p-5 rounded-2xl border-green-500/40 hover:border-green-400/60 transition-all text-center"
                                        style="border-width: 2px"
                                    >
                                        <div
                                            class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-green-400/20 to-green-600/20 flex items-center justify-center border-2 border-green-400/50"
                                            style="box-shadow: 0 0 20px rgba(34, 197, 94, 0.3)"
                                        >
                                            <img
                                                src="img/phase1.png"
                                                class="w-10 h-10 object-contain"
                                                onerror="
                                                    this.src =
                                                        'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%2322c55e%27 stroke-width=%272%27%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%2710%27/%3E%3Cpath d=%27M12 6v6m0 6v6M1 12h6m6 0h6%27/%3E%3C/svg%3E'
                                                "
                                            />
                                        </div>
                                        <div class="text-sm font-black text-green-400 mb-1 tracking-wider">
                                            GENESIS ISLE
                                        </div>
                                        <div class="text-[11px] text-gray-300 leading-relaxed">
                                            Fair Launch<br />Community Foundation
                                        </div>
                                    </div>
                                </div>

                                <!-- Island 2: Current -->
                                <div class="relative group" style="animation: islandBob 4s ease-in-out infinite 0.3s">
                                    <div
                                        class="relative glass-panel p-5 rounded-2xl border-fennec/60 bg-fennec/8 hover:border-fennec/80 transition-all text-center"
                                        style="border-width: 2px; box-shadow: 0 0 30px rgba(255, 107, 53, 0.2)"
                                    >
                                        <div
                                            class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-fennec/30 to-orange-600/30 flex items-center justify-center border-2 border-fennec/70"
                                            style="box-shadow: 0 0 24px rgba(255, 107, 53, 0.5)"
                                        >
                                            <img
                                                src="img/phase2.png"
                                                class="w-10 h-10 object-contain"
                                                onerror="
                                                    this.src =
                                                        'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23ff6b35%27 stroke-width=%272%27%3E%3Crect x=%273%27 y=%273%27 width=%2718%27 height=%2718%27 rx=%272%27/%3E%3Cpath d=%27M9 9h6M9 15h6%27/%3E%3C/svg%3E'
                                                "
                                            />
                                        </div>
                                        <div class="text-sm font-black text-fennec mb-1 tracking-wider">
                                            FENNEC HARBOR
                                        </div>
                                        <div class="text-[11px] text-gray-200 leading-relaxed font-semibold">
                                            Terminal Trading<br />Fennec ID System
                                        </div>
                                        <div
                                            class="mt-2 inline-block px-2 py-0.5 bg-fennec/20 border border-fennec/40 rounded text-[9px] font-bold text-fennec"
                                        >
                                            CURRENT
                                        </div>
                                    </div>
                                </div>

                                <!-- Island 3: Upcoming -->
                                <div class="relative group" style="animation: islandBob 4s ease-in-out infinite 0.6s">
                                    <div
                                        class="relative glass-panel p-5 rounded-2xl border-purple-500/40 hover:border-purple-400/60 transition-all text-center"
                                        style="border-width: 2px"
                                    >
                                        <div
                                            class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-purple-500/20 to-purple-700/20 flex items-center justify-center border-2 border-purple-400/50"
                                            style="box-shadow: 0 0 20px rgba(168, 85, 247, 0.3)"
                                        >
                                            <img
                                                src="img/phase3.png"
                                                class="w-10 h-10 object-contain"
                                                onerror="
                                                    this.src =
                                                        'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23a855f7%27 stroke-width=%272%27%3E%3Cpath d=%27M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5%27/%3E%3C/svg%3E'
                                                "
                                            />
                                        </div>
                                        <div class="text-sm font-black text-purple-400 mb-1 tracking-wider">
                                            SECTOR: ROSEN
                                        </div>
                                        <div class="text-[11px] text-gray-300 leading-relaxed">
                                            Vortex Effect<br />Metric: Unstable
                                        </div>
                                    </div>
                                </div>

                                <!-- Island 4: Future -->
                                <div
                                    class="relative group opacity-75"
                                    style="animation: islandBob 4s ease-in-out infinite 0.9s"
                                >
                                    <div
                                        class="relative glass-panel p-5 rounded-2xl border-blue-500/30 hover:border-blue-400/50 transition-all text-center"
                                        style="border-width: 2px"
                                    >
                                        <div
                                            class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-blue-500/15 to-blue-700/15 flex items-center justify-center border-2 border-blue-400/40"
                                            style="box-shadow: 0 0 16px rgba(59, 130, 246, 0.25)"
                                        >
                                            <img
                                                src="img/phase4.png"
                                                class="w-10 h-10 object-contain"
                                                onerror="
                                                    this.src =
                                                        'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%233b82f6%27 stroke-width=%272%27%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%273%27/%3E%3Cpath d=%27M12 1v6m0 6v6M1 12h6m6 0h6%27/%3E%3C/svg%3E'
                                                "
                                            />
                                        </div>
                                        <div class="text-sm font-black text-blue-400 mb-1 tracking-wider">
                                            LEGEND SHORES
                                        </div>
                                        <div class="text-[11px] text-gray-400 leading-relaxed">
                                            Uncharted Waters<br />New Legends Born
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </template>

            <template id="sec-terminal-template">
                <!-- === SECTION 2: TERMINAL (SWAP) === -->
                <section
                    id="sec-terminal"
                    class="page-section flex flex-col justify-start pt-32 pb-20 px-4 max-w-4xl mx-auto relative z-10"
                >
                    <!-- CHART -->
                    <div class="glass-panel p-6 rounded-2xl mb-6">
                        <div class="flex justify-between items-end mb-4">
                            <div>
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold">
                                    Market Price (FB)
                                </div>
                                <div class="flex items-baseline gap-3">
                                    <div
                                        class="text-3xl font-bold font-mono text-white tracking-tighter"
                                        id="chartPrice"
                                    >
                                        --
                                    </div>
                                    <div class="text-lg font-bold" id="chartPriceChange">--</div>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button
                                    onclick="setChartTimeframe('1h')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    1H
                                </button>
                                <button
                                    onclick="setChartTimeframe('24h')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    24H
                                </button>
                                <button
                                    onclick="setChartTimeframe('7d')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    7D
                                </button>
                                <button
                                    onclick="setChartTimeframe('30d')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    30D
                                </button>
                                <button
                                    onclick="setChartTimeframe('all')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    ALL
                                </button>
                            </div>
                        </div>
                        <div class="chart-container" style="height: 250px; width: 100%; position: relative">
                            <canvas id="priceChart"></canvas>
                        </div>
                        <!-- Market Stats -->
                        <div class="grid grid-cols-4 gap-4 mt-3 pt-4 border-t border-white/5">
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    24h Volume
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="volume24h">--</div>
                            </div>
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    7d Volume
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="volume7d">--</div>
                            </div>
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    30d Volume
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="volume30d">--</div>
                            </div>
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    Market Cap
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="marketCap">--</div>
                            </div>
                        </div>
                    </div>

                    <!-- MAIN INTERFACE -->
                    <div
                        class="glass-panel p-6 rounded-2xl relative shadow-[0_0_50px_rgba(0,0,0,0.3)] border border-fennec/20"
                    >
                        <div
                            id="swapSuccessOverlay"
                            class="absolute inset-0 z-40 items-center justify-center"
                            style="display: none"
                        >
                            <div
                                class="px-6 py-4 rounded-2xl bg-black/70 border border-fennec/30 backdrop-blur-md flex items-center gap-3"
                            >
                                <div
                                    class="w-10 h-10 rounded-full bg-fennec/15 border border-fennec/40 flex items-center justify-center text-fennec text-xl"
                                >
                                    <i class="fas fa-check"></i>
                                </div>
                                <div>
                                    <div class="text-xs tracking-[0.25em] text-gray-300 uppercase font-bold">
                                        Swap confirmed
                                    </div>
                                    <div class="text-[11px] text-gray-400">Balances are updating‚Ä¶</div>
                                </div>
                            </div>
                        </div>
                        <!-- TABS -->
                        <div class="flex border-b border-white/10 mb-6">
                            <button
                                class="tab-btn active w-1/4"
                                onclick="switchTab('swap')"
                                id="tab-swap"
                                data-t="swap"
                            >
                                SWAP
                            </button>
                            <button
                                class="tab-btn w-1/4"
                                onclick="switchTab('deposit')"
                                id="tab-deposit"
                                data-t="deposit"
                            >
                                DEPOSIT
                            </button>
                            <button
                                class="tab-btn w-1/4"
                                onclick="switchTab('withdraw')"
                                id="tab-withdraw"
                                data-t="withdraw"
                            >
                                WITHDRAW
                            </button>
                            <button
                                class="tab-btn w-1/4"
                                onclick="switchTab('pending')"
                                id="tab-pending"
                                data-t="activity"
                            >
                                PENDING
                            </button>
                        </div>

                        <!-- SWAP TAB -->
                        <div id="view-swap" class="tab-content active">
                            <div class="flex gap-2 mb-4">
                                <div
                                    onclick="setSwapPair('FB_FENNEC')"
                                    id="pair-fb-fennec"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition hover:bg-fennec/20 cursor-pointer"
                                    role="button"
                                    tabindex="0"
                                >
                                    <div class="flex flex-col items-center justify-center leading-tight">
                                        <div>FB / FENNEC</div>
                                    </div>
                                </div>
                                <div
                                    onclick="setSwapPair('BTC_FB')"
                                    id="pair-btc-fb"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition hover:bg-white/5 cursor-pointer"
                                    role="button"
                                    tabindex="0"
                                >
                                    <div class="flex flex-col items-center justify-center leading-tight">
                                        <div>BTC / FB</div>
                                    </div>
                                </div>
                            </div>

                            <div
                                class="bg-black/40 rounded-xl p-4 mb-2 border border-white/5 focus-within:border-fennec/50 transition"
                            >
                                <div class="flex justify-between text-xs mb-2 text-gray-400">
                                    <span data-t="you_pay" class="font-bold">YOU PAY</span>
                                    <div class="flex gap-2 items-center">
                                        <span class="text-[10px] text-gray-500" id="balIn">Bal: --</span>
                                        <button
                                            onclick="setMaxAmount()"
                                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                        >
                                            MAX
                                        </button>
                                    </div>
                                </div>
                                <div class="flex justify-between items-center relative">
                                    <input
                                        type="number"
                                        id="swapIn"
                                        placeholder="0.0"
                                        class="bg-transparent text-3xl font-bold w-full outline-none text-white placeholder-gray-700"
                                        oninput="debounceQuote()"
                                    />
                                    <div class="flex flex-col items-center gap-1">
                                        <div
                                            class="flex items-center gap-2 px-3 py-1.5 cursor-pointer min-w-[80px] justify-center"
                                        >
                                            <img
                                                id="iconIn"
                                                src="img/FB.png"
                                                class="w-6 h-6 rounded-full flex-shrink-0"
                                            />
                                            <span id="tickerIn" class="font-bold text-sm whitespace-nowrap">FB</span>
                                        </div>
                                        <!-- Liquidity Plus Button moved under the coins -->
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-center items-center gap-4 -my-5 relative z-10">
                                <button
                                    onclick="switchDir()"
                                    class="bg-[#2b1d1a] border border-fennec/30 p-3 rounded-full text-fennec shadow-xl hover:scale-110 transition hover:border-fennec rotate-90"
                                    title="Switch direction"
                                >
                                    <i class="fas fa-exchange-alt"></i>
                                </button>
                            </div>

                            <div class="bg-black/40 rounded-xl p-4 mt-2 border border-white/5">
                                <div class="flex justify-between text-xs mb-2 text-gray-400">
                                    <span data-t="you_receive" class="font-bold">YOU RECEIVE</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <input
                                        type="number"
                                        id="swapOut"
                                        placeholder="0.0"
                                        class="bg-transparent text-3xl font-bold w-full outline-none text-white placeholder-gray-700"
                                        oninput="debounceReverse()"
                                    />
                                    <div class="flex items-center gap-2 px-3 py-1.5 min-w-[80px] justify-center">
                                        <img
                                            id="iconOut"
                                            src="img/phav.png"
                                            class="w-6 h-6 rounded-full flex-shrink-0"
                                        />
                                        <span id="tickerOut" class="font-bold text-sm whitespace-nowrap">FENNEC</span>
                                    </div>
                                </div>
                            </div>

                            <div
                                class="flex justify-between items-center text-xs text-gray-400 mt-4 px-2 font-mono gap-3"
                            >
                                <span id="rateVal" class="font-semibold">Rate: --</span>
                                <button
                                    type="button"
                                    onclick="openAddLiquidityModal(currentSwapPair)"
                                    class="px-4 py-2 text-[11px] font-black bg-fennec/15 text-fennec border border-fennec/30 rounded-lg hover:bg-fennec/25 transition shadow-lg tracking-widest"
                                    title="Manage Liquidity"
                                >
                                    Liquidity
                                </button>
                            </div>

                            <button
                                onclick="doSwap()"
                                id="swapBtn"
                                class="w-full bg-fennec text-black font-black text-xl py-4 rounded-xl mt-6 hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide flex items-center justify-center gap-2"
                                data-t="swap_action"
                            >
                                <img src="img/phav.png" class="w-6 h-6 inline-block object-contain" /> GET FENNEC
                            </button>

                            <!-- Recent Swaps -->
                            <div class="mt-6 pt-4 border-t border-white/10">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                        >Recent Swaps</span
                                    >
                                </div>
                                <div id="swapHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                    <div class="text-center py-4 text-gray-600 text-xs">No swaps yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- DEPOSIT TAB -->
                        <div id="view-deposit" class="tab-content hidden">
                            <div class="flex gap-2 mb-6">
                                <button
                                    onclick="setDepositToken('BTC')"
                                    id="dep-btc"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg"
                                >
                                    BTC
                                </button>
                                <button
                                    onclick="setDepositToken('sFB')"
                                    id="dep-sfb"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                                >
                                    FB
                                </button>
                                <button
                                    onclick="setDepositToken('FENNEC')"
                                    id="dep-fennec"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                                >
                                    FENNEC
                                </button>
                            </div>

                            <div id="dep-native-ui">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-xs text-gray-400" id="depBalance">Balance: --</span>
                                    <div class="flex items-center gap-2">
                                        <button
                                            onclick="setMaxDepositAmount()"
                                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                        >
                                            MAX
                                        </button>
                                    </div>
                                </div>
                                <div
                                    class="bg-black/40 rounded-xl p-4 mb-4 border border-white/5 flex justify-between items-center"
                                >
                                    <input
                                        type="number"
                                        id="depAmount"
                                        placeholder="0.001"
                                        class="bg-transparent text-2xl font-bold w-full outline-none text-white"
                                    />
                                    <span class="font-bold text-gray-400" id="depTickerLabel">BTC</span>
                                </div>

                                <!-- Fee Selection -->
                                <div class="mb-4">
                                    <div class="text-[10px] font-bold text-gray-400 tracking-wider mb-2">
                                        NETWORK FEE
                                    </div>
                                    <div class="flex gap-2" id="depFeeSelector">
                                        <button
                                            onclick="setDepositFee('medium')"
                                            id="dep-fee-medium"
                                            class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition"
                                        >
                                            <div>MEDIUM</div>
                                            <div class="text-[10px] text-fennec/70" id="dep-fee-medium-value">--</div>
                                        </button>
                                        <button
                                            onclick="setDepositFee('fast')"
                                            id="dep-fee-fast"
                                            class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                        >
                                            <div>FAST</div>
                                            <div class="text-[10px] text-gray-600" id="dep-fee-fast-value">--</div>
                                        </button>
                                        <button
                                            onclick="setDepositFee('custom')"
                                            id="dep-fee-custom"
                                            class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                        >
                                            <div>CUSTOM</div>
                                            <input
                                                type="number"
                                                id="dep-fee-custom-input"
                                                placeholder="sat/vB"
                                                min="1"
                                                step="1"
                                                class="text-[10px] bg-black/40 border border-white/20 rounded w-full text-center mt-1 text-white px-1"
                                                style="display: none"
                                                onchange="setDepositFeeCustom(this.value)"
                                            />
                                        </button>
                                    </div>
                                </div>

                                <button
                                    onclick="doDeposit()"
                                    id="btnDeposit"
                                    class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide"
                                    data-t="deposit_btc_btn"
                                >
                                    DEPOSIT
                                </button>
                            </div>
                            <div id="dep-brc20-ui" style="display: none">
                                <div class="mb-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xs text-gray-400"
                                            >Available: <span id="fennecAvailable">--</span></span
                                        >
                                        <span class="text-xs text-gray-400"
                                            >Transferable: <span id="fennecTransferable">--</span></span
                                        >
                                    </div>
                                </div>
                                <div id="inscriptionCards" class="grid grid-cols-3 gap-3 mb-4 max-h-64 overflow-y-auto">
                                    <div class="text-center py-8 text-gray-500 text-xs">Loading inscriptions...</div>
                                </div>
                                <div class="border-t border-white/10 pt-3 mb-4">
                                    <div class="flex items-center justify-between text-sm">
                                        <span class="text-gray-400">Selected:</span>
                                        <span class="text-white font-bold" id="selectedAmount">0</span>
                                        <span class="text-fennec font-bold">FENNEC</span>
                                    </div>
                                </div>
                                <button
                                    onclick="depositSelectedInscriptions()"
                                    id="btnDepositSelected"
                                    class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white transition duration-200 shadow-lg mb-3"
                                    disabled
                                >
                                    DEPOSIT
                                </button>
                                <div class="text-center py-2 border-t border-white/10">
                                    <div class="mb-3">
                                        <div class="flex items-center justify-center gap-2 mb-2">
                                            <input
                                                type="number"
                                                id="depFennecAmount"
                                                placeholder="Enter amount"
                                                min="0.00000001"
                                                step="0.00000001"
                                                class="bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white text-sm w-32 text-center focus:border-fennec transition"
                                                style="outline: none"
                                            />
                                            <span class="text-xs text-gray-400">FENNEC</span>
                                        </div>
                                        <button
                                            onclick="setMaxFennecAmount()"
                                            class="text-[10px] text-fennec hover:text-white bg-fennec/10 px-3 py-1 rounded border border-fennec/30 mb-2"
                                        >
                                            Use Max
                                        </button>
                                    </div>
                                    <button
                                        onclick="createFennecInscription()"
                                        id="btnCreateInscription"
                                        class="text-xs text-fennec hover:text-white bg-fennec/10 px-4 py-2 rounded-lg border border-fennec/30 transition hover:bg-fennec/20"
                                    >
                                        Create Transfer Inscription
                                    </button>
                                </div>
                            </div>

                            <!-- Recent Deposits -->
                            <div class="mt-6 pt-4 border-t border-white/10">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                        >Recent Deposits</span
                                    >
                                </div>
                                <div id="depositHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                    <div class="text-center py-4 text-gray-600 text-xs">No deposits yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- WITHDRAW TAB -->
                        <div id="view-withdraw" class="tab-content hidden">
                            <div class="flex gap-2 mb-6">
                                <button
                                    onclick="setWithdrawToken('sFB')"
                                    id="wd-sfb"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg"
                                >
                                    FB
                                </button>
                                <button
                                    onclick="setWithdrawToken('FENNEC')"
                                    id="wd-fennec"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                                >
                                    FENNEC
                                </button>
                            </div>
                            <div class="flex justify-between text-xs mb-2 text-gray-400">
                                <span id="wd-bal">Available: --</span>
                                <div class="flex items-center gap-2">
                                    <button
                                        onclick="setMaxWithdrawAmount()"
                                        class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    >
                                        MAX
                                    </button>
                                </div>
                            </div>
                            <div
                                class="bg-black/40 rounded-xl p-4 mb-4 border border-white/5 flex justify-between items-center"
                            >
                                <input
                                    type="number"
                                    id="wdAmount"
                                    placeholder="0.0"
                                    class="bg-transparent text-2xl font-bold w-full outline-none text-white"
                                />
                                <span class="font-bold text-gray-400" id="wdTickerLabel">FB</span>
                            </div>

                            <!-- Fee Selection -->
                            <div class="mb-4">
                                <div class="text-[10px] font-bold text-gray-400 tracking-wider mb-2">NETWORK FEE</div>
                                <div class="flex gap-2" id="wdFeeSelector">
                                    <button
                                        onclick="setWithdrawFee('medium')"
                                        id="wd-fee-medium"
                                        class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition"
                                    >
                                        <div>MEDIUM</div>
                                        <div class="text-[10px] text-fennec/70" id="wd-fee-medium-value">--</div>
                                    </button>
                                    <button
                                        onclick="setWithdrawFee('fast')"
                                        id="wd-fee-fast"
                                        class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                    >
                                        <div>FAST</div>
                                        <div class="text-[10px] text-gray-600" id="wd-fee-fast-value">--</div>
                                    </button>
                                    <button
                                        onclick="setWithdrawFee('custom')"
                                        id="wd-fee-custom"
                                        class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                    >
                                        <div>CUSTOM</div>
                                        <input
                                            type="number"
                                            id="wd-fee-custom-input"
                                            placeholder="sat/vB"
                                            min="1"
                                            step="1"
                                            class="text-[10px] bg-black/40 border border-white/20 rounded w-full text-center mt-1 text-white px-1"
                                            style="display: none"
                                            onchange="setWithdrawFeeCustom(this.value)"
                                        />
                                    </button>
                                </div>
                            </div>

                            <button
                                onclick="doWithdraw()"
                                id="btnWithdraw"
                                class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide"
                                data-t="withdraw_btn"
                            >
                                WITHDRAW
                            </button>

                            <!-- Recent Withdrawals -->
                            <div class="mt-6 pt-4 border-t border-white/10">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                        >Recent Withdrawals</span
                                    >
                                </div>
                                <div id="withdrawHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                    <div class="text-center py-4 text-gray-600 text-xs">No withdrawals yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- PENDING TAB -->
                        <div id="view-pending" class="tab-content hidden">
                            <div
                                class="text-xs text-gray-500 font-bold uppercase mb-3 tracking-widest flex justify-between"
                            >
                                <span>Pending Operations</span>
                            </div>
                            <div id="pendingOperations" class="space-y-2 max-h-80 overflow-y-auto scrollbar-thin">
                                <div class="text-center py-8 text-gray-600 text-xs">No pending operations</div>
                            </div>
                        </div>
                    </div>
                </section>
            </template>

            <!-- === SECTION 3: FENNEC GRAND AUDIT === -->
            <section id="sec-audit" class="page-section active flex flex-col justify-start pt-24 pb-24 relative z-10">
                <div class="max-w-4xl mx-auto px-6">
                    <div class="text-center" style="margin-bottom: 32px">
                        <h2
                            class="text-4xl font-black font-display text-white mb-3"
                            style="
                                color: #ff6b35;
                                text-shadow: 0 0 30px rgba(255, 107, 53, 0.4);
                                letter-spacing: 0.15em;
                                text-transform: uppercase;
                            "
                        >
                            FENNEC ID
                        </h2>
                        <p class="text-center text-gray-400 text-sm" style="letter-spacing: 0.05em">
                            Your on-chain footprint in the Fractal desert
                        </p>
                    </div>

                    <div class="relative" style="overflow: visible !important; margin-top: 0px">
                        <div
                            id="auditContainer"
                            class="relative flex justify-center"
                            style="overflow: visible !important"
                        >
                            <!-- Content will be generated by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>
            <template id="sec-burrow-template">
                <!-- === SECTION 4: THE BURROW (VISUALIZER) === -->
                <section id="sec-burrow" class="page-section pt-32 pb-20 relative z-10 text-center">
                    <div class="max-w-4xl mx-auto px-6">
                        <h2
                            class="text-4xl font-black font-display mb-4 text-white text-glow neon-text"
                            data-t="burrow_title"
                        >
                            THE BURROW
                        </h2>
                        <p class="text-gray-400 text-sm mb-8" data-t="burrow_desc">
                            Live Mempool Visualization (Particles = Transactions)
                        </p>
                        <div
                            class="glass-panel p-1 rounded-2xl relative overflow-hidden h-[400px] border border-fennec/30 shadow-[0_0_50px_rgba(255,107,53,0.15)]"
                        >
                            <canvas id="burrowCanvas"></canvas>
                            <div class="absolute bottom-4 left-4 text-xs text-fennec font-mono animate-pulse">
                                LIVE FEED
                            </div>
                        </div>
                    </div>
                </section>
            </template>
        </main>

        <div class="h-10"></div>

        <div
            id="errorModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('errorModal').classList.add('hidden')"
        >
            <div class="modal-box border-red-500/30" onclick="event.stopPropagation()">
                <h3 class="text-lg font-bold text-red-500 mb-2">Error</h3>
                <p id="errorMsg" class="text-gray-400 text-xs font-mono mb-4 break-all"></p>
                <button
                    onclick="document.getElementById('errorModal').classList.add('hidden')"
                    class="w-full bg-white/10 py-2 rounded-lg hover:bg-white/20 text-white text-sm font-bold"
                >
                    CLOSE
                </button>
            </div>
        </div>
        <div
            id="successModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('successModal').classList.add('hidden')"
        >
            <div class="modal-box border-green-500/30 text-center" onclick="event.stopPropagation()">
                <div class="text-4xl mb-3"></div>
                <h3 class="text-lg font-bold text-green-500 mb-2">Success!</h3>
                <p class="text-gray-400 text-xs mb-4 font-mono break-all bg-black/30 p-2 rounded" id="successTxId"></p>
                <button
                    onclick="document.getElementById('successModal').classList.add('hidden')"
                    class="w-full bg-green-600 text-black font-bold py-2 rounded-lg hover:bg-green-500 transition"
                >
                    OK
                </button>
            </div>
        </div>
        <div
            id="depositLinkModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('depositLinkModal').classList.add('hidden')"
        >
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <i class="fas fa-wallet text-3xl text-fennec mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">Insufficient Funds</h3>
                <button
                    onclick="
                        switchTab('deposit');
                        document.getElementById('depositLinkModal').classList.add('hidden');
                    "
                    class="w-full bg-fennec text-black py-3 rounded-xl font-bold hover:bg-white transition"
                >
                    GO TO DEPOSIT
                </button>
            </div>
        </div>

        <div id="addLiquidityModal" class="modal-overlay hidden" onclick="closeAddLiquidityModal()">
            <div
                class="modal-box border-fennec/30"
                style="max-width: 560px; width: 92%; padding: 22px"
                onclick="event.stopPropagation()"
            >
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">Liquidity</div>
                        <div class="text-lg font-black text-white">Manage Liquidity</div>
                    </div>
                    <div class="flex items-center gap-3">
                        <button type="button" onclick="closeAddLiquidityModal()" class="text-gray-500 hover:text-white">
                            ‚úï
                        </button>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="flex gap-2 mb-3">
                    <button
                        id="liqTabAdd"
                        onclick="switchLiquidityTab('add')"
                        class="flex-1 px-4 py-2 rounded-xl bg-fennec/15 border border-fennec/30 text-white font-black transition"
                    >
                        ADD
                    </button>
                    <button
                        id="liqTabRemove"
                        onclick="switchLiquidityTab('remove')"
                        class="flex-1 px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-gray-400 font-black transition"
                    >
                        REMOVE
                    </button>
                </div>

                <!-- Pair selector hidden - pair is fixed when modal opens -->
                <div class="hidden grid grid-cols-2 gap-2" id="liqPairSwitcher">
                    <button
                        id="liqPairFBF"
                        onclick="selectLiquidityPair('FB_FENNEC')"
                        class="px-4 py-3 rounded-xl bg-fennec/10 border border-fennec/25 text-white font-black hover:bg-fennec/15 hover:border-fennec/45 transition"
                    >
                        FB / FENNEC
                    </button>
                    <button
                        id="liqPairBFB"
                        onclick="selectLiquidityPair('BTC_FB')"
                        class="px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white font-black hover:bg-white/10 hover:border-white/20 transition"
                    >
                        BTC / FB
                    </button>
                </div>

                <!-- Add Liquidity Tab Content -->
                <div id="liqAddContent">
                    <!-- Display fixed pair -->
                    <div class="text-center py-3 px-4 bg-fennec/10 border border-fennec/30 rounded-xl">
                        <div class="text-xs text-gray-400 uppercase tracking-widest mb-1">Selected Pair</div>
                        <div id="liqFixedPairDisplay" class="text-xl font-black text-white">FB / FENNEC</div>
                    </div>

                    <div id="liqSideRow" class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div
                            id="liqMyPos"
                            class="hidden bg-black/40 border border-white/10 rounded-xl p-3 md:col-span-2"
                        >
                            <div class="flex items-center justify-between gap-3">
                                <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                                    Your Position
                                </div>
                                <button
                                    type="button"
                                    onclick="refreshMyLiquidityForSelectedPair(true)"
                                    class="text-[10px] text-fennec hover:text-white underline decoration-dotted"
                                >
                                    Refresh
                                </button>
                            </div>
                            <div id="liqMyPosBody" class="mt-3 text-gray-200">--</div>
                        </div>

                        <div
                            id="liqWithdrawPanel"
                            class="hidden bg-black/40 border border-white/10 rounded-xl p-3 md:col-span-1"
                        >
                            <div class="flex items-center justify-between gap-3">
                                <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                                    Liquidity
                                </div>
                                <button
                                    id="liqWithdrawBtn"
                                    type="button"
                                    onclick="openRemoveLiquidityModal()"
                                    class="text-[10px] font-black bg-fennec/15 text-fennec border border-fennec/30 px-2 py-1 rounded-lg hover:bg-fennec/25 transition"
                                >
                                    Withdraw
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                            <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                                <span id="liqTick0Label">FENNEC</span>
                                <button
                                    onclick="setMaxLiqAmount(0)"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    type="button"
                                >
                                    MAX
                                </button>
                            </div>
                            <input
                                id="liqAmount0"
                                type="number"
                                inputmode="decimal"
                                placeholder="0.0"
                                class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                                oninput="syncLiquidityAmounts(0)"
                            />
                            <div class="text-[10px] text-gray-500 mt-1">Bal: <span id="liqBal0">--</span></div>
                        </div>
                        <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                            <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                                <span id="liqTick1Label">FB</span>
                                <button
                                    onclick="setMaxLiqAmount(1)"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    type="button"
                                >
                                    MAX
                                </button>
                            </div>
                            <input
                                id="liqAmount1"
                                type="number"
                                inputmode="decimal"
                                placeholder="0.0"
                                class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                                oninput="syncLiquidityAmounts(1)"
                            />
                            <div class="text-[10px] text-gray-500 mt-1">Bal: <span id="liqBal1">--</span></div>
                        </div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                        <span>Expected LP: <span id="liqExpectedLP" class="text-white font-bold">--</span></span>
                    </div>

                    <button
                        onclick="doAddLiquidity()"
                        id="liqSupplyBtn"
                        class="mt-3 w-full bg-gradient-to-r from-fennec to-orange-400 text-black font-black text-base py-3 rounded-xl hover:brightness-110 transition opacity-50 cursor-not-allowed"
                        disabled
                    >
                        SUPPLY
                    </button>
                </div>

                <!-- Remove Liquidity Tab Content -->
                <div id="liqRemoveContent" class="hidden">
                    <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                        <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                            <span>LP Amount</span>
                            <button
                                type="button"
                                onclick="setMaxRemoveLp()"
                                class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                            >
                                MAX
                            </button>
                        </div>
                        <input
                            id="removeLpAmount"
                            type="number"
                            inputmode="decimal"
                            placeholder="0.0"
                            class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                        />
                        <div class="text-[10px] text-gray-500 mt-1">Your LP: <span id="removeLpBalance">--</span></div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                        <span>Est. Receive: <span id="removeReceive" class="text-white font-bold">--</span></span>
                        <span class="text-gray-600">Fees in FB</span>
                    </div>

                    <button
                        onclick="doRemoveLiquidity()"
                        id="removeLiqBtn"
                        class="mt-3 w-full bg-gradient-to-r from-fennec to-orange-400 text-black font-black text-base py-3 rounded-xl hover:brightness-110 transition opacity-50 cursor-not-allowed"
                        disabled
                    >
                        WITHDRAW
                    </button>
                </div>
            </div>
        </div>

        <div id="removeLiquidityModal" class="modal-overlay hidden" onclick="closeRemoveLiquidityModal()">
            <div
                class="modal-box border-fennec/30"
                style="max-width: 520px; width: 92%; padding: 22px"
                onclick="event.stopPropagation()"
            >
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                            Withdraw Liquidity
                        </div>
                        <div class="text-lg font-black text-white">Remove Liquidity</div>
                    </div>
                    <button type="button" onclick="closeRemoveLiquidityModal()" class="text-gray-500 hover:text-white">
                        ‚úï
                    </button>
                </div>

                <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                    <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                        <span>LP Amount</span>
                        <button
                            type="button"
                            onclick="setMaxRemoveLp()"
                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                        >
                            MAX
                        </button>
                    </div>
                    <input
                        id="removeLpAmount"
                        type="number"
                        inputmode="decimal"
                        placeholder="0.0"
                        class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                    />
                    <div class="text-[10px] text-gray-500 mt-1">Your LP: <span id="removeLpBalance">--</span></div>
                </div>

                <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                    <span>Est. Receive: <span id="removeReceive" class="text-white font-bold">--</span></span>
                    <span class="text-gray-600">Fees in FB</span>
                </div>

                <button
                    onclick="doRemoveLiquidity()"
                    id="removeLiqBtn"
                    class="mt-3 w-full bg-white/10 border border-white/10 text-white font-black text-base py-3 rounded-xl hover:bg-white/15 transition"
                >
                    WITHDRAW
                </button>
            </div>
        </div>

        <div
            id="inscriptionModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('inscriptionModal').classList.add('hidden')"
        >
            <div class="modal-box" onclick="event.stopPropagation()">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-white">Select Inscription</h3>
                    <button
                        onclick="document.getElementById('inscriptionModal').classList.add('hidden')"
                        class="text-gray-500 hover:text-white"
                    >
                        ‚úï
                    </button>
                </div>
                <div id="inscList" class="max-h-60 overflow-y-auto space-y-2">
                    <div class="text-center py-4 text-gray-500 text-xs">Loading...</div>
                </div>
            </div>
        </div>
        <div
            id="switchWalletModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('switchWalletModal').classList.add('hidden')"
        >
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <i class="fas fa-exchange-alt text-3xl text-fennec mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">Switch Wallet?</h3>
                <p class="text-gray-400 text-sm mb-4">
                    You are about to switch from:<br /><span
                        class="text-fennec font-mono text-xs"
                        id="currentWalletAddress"
                    ></span
                    ><br /><br />Please confirm to continue.
                </p>
                <div class="flex gap-3">
                    <button
                        onclick="
                            document.getElementById('switchWalletModal').classList.add('hidden');
                            switchWalletConfirmed = true;
                            window.connectWallet();
                        "
                        class="flex-1 bg-fennec text-black py-3 rounded-xl font-bold hover:bg-white transition"
                    >
                        CONFIRM</button
                    ><button
                        onclick="
                            document.getElementById('switchWalletModal').classList.add('hidden');
                            switchWalletConfirmed = false;
                        "
                        class="flex-1 bg-white/10 text-white py-3 rounded-xl font-bold hover:bg-white/20 transition"
                    >
                        CANCEL
                    </button>
                </div>
            </div>
        </div>

        <!-- WHALE WATCHER NOTIFICATION -->
        <div
            id="whaleWatcher"
            class="whale-alert fixed bottom-4 right-4 bg-black/90 border border-fennec/50 p-4 rounded-xl shadow-[0_0_30px_rgba(255,107,53,0.3)] transform translate-y-[200%] transition-transform duration-500 z-50 flex items-center gap-4 max-w-sm hidden"
        >
            <div class="text-4xl"></div>
            <div>
                <div class="text-xs text-fennec font-bold uppercase tracking-widest mb-1">Whale Alert</div>
                <div id="whaleMsg" class="text-sm text-white font-mono leading-tight">Someone just swapped 500 FB!</div>
            </div>
            <button
                onclick="document.getElementById('whaleWatcher').classList.add('translate-y-[200%]')"
                class="absolute top-2 right-2 text-gray-500 hover:text-white"
            >
                √ó
            </button>
        </div>

        <!-- Progress Tracking Modal -->
        <div id="progressModal" class="modal-overlay hidden">
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <div class="text-4xl mb-4"><i class="fas fa-spinner fa-spin text-fennec"></i></div>
                <h3 class="text-lg font-bold text-white mb-3" id="progressTitle">Processing...</h3>
                <div class="bg-black/40 rounded-lg p-4 mb-4">
                    <div class="flex justify-between text-xs mb-2">
                        <span class="text-gray-400" id="progressStep">Waiting...</span
                        ><span class="text-fennec font-bold" id="progressPercent">0%</span>
                    </div>
                    <div class="w-full bg-white/10 rounded-full h-2 overflow-hidden">
                        <div
                            id="progressBar"
                            class="bg-gradient-to-r from-fennec to-sand h-full transition-all duration-300"
                            style="width: 0%"
                        ></div>
                    </div>
                </div>
                <p class="text-gray-400 text-xs font-mono break-all bg-black/30 p-2 rounded mb-4" id="progressTxId"></p>
                <button
                    onclick="closeProgress()"
                    class="w-full bg-white/10 py-2 rounded-lg hover:bg-white/20 text-white text-sm font-bold"
                >
                    CLOSE
                </button>
            </div>
        </div>

        <script src="js/lore_db.js?v=2026-01-14-1"></script>
        <script src="recursive_inscriptions/fennec_lib_v2.js?v=2026-01-14-1"></script>
        <script src="js/router.js?v=2026-01-14-1"></script>
        <script src="assets/app.js?v=2026-01-14-1"></script>

        <!-- CHAT WIDGET -->
        <div id="chatWidget" class="fixed bottom-12 right-6 z-50 flex flex-col items-end pointer-events-none">
            <div
                id="chatWindow"
                class="mb-4 w-80 bg-[#1a100c]/95 backdrop-blur-xl border border-fennec/30 rounded-2xl shadow-[0_0_50px_rgba(255,107,53,0.15)] overflow-hidden transform origin-bottom-right scale-90 opacity-0 transition-all duration-300 pointer-events-auto hidden"
            >
                <div
                    class="bg-gradient-to-r from-fennec/20 to-transparent p-3 border-b border-white/5 flex justify-between items-center"
                >
                    <div class="flex items-center gap-2">
                        <div class="w-5 h-5 flex-shrink-0">
                            <img src="img/FENNECAI.png" class="w-full h-full object-contain ai-avatar" />
                        </div>
                        <span class="text-xs font-mono font-bold text-fennec tracking-widest">ASSISTANT</span>
                    </div>
                    <button onclick="window.toggleChat()" class="text-gray-500 hover:text-white">‚úï</button>
                </div>
                <div class="px-3 py-2 border-b border-white/5 bg-black/10">
                    <div class="flex flex-wrap gap-2 justify-center">
                        <button
                            onclick="oracleQuick('help')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            HELP
                        </button>
                        <button
                            onclick="oracleQuick('prices')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            PRICE
                        </button>
                        <button
                            onclick="oracleQuick('swap')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            SWAP
                        </button>
                        <button
                            onclick="oracleQuick('id')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            FENNEC ID
                        </button>
                        <button
                            onclick="oracleQuick('deposit')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            DEPOSIT
                        </button>
                        <button
                            onclick="oracleQuick('withdraw')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            WITHDRAW
                        </button>
                        <button
                            onclick="oracleQuick('clear')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-red-500/40 hover:bg-red-500/10 transition"
                        >
                            CLEAR
                        </button>
                    </div>
                    <div id="chatLoading" class="hidden mt-2 text-[10px] text-gray-500 font-mono">
                        Scanning the dunes...
                    </div>
                </div>
                <div id="chatMessages" class="h-80 overflow-y-auto p-4 space-y-3 scrollbar-thin text-xs text-gray-300">
                    <div class="flex gap-2 items-start">
                        <div class="w-6 h-6 flex-shrink-0">
                            <img src="img/FENNECAI.png" class="w-full h-full object-contain ai-avatar" />
                        </div>
                        <div class="bg-white/5 p-3 rounded-lg rounded-tl-none flex-1">
                            Ask me anything about Fennec.
                        </div>
                    </div>
                </div>
                <div class="p-3 border-t border-white/10 bg-black/20 relative">
                    <input
                        type="text"
                        id="chatInput"
                        placeholder="Ask..."
                        class="w-full bg-black/50 border border-white/10 rounded-lg pl-3 pr-12 py-3 text-xs text-white outline-none focus:border-fennec/50 transition"
                        onkeypress="if (event.key === 'Enter') sendMessage();"
                    />
                    <button
                        onclick="sendMessage()"
                        id="chatSendBtn"
                        class="absolute right-2 top-1/2 -translate-y-1/2 text-fennec w-9 h-9 flex items-center justify-center rounded-md bg-white/5 border border-white/10 hover:bg-fennec/10 hover:border-fennec/30"
                    >
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            <button
                onclick="window.toggleChat()"
                id="chatTrigger"
                class="pointer-events-auto w-14 h-14 bg-[#2b1d1a] rounded-full border border-fennec/50 shadow-lg flex items-center justify-center hover:scale-110 transition hover:bg-fennec hover:text-black overflow-hidden"
            >
                <img src="img/FENNECAI.png" class="w-10 h-10 object-contain ai-avatar" />
            </button>
        </div>

        <script src="assets/bg.js?v=2026-01-13-1"></script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\image-compressor.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fennec Image Compressor</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
        <style>
            body {
                background: #0a0a0f;
                color: white;
                font-family: sans-serif;
            }
            .fennec-gradient {
                background: linear-gradient(90deg, #ff6b35, #ff9d5c);
            }
            .drop-zone {
                border: 2px dashed rgba(255, 107, 53, 0.3);
                transition: all 0.3s ease;
            }
            .drop-zone:hover {
                border-color: #ff6b35;
                background: rgba(255, 107, 53, 0.05);
            }
        </style>
    </head>
    <body class="min-h-screen flex items-center justify-center p-4">
        <div class="max-w-2xl w-full bg-[#16161d] rounded-2xl p-8 border border-white/5 shadow-2xl">
            <div class="text-center mb-8">
                <h1
                    class="text-3xl font-black mb-2 fennec-gradient bg-clip-text text-transparent uppercase tracking-tighter"
                >
                    Image Compressor
                </h1>
                <p class="text-gray-400 text-sm">Target size: <span class="text-fennec font-bold">&lt; 365 KB</span></p>
            </div>

            <!-- Upload Area -->
            <div id="dropZone" class="drop-zone rounded-xl p-8 text-center cursor-pointer mb-6">
                <input type="file" id="fileInput" class="hidden" accept="image/*" />
                <i class="fas fa-cloud-upload-alt text-4xl text-fennec mb-4"></i>
                <p class="text-lg font-bold mb-1">Click or Drop Image Here</p>
                <p class="text-gray-500 text-sm">Supports JPG, PNG, WebP</p>
            </div>

            <!-- Preview Area (Hidden by default) -->
            <div id="previewArea" class="hidden space-y-6">
                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-2 text-center">
                        <p class="text-xs text-gray-500 uppercase font-bold">Original</p>
                        <div class="aspect-video bg-black/50 rounded-lg overflow-hidden border border-white/5">
                            <img id="originalImg" class="w-full h-full object-contain" />
                        </div>
                        <p id="originalSize" class="text-sm font-mono"></p>
                    </div>
                    <div class="space-y-2 text-center">
                        <p class="text-xs text-gray-500 uppercase font-bold">Compressed</p>
                        <div class="aspect-video bg-black/50 rounded-lg overflow-hidden border border-white/5">
                            <img id="compressedImg" class="w-full h-full object-contain" />
                        </div>
                        <p id="compressedSize" class="text-sm font-mono text-fennec font-bold"></p>
                    </div>
                </div>

                <div class="flex flex-col gap-3">
                    <button
                        id="compressBtn"
                        class="w-full py-4 bg-[#ff6b35] text-black font-black rounded-xl hover:scale-[1.02] transition shadow-lg flex items-center justify-center gap-2"
                    >
                        <i class="fas fa-compress-arrows-alt"></i>
                        COMPRESS NOW
                    </button>
                    <a
                        id="downloadBtn"
                        class="hidden w-full py-4 border border-fennec/30 text-fennec font-black rounded-xl hover:bg-fennec/10 transition flex items-center justify-center gap-2"
                    >
                        <i class="fas fa-download"></i>
                        DOWNLOAD
                    </a>
                </div>
            </div>

            <div id="status" class="mt-4 text-center text-sm text-gray-500 italic"></div>
        </div>

        <script>
            const dropZone = document.getElementById('dropZone');
            const fileInput = document.getElementById('fileInput');
            const previewArea = document.getElementById('previewArea');
            const originalImg = document.getElementById('originalImg');
            const compressedImg = document.getElementById('compressedImg');
            const originalSizeText = document.getElementById('originalSize');
            const compressedSizeText = document.getElementById('compressedSize');
            const compressBtn = document.getElementById('compressBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const status = document.getElementById('status');

            const TARGET_SIZE_KB = 364; // Slightly under 365
            let currentFile = null;

            dropZone.onclick = () => fileInput.click();

            fileInput.onchange = e => {
                const file = e.target.files[0];
                if (file) handleFile(file);
            };

            dropZone.ondragover = e => {
                e.preventDefault();
                dropZone.classList.add('bg-fennec/10');
            };

            dropZone.ondragleave = () => {
                dropZone.classList.remove('bg-fennec/10');
            };

            dropZone.ondrop = e => {
                e.preventDefault();
                dropZone.classList.remove('bg-fennec/10');
                const file = e.dataTransfer.files[0];
                if (file && file.type.startsWith('image/')) handleFile(file);
            };

            function formatSize(bytes) {
                if (bytes === 0) return '0 B';
                const k = 1024;
                const sizes = ['B', 'KB', 'MB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }

            function handleFile(file) {
                currentFile = file;
                const reader = new FileReader();
                reader.onload = e => {
                    originalImg.src = e.target.result;
                    originalSizeText.innerText = formatSize(file.size);
                    previewArea.classList.remove('hidden');
                    compressedImg.src = '';
                    compressedSizeText.innerText = '';
                    downloadBtn.classList.add('hidden');
                    status.innerText = 'Image loaded. Click compress.';
                };
                reader.readAsDataURL(file);
            }

            compressBtn.onclick = async () => {
                if (!currentFile) return;
                status.innerText = 'Compressing...';

                try {
                    const blob = await compressImage(originalImg.src, TARGET_SIZE_KB);
                    compressedImg.src = URL.createObjectURL(blob);
                    compressedSizeText.innerText = formatSize(blob.size);

                    downloadBtn.href = compressedImg.src;
                    downloadBtn.download = `compressed_${currentFile.name}`;
                    downloadBtn.classList.remove('hidden');

                    if (blob.size / 1024 < TARGET_SIZE_KB) {
                        status.innerText = 'Success! Image is now under 365 KB.';
                    } else {
                        status.innerText = 'Warning: Could not get below 365 KB without losing too much quality.';
                    }
                } catch (err) {
                    console.error(err);
                    status.innerText = 'Error during compression.';
                }
            };

            async function compressImage(src, targetKb) {
                return new Promise(resolve => {
                    const img = new Image();
                    img.src = src;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        let width = img.width;
                        let height = img.height;

                        // Initial scale down if very large
                        const MAX_DIM = 2000;
                        if (width > MAX_DIM || height > MAX_DIM) {
                            const ratio = Math.min(MAX_DIM / width, MAX_DIM / height);
                            width *= ratio;
                            height *= ratio;
                        }

                        canvas.width = width;
                        canvas.height = height;
                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(img, 0, 0, width, height);

                        let quality = 0.9;
                        let step = 0.1;

                        function attempt() {
                            canvas.toBlob(
                                blob => {
                                    const kb = blob.size / 1024;
                                    if (kb > targetKb && quality > 0.1) {
                                        quality -= step;
                                        attempt();
                                    } else {
                                        resolve(blob);
                                    }
                                },
                                'image/jpeg',
                                quality
                            );
                        }
                        attempt();
                    };
                });
            }
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\index.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="fennec-embed" content="0" />
        <meta name="fennec-manifest" content="/recursive_inscriptions/fennec_manifest_live.json" />
        <meta
            name="description"
            content="$FENNEC - The Desert Fox Protocol. Swap, deposit and withdraw on Fractal's fastest DEX with Fennec ID."
        />
        <title>$FENNEC | The Desert Fox Protocol</title>

        <!-- FAVICONS -->
        <link rel="icon" href="img/phav.png" type="image/png" />
        <link rel="apple-touch-icon" href="img/phav.png" />

        <!-- –¶–≤–µ—Ç –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (—á—Ç–æ–±—ã –Ω–∞ –º–æ–±–∏–ª–∫–∞—Ö —Å–ª–∏–≤–∞–ª–æ—Å—å —Å —à–∞–ø–∫–æ–π) -->
        <meta name="theme-color" content="#000000" />

        <!-- Preconnect –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <link rel="preconnect" href="https://cdn.tailwindcss.com" />
        <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="dns-prefetch" href="https://fennec-api.warninghejo.workers.dev" />
        <link rel="dns-prefetch" href="https://open-api-fractal.unisat.io" />

        <!-- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
        <link
            href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;500;700;900&display=swap"
            rel="stylesheet"
            media="print"
            onload="this.media = 'all'"
        />
        <noscript
            ><link
                href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;500;700;900&rel=stylesheet"
        /></noscript>

        <script src="assets/storage_shim.js?v=2026-01-13-1"></script>
        <link rel="stylesheet" href="assets/app.css?v=2026-01-13-1" />
    </head>
    <body>
        <!-- DEV CONSOLE INTERCEPTOR - AI Error Analysis -->
        <script src="assets/dev_console_interceptor.js?v=2026-01-13-1"></script>
        <div id="animatedBackground" class="fixed top-0 left-0 w-full h-full pointer-events-none" style="z-index: 0">
            <canvas id="animatedBackgroundCanvas" class="w-full h-full"></canvas>
        </div>

        <!-- Notifications Container -->
        <div
            id="notificationsContainer"
            style="
                position: fixed;
                top: 80px;
                right: 20px;
                z-index: 10000;
                display: flex;
                flex-direction: column;
                gap: 12px;
                align-items: flex-end;
            "
        ></div>

        <!-- HEADER -->
        <header class="fixed w-full z-50 border-b border-white/5 bg-[#2c1a12]/90 backdrop-blur-md">
            <div class="max-w-6xl mx-auto px-4 h-16 grid grid-cols-[1fr_auto_1fr] items-center">
                <a class="flex items-center gap-3 cursor-pointer group" href="index.html" data-link>
                    <img
                        src="img/phav.png"
                        class="neon-logo w-9 h-9 rounded-full border border-fennec/50 group-hover:scale-110 transition shadow-lg shadow-fennec/20 object-contain"
                    />
                    <div>
                        <h1
                            class="font-display font-bold text-xl leading-none tracking-tight text-fennec"
                            style="text-shadow: 0 0 18px rgba(255, 107, 53, 0.35)"
                        >
                            FENNEC
                        </h1>
                    </div>
                </a>

                <nav class="flex gap-8 text-xs font-bold text-gray-400 uppercase tracking-widest justify-self-center">
                    <a
                        href="index.html"
                        class="nav-link hover:text-white transition py-5 active"
                        id="nav-home"
                        data-t="nav_home"
                        data-link
                    >
                        VISION
                    </a>
                    <a
                        href="terminal.html"
                        class="nav-link hover:text-white transition py-5"
                        id="nav-terminal"
                        data-t="nav_terminal"
                        data-link
                    >
                        TERMINAL
                    </a>
                    <a
                        href="id.html"
                        class="nav-link hover:text-white transition py-5"
                        id="nav-audit"
                        data-t="nav_audit"
                        data-link
                    >
                        FENNEC ID
                    </a>
                </nav>

                <div class="flex items-center gap-3 justify-self-end">
                    <a
                        href="https://x.com/FennecBTC"
                        target="_blank"
                        class="text-gray-400 hover:text-white transition flex items-center justify-center text-2xl w-10 h-10"
                        aria-label="Twitter"
                    >
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a
                        href="https://t.me/FennecBTC"
                        target="_blank"
                        class="text-gray-400 hover:text-white transition flex items-center justify-center text-2xl w-10 h-10"
                        aria-label="Telegram"
                    >
                        <i class="fab fa-telegram"></i>
                    </a>
                    <button
                        onclick="window.manualRefresh()"
                        id="refreshBtn"
                        class="hidden bg-gradient-to-br from-fennec/25 via-orange-600/20 to-orange-700/15 text-fennec px-3.5 py-2 rounded-xl font-bold hover:brightness-125 hover:scale-105 transition-all duration-200 text-[11px] border border-fennec/40 flex items-center gap-2 shadow-[0_0_20px_rgba(255,107,53,0.3)] hover:shadow-[0_0_32px_rgba(255,107,53,0.5)] backdrop-blur-sm"
                    >
                        <i id="refreshIcon" class="fas fa-sync-alt"></i>
                        <span id="refreshText">REFRESH</span>
                        <span id="refreshTimer" class="hidden text-[10px] opacity-75"></span>
                    </button>
                    <button
                        onclick="window.disconnectWallet()"
                        id="disconnectBtn"
                        class="hidden bg-red-600/20 text-red-400 px-4 py-2 rounded-lg font-bold hover:bg-red-600/30 transition text-xs border border-red-500/50 flex items-center gap-2"
                    >
                        <i class="fas fa-sign-out-alt"></i> <span id="disconnectBtnText">DISCONNECT</span>
                    </button>
                    <button
                        onclick="window.connectWallet()"
                        id="connectBtn"
                        class="bg-gradient-to-r from-fennec to-orange-600 text-black px-4 py-2 rounded-lg font-bold hover:brightness-110 transition text-xs shadow-[0_0_20px_rgba(255,107,53,0.4)] flex items-center gap-2"
                        data-t="connect"
                    >
                        <i class="fas fa-wallet"></i> <span>CONNECT</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- LIVE TICKER -->
        <div
            id="liveTickerBar"
            class="fixed bottom-0 left-0 right-0 w-full z-[100] py-1 overflow-hidden pointer-events-none flex items-center"
            style="
                background: linear-gradient(
                    90deg,
                    rgba(13, 6, 4, 0.95) 0%,
                    rgba(20, 10, 6, 0.98) 50%,
                    rgba(13, 6, 4, 0.95) 100%
                );
                border-top: 1px solid rgba(255, 107, 53, 0.15);
                box-shadow:
                    0 -4px 20px rgba(255, 107, 53, 0.08),
                    inset 0 1px 0 rgba(255, 107, 53, 0.1);
                backdrop-filter: blur(12px);
                height: 28px;
            "
        >
            <div
                class="ticker-container"
                style="
                    overflow: hidden;
                    position: relative;
                    width: 100%;
                    height: 100%;
                    display: flex;
                    align-items: center;
                "
            >
                <div
                    class="ticker-content"
                    id="liveTicker"
                    style="
                        display: inline-flex;
                        align-items: center;
                        white-space: nowrap;
                        font-size: 13px;
                        font-weight: 700;
                        letter-spacing: 0.05em;
                        text-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
                        line-height: 28px;
                    "
                >
                    <div class="ticker-marquee">
                        <span class="ticker-item text-fennec"
                            ><img
                                src="img/phav.png"
                                class="w-5 h-5 inline-block object-contain"
                                style="filter: drop-shadow(0 0 8px rgba(255, 107, 53, 0.5))"
                            />
                            <span>FENNEC SYSTEM ONLINE</span></span
                        >
                    </div>
                </div>
            </div>
        </div>

        <main id="router-view" class="router-view">
            <!-- === SECTION 1: HOME (MISSION) === -->
            <section id="sec-home" class="page-section active flex flex-col justify-start pt-32 pb-24 relative z-10">
                <div class="hero-fox-bg"></div>
                <div class="max-w-5xl mx-auto px-6 relative">
                    <!-- Hero -->
                    <div class="text-center mb-24">
                        <div
                            class="inline-flex items-center gap-2 mb-6 px-4 py-1.5 rounded-full border border-fennec/30 bg-fennec/5 text-fennec text-[10px] uppercase tracking-widest font-bold"
                        >
                            <span class="w-2 h-2 rounded-full bg-fennec animate-pulse"></span>
                            <span>Fractal Bitcoin</span>
                        </div>
                        <h1 class="text-5xl md:text-7xl font-black font-display mb-6 leading-tight">
                            <span class="text-fennec" style="text-shadow: 0 0 24px rgba(255, 107, 53, 0.35)"
                                >FENNEC</span
                            ><br /><span
                                class="text-transparent bg-clip-text bg-gradient-to-r from-fennec via-orange-400 to-yellow-200"
                                >FRONTIER</span
                            >
                        </h1>
                        <p
                            class="text-gray-300 text-lg max-w-2xl mx-auto mb-10 leading-relaxed font-light"
                            data-t="hero_desc"
                        >
                            The tactical layer for Fractal Bitcoin. Execute swaps with precision, visualize your
                            on-chain legacy, and navigate the ecosystem with AI.
                        </p>

                        <div class="flex flex-col md:flex-row justify-center gap-4">
                            <a
                                href="terminal.html"
                                class="bg-fennec text-black px-8 py-4 rounded-xl font-bold text-lg hover:scale-105 transition shadow-[0_0_30px_rgba(255,107,53,0.5)] flex items-center justify-center gap-2"
                                data-t="enter_app"
                                data-link
                            >
                                <span>ENTER TERMINAL</span> <i class="fas fa-terminal"></i>
                            </a>
                            <button
                                onclick="window.onVisionFennecIdClick()"
                                id="visionFennecIdBtn"
                                class="border border-fennec/30 bg-fennec/5 text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-fennec/10 transition flex items-center justify-center gap-2"
                            >
                                <span id="visionFennecIdBtnText">FENNEC ID</span> <i class="fas fa-id-card"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Features Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12">
                        <div
                            class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                        >
                            <div
                                class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                            >
                                <i class="fas fa-laptop-code"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2" data-t="feat_ui_title">Tactical Terminal</h3>
                            <p class="text-gray-400 text-sm leading-relaxed" data-t="feat_ui_desc">
                                An optimized aggregation interface. We cut through the noise to give you the most
                                efficient execution on the network.
                            </p>
                        </div>
                        <div
                            class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                        >
                            <div
                                class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                            >
                                <i class="fas fa-robot"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2" data-t="feat_ai_title">AI Navigator</h3>
                            <p class="text-gray-400 text-sm leading-relaxed" data-t="feat_ai_desc">
                                Your co-pilot in the dunes. Analyze chain data and get real-time guidance without
                                leaving the terminal.
                            </p>
                        </div>
                        <div
                            class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                        >
                            <div
                                class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                            >
                                <i class="fas fa-paw"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2" data-t="feat_comm_title">
                                Access &amp; Status
                            </h3>
                            <p class="text-gray-400 text-sm leading-relaxed" data-t="feat_comm_desc">
                                $FENNEC is the key to the ecosystem. Hold to unlock premium ID features, visual
                                upgrades, and future protocol tiers.
                            </p>
                        </div>
                        <div
                            class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                        >
                            <div
                                class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                            >
                                <i class="fas fa-id-card"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2">Identity Protocol</h3>
                            <p class="text-gray-400 text-sm leading-relaxed">
                                A proprietary standard for on-chain reputation. Dynamic, evolving 3D cards that
                                immortalize your journey forever.
                            </p>
                        </div>
                    </div>

                    <!-- Evolution Story (Island Journey) -->
                    <div class="mb-12 relative overflow-hidden text-center">
                        <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2 justify-center">
                            <i class="fas fa-map-marked-alt text-fennec"></i>
                            <span data-t="evo_title">Fennec Evolution</span>
                        </h3>
                        <p class="text-gray-300 text-sm leading-relaxed mb-6 max-w-2xl mx-auto" data-t="evo_text1">
                            Journey across the islands of evolution. Each island marks a milestone in our voyage through
                            the Fractal seas.
                        </p>

                        <!-- Ocean & Journey Path -->
                        <div
                            class="hidden md:block relative h-32 mb-8"
                            style="
                                background: linear-gradient(
                                    180deg,
                                    transparent 0%,
                                    rgba(59, 130, 246, 0.03) 40%,
                                    rgba(59, 130, 246, 0.08) 100%
                                );
                                border-radius: 24px;
                                overflow: hidden;
                                visibility: hidden;
                                height: 0;
                                margin: 0;
                            "
                        >
                            <!-- Waves -->
                            <div
                                class="absolute inset-0 opacity-20"
                                style="
                                    background: repeating-linear-gradient(
                                        90deg,
                                        transparent 0px,
                                        rgba(255, 255, 255, 0.05) 40px,
                                        transparent 80px
                                    );
                                    animation: wave 8s linear infinite;
                                "
                            ></div>
                            <div
                                class="absolute inset-0 opacity-10"
                                style="
                                    background: repeating-linear-gradient(
                                        90deg,
                                        transparent 0px,
                                        rgba(255, 255, 255, 0.03) 60px,
                                        transparent 120px
                                    );
                                    animation: wave 12s linear infinite reverse;
                                "
                            ></div>

                            <svg
                                viewBox="0 0 1200 160"
                                preserveAspectRatio="none"
                                class="absolute inset-0 w-full h-full"
                            >
                                <defs>
                                    <linearGradient id="seaPath" x1="0" y1="0" x2="1" y2="0">
                                        <stop offset="0%" stop-color="rgba(34,197,94,0.4)" />
                                        <stop offset="33%" stop-color="rgba(255,107,53,0.6)" />
                                        <stop offset="66%" stop-color="rgba(168,85,247,0.5)" />
                                        <stop offset="100%" stop-color="rgba(59,130,246,0.4)" />
                                    </linearGradient>
                                    <filter id="islandGlow" x="-50%" y="-50%" width="200%" height="200%">
                                        <feGaussianBlur stdDeviation="8" result="blur" />
                                        <feMerge>
                                            <feMergeNode in="blur" />
                                            <feMergeNode in="SourceGraphic" />
                                        </feMerge>
                                    </filter>
                                </defs>

                                <!-- Journey path (dotted line connecting islands) -->
                                <path
                                    d="M 100 90 Q 250 60, 400 85 T 700 75 T 1000 90"
                                    fill="none"
                                    stroke="url(#seaPath)"
                                    stroke-width="3"
                                    stroke-dasharray="8,12"
                                    opacity="0.6"
                                    style="animation: pathGlow 3s ease-in-out infinite"
                                />

                                <!-- Islands (organic shapes without numbers) - REMOVED per user request -->
                            </svg>
                        </div>

                        <!-- Island Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 relative">
                            <!-- Island 1: Genesis -->
                            <div class="relative group" style="animation: islandBob 4s ease-in-out infinite">
                                <div
                                    class="relative glass-panel p-5 rounded-2xl border-green-500/40 hover:border-green-400/60 transition-all text-center"
                                    style="border-width: 2px"
                                >
                                    <div
                                        class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-green-400/20 to-green-600/20 flex items-center justify-center border-2 border-green-400/50"
                                        style="box-shadow: 0 0 20px rgba(34, 197, 94, 0.3)"
                                    >
                                        <img
                                            src="img/phase1.png"
                                            class="w-10 h-10 object-contain"
                                            onerror="
                                                this.src =
                                                    'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%2322c55e%27 stroke-width=%272%27%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%2710%27/%3E%3Cpath d=%27M12 6v6m0 6v6M1 12h6m6 0h6%27/%3E%3C/svg%3E'
                                            "
                                        />
                                    </div>
                                    <div class="text-sm font-black text-green-400 mb-1 tracking-wider">
                                        GENESIS ISLE
                                    </div>
                                    <div class="text-[11px] text-gray-300 leading-relaxed">
                                        Fair Launch<br />Community Foundation
                                    </div>
                                </div>
                            </div>

                            <!-- Island 2: Current -->
                            <div class="relative group" style="animation: islandBob 4s ease-in-out infinite 0.3s">
                                <div
                                    class="relative glass-panel p-5 rounded-2xl border-fennec/60 bg-fennec/8 hover:border-fennec/80 transition-all text-center"
                                    style="border-width: 2px; box-shadow: 0 0 30px rgba(255, 107, 53, 0.2)"
                                >
                                    <div
                                        class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-fennec/30 to-orange-600/30 flex items-center justify-center border-2 border-fennec/70"
                                        style="box-shadow: 0 0 24px rgba(255, 107, 53, 0.5)"
                                    >
                                        <img
                                            src="img/phase2.png"
                                            class="w-10 h-10 object-contain"
                                            onerror="
                                                this.src =
                                                    'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23ff6b35%27 stroke-width=%272%27%3E%3Crect x=%273%27 y=%273%27 width=%2718%27 height=%2718%27 rx=%272%27/%3E%3Cpath d=%27M9 9h6M9 15h6%27/%3E%3C/svg%3E'
                                            "
                                        />
                                    </div>
                                    <div class="text-sm font-black text-fennec mb-1 tracking-wider">FENNEC HARBOR</div>
                                    <div class="text-[11px] text-gray-200 leading-relaxed font-semibold">
                                        Terminal Trading<br />Fennec ID System
                                    </div>
                                    <div
                                        class="mt-2 inline-block px-2 py-0.5 bg-fennec/20 border border-fennec/40 rounded text-[9px] font-bold text-fennec"
                                    >
                                        CURRENT
                                    </div>
                                </div>
                            </div>

                            <!-- Island 3: Upcoming -->
                            <div class="relative group" style="animation: islandBob 4s ease-in-out infinite 0.6s">
                                <div
                                    class="relative glass-panel p-5 rounded-2xl border-purple-500/40 hover:border-purple-400/60 transition-all text-center"
                                    style="border-width: 2px"
                                >
                                    <div
                                        class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-purple-500/20 to-purple-700/20 flex items-center justify-center border-2 border-purple-400/50"
                                        style="box-shadow: 0 0 20px rgba(168, 85, 247, 0.3)"
                                    >
                                        <img
                                            src="img/phase3.png"
                                            class="w-10 h-10 object-contain"
                                            onerror="
                                                this.src =
                                                    'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23a855f7%27 stroke-width=%272%27%3E%3Cpath d=%27M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5%27/%3E%3C/svg%3E'
                                            "
                                        />
                                    </div>
                                    <div class="text-sm font-black text-purple-400 mb-1 tracking-wider">
                                        SECTOR: ROSEN
                                    </div>
                                    <div class="text-[11px] text-gray-300 leading-relaxed">
                                        Vortex Effect<br />Metric: Unstable
                                    </div>
                                </div>
                            </div>

                            <!-- Island 4: Future -->
                            <div
                                class="relative group opacity-75"
                                style="animation: islandBob 4s ease-in-out infinite 0.9s"
                            >
                                <div
                                    class="relative glass-panel p-5 rounded-2xl border-blue-500/30 hover:border-blue-400/50 transition-all text-center"
                                    style="border-width: 2px"
                                >
                                    <div
                                        class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-blue-500/15 to-blue-700/15 flex items-center justify-center border-2 border-blue-400/40"
                                        style="box-shadow: 0 0 16px rgba(59, 130, 246, 0.25)"
                                    >
                                        <img
                                            src="img/phase4.png"
                                            class="w-10 h-10 object-contain"
                                            onerror="
                                                this.src =
                                                    'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%233b82f6%27 stroke-width=%272%27%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%273%27/%3E%3Cpath d=%27M12 1v6m0 6v6M1 12h6m6 0h6%27/%3E%3C/svg%3E'
                                            "
                                        />
                                    </div>
                                    <div class="text-sm font-black text-blue-400 mb-1 tracking-wider">
                                        LEGEND SHORES
                                    </div>
                                    <div class="text-[11px] text-gray-400 leading-relaxed">
                                        Uncharted Waters<br />New Legends Born
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <template id="sec-terminal-template">
                <!-- === SECTION 2: TERMINAL (SWAP) === -->
                <section
                    id="sec-terminal"
                    class="page-section flex flex-col justify-start pt-32 pb-20 px-4 max-w-4xl mx-auto relative z-10"
                >
                    <!-- CHART -->
                    <div class="glass-panel p-6 rounded-2xl mb-6">
                        <div class="flex justify-between items-end mb-4">
                            <div>
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold">
                                    Market Price (FB)
                                </div>
                                <div class="flex items-baseline gap-3">
                                    <div
                                        class="text-3xl font-bold font-mono text-white tracking-tighter"
                                        id="chartPrice"
                                    >
                                        --
                                    </div>
                                    <div class="text-lg font-bold" id="chartPriceChange">--</div>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button
                                    onclick="setChartTimeframe('1h')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    1H
                                </button>
                                <button
                                    onclick="setChartTimeframe('24h')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    24H
                                </button>
                                <button
                                    onclick="setChartTimeframe('7d')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    7D
                                </button>
                                <button
                                    onclick="setChartTimeframe('30d')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    30D
                                </button>
                                <button
                                    onclick="setChartTimeframe('all')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    ALL
                                </button>
                            </div>
                        </div>
                        <div class="chart-container" style="height: 250px; width: 100%; position: relative">
                            <canvas id="priceChart"></canvas>
                        </div>
                        <!-- Market Stats -->
                        <div class="grid grid-cols-4 gap-4 mt-3 pt-4 border-t border-white/5">
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    24h Volume
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="volume24h">--</div>
                            </div>
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    7d Volume
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="volume7d">--</div>
                            </div>
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    30d Volume
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="volume30d">--</div>
                            </div>
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    Market Cap
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="marketCap">--</div>
                            </div>
                        </div>
                    </div>

                    <!-- MAIN INTERFACE -->
                    <div
                        class="glass-panel p-6 rounded-2xl relative shadow-[0_0_50px_rgba(0,0,0,0.3)] border border-fennec/20"
                    >
                        <div
                            id="swapSuccessOverlay"
                            class="absolute inset-0 z-40 items-center justify-center"
                            style="display: none"
                        >
                            <div
                                class="px-6 py-4 rounded-2xl bg-black/70 border border-fennec/30 backdrop-blur-md flex items-center gap-3"
                            >
                                <div
                                    class="w-10 h-10 rounded-full bg-fennec/15 border border-fennec/40 flex items-center justify-center text-fennec text-xl"
                                >
                                    <i class="fas fa-check"></i>
                                </div>
                                <div>
                                    <div class="text-xs tracking-[0.25em] text-gray-300 uppercase font-bold">
                                        Swap confirmed
                                    </div>
                                    <div class="text-[11px] text-gray-400">Balances are updating‚Ä¶</div>
                                </div>
                            </div>
                        </div>
                        <!-- TABS -->
                        <div class="flex border-b border-white/10 mb-6">
                            <button
                                class="tab-btn active w-1/4"
                                onclick="switchTab('swap')"
                                id="tab-swap"
                                data-t="swap"
                            >
                                SWAP
                            </button>
                            <button
                                class="tab-btn w-1/4"
                                onclick="switchTab('deposit')"
                                id="tab-deposit"
                                data-t="deposit"
                            >
                                DEPOSIT
                            </button>
                            <button
                                class="tab-btn w-1/4"
                                onclick="switchTab('withdraw')"
                                id="tab-withdraw"
                                data-t="withdraw"
                            >
                                WITHDRAW
                            </button>
                            <button
                                class="tab-btn w-1/4"
                                onclick="switchTab('pending')"
                                id="tab-pending"
                                data-t="activity"
                            >
                                PENDING
                            </button>
                        </div>

                        <!-- SWAP TAB -->
                        <div id="view-swap" class="tab-content active">
                            <div class="flex gap-2 mb-4">
                                <div
                                    onclick="setSwapPair('FB_FENNEC')"
                                    id="pair-fb-fennec"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition hover:bg-fennec/20 cursor-pointer"
                                    role="button"
                                    tabindex="0"
                                >
                                    <div class="flex flex-col items-center justify-center leading-tight">
                                        <div>FB / FENNEC</div>
                                    </div>
                                </div>
                                <div
                                    onclick="setSwapPair('BTC_FB')"
                                    id="pair-btc-fb"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition hover:bg-white/5 cursor-pointer"
                                    role="button"
                                    tabindex="0"
                                >
                                    <div class="flex flex-col items-center justify-center leading-tight">
                                        <div>BTC / FB</div>
                                    </div>
                                </div>
                            </div>

                            <div
                                class="bg-black/40 rounded-xl p-4 mb-2 border border-white/5 focus-within:border-fennec/50 transition"
                            >
                                <div class="flex justify-between text-xs mb-2 text-gray-400">
                                    <span data-t="you_pay" class="font-bold">YOU PAY</span>
                                    <div class="flex gap-2 items-center">
                                        <span class="text-[10px] text-gray-500" id="balIn">Bal: --</span>
                                        <button
                                            onclick="setMaxAmount()"
                                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                        >
                                            MAX
                                        </button>
                                    </div>
                                </div>
                                <div class="flex justify-between items-center relative">
                                    <input
                                        type="number"
                                        id="swapIn"
                                        placeholder="0.0"
                                        class="bg-transparent text-3xl font-bold w-full outline-none text-white placeholder-gray-700"
                                        oninput="debounceQuote()"
                                    />
                                    <div class="flex flex-col items-center gap-1">
                                        <div
                                            class="flex items-center gap-2 px-3 py-1.5 cursor-pointer min-w-[80px] justify-center"
                                        >
                                            <img
                                                id="iconIn"
                                                src="img/FB.png"
                                                class="w-6 h-6 rounded-full flex-shrink-0"
                                            />
                                            <span id="tickerIn" class="font-bold text-sm whitespace-nowrap">FB</span>
                                        </div>
                                        <!-- Liquidity Plus Button moved under the coins -->
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-center items-center gap-4 -my-5 relative z-10">
                                <button
                                    onclick="switchDir()"
                                    class="bg-[#2b1d1a] border border-fennec/30 p-3 rounded-full text-fennec shadow-xl hover:scale-110 transition hover:border-fennec rotate-90"
                                    title="Switch direction"
                                >
                                    <i class="fas fa-exchange-alt"></i>
                                </button>
                            </div>

                            <div class="bg-black/40 rounded-xl p-4 mt-2 border border-white/5">
                                <div class="flex justify-between text-xs mb-2 text-gray-400">
                                    <span data-t="you_receive" class="font-bold">YOU RECEIVE</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <input
                                        type="number"
                                        id="swapOut"
                                        placeholder="0.0"
                                        class="bg-transparent text-3xl font-bold w-full outline-none text-white placeholder-gray-700"
                                        oninput="debounceReverse()"
                                    />
                                    <div class="flex items-center gap-2 px-3 py-1.5 min-w-[80px] justify-center">
                                        <img
                                            id="iconOut"
                                            src="img/phav.png"
                                            class="w-6 h-6 rounded-full flex-shrink-0"
                                        />
                                        <span id="tickerOut" class="font-bold text-sm whitespace-nowrap">FENNEC</span>
                                    </div>
                                </div>
                            </div>

                            <div
                                class="flex justify-between items-center text-xs text-gray-400 mt-4 px-2 font-mono gap-3"
                            >
                                <span id="rateVal" class="font-semibold">Rate: --</span>
                                <button
                                    type="button"
                                    onclick="openAddLiquidityModal(currentSwapPair)"
                                    class="px-4 py-2 text-[11px] font-black bg-fennec/15 text-fennec border border-fennec/30 rounded-lg hover:bg-fennec/25 transition shadow-lg tracking-widest"
                                    title="Manage Liquidity"
                                >
                                    Liquidity
                                </button>
                            </div>

                            <button
                                onclick="doSwap()"
                                id="swapBtn"
                                class="w-full bg-fennec text-black font-black text-xl py-4 rounded-xl mt-6 hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide flex items-center justify-center gap-2"
                                data-t="swap_action"
                            >
                                <img src="img/phav.png" class="w-6 h-6 inline-block object-contain" /> GET FENNEC
                            </button>

                            <!-- Recent Swaps -->
                            <div class="mt-6 pt-4 border-t border-white/10">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                        >Recent Swaps</span
                                    >
                                </div>
                                <div id="swapHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                    <div class="text-center py-4 text-gray-600 text-xs">No swaps yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- DEPOSIT TAB -->
                        <div id="view-deposit" class="tab-content hidden">
                            <div class="flex gap-2 mb-6">
                                <button
                                    onclick="setDepositToken('BTC')"
                                    id="dep-btc"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg"
                                >
                                    BTC
                                </button>
                                <button
                                    onclick="setDepositToken('sFB')"
                                    id="dep-sfb"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                                >
                                    FB
                                </button>
                                <button
                                    onclick="setDepositToken('FENNEC')"
                                    id="dep-fennec"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                                >
                                    FENNEC
                                </button>
                            </div>

                            <div id="dep-native-ui">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-xs text-gray-400" id="depBalance">Balance: --</span>
                                    <div class="flex items-center gap-2">
                                        <button
                                            onclick="setMaxDepositAmount()"
                                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                        >
                                            MAX
                                        </button>
                                    </div>
                                </div>
                                <div
                                    class="bg-black/40 rounded-xl p-4 mb-4 border border-white/5 flex justify-between items-center"
                                >
                                    <input
                                        type="number"
                                        id="depAmount"
                                        placeholder="0.001"
                                        class="bg-transparent text-2xl font-bold w-full outline-none text-white"
                                    />
                                    <span class="font-bold text-gray-400" id="depTickerLabel">BTC</span>
                                </div>

                                <!-- Fee Selection -->
                                <div class="mb-4">
                                    <div class="text-[10px] font-bold text-gray-400 tracking-wider mb-2">
                                        NETWORK FEE
                                    </div>
                                    <div class="flex gap-2" id="depFeeSelector">
                                        <button
                                            onclick="setDepositFee('medium')"
                                            id="dep-fee-medium"
                                            class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition"
                                        >
                                            <div>MEDIUM</div>
                                            <div class="text-[10px] text-fennec/70" id="dep-fee-medium-value">--</div>
                                        </button>
                                        <button
                                            onclick="setDepositFee('fast')"
                                            id="dep-fee-fast"
                                            class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                        >
                                            <div>FAST</div>
                                            <div class="text-[10px] text-gray-600" id="dep-fee-fast-value">--</div>
                                        </button>
                                        <button
                                            onclick="setDepositFee('custom')"
                                            id="dep-fee-custom"
                                            class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                        >
                                            <div>CUSTOM</div>
                                            <input
                                                type="number"
                                                id="dep-fee-custom-input"
                                                placeholder="sat/vB"
                                                min="1"
                                                step="1"
                                                class="text-[10px] bg-black/40 border border-white/20 rounded w-full text-center mt-1 text-white px-1"
                                                style="display: none"
                                                onchange="setDepositFeeCustom(this.value)"
                                            />
                                        </button>
                                    </div>
                                </div>

                                <button
                                    onclick="doDeposit()"
                                    id="btnDeposit"
                                    class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide"
                                    data-t="deposit_btc_btn"
                                >
                                    DEPOSIT
                                </button>
                            </div>
                            <div id="dep-brc20-ui" style="display: none">
                                <div class="mb-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xs text-gray-400"
                                            >Available: <span id="fennecAvailable">--</span></span
                                        >
                                        <span class="text-xs text-gray-400"
                                            >Transferable: <span id="fennecTransferable">--</span></span
                                        >
                                    </div>
                                </div>
                                <div id="inscriptionCards" class="grid grid-cols-3 gap-3 mb-4 max-h-64 overflow-y-auto">
                                    <div class="text-center py-8 text-gray-500 text-xs">Loading inscriptions...</div>
                                </div>
                                <div class="border-t border-white/10 pt-3 mb-4">
                                    <div class="flex items-center justify-between text-sm">
                                        <span class="text-gray-400">Selected:</span>
                                        <span class="text-white font-bold" id="selectedAmount">0</span>
                                        <span class="text-fennec font-bold">FENNEC</span>
                                    </div>
                                </div>
                                <button
                                    onclick="depositSelectedInscriptions()"
                                    id="btnDepositSelected"
                                    class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white transition duration-200 shadow-lg mb-3"
                                    disabled
                                >
                                    DEPOSIT
                                </button>
                                <div class="text-center py-2 border-t border-white/10">
                                    <div class="mb-3">
                                        <div class="flex items-center justify-center gap-2 mb-2">
                                            <input
                                                type="number"
                                                id="depFennecAmount"
                                                placeholder="Enter amount"
                                                min="0.00000001"
                                                step="0.00000001"
                                                class="bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white text-sm w-32 text-center focus:border-fennec transition"
                                                style="outline: none"
                                            />
                                            <span class="text-xs text-gray-400">FENNEC</span>
                                        </div>
                                        <button
                                            onclick="setMaxFennecAmount()"
                                            class="text-[10px] text-fennec hover:text-white bg-fennec/10 px-3 py-1 rounded border border-fennec/30 mb-2"
                                        >
                                            Use Max
                                        </button>
                                    </div>
                                    <button
                                        onclick="createFennecInscription()"
                                        id="btnCreateInscription"
                                        class="text-xs text-fennec hover:text-white bg-fennec/10 px-4 py-2 rounded-lg border border-fennec/30 transition hover:bg-fennec/20"
                                    >
                                        Create Transfer Inscription
                                    </button>
                                </div>
                            </div>

                            <!-- Recent Deposits -->
                            <div class="mt-6 pt-4 border-t border-white/10">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                        >Recent Deposits</span
                                    >
                                </div>
                                <div id="depositHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                    <div class="text-center py-4 text-gray-600 text-xs">No deposits yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- WITHDRAW TAB -->
                        <div id="view-withdraw" class="tab-content hidden">
                            <div class="flex gap-2 mb-6">
                                <button
                                    onclick="setWithdrawToken('sFB')"
                                    id="wd-sfb"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg"
                                >
                                    FB
                                </button>
                                <button
                                    onclick="setWithdrawToken('FENNEC')"
                                    id="wd-fennec"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                                >
                                    FENNEC
                                </button>
                            </div>
                            <div class="flex justify-between text-xs mb-2 text-gray-400">
                                <span id="wd-bal">Available: --</span>
                                <div class="flex items-center gap-2">
                                    <button
                                        onclick="setMaxWithdrawAmount()"
                                        class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    >
                                        MAX
                                    </button>
                                </div>
                            </div>
                            <div
                                class="bg-black/40 rounded-xl p-4 mb-4 border border-white/5 flex justify-between items-center"
                            >
                                <input
                                    type="number"
                                    id="wdAmount"
                                    placeholder="0.0"
                                    class="bg-transparent text-2xl font-bold w-full outline-none text-white"
                                />
                                <span class="font-bold text-gray-400" id="wdTickerLabel">FB</span>
                            </div>

                            <!-- Fee Selection -->
                            <div class="mb-4">
                                <div class="text-[10px] font-bold text-gray-400 tracking-wider mb-2">NETWORK FEE</div>
                                <div class="flex gap-2" id="wdFeeSelector">
                                    <button
                                        onclick="setWithdrawFee('medium')"
                                        id="wd-fee-medium"
                                        class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition"
                                    >
                                        <div>MEDIUM</div>
                                        <div class="text-[10px] text-fennec/70" id="wd-fee-medium-value">--</div>
                                    </button>
                                    <button
                                        onclick="setWithdrawFee('fast')"
                                        id="wd-fee-fast"
                                        class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                    >
                                        <div>FAST</div>
                                        <div class="text-[10px] text-gray-600" id="wd-fee-fast-value">--</div>
                                    </button>
                                    <button
                                        onclick="setWithdrawFee('custom')"
                                        id="wd-fee-custom"
                                        class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                    >
                                        <div>CUSTOM</div>
                                        <input
                                            type="number"
                                            id="wd-fee-custom-input"
                                            placeholder="sat/vB"
                                            min="1"
                                            step="1"
                                            class="text-[10px] bg-black/40 border border-white/20 rounded w-full text-center mt-1 text-white px-1"
                                            style="display: none"
                                            onchange="setWithdrawFeeCustom(this.value)"
                                        />
                                    </button>
                                </div>
                            </div>

                            <button
                                onclick="doWithdraw()"
                                id="btnWithdraw"
                                class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide"
                                data-t="withdraw_btn"
                            >
                                WITHDRAW
                            </button>

                            <!-- Recent Withdrawals -->
                            <div class="mt-6 pt-4 border-t border-white/10">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                        >Recent Withdrawals</span
                                    >
                                </div>
                                <div id="withdrawHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                    <div class="text-center py-4 text-gray-600 text-xs">No withdrawals yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- PENDING TAB -->
                        <div id="view-pending" class="tab-content hidden">
                            <div
                                class="text-xs text-gray-500 font-bold uppercase mb-3 tracking-widest flex justify-between"
                            >
                                <span>Pending Operations</span>
                            </div>
                            <div id="pendingOperations" class="space-y-2 max-h-80 overflow-y-auto scrollbar-thin">
                                <div class="text-center py-8 text-gray-600 text-xs">No pending operations</div>
                            </div>
                        </div>
                    </div>
                </section>
            </template>

            <template id="sec-audit-template">
                <!-- === SECTION 3: FENNEC GRAND AUDIT === -->
                <section id="sec-audit" class="page-section flex flex-col justify-start pt-24 pb-24 relative z-10">
                    <div class="max-w-4xl mx-auto px-6">
                        <div class="text-center" style="margin-bottom: 32px">
                            <h2
                                class="text-4xl font-black font-display text-white mb-3"
                                style="
                                    color: #ff6b35;
                                    text-shadow: 0 0 30px rgba(255, 107, 53, 0.4);
                                    letter-spacing: 0.15em;
                                    text-transform: uppercase;
                                "
                            >
                                FENNEC ID
                            </h2>
                            <p class="text-center text-gray-400 text-sm" style="letter-spacing: 0.05em">
                                Your on-chain footprint in the Fractal desert
                            </p>
                        </div>

                        <div class="relative" style="overflow: visible !important; margin-top: 0px">
                            <div
                                id="auditContainer"
                                class="relative flex justify-center"
                                style="overflow: visible !important"
                            >
                                <!-- Content will be generated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </section>
            </template>

            <template id="sec-burrow-template">
                <!-- === SECTION 4: THE BURROW (VISUALIZER) === -->
                <section id="sec-burrow" class="page-section pt-32 pb-20 relative z-10 text-center">
                    <div class="max-w-4xl mx-auto px-6">
                        <h2
                            class="text-4xl font-black font-display mb-4 text-white text-glow neon-text"
                            data-t="burrow_title"
                        >
                            THE BURROW
                        </h2>
                        <p class="text-gray-400 text-sm mb-8" data-t="burrow_desc">
                            Live Mempool Visualization (Particles = Transactions)
                        </p>
                        <div
                            class="glass-panel p-1 rounded-2xl relative overflow-hidden h-[400px] border border-fennec/30 shadow-[0_0_50px_rgba(255,107,53,0.15)]"
                        >
                            <canvas id="burrowCanvas"></canvas>
                            <div class="absolute bottom-4 left-4 text-xs text-fennec font-mono animate-pulse">
                                LIVE FEED
                            </div>
                        </div>
                    </div>
                </section>
            </template>
        </main>

        <!-- FOOTER SPACER -->
        <div class="h-10"></div>

        <div
            id="errorModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('errorModal').classList.add('hidden')"
        >
            <div class="modal-box border-red-500/30" onclick="event.stopPropagation()">
                <h3 class="text-lg font-bold text-red-500 mb-2">Error</h3>
                <p id="errorMsg" class="text-gray-400 text-xs font-mono mb-4 break-all"></p>
                <button
                    onclick="document.getElementById('errorModal').classList.add('hidden')"
                    class="w-full bg-white/10 py-2 rounded-lg hover:bg-white/20 text-white text-sm font-bold"
                >
                    CLOSE
                </button>
            </div>
        </div>
        <div
            id="successModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('successModal').classList.add('hidden')"
        >
            <div class="modal-box border-green-500/30 text-center" onclick="event.stopPropagation()">
                <div class="text-4xl mb-3"></div>
                <h3 class="text-lg font-bold text-green-500 mb-2">Success!</h3>
                <p class="text-gray-400 text-xs mb-4 font-mono break-all bg-black/30 p-2 rounded" id="successTxId"></p>
                <button
                    onclick="document.getElementById('successModal').classList.add('hidden')"
                    class="w-full bg-green-600 text-black font-bold py-2 rounded-lg hover:bg-green-500 transition"
                >
                    OK
                </button>
            </div>
        </div>
        <div
            id="depositLinkModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('depositLinkModal').classList.add('hidden')"
        >
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <i class="fas fa-wallet text-3xl text-fennec mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">Insufficient Funds</h3>
                <button
                    onclick="
                        switchTab('deposit');
                        document.getElementById('depositLinkModal').classList.add('hidden');
                    "
                    class="w-full bg-fennec text-black py-3 rounded-xl font-bold hover:bg-white transition"
                >
                    GO TO DEPOSIT
                </button>
            </div>
        </div>

        <div id="addLiquidityModal" class="modal-overlay hidden" onclick="closeAddLiquidityModal()">
            <div
                class="modal-box border-fennec/30"
                style="max-width: 560px; width: 92%; padding: 22px"
                onclick="event.stopPropagation()"
            >
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">Liquidity</div>
                        <div class="text-lg font-black text-white">Manage Liquidity</div>
                    </div>
                    <div class="flex items-center gap-3">
                        <button type="button" onclick="closeAddLiquidityModal()" class="text-gray-500 hover:text-white">
                            ‚úï
                        </button>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="flex gap-2 mb-3">
                    <button
                        id="liqTabAdd"
                        onclick="switchLiquidityTab('add')"
                        class="flex-1 px-4 py-2 rounded-xl bg-fennec/15 border border-fennec/30 text-white font-black transition"
                    >
                        ADD
                    </button>
                    <button
                        id="liqTabRemove"
                        onclick="switchLiquidityTab('remove')"
                        class="flex-1 px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-gray-400 font-black transition"
                    >
                        REMOVE
                    </button>
                </div>

                <!-- Pair selector hidden - pair is fixed when modal opens -->
                <div class="hidden grid grid-cols-2 gap-2" id="liqPairSwitcher">
                    <button
                        id="liqPairFBF"
                        onclick="selectLiquidityPair('FB_FENNEC')"
                        class="px-4 py-3 rounded-xl bg-fennec/10 border border-fennec/25 text-white font-black hover:bg-fennec/15 hover:border-fennec/45 transition"
                    >
                        FB / FENNEC
                    </button>
                    <button
                        id="liqPairBFB"
                        onclick="selectLiquidityPair('BTC_FB')"
                        class="px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white font-black hover:bg-white/10 hover:border-white/20 transition"
                    >
                        BTC / FB
                    </button>
                </div>

                <!-- Add Liquidity Tab Content -->
                <div id="liqAddContent">
                    <!-- Display fixed pair -->
                    <div class="text-center py-3 px-4 bg-fennec/10 border border-fennec/30 rounded-xl">
                        <div class="text-xs text-gray-400 uppercase tracking-widest mb-1">Selected Pair</div>
                        <div id="liqFixedPairDisplay" class="text-xl font-black text-white">FB / FENNEC</div>
                    </div>

                    <div id="liqSideRow" class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div
                            id="liqMyPos"
                            class="hidden bg-black/40 border border-white/10 rounded-xl p-3 md:col-span-2"
                        >
                            <div class="flex items-center justify-between gap-3">
                                <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                                    Your Position
                                </div>
                                <button
                                    type="button"
                                    onclick="refreshMyLiquidityForSelectedPair(true)"
                                    class="text-[10px] text-fennec hover:text-white underline decoration-dotted"
                                >
                                    Refresh
                                </button>
                            </div>
                            <div id="liqMyPosBody" class="mt-3 text-gray-200">--</div>
                        </div>

                        <div
                            id="liqWithdrawPanel"
                            class="hidden bg-black/40 border border-white/10 rounded-xl p-3 md:col-span-1"
                        >
                            <div class="flex items-center justify-between gap-3">
                                <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                                    Liquidity
                                </div>
                                <button
                                    id="liqWithdrawBtn"
                                    type="button"
                                    onclick="openRemoveLiquidityModal()"
                                    class="text-[10px] font-black bg-fennec/15 text-fennec border border-fennec/30 px-2 py-1 rounded-lg hover:bg-fennec/25 transition"
                                >
                                    Withdraw
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                            <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                                <span id="liqTick0Label">FENNEC</span>
                                <button
                                    onclick="setMaxLiqAmount(0)"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    type="button"
                                >
                                    MAX
                                </button>
                            </div>
                            <input
                                id="liqAmount0"
                                type="number"
                                inputmode="decimal"
                                placeholder="0.0"
                                class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                                oninput="syncLiquidityAmounts(0)"
                            />
                            <div class="text-[10px] text-gray-500 mt-1">Bal: <span id="liqBal0">--</span></div>
                        </div>
                        <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                            <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                                <span id="liqTick1Label">FB</span>
                                <button
                                    onclick="setMaxLiqAmount(1)"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    type="button"
                                >
                                    MAX
                                </button>
                            </div>
                            <input
                                id="liqAmount1"
                                type="number"
                                inputmode="decimal"
                                placeholder="0.0"
                                class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                                oninput="syncLiquidityAmounts(1)"
                            />
                            <div class="text-[10px] text-gray-500 mt-1">Bal: <span id="liqBal1">--</span></div>
                        </div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                        <span>Expected LP: <span id="liqExpectedLP" class="text-white font-bold">--</span></span>
                    </div>

                    <button
                        onclick="doAddLiquidity()"
                        id="liqSupplyBtn"
                        class="mt-3 w-full bg-gradient-to-r from-fennec to-orange-400 text-black font-black text-base py-3 rounded-xl hover:brightness-110 transition opacity-50 cursor-not-allowed"
                        disabled
                    >
                        SUPPLY
                    </button>
                </div>

                <!-- Remove Liquidity Tab Content -->
                <div id="liqRemoveContent" class="hidden">
                    <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                        <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                            <span>LP Amount</span>
                            <button
                                type="button"
                                onclick="setMaxRemoveLp()"
                                class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                            >
                                MAX
                            </button>
                        </div>
                        <input
                            id="removeLpAmount"
                            type="number"
                            inputmode="decimal"
                            placeholder="0.0"
                            class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                        />
                        <div class="text-[10px] text-gray-500 mt-1">Your LP: <span id="removeLpBalance">--</span></div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                        <span>Est. Receive: <span id="removeReceive" class="text-white font-bold">--</span></span>
                        <span class="text-gray-600">Fees in FB</span>
                    </div>

                    <button
                        onclick="doRemoveLiquidity()"
                        id="removeLiqBtn"
                        class="mt-3 w-full bg-gradient-to-r from-fennec to-orange-400 text-black font-black text-base py-3 rounded-xl hover:brightness-110 transition opacity-50 cursor-not-allowed"
                        disabled
                    >
                        WITHDRAW
                    </button>
                </div>
            </div>
        </div>

        <div id="removeLiquidityModal" class="modal-overlay hidden" onclick="closeRemoveLiquidityModal()">
            <div
                class="modal-box border-fennec/30"
                style="max-width: 520px; width: 92%; padding: 22px"
                onclick="event.stopPropagation()"
            >
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                            Withdraw Liquidity
                        </div>
                        <div class="text-lg font-black text-white">Remove Liquidity</div>
                    </div>
                    <button type="button" onclick="closeRemoveLiquidityModal()" class="text-gray-500 hover:text-white">
                        ‚úï
                    </button>
                </div>

                <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                    <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                        <span>LP Amount</span>
                        <button
                            type="button"
                            onclick="setMaxRemoveLp()"
                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                        >
                            MAX
                        </button>
                    </div>
                    <input
                        id="removeLpAmount"
                        type="number"
                        inputmode="decimal"
                        placeholder="0.0"
                        class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                    />
                    <div class="text-[10px] text-gray-500 mt-1">Your LP: <span id="removeLpBalance">--</span></div>
                </div>

                <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                    <span>Est. Receive: <span id="removeReceive" class="text-white font-bold">--</span></span>
                    <span class="text-gray-600">Fees in FB</span>
                </div>

                <button
                    onclick="doRemoveLiquidity()"
                    id="removeLiqBtn"
                    class="mt-3 w-full bg-white/10 border border-white/10 text-white font-black text-base py-3 rounded-xl hover:bg-white/15 transition"
                >
                    WITHDRAW
                </button>
            </div>
        </div>

        <div
            id="inscriptionModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('inscriptionModal').classList.add('hidden')"
        >
            <div class="modal-box" onclick="event.stopPropagation()">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-white">Select Inscription</h3>
                    <button
                        onclick="document.getElementById('inscriptionModal').classList.add('hidden')"
                        class="text-gray-500 hover:text-white"
                    >
                        ‚úï
                    </button>
                </div>
                <div id="inscList" class="max-h-60 overflow-y-auto space-y-2">
                    <div class="text-center py-4 text-gray-500 text-xs">Loading...</div>
                </div>
            </div>
        </div>
        <div
            id="switchWalletModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('switchWalletModal').classList.add('hidden')"
        >
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <i class="fas fa-exchange-alt text-3xl text-fennec mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">Switch Wallet?</h3>
                <p class="text-gray-400 text-sm mb-4">
                    You are about to switch from:<br /><span
                        class="text-fennec font-mono text-xs"
                        id="currentWalletAddress"
                    ></span
                    ><br /><br />Please confirm to continue.
                </p>
                <div class="flex gap-3">
                    <button
                        onclick="
                            document.getElementById('switchWalletModal').classList.add('hidden');
                            switchWalletConfirmed = true;
                            window.connectWallet();
                        "
                        class="flex-1 bg-fennec text-black py-3 rounded-xl font-bold hover:bg-white transition"
                    >
                        CONFIRM
                    </button>
                    <button
                        onclick="
                            document.getElementById('switchWalletModal').classList.add('hidden');
                            switchWalletConfirmed = false;
                        "
                        class="flex-1 bg-white/10 text-white py-3 rounded-xl font-bold hover:bg-white/20 transition"
                    >
                        CANCEL
                    </button>
                </div>
            </div>
        </div>

        <!-- WHALE WATCHER NOTIFICATION -->
        <div
            id="whaleWatcher"
            class="whale-alert fixed bottom-4 right-4 bg-black/90 border border-fennec/50 p-4 rounded-xl shadow-[0_0_30px_rgba(255,107,53,0.3)] transform translate-y-[200%] transition-transform duration-500 z-50 flex items-center gap-4 max-w-sm hidden"
        >
            <div class="text-4xl"></div>
            <div>
                <div class="text-xs text-fennec font-bold uppercase tracking-widest mb-1">Whale Alert</div>
                <div id="whaleMsg" class="text-sm text-white font-mono leading-tight">Someone just swapped 500 FB!</div>
            </div>
            <button
                onclick="document.getElementById('whaleWatcher').classList.add('translate-y-[200%]')"
                class="absolute top-2 right-2 text-gray-500 hover:text-white"
            >
                √ó
            </button>
        </div>

        <!-- Progress Tracking Modal -->
        <div id="progressModal" class="modal-overlay hidden">
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <div class="text-4xl mb-4"><i class="fas fa-spinner fa-spin text-fennec"></i></div>
                <h3 class="text-lg font-bold text-white mb-3" id="progressTitle">Processing...</h3>
                <div class="bg-black/40 rounded-lg p-4 mb-4">
                    <div class="flex justify-between text-xs mb-2">
                        <span class="text-gray-400" id="progressStep">Waiting...</span
                        ><span class="text-fennec font-bold" id="progressPercent">0%</span>
                    </div>
                    <div class="w-full bg-white/10 rounded-full h-2 overflow-hidden">
                        <div
                            id="progressBar"
                            class="bg-gradient-to-r from-fennec to-sand h-full transition-all duration-300"
                            style="width: 0%"
                        ></div>
                    </div>
                </div>
                <p class="text-gray-400 text-xs font-mono break-all bg-black/30 p-2 rounded mb-4" id="progressTxId"></p>
                <button
                    onclick="closeProgress()"
                    class="w-full bg-white/10 py-2 rounded-lg hover:bg-white/20 text-white text-sm font-bold"
                >
                    CLOSE
                </button>
            </div>
        </div>

        <script src="js/router.js?v=2026-01-14-1"></script>
        <script src="assets/app.js?v=2026-01-14-1"></script>

        <!-- CHAT WIDGET -->
        <div id="chatWidget" class="fixed bottom-12 right-6 z-50 flex flex-col items-end pointer-events-none">
            <div
                id="chatWindow"
                class="mb-4 w-80 bg-[#1a100c]/95 backdrop-blur-xl border border-fennec/30 rounded-2xl shadow-[0_0_50px_rgba(255,107,53,0.15)] overflow-hidden transform origin-bottom-right scale-90 opacity-0 transition-all duration-300 pointer-events-auto hidden"
            >
                <div
                    class="bg-gradient-to-r from-fennec/20 to-transparent p-3 border-b border-white/5 flex justify-between items-center"
                >
                    <div class="flex items-center gap-2">
                        <div class="w-5 h-5 flex-shrink-0">
                            <img src="img/FENNECAI.png" class="w-full h-full object-contain ai-avatar" />
                        </div>
                        <span class="text-xs font-mono font-bold text-fennec tracking-widest">ASSISTANT</span>
                    </div>
                    <button onclick="window.toggleChat()" class="text-gray-500 hover:text-white">‚úï</button>
                </div>
                <div class="px-3 py-2 border-b border-white/5 bg-black/10">
                    <div class="flex flex-wrap gap-2 justify-center">
                        <button
                            onclick="oracleQuick('help')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            HELP
                        </button>
                        <button
                            onclick="oracleQuick('prices')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            PRICE
                        </button>
                        <button
                            onclick="oracleQuick('swap')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            SWAP
                        </button>
                        <button
                            onclick="oracleQuick('id')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            FENNEC ID
                        </button>
                        <button
                            onclick="oracleQuick('deposit')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            DEPOSIT
                        </button>
                        <button
                            onclick="oracleQuick('withdraw')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            WITHDRAW
                        </button>
                        <button
                            onclick="oracleQuick('clear')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-red-500/40 hover:bg-red-500/10 transition"
                        >
                            CLEAR
                        </button>
                    </div>
                    <div id="chatLoading" class="hidden mt-2 text-[10px] text-gray-500 font-mono">
                        Scanning the dunes...
                    </div>
                </div>
                <div id="chatMessages" class="h-80 overflow-y-auto p-4 space-y-3 scrollbar-thin text-xs text-gray-300">
                    <div class="flex gap-2 items-start">
                        <div class="w-6 h-6 flex-shrink-0">
                            <img src="img/FENNECAI.png" class="w-full h-full object-contain ai-avatar" />
                        </div>
                        <div class="bg-white/5 p-3 rounded-lg rounded-tl-none flex-1">
                            Ask me anything about Fennec.
                        </div>
                    </div>
                </div>
                <div class="p-3 border-t border-white/10 bg-black/20 relative">
                    <input
                        type="text"
                        id="chatInput"
                        placeholder="Ask..."
                        class="w-full bg-black/50 border border-white/10 rounded-lg pl-3 pr-12 py-3 text-xs text-white outline-none focus:border-fennec/50 transition"
                        onkeypress="if (event.key === 'Enter') sendMessage();"
                    />
                    <button
                        onclick="sendMessage()"
                        id="chatSendBtn"
                        class="absolute right-2 top-1/2 -translate-y-1/2 text-fennec w-9 h-9 flex items-center justify-center rounded-md bg-white/5 border border-white/10 hover:bg-fennec/10 hover:border-fennec/30"
                    >
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            <button
                onclick="window.toggleChat()"
                id="chatTrigger"
                class="pointer-events-auto w-14 h-14 bg-[#2b1d1a] rounded-full border border-fennec/50 shadow-lg flex items-center justify-center hover:scale-110 transition hover:bg-fennec hover:text-black overflow-hidden"
            >
                <img src="img/FENNECAI.png" class="w-10 h-10 object-contain ai-avatar" />
            </button>
        </div>

        <script src="assets/bg.js?v=2026-01-13-1"></script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\package-lock.json
==================================================

{
    "name": "fennec-swap",
    "version": "1.0.0",
    "lockfileVersion": 3,
    "requires": true,
    "packages": {
        "": {
            "name": "fennec-swap",
            "version": "1.0.0",
            "dependencies": {
                "@scure/base": "^1.2.6",
                "@scure/btc-signer": "^1.7.0"
            },
            "devDependencies": {
                "autoprefixer": "^10.4.20",
                "concurrently": "^8.2.2",
                "eslint": "^8.57.0",
                "htmlhint": "^1.1.4",
                "live-server": "^1.2.2",
                "postcss": "^8.4.49",
                "prettier": "^3.2.5",
                "puppeteer": "^22.0.0",
                "tailwindcss": "^3.4.15",
                "typescript": "^5.6.3",
                "vite": "^5.4.11",
                "wrangler": "^4.54.0"
            },
            "engines": {
                "node": ">=18.0.0"
            }
        },
        "node_modules/@alloc/quick-lru": {
            "version": "5.2.0",
            "resolved": "https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz",
            "integrity": "sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/@babel/code-frame": {
            "version": "7.27.1",
            "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.27.1.tgz",
            "integrity": "sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@babel/helper-validator-identifier": "^7.27.1",
                "js-tokens": "^4.0.0",
                "picocolors": "^1.1.1"
            },
            "engines": {
                "node": ">=6.9.0"
            }
        },
        "node_modules/@babel/helper-validator-identifier": {
            "version": "7.28.5",
            "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.28.5.tgz",
            "integrity": "sha512-qSs4ifwzKJSV39ucNjsvc6WVHs6b7S03sOh2OcHF9UHfVPqWWALUsNUVzhSBiItjRZoLHx7nIarVjqKVusUZ1Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6.9.0"
            }
        },
        "node_modules/@babel/runtime": {
            "version": "7.28.4",
            "resolved": "https://registry.npmjs.org/@babel/runtime/-/runtime-7.28.4.tgz",
            "integrity": "sha512-Q/N6JNWvIvPnLDvjlE1OUBLPQHH6l3CltCEsHIujp45zQUSSh8K+gHnaEX45yAT1nyngnINhvWtzN+Nb9D8RAQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6.9.0"
            }
        },
        "node_modules/@cloudflare/kv-asset-handler": {
            "version": "0.4.1",
            "resolved": "https://registry.npmjs.org/@cloudflare/kv-asset-handler/-/kv-asset-handler-0.4.1.tgz",
            "integrity": "sha512-Nu8ahitGFFJztxUml9oD/DLb7Z28C8cd8F46IVQ7y5Btz575pvMY8AqZsXkX7Gds29eCKdMgIHjIvzskHgPSFg==",
            "dev": true,
            "license": "MIT OR Apache-2.0",
            "dependencies": {
                "mime": "^3.0.0"
            },
            "engines": {
                "node": ">=18.0.0"
            }
        },
        "node_modules/@cloudflare/unenv-preset": {
            "version": "2.7.13",
            "resolved": "https://registry.npmjs.org/@cloudflare/unenv-preset/-/unenv-preset-2.7.13.tgz",
            "integrity": "sha512-NulO1H8R/DzsJguLC0ndMuk4Ufv0KSlN+E54ay9rn9ZCQo0kpAPwwh3LhgpZ96a3Dr6L9LqW57M4CqC34iLOvw==",
            "dev": true,
            "license": "MIT OR Apache-2.0",
            "peerDependencies": {
                "unenv": "2.0.0-rc.24",
                "workerd": "^1.20251202.0"
            },
            "peerDependenciesMeta": {
                "workerd": {
                    "optional": true
                }
            }
        },
        "node_modules/@cloudflare/workerd-darwin-64": {
            "version": "1.20251210.0",
            "resolved": "https://registry.npmjs.org/@cloudflare/workerd-darwin-64/-/workerd-darwin-64-1.20251210.0.tgz",
            "integrity": "sha512-Nn9X1moUDERA9xtFdCQ2XpQXgAS9pOjiCxvOT8sVx9UJLAiBLkfSCGbpsYdarODGybXCpjRlc77Yppuolvt7oQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/@cloudflare/workerd-darwin-arm64": {
            "version": "1.20251210.0",
            "resolved": "https://registry.npmjs.org/@cloudflare/workerd-darwin-arm64/-/workerd-darwin-arm64-1.20251210.0.tgz",
            "integrity": "sha512-Mg8iYIZQFnbevq/ls9eW/eneWTk/EE13Pej1MwfkY5et0jVpdHnvOLywy/o+QtMJFef1AjsqXGULwAneYyBfHw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/@cloudflare/workerd-linux-64": {
            "version": "1.20251210.0",
            "resolved": "https://registry.npmjs.org/@cloudflare/workerd-linux-64/-/workerd-linux-64-1.20251210.0.tgz",
            "integrity": "sha512-kjC2fCZhZ2Gkm1biwk2qByAYpGguK5Gf5ic8owzSCUw0FOUfQxTZUT9Lp3gApxsfTLbbnLBrX/xzWjywH9QR4g==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/@cloudflare/workerd-linux-arm64": {
            "version": "1.20251210.0",
            "resolved": "https://registry.npmjs.org/@cloudflare/workerd-linux-arm64/-/workerd-linux-arm64-1.20251210.0.tgz",
            "integrity": "sha512-2IB37nXi7PZVQLa1OCuO7/6pNxqisRSO8DmCQ5x/3sezI5op1vwOxAcb1osAnuVsVN9bbvpw70HJvhKruFJTuA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/@cloudflare/workerd-windows-64": {
            "version": "1.20251210.0",
            "resolved": "https://registry.npmjs.org/@cloudflare/workerd-windows-64/-/workerd-windows-64-1.20251210.0.tgz",
            "integrity": "sha512-Uaz6/9XE+D6E7pCY4OvkCuJHu7HcSDzeGcCGY1HLhojXhHd7yL52c3yfiyJdS8hPatiAa0nn5qSI/42+aTdDSw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/@cspotcode/source-map-support": {
            "version": "0.8.1",
            "resolved": "https://registry.npmjs.org/@cspotcode/source-map-support/-/source-map-support-0.8.1.tgz",
            "integrity": "sha512-IchNf6dN4tHoMFIn/7OE8LWZ19Y6q/67Bmf6vnGREv8RSbBVb9LPJxEcnwrcwX6ixSvaiGoomAUvu4YSxXrVgw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/trace-mapping": "0.3.9"
            },
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/@emnapi/runtime": {
            "version": "1.7.1",
            "resolved": "https://registry.npmjs.org/@emnapi/runtime/-/runtime-1.7.1.tgz",
            "integrity": "sha512-PVtJr5CmLwYAU9PZDMITZoR5iAOShYREoR45EyyLrbntV50mdePTgUn4AmOw90Ifcj+x2kRjdzr1HP3RrNiHGA==",
            "dev": true,
            "license": "MIT",
            "optional": true,
            "dependencies": {
                "tslib": "^2.4.0"
            }
        },
        "node_modules/@esbuild/aix-ppc64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.27.0.tgz",
            "integrity": "sha512-KuZrd2hRjz01y5JK9mEBSD3Vj3mbCvemhT466rSuJYeE/hjuBrHfjjcjMdTm/sz7au+++sdbJZJmuBwQLuw68A==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "aix"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/android-arm": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.27.0.tgz",
            "integrity": "sha512-j67aezrPNYWJEOHUNLPj9maeJte7uSMM6gMoxfPC9hOg8N02JuQi/T7ewumf4tNvJadFkvLZMlAq73b9uwdMyQ==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/android-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.27.0.tgz",
            "integrity": "sha512-CC3vt4+1xZrs97/PKDkl0yN7w8edvU2vZvAFGD16n9F0Cvniy5qvzRXjfO1l94efczkkQE6g1x0i73Qf5uthOQ==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/android-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.27.0.tgz",
            "integrity": "sha512-wurMkF1nmQajBO1+0CJmcN17U4BP6GqNSROP8t0X/Jiw2ltYGLHpEksp9MpoBqkrFR3kv2/te6Sha26k3+yZ9Q==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/darwin-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.27.0.tgz",
            "integrity": "sha512-uJOQKYCcHhg07DL7i8MzjvS2LaP7W7Pn/7uA0B5S1EnqAirJtbyw4yC5jQ5qcFjHK9l6o/MX9QisBg12kNkdHg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/darwin-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.27.0.tgz",
            "integrity": "sha512-8mG6arH3yB/4ZXiEnXof5MK72dE6zM9cDvUcPtxhUZsDjESl9JipZYW60C3JGreKCEP+p8P/72r69m4AZGJd5g==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/freebsd-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.27.0.tgz",
            "integrity": "sha512-9FHtyO988CwNMMOE3YIeci+UV+x5Zy8fI2qHNpsEtSF83YPBmE8UWmfYAQg6Ux7Gsmd4FejZqnEUZCMGaNQHQw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/freebsd-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.27.0.tgz",
            "integrity": "sha512-zCMeMXI4HS/tXvJz8vWGexpZj2YVtRAihHLk1imZj4efx1BQzN76YFeKqlDr3bUWI26wHwLWPd3rwh6pe4EV7g==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-arm": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.27.0.tgz",
            "integrity": "sha512-t76XLQDpxgmq2cNXKTVEB7O7YMb42atj2Re2Haf45HkaUpjM2J0UuJZDuaGbPbamzZ7bawyGFUkodL+zcE+jvQ==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.27.0.tgz",
            "integrity": "sha512-AS18v0V+vZiLJyi/4LphvBE+OIX682Pu7ZYNsdUHyUKSoRwdnOsMf6FDekwoAFKej14WAkOef3zAORJgAtXnlQ==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-ia32": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.27.0.tgz",
            "integrity": "sha512-Mz1jxqm/kfgKkc/KLHC5qIujMvnnarD9ra1cEcrs7qshTUSksPihGrWHVG5+osAIQ68577Zpww7SGapmzSt4Nw==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-loong64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.27.0.tgz",
            "integrity": "sha512-QbEREjdJeIreIAbdG2hLU1yXm1uu+LTdzoq1KCo4G4pFOLlvIspBm36QrQOar9LFduavoWX2msNFAAAY9j4BDg==",
            "cpu": [
                "loong64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-mips64el": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.27.0.tgz",
            "integrity": "sha512-sJz3zRNe4tO2wxvDpH/HYJilb6+2YJxo/ZNbVdtFiKDufzWq4JmKAiHy9iGoLjAV7r/W32VgaHGkk35cUXlNOg==",
            "cpu": [
                "mips64el"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-ppc64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.27.0.tgz",
            "integrity": "sha512-z9N10FBD0DCS2dmSABDBb5TLAyF1/ydVb+N4pi88T45efQ/w4ohr/F/QYCkxDPnkhkp6AIpIcQKQ8F0ANoA2JA==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-riscv64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.27.0.tgz",
            "integrity": "sha512-pQdyAIZ0BWIC5GyvVFn5awDiO14TkT/19FTmFcPdDec94KJ1uZcmFs21Fo8auMXzD4Tt+diXu1LW1gHus9fhFQ==",
            "cpu": [
                "riscv64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-s390x": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.27.0.tgz",
            "integrity": "sha512-hPlRWR4eIDDEci953RI1BLZitgi5uqcsjKMxwYfmi4LcwyWo2IcRP+lThVnKjNtk90pLS8nKdroXYOqW+QQH+w==",
            "cpu": [
                "s390x"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.27.0.tgz",
            "integrity": "sha512-1hBWx4OUJE2cab++aVZ7pObD6s+DK4mPGpemtnAORBvb5l/g5xFGk0vc0PjSkrDs0XaXj9yyob3d14XqvnQ4gw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/netbsd-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/netbsd-arm64/-/netbsd-arm64-0.27.0.tgz",
            "integrity": "sha512-6m0sfQfxfQfy1qRuecMkJlf1cIzTOgyaeXaiVaaki8/v+WB+U4hc6ik15ZW6TAllRlg/WuQXxWj1jx6C+dfy3w==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "netbsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/netbsd-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.27.0.tgz",
            "integrity": "sha512-xbbOdfn06FtcJ9d0ShxxvSn2iUsGd/lgPIO2V3VZIPDbEaIj1/3nBBe1AwuEZKXVXkMmpr6LUAgMkLD/4D2PPA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "netbsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/openbsd-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/openbsd-arm64/-/openbsd-arm64-0.27.0.tgz",
            "integrity": "sha512-fWgqR8uNbCQ/GGv0yhzttj6sU/9Z5/Sv/VGU3F5OuXK6J6SlriONKrQ7tNlwBrJZXRYk5jUhuWvF7GYzGguBZQ==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openbsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/openbsd-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.27.0.tgz",
            "integrity": "sha512-aCwlRdSNMNxkGGqQajMUza6uXzR/U0dIl1QmLjPtRbLOx3Gy3otfFu/VjATy4yQzo9yFDGTxYDo1FfAD9oRD2A==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openbsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/openharmony-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/openharmony-arm64/-/openharmony-arm64-0.27.0.tgz",
            "integrity": "sha512-nyvsBccxNAsNYz2jVFYwEGuRRomqZ149A39SHWk4hV0jWxKM0hjBPm3AmdxcbHiFLbBSwG6SbpIcUbXjgyECfA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openharmony"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/sunos-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.27.0.tgz",
            "integrity": "sha512-Q1KY1iJafM+UX6CFEL+F4HRTgygmEW568YMqDA5UV97AuZSm21b7SXIrRJDwXWPzr8MGr75fUZPV67FdtMHlHA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "sunos"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/win32-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.27.0.tgz",
            "integrity": "sha512-W1eyGNi6d+8kOmZIwi/EDjrL9nxQIQ0MiGqe/AWc6+IaHloxHSGoeRgDRKHFISThLmsewZ5nHFvGFWdBYlgKPg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/win32-ia32": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.27.0.tgz",
            "integrity": "sha512-30z1aKL9h22kQhilnYkORFYt+3wp7yZsHWus+wSKAJR8JtdfI76LJ4SBdMsCopTR3z/ORqVu5L1vtnHZWVj4cQ==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/win32-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.27.0.tgz",
            "integrity": "sha512-aIitBcjQeyOhMTImhLZmtxfdOcuNRpwlPNmlFKPcHQYPhEssw75Cl1TSXJXpMkzaua9FUetx/4OQKq7eJul5Cg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@eslint-community/eslint-utils": {
            "version": "4.9.0",
            "resolved": "https://registry.npmjs.org/@eslint-community/eslint-utils/-/eslint-utils-4.9.0.tgz",
            "integrity": "sha512-ayVFHdtZ+hsq1t2Dy24wCmGXGe4q9Gu3smhLYALJrr473ZH27MsnSL+LKUlimp4BWJqMDMLmPpx/Q9R3OAlL4g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "eslint-visitor-keys": "^3.4.3"
            },
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/eslint"
            },
            "peerDependencies": {
                "eslint": "^6.0.0 || ^7.0.0 || >=8.0.0"
            }
        },
        "node_modules/@eslint-community/regexpp": {
            "version": "4.12.2",
            "resolved": "https://registry.npmjs.org/@eslint-community/regexpp/-/regexpp-4.12.2.tgz",
            "integrity": "sha512-EriSTlt5OC9/7SXkRSCAhfSxxoSUgBm33OH+IkwbdpgoqsSsUg7y3uh+IICI/Qg4BBWr3U2i39RpmycbxMq4ew==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": "^12.0.0 || ^14.0.0 || >=16.0.0"
            }
        },
        "node_modules/@eslint/eslintrc": {
            "version": "2.1.4",
            "resolved": "https://registry.npmjs.org/@eslint/eslintrc/-/eslintrc-2.1.4.tgz",
            "integrity": "sha512-269Z39MS6wVJtsoUl10L60WdkhJVdPG24Q4eZTH3nnF6lpvSShEK3wQjDX9JRWAUPvPh7COouPpU9IrqaZFvtQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ajv": "^6.12.4",
                "debug": "^4.3.2",
                "espree": "^9.6.0",
                "globals": "^13.19.0",
                "ignore": "^5.2.0",
                "import-fresh": "^3.2.1",
                "js-yaml": "^4.1.0",
                "minimatch": "^3.1.2",
                "strip-json-comments": "^3.1.1"
            },
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/eslint"
            }
        },
        "node_modules/@eslint/js": {
            "version": "8.57.1",
            "resolved": "https://registry.npmjs.org/@eslint/js/-/js-8.57.1.tgz",
            "integrity": "sha512-d9zaMRSTIKDLhctzH12MtXvJKSSUhaHcjV+2Z+GK+EEY7XKpP5yR4x+N3TAcHTcu963nIr+TMcCb4DBCYX1z6Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            }
        },
        "node_modules/@humanwhocodes/config-array": {
            "version": "0.13.0",
            "resolved": "https://registry.npmjs.org/@humanwhocodes/config-array/-/config-array-0.13.0.tgz",
            "integrity": "sha512-DZLEEqFWQFiyK6h5YIeynKx7JlvCYWL0cImfSRXZ9l4Sg2efkFGTuFf6vzXjK1cq6IYkU+Eg/JizXw+TD2vRNw==",
            "deprecated": "Use @eslint/config-array instead",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "@humanwhocodes/object-schema": "^2.0.3",
                "debug": "^4.3.1",
                "minimatch": "^3.0.5"
            },
            "engines": {
                "node": ">=10.10.0"
            }
        },
        "node_modules/@humanwhocodes/module-importer": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/@humanwhocodes/module-importer/-/module-importer-1.0.1.tgz",
            "integrity": "sha512-bxveV4V8v5Yb4ncFTT3rPSgZBOpCkjfK0y4oVVVJwIuDVBRMDXrPyXRL988i5ap9m9bnyEEjWfm5WkBmtffLfA==",
            "dev": true,
            "license": "Apache-2.0",
            "engines": {
                "node": ">=12.22"
            },
            "funding": {
                "type": "github",
                "url": "https://github.com/sponsors/nzakas"
            }
        },
        "node_modules/@humanwhocodes/object-schema": {
            "version": "2.0.3",
            "resolved": "https://registry.npmjs.org/@humanwhocodes/object-schema/-/object-schema-2.0.3.tgz",
            "integrity": "sha512-93zYdMES/c1D69yZiKDBj0V24vqNzB/koF26KPaagAfd3P/4gUlh3Dys5ogAK+Exi9QyzlD8x/08Zt7wIKcDcA==",
            "deprecated": "Use @eslint/object-schema instead",
            "dev": true,
            "license": "BSD-3-Clause"
        },
        "node_modules/@img/sharp-darwin-arm64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-darwin-arm64/-/sharp-darwin-arm64-0.33.5.tgz",
            "integrity": "sha512-UT4p+iz/2H4twwAoLCqfA9UH5pI6DggwKEGuaPy7nCVQ8ZsiY5PIcrRvD1DzuY3qYL07NtIQcWnBSY/heikIFQ==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-darwin-arm64": "1.0.4"
            }
        },
        "node_modules/@img/sharp-darwin-x64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-darwin-x64/-/sharp-darwin-x64-0.33.5.tgz",
            "integrity": "sha512-fyHac4jIc1ANYGRDxtiqelIbdWkIuQaI84Mv45KvGRRxSAa7o7d1ZKAOBaYbnepLC1WqxfpimdeWfvqqSGwR2Q==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-darwin-x64": "1.0.4"
            }
        },
        "node_modules/@img/sharp-libvips-darwin-arm64": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-darwin-arm64/-/sharp-libvips-darwin-arm64-1.0.4.tgz",
            "integrity": "sha512-XblONe153h0O2zuFfTAbQYAX2JhYmDHeWikp1LM9Hul9gVPjFY427k6dFEcOL72O01QxQsWi761svJ/ev9xEDg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "darwin"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-darwin-x64": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-darwin-x64/-/sharp-libvips-darwin-x64-1.0.4.tgz",
            "integrity": "sha512-xnGR8YuZYfJGmWPvmlunFaWJsb9T/AO2ykoP3Fz/0X5XV2aoYBPkX6xqCQvUTKKiLddarLaxpzNe+b1hjeWHAQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "darwin"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-linux-arm": {
            "version": "1.0.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-arm/-/sharp-libvips-linux-arm-1.0.5.tgz",
            "integrity": "sha512-gvcC4ACAOPRNATg/ov8/MnbxFDJqf/pDePbBnuBDcjsI8PssmjoKMAz4LtLaVi+OnSb5FK/yIOamqDwGmXW32g==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "linux"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-linux-arm64": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-arm64/-/sharp-libvips-linux-arm64-1.0.4.tgz",
            "integrity": "sha512-9B+taZ8DlyyqzZQnoeIvDVR/2F4EbMepXMc/NdVbkzsJbzkUjhXv/70GQJ7tdLA4YJgNP25zukcxpX2/SueNrA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "linux"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-linux-s390x": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-s390x/-/sharp-libvips-linux-s390x-1.0.4.tgz",
            "integrity": "sha512-u7Wz6ntiSSgGSGcjZ55im6uvTrOxSIS8/dgoVMoiGE9I6JAfU50yH5BoDlYA1tcuGS7g/QNtetJnxA6QEsCVTA==",
            "cpu": [
                "s390x"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "linux"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-linux-x64": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-x64/-/sharp-libvips-linux-x64-1.0.4.tgz",
            "integrity": "sha512-MmWmQ3iPFZr0Iev+BAgVMb3ZyC4KeFc3jFxnNbEPas60e1cIfevbtuyf9nDGIzOaW9PdnDciJm+wFFaTlj5xYw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "linux"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-linuxmusl-arm64": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-arm64/-/sharp-libvips-linuxmusl-arm64-1.0.4.tgz",
            "integrity": "sha512-9Ti+BbTYDcsbp4wfYib8Ctm1ilkugkA/uscUn6UXK1ldpC1JjiXbLfFZtRlBhjPZ5o1NCLiDbg8fhUPKStHoTA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "linux"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-linuxmusl-x64": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-x64/-/sharp-libvips-linuxmusl-x64-1.0.4.tgz",
            "integrity": "sha512-viYN1KX9m+/hGkJtvYYp+CCLgnJXwiQB39damAO7WMdKWlIhmYTfHjwSbQeUK/20vY154mwezd9HflVFM1wVSw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "linux"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-linux-arm": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-linux-arm/-/sharp-linux-arm-0.33.5.tgz",
            "integrity": "sha512-JTS1eldqZbJxjvKaAkxhZmBqPRGmxgu+qFKSInv8moZ2AmT5Yib3EQ1c6gp493HvrvV8QgdOXdyaIBrhvFhBMQ==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-linux-arm": "1.0.5"
            }
        },
        "node_modules/@img/sharp-linux-arm64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-linux-arm64/-/sharp-linux-arm64-0.33.5.tgz",
            "integrity": "sha512-JMVv+AMRyGOHtO1RFBiJy/MBsgz0x4AWrT6QoEVVTyh1E39TrCUpTRI7mx9VksGX4awWASxqCYLCV4wBZHAYxA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-linux-arm64": "1.0.4"
            }
        },
        "node_modules/@img/sharp-linux-s390x": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-linux-s390x/-/sharp-linux-s390x-0.33.5.tgz",
            "integrity": "sha512-y/5PCd+mP4CA/sPDKl2961b+C9d+vPAveS33s6Z3zfASk2j5upL6fXVPZi7ztePZ5CuH+1kW8JtvxgbuXHRa4Q==",
            "cpu": [
                "s390x"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-linux-s390x": "1.0.4"
            }
        },
        "node_modules/@img/sharp-linux-x64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-linux-x64/-/sharp-linux-x64-0.33.5.tgz",
            "integrity": "sha512-opC+Ok5pRNAzuvq1AG0ar+1owsu842/Ab+4qvU879ippJBHvyY5n2mxF1izXqkPYlGuP/M556uh53jRLJmzTWA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-linux-x64": "1.0.4"
            }
        },
        "node_modules/@img/sharp-linuxmusl-arm64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-linuxmusl-arm64/-/sharp-linuxmusl-arm64-0.33.5.tgz",
            "integrity": "sha512-XrHMZwGQGvJg2V/oRSUfSAfjfPxO+4DkiRh6p2AFjLQztWUuY/o8Mq0eMQVIY7HJ1CDQUJlxGGZRw1a5bqmd1g==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-linuxmusl-arm64": "1.0.4"
            }
        },
        "node_modules/@img/sharp-linuxmusl-x64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-linuxmusl-x64/-/sharp-linuxmusl-x64-0.33.5.tgz",
            "integrity": "sha512-WT+d/cgqKkkKySYmqoZ8y3pxx7lx9vVejxW/W4DOFMYVSkErR+w7mf2u8m/y4+xHe7yY9DAXQMWQhpnMuFfScw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-linuxmusl-x64": "1.0.4"
            }
        },
        "node_modules/@img/sharp-wasm32": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-wasm32/-/sharp-wasm32-0.33.5.tgz",
            "integrity": "sha512-ykUW4LVGaMcU9lu9thv85CbRMAwfeadCJHRsg2GmeRa/cJxsVY9Rbd57JcMxBkKHag5U/x7TSBpScF4U8ElVzg==",
            "cpu": [
                "wasm32"
            ],
            "dev": true,
            "license": "Apache-2.0 AND LGPL-3.0-or-later AND MIT",
            "optional": true,
            "dependencies": {
                "@emnapi/runtime": "^1.2.0"
            },
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-win32-ia32": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-win32-ia32/-/sharp-win32-ia32-0.33.5.tgz",
            "integrity": "sha512-T36PblLaTwuVJ/zw/LaH0PdZkRz5rd3SmMHX8GSmR7vtNSP5Z6bQkExdSK7xGWyxLw4sUknBuugTelgw2faBbQ==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "Apache-2.0 AND LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-win32-x64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-win32-x64/-/sharp-win32-x64-0.33.5.tgz",
            "integrity": "sha512-MpY/o8/8kj+EcnxwvrP4aTJSWw/aZ7JIGR4aBeZkZw5B7/Jn+tY9/VNwtcoGmdT7GfggGIU4kygOMSbYnOrAbg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0 AND LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@jridgewell/gen-mapping": {
            "version": "0.3.13",
            "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
            "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/sourcemap-codec": "^1.5.0",
                "@jridgewell/trace-mapping": "^0.3.24"
            }
        },
        "node_modules/@jridgewell/gen-mapping/node_modules/@jridgewell/trace-mapping": {
            "version": "0.3.31",
            "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.31.tgz",
            "integrity": "sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/resolve-uri": "^3.1.0",
                "@jridgewell/sourcemap-codec": "^1.4.14"
            }
        },
        "node_modules/@jridgewell/resolve-uri": {
            "version": "3.1.2",
            "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
            "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6.0.0"
            }
        },
        "node_modules/@jridgewell/sourcemap-codec": {
            "version": "1.5.5",
            "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.5.tgz",
            "integrity": "sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/@jridgewell/trace-mapping": {
            "version": "0.3.9",
            "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.9.tgz",
            "integrity": "sha512-3Belt6tdc8bPgAtbcmdtNJlirVoTmEb5e2gC94PnkwEW9jI6CAHUeoG85tjWP5WquqfavoMtMwiG4P926ZKKuQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/resolve-uri": "^3.0.3",
                "@jridgewell/sourcemap-codec": "^1.4.10"
            }
        },
        "node_modules/@noble/curves": {
            "version": "1.9.7",
            "resolved": "https://registry.npmjs.org/@noble/curves/-/curves-1.9.7.tgz",
            "integrity": "sha512-gbKGcRUYIjA3/zCCNaWDciTMFI0dCkvou3TL8Zmy5Nc7sJ47a0jtOeZoTaMxkuqRo9cRhjOdZJXegxYE5FN/xw==",
            "license": "MIT",
            "dependencies": {
                "@noble/hashes": "1.8.0"
            },
            "engines": {
                "node": "^14.21.3 || >=16"
            },
            "funding": {
                "url": "https://paulmillr.com/funding/"
            }
        },
        "node_modules/@noble/hashes": {
            "version": "1.8.0",
            "resolved": "https://registry.npmjs.org/@noble/hashes/-/hashes-1.8.0.tgz",
            "integrity": "sha512-jCs9ldd7NwzpgXDIf6P3+NrHh9/sD6CQdxHyjQI+h/6rDNo88ypBxxz45UDuZHz9r3tNz7N/VInSVoVdtXEI4A==",
            "license": "MIT",
            "engines": {
                "node": "^14.21.3 || >=16"
            },
            "funding": {
                "url": "https://paulmillr.com/funding/"
            }
        },
        "node_modules/@nodelib/fs.scandir": {
            "version": "2.1.5",
            "resolved": "https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz",
            "integrity": "sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@nodelib/fs.stat": "2.0.5",
                "run-parallel": "^1.1.9"
            },
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/@nodelib/fs.stat": {
            "version": "2.0.5",
            "resolved": "https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.5.tgz",
            "integrity": "sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/@nodelib/fs.walk": {
            "version": "1.2.8",
            "resolved": "https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.8.tgz",
            "integrity": "sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@nodelib/fs.scandir": "2.1.5",
                "fastq": "^1.6.0"
            },
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/@poppinss/colors": {
            "version": "4.1.6",
            "resolved": "https://registry.npmjs.org/@poppinss/colors/-/colors-4.1.6.tgz",
            "integrity": "sha512-H9xkIdFswbS8n1d6vmRd8+c10t2Qe+rZITbbDHHkQixH5+2x1FDGmi/0K+WgWiqQFKPSlIYB7jlH6Kpfn6Fleg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "kleur": "^4.1.5"
            }
        },
        "node_modules/@poppinss/dumper": {
            "version": "0.6.5",
            "resolved": "https://registry.npmjs.org/@poppinss/dumper/-/dumper-0.6.5.tgz",
            "integrity": "sha512-NBdYIb90J7LfOI32dOewKI1r7wnkiH6m920puQ3qHUeZkxNkQiFnXVWoE6YtFSv6QOiPPf7ys6i+HWWecDz7sw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@poppinss/colors": "^4.1.5",
                "@sindresorhus/is": "^7.0.2",
                "supports-color": "^10.0.0"
            }
        },
        "node_modules/@poppinss/dumper/node_modules/supports-color": {
            "version": "10.2.2",
            "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-10.2.2.tgz",
            "integrity": "sha512-SS+jx45GF1QjgEXQx4NJZV9ImqmO2NPz5FNsIHrsDjh2YsHnawpan7SNQ1o8NuhrbHZy9AZhIoCUiCeaW/C80g==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "url": "https://github.com/chalk/supports-color?sponsor=1"
            }
        },
        "node_modules/@poppinss/exception": {
            "version": "1.2.3",
            "resolved": "https://registry.npmjs.org/@poppinss/exception/-/exception-1.2.3.tgz",
            "integrity": "sha512-dCED+QRChTVatE9ibtoaxc+WkdzOSjYTKi/+uacHWIsfodVfpsueo3+DKpgU5Px8qXjgmXkSvhXvSCz3fnP9lw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/@puppeteer/browsers": {
            "version": "2.3.0",
            "resolved": "https://registry.npmjs.org/@puppeteer/browsers/-/browsers-2.3.0.tgz",
            "integrity": "sha512-ioXoq9gPxkss4MYhD+SFaU9p1IHFUX0ILAWFPyjGaBdjLsYAlZw6j1iLA0N/m12uVHLFDfSYNF7EQccjinIMDA==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "debug": "^4.3.5",
                "extract-zip": "^2.0.1",
                "progress": "^2.0.3",
                "proxy-agent": "^6.4.0",
                "semver": "^7.6.3",
                "tar-fs": "^3.0.6",
                "unbzip2-stream": "^1.4.3",
                "yargs": "^17.7.2"
            },
            "bin": {
                "browsers": "lib/cjs/main-cli.js"
            },
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@rollup/rollup-android-arm-eabi": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm-eabi/-/rollup-android-arm-eabi-4.54.0.tgz",
            "integrity": "sha512-OywsdRHrFvCdvsewAInDKCNyR3laPA2mc9bRYJ6LBp5IyvF3fvXbbNR0bSzHlZVFtn6E0xw2oZlyjg4rKCVcng==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ]
        },
        "node_modules/@rollup/rollup-android-arm64": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm64/-/rollup-android-arm64-4.54.0.tgz",
            "integrity": "sha512-Skx39Uv+u7H224Af+bDgNinitlmHyQX1K/atIA32JP3JQw6hVODX5tkbi2zof/E69M1qH2UoN3Xdxgs90mmNYw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ]
        },
        "node_modules/@rollup/rollup-darwin-arm64": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-arm64/-/rollup-darwin-arm64-4.54.0.tgz",
            "integrity": "sha512-k43D4qta/+6Fq+nCDhhv9yP2HdeKeP56QrUUTW7E6PhZP1US6NDqpJj4MY0jBHlJivVJD5P8NxrjuobZBJTCRw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ]
        },
        "node_modules/@rollup/rollup-darwin-x64": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-x64/-/rollup-darwin-x64-4.54.0.tgz",
            "integrity": "sha512-cOo7biqwkpawslEfox5Vs8/qj83M/aZCSSNIWpVzfU2CYHa2G3P1UN5WF01RdTHSgCkri7XOlTdtk17BezlV3A==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ]
        },
        "node_modules/@rollup/rollup-freebsd-arm64": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-arm64/-/rollup-freebsd-arm64-4.54.0.tgz",
            "integrity": "sha512-miSvuFkmvFbgJ1BevMa4CPCFt5MPGw094knM64W9I0giUIMMmRYcGW/JWZDriaw/k1kOBtsWh1z6nIFV1vPNtA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ]
        },
        "node_modules/@rollup/rollup-freebsd-x64": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-x64/-/rollup-freebsd-x64-4.54.0.tgz",
            "integrity": "sha512-KGXIs55+b/ZfZsq9aR026tmr/+7tq6VG6MsnrvF4H8VhwflTIuYh+LFUlIsRdQSgrgmtM3fVATzEAj4hBQlaqQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ]
        },
        "node_modules/@rollup/rollup-linux-arm-gnueabihf": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-gnueabihf/-/rollup-linux-arm-gnueabihf-4.54.0.tgz",
            "integrity": "sha512-EHMUcDwhtdRGlXZsGSIuXSYwD5kOT9NVnx9sqzYiwAc91wfYOE1g1djOEDseZJKKqtHAHGwnGPQu3kytmfaXLQ==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-arm-musleabihf": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-musleabihf/-/rollup-linux-arm-musleabihf-4.54.0.tgz",
            "integrity": "sha512-+pBrqEjaakN2ySv5RVrj/qLytYhPKEUwk+e3SFU5jTLHIcAtqh2rLrd/OkbNuHJpsBgxsD8ccJt5ga/SeG0JmA==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-arm64-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-gnu/-/rollup-linux-arm64-gnu-4.54.0.tgz",
            "integrity": "sha512-NSqc7rE9wuUaRBsBp5ckQ5CVz5aIRKCwsoa6WMF7G01sX3/qHUw/z4pv+D+ahL1EIKy6Enpcnz1RY8pf7bjwng==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-arm64-musl": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-musl/-/rollup-linux-arm64-musl-4.54.0.tgz",
            "integrity": "sha512-gr5vDbg3Bakga5kbdpqx81m2n9IX8M6gIMlQQIXiLTNeQW6CucvuInJ91EuCJ/JYvc+rcLLsDFcfAD1K7fMofg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-loong64-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-loong64-gnu/-/rollup-linux-loong64-gnu-4.54.0.tgz",
            "integrity": "sha512-gsrtB1NA3ZYj2vq0Rzkylo9ylCtW/PhpLEivlgWe0bpgtX5+9j9EZa0wtZiCjgu6zmSeZWyI/e2YRX1URozpIw==",
            "cpu": [
                "loong64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-ppc64-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-ppc64-gnu/-/rollup-linux-ppc64-gnu-4.54.0.tgz",
            "integrity": "sha512-y3qNOfTBStmFNq+t4s7Tmc9hW2ENtPg8FeUD/VShI7rKxNW7O4fFeaYbMsd3tpFlIg1Q8IapFgy7Q9i2BqeBvA==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-riscv64-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-gnu/-/rollup-linux-riscv64-gnu-4.54.0.tgz",
            "integrity": "sha512-89sepv7h2lIVPsFma8iwmccN7Yjjtgz0Rj/Ou6fEqg3HDhpCa+Et+YSufy27i6b0Wav69Qv4WBNl3Rs6pwhebQ==",
            "cpu": [
                "riscv64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-riscv64-musl": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-musl/-/rollup-linux-riscv64-musl-4.54.0.tgz",
            "integrity": "sha512-ZcU77ieh0M2Q8Ur7D5X7KvK+UxbXeDHwiOt/CPSBTI1fBmeDMivW0dPkdqkT4rOgDjrDDBUed9x4EgraIKoR2A==",
            "cpu": [
                "riscv64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-s390x-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-s390x-gnu/-/rollup-linux-s390x-gnu-4.54.0.tgz",
            "integrity": "sha512-2AdWy5RdDF5+4YfG/YesGDDtbyJlC9LHmL6rZw6FurBJ5n4vFGupsOBGfwMRjBYH7qRQowT8D/U4LoSvVwOhSQ==",
            "cpu": [
                "s390x"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-x64-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-gnu/-/rollup-linux-x64-gnu-4.54.0.tgz",
            "integrity": "sha512-WGt5J8Ij/rvyqpFexxk3ffKqqbLf9AqrTBbWDk7ApGUzaIs6V+s2s84kAxklFwmMF/vBNGrVdYgbblCOFFezMQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-x64-musl": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-musl/-/rollup-linux-x64-musl-4.54.0.tgz",
            "integrity": "sha512-JzQmb38ATzHjxlPHuTH6tE7ojnMKM2kYNzt44LO/jJi8BpceEC8QuXYA908n8r3CNuG/B3BV8VR3Hi1rYtmPiw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-openharmony-arm64": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-openharmony-arm64/-/rollup-openharmony-arm64-4.54.0.tgz",
            "integrity": "sha512-huT3fd0iC7jigGh7n3q/+lfPcXxBi+om/Rs3yiFxjvSxbSB6aohDFXbWvlspaqjeOh+hx7DDHS+5Es5qRkWkZg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openharmony"
            ]
        },
        "node_modules/@rollup/rollup-win32-arm64-msvc": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-arm64-msvc/-/rollup-win32-arm64-msvc-4.54.0.tgz",
            "integrity": "sha512-c2V0W1bsKIKfbLMBu/WGBz6Yci8nJ/ZJdheE0EwB73N3MvHYKiKGs3mVilX4Gs70eGeDaMqEob25Tw2Gb9Nqyw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ]
        },
        "node_modules/@rollup/rollup-win32-ia32-msvc": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-ia32-msvc/-/rollup-win32-ia32-msvc-4.54.0.tgz",
            "integrity": "sha512-woEHgqQqDCkAzrDhvDipnSirm5vxUXtSKDYTVpZG3nUdW/VVB5VdCYA2iReSj/u3yCZzXID4kuKG7OynPnB3WQ==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ]
        },
        "node_modules/@rollup/rollup-win32-x64-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-gnu/-/rollup-win32-x64-gnu-4.54.0.tgz",
            "integrity": "sha512-dzAc53LOuFvHwbCEOS0rPbXp6SIhAf2txMP5p6mGyOXXw5mWY8NGGbPMPrs4P1WItkfApDathBj/NzMLUZ9rtQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ]
        },
        "node_modules/@rollup/rollup-win32-x64-msvc": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-msvc/-/rollup-win32-x64-msvc-4.54.0.tgz",
            "integrity": "sha512-hYT5d3YNdSh3mbCU1gwQyPgQd3T2ne0A3KG8KSBdav5TiBg6eInVmV+TeR5uHufiIgSFg0XsOWGW5/RhNcSvPg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ]
        },
        "node_modules/@scure/base": {
            "version": "1.2.6",
            "resolved": "https://registry.npmjs.org/@scure/base/-/base-1.2.6.tgz",
            "integrity": "sha512-g/nm5FgUa//MCj1gV09zTJTaM6KBAHqLN907YVQqf7zC49+DcO4B1so4ZX07Ef10Twr6nuqYEH9GEggFXA4Fmg==",
            "license": "MIT",
            "funding": {
                "url": "https://paulmillr.com/funding/"
            }
        },
        "node_modules/@scure/btc-signer": {
            "version": "1.8.1",
            "resolved": "https://registry.npmjs.org/@scure/btc-signer/-/btc-signer-1.8.1.tgz",
            "integrity": "sha512-8nX9T++dFyKpvqksNHfSi9CgRsGnHAQtCdIQ1y1GmbCGLpV97v4MUyemUUT6uDumKL3oo3m4niyY6A32nmdLuQ==",
            "license": "MIT",
            "dependencies": {
                "@noble/curves": "~1.9.0",
                "@noble/hashes": "~1.8.0",
                "@scure/base": "~1.2.5",
                "micro-packed": "~0.7.3"
            },
            "funding": {
                "url": "https://paulmillr.com/funding/"
            }
        },
        "node_modules/@sindresorhus/is": {
            "version": "7.2.0",
            "resolved": "https://registry.npmjs.org/@sindresorhus/is/-/is-7.2.0.tgz",
            "integrity": "sha512-P1Cz1dWaFfR4IR+U13mqqiGsLFf1KbayybWwdd2vfctdV6hDpUkgCY0nKOLLTMSoRd/jJNjtbqzf13K8DCCXQw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "url": "https://github.com/sindresorhus/is?sponsor=1"
            }
        },
        "node_modules/@speed-highlight/core": {
            "version": "1.2.12",
            "resolved": "https://registry.npmjs.org/@speed-highlight/core/-/core-1.2.12.tgz",
            "integrity": "sha512-uilwrK0Ygyri5dToHYdZSjcvpS2ZwX0w5aSt3GCEN9hrjxWCoeV4Z2DTXuxjwbntaLQIEEAlCeNQss5SoHvAEA==",
            "dev": true,
            "license": "CC0-1.0"
        },
        "node_modules/@tootallnate/quickjs-emscripten": {
            "version": "0.23.0",
            "resolved": "https://registry.npmjs.org/@tootallnate/quickjs-emscripten/-/quickjs-emscripten-0.23.0.tgz",
            "integrity": "sha512-C5Mc6rdnsaJDjO3UpGW/CQTHtCKaYlScZTly4JIu97Jxo/odCiH0ITnDXSJPTOrEKk/ycSZ0AOgTmkDtkOsvIA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/@types/estree": {
            "version": "1.0.8",
            "resolved": "https://registry.npmjs.org/@types/estree/-/estree-1.0.8.tgz",
            "integrity": "sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/@types/sarif": {
            "version": "2.1.7",
            "resolved": "https://registry.npmjs.org/@types/sarif/-/sarif-2.1.7.tgz",
            "integrity": "sha512-kRz0VEkJqWLf1LLVN4pT1cg1Z9wAuvI6L97V3m2f5B76Tg8d413ddvLBPTEHAZJlnn4XSvu0FkZtViCQGVyrXQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/@types/yauzl": {
            "version": "2.10.3",
            "resolved": "https://registry.npmjs.org/@types/yauzl/-/yauzl-2.10.3.tgz",
            "integrity": "sha512-oJoftv0LSuaDZE3Le4DbKX+KS9G36NzOeSap90UIK0yMA/NhKJhqlSGtNDORNRaIbQfzjXDrQa0ytJ6mNRGz/Q==",
            "dev": true,
            "license": "MIT",
            "optional": true,
            "dependencies": {
                "@types/node": "*"
            }
        },
        "node_modules/@ungap/structured-clone": {
            "version": "1.3.0",
            "resolved": "https://registry.npmjs.org/@ungap/structured-clone/-/structured-clone-1.3.0.tgz",
            "integrity": "sha512-WmoN8qaIAo7WTYWbAZuG8PYEhn5fkz7dZrqTBZ7dtt//lL2Gwms1IcnQ5yHqjDfX8Ft5j4YzDM23f87zBfDe9g==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/accepts": {
            "version": "1.3.8",
            "resolved": "https://registry.npmjs.org/accepts/-/accepts-1.3.8.tgz",
            "integrity": "sha512-PYAthTa2m2VKxuvSD3DPC/Gy+U+sOA1LAuT8mkmRuvw+NACSaeXEQ+NHcVF7rONl6qcaxV3Uuemwawk+7+SJLw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "mime-types": "~2.1.34",
                "negotiator": "0.6.3"
            },
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/accepts/node_modules/mime-db": {
            "version": "1.52.0",
            "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
            "integrity": "sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/accepts/node_modules/mime-types": {
            "version": "2.1.35",
            "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz",
            "integrity": "sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "mime-db": "1.52.0"
            },
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/acorn": {
            "version": "8.14.0",
            "resolved": "https://registry.npmjs.org/acorn/-/acorn-8.14.0.tgz",
            "integrity": "sha512-cl669nCJTZBsL97OF4kUQm5g5hC2uihk0NxY3WENAC0TYdILVkAyHymAntgxGkl7K+t0cXIrH5siy5S4XkFycA==",
            "dev": true,
            "license": "MIT",
            "peer": true,
            "bin": {
                "acorn": "bin/acorn"
            },
            "engines": {
                "node": ">=0.4.0"
            }
        },
        "node_modules/acorn-jsx": {
            "version": "5.3.2",
            "resolved": "https://registry.npmjs.org/acorn-jsx/-/acorn-jsx-5.3.2.tgz",
            "integrity": "sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==",
            "dev": true,
            "license": "MIT",
            "peerDependencies": {
                "acorn": "^6.0.0 || ^7.0.0 || ^8.0.0"
            }
        },
        "node_modules/acorn-walk": {
            "version": "8.3.2",
            "resolved": "https://registry.npmjs.org/acorn-walk/-/acorn-walk-8.3.2.tgz",
            "integrity": "sha512-cjkyv4OtNCIeqhHrfS81QWXoCBPExR/J62oyEqepVw8WaQeSqpW2uhuLPh1m9eWhDuOo/jUXVTlifvesOWp/4A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.4.0"
            }
        },
        "node_modules/agent-base": {
            "version": "7.1.4",
            "resolved": "https://registry.npmjs.org/agent-base/-/agent-base-7.1.4.tgz",
            "integrity": "sha512-MnA+YT8fwfJPgBx3m60MNqakm30XOkyIoH1y6huTQvC0PwZG7ki8NacLBcrPbNoo8vEZy7Jpuk7+jMO+CUovTQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/ajv": {
            "version": "6.12.6",
            "resolved": "https://registry.npmjs.org/ajv/-/ajv-6.12.6.tgz",
            "integrity": "sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "fast-deep-equal": "^3.1.1",
                "fast-json-stable-stringify": "^2.0.0",
                "json-schema-traverse": "^0.4.1",
                "uri-js": "^4.2.2"
            },
            "funding": {
                "type": "github",
                "url": "https://github.com/sponsors/epoberezkin"
            }
        },
        "node_modules/ansi-regex": {
            "version": "5.0.1",
            "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
            "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/ansi-styles": {
            "version": "4.3.0",
            "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
            "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "color-convert": "^2.0.1"
            },
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
            }
        },
        "node_modules/any-promise": {
            "version": "1.3.0",
            "resolved": "https://registry.npmjs.org/any-promise/-/any-promise-1.3.0.tgz",
            "integrity": "sha512-7UvmKalWRt1wgjL1RrGxoSJW/0QZFIegpeGvZG9kjp8vrRu55XTHbwnqq2GpXm9uLbcuhxm3IqX9OB4MZR1b2A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/anymatch": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-2.0.0.tgz",
            "integrity": "sha512-5teOsQWABXHHBFP9y3skS5P3d/WfWXpv3FUpy+LorMrNYaT9pI4oLMQX7jzQ2KklNpGpWHzdCXTDT2Y3XGlZBw==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "micromatch": "^3.1.4",
                "normalize-path": "^2.1.1"
            }
        },
        "node_modules/anymatch/node_modules/normalize-path": {
            "version": "2.1.1",
            "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-2.1.1.tgz",
            "integrity": "sha512-3pKJwH184Xo/lnH6oyP1q2pMd7HcypqqmRs91/6/i2CGtWwIKGCkOOMTm/zXbgTEWHw1uNpNi/igc3ePOYHb6w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "remove-trailing-separator": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/apache-crypt": {
            "version": "1.2.6",
            "resolved": "https://registry.npmjs.org/apache-crypt/-/apache-crypt-1.2.6.tgz",
            "integrity": "sha512-072WetlM4blL8PREJVeY+WHiUh1R5VNt2HfceGS8aKqttPHcmqE5pkKuXPz/ULmJOFkc8Hw3kfKl6vy7Qka6DA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "unix-crypt-td-js": "^1.1.4"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/apache-md5": {
            "version": "1.1.8",
            "resolved": "https://registry.npmjs.org/apache-md5/-/apache-md5-1.1.8.tgz",
            "integrity": "sha512-FCAJojipPn0bXjuEpjOOOMN8FZDkxfWWp4JGN9mifU2IhxvKyXZYqpzPHdnTSUpmPDy+tsslB6Z1g+Vg6nVbYA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/arg": {
            "version": "5.0.2",
            "resolved": "https://registry.npmjs.org/arg/-/arg-5.0.2.tgz",
            "integrity": "sha512-PYjyFOLKQ9y57JvQ6QLo8dAgNqswh8M1RMJYdQduT6xbWSgK36P/Z/v+p888pM69jMMfS8Xd8F6I1kQ/I9HUGg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/argparse": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/argparse/-/argparse-2.0.1.tgz",
            "integrity": "sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==",
            "dev": true,
            "license": "Python-2.0"
        },
        "node_modules/arr-diff": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/arr-diff/-/arr-diff-4.0.0.tgz",
            "integrity": "sha512-YVIQ82gZPGBebQV/a8dar4AitzCQs0jjXwMPZllpXMaGjXPYVUawSxQrRsjhjupyVxEvbHgUmIhKVlND+j02kA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/arr-flatten": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/arr-flatten/-/arr-flatten-1.1.0.tgz",
            "integrity": "sha512-L3hKV5R/p5o81R7O02IGnwpDmkp6E982XhtbuwSe3O4qOtMMMtodicASA1Cny2U+aCXcNpml+m4dPsvsJ3jatg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/arr-union": {
            "version": "3.1.0",
            "resolved": "https://registry.npmjs.org/arr-union/-/arr-union-3.1.0.tgz",
            "integrity": "sha512-sKpyeERZ02v1FeCZT8lrfJq5u6goHCtpTAzPwJYe7c8SPFOboNjNg1vz2L4VTn9T4PQxEx13TbXLmYUcS6Ug7Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/array-unique": {
            "version": "0.3.2",
            "resolved": "https://registry.npmjs.org/array-unique/-/array-unique-0.3.2.tgz",
            "integrity": "sha512-SleRWjh9JUud2wH1hPs9rZBZ33H6T9HOiL0uwGnGx9FpE6wKGyfWugmbkEOIs6qWrZhg0LWeLziLrEwQJhs5mQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/assign-symbols": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/assign-symbols/-/assign-symbols-1.0.0.tgz",
            "integrity": "sha512-Q+JC7Whu8HhmTdBph/Tq59IoRtoy6KAm5zzPv00WdujX82lbAL8K7WVjne7vdCsAmbF4AYaDOPyO3k0kl8qIrw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/ast-types": {
            "version": "0.13.4",
            "resolved": "https://registry.npmjs.org/ast-types/-/ast-types-0.13.4.tgz",
            "integrity": "sha512-x1FCFnFifvYDDzTaLII71vG5uvDwgtmDTEVWAxrgeiR8VjMONcCXJx7E+USjDtHlwFmt9MysbqgF9b9Vjr6w+w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "tslib": "^2.0.1"
            },
            "engines": {
                "node": ">=4"
            }
        },
        "node_modules/async": {
            "version": "3.2.6",
            "resolved": "https://registry.npmjs.org/async/-/async-3.2.6.tgz",
            "integrity": "sha512-htCUDlxyyCLMgaM3xXg0C0LW2xqfuQ6p05pCEIsXuyQ+a1koYKTuBMzRNwmybfLgvJDMd0r1LTn4+E0Ti6C2AA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/async-each": {
            "version": "1.0.6",
            "resolved": "https://registry.npmjs.org/async-each/-/async-each-1.0.6.tgz",
            "integrity": "sha512-c646jH1avxr+aVpndVMeAfYw7wAa6idufrlN3LPA4PmKS0QEGp6PIC9nwz0WQkkvBGAMEki3pFdtxaF39J9vvg==",
            "dev": true,
            "funding": [
                {
                    "type": "individual",
                    "url": "https://paulmillr.com/funding/"
                }
            ],
            "license": "MIT"
        },
        "node_modules/atob": {
            "version": "2.1.2",
            "resolved": "https://registry.npmjs.org/atob/-/atob-2.1.2.tgz",
            "integrity": "sha512-Wm6ukoaOGJi/73p/cl2GvLjTI5JM1k/O14isD73YML8StrH/7/lRFgmg8nICZgD3bZZvjwCGxtMOD3wWNAu8cg==",
            "dev": true,
            "license": "(MIT OR Apache-2.0)",
            "bin": {
                "atob": "bin/atob.js"
            },
            "engines": {
                "node": ">= 4.5.0"
            }
        },
        "node_modules/autoprefixer": {
            "version": "10.4.23",
            "resolved": "https://registry.npmjs.org/autoprefixer/-/autoprefixer-10.4.23.tgz",
            "integrity": "sha512-YYTXSFulfwytnjAPlw8QHncHJmlvFKtczb8InXaAx9Q0LbfDnfEYDE55omerIJKihhmU61Ft+cAOSzQVaBUmeA==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/postcss/"
                },
                {
                    "type": "tidelift",
                    "url": "https://tidelift.com/funding/github/npm/autoprefixer"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "browserslist": "^4.28.1",
                "caniuse-lite": "^1.0.30001760",
                "fraction.js": "^5.3.4",
                "picocolors": "^1.1.1",
                "postcss-value-parser": "^4.2.0"
            },
            "bin": {
                "autoprefixer": "bin/autoprefixer"
            },
            "engines": {
                "node": "^10 || ^12 || >=14"
            },
            "peerDependencies": {
                "postcss": "^8.1.0"
            }
        },
        "node_modules/balanced-match": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
            "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/bare-events": {
            "version": "2.8.2",
            "resolved": "https://registry.npmjs.org/bare-events/-/bare-events-2.8.2.tgz",
            "integrity": "sha512-riJjyv1/mHLIPX4RwiK+oW9/4c3TEUeORHKefKAKnZ5kyslbN+HXowtbaVEqt4IMUB7OXlfixcs6gsFeo/jhiQ==",
            "dev": true,
            "license": "Apache-2.0",
            "peerDependencies": {
                "bare-abort-controller": "*"
            },
            "peerDependenciesMeta": {
                "bare-abort-controller": {
                    "optional": true
                }
            }
        },
        "node_modules/bare-fs": {
            "version": "4.5.2",
            "resolved": "https://registry.npmjs.org/bare-fs/-/bare-fs-4.5.2.tgz",
            "integrity": "sha512-veTnRzkb6aPHOvSKIOy60KzURfBdUflr5VReI+NSaPL6xf+XLdONQgZgpYvUuZLVQ8dCqxpBAudaOM1+KpAUxw==",
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "dependencies": {
                "bare-events": "^2.5.4",
                "bare-path": "^3.0.0",
                "bare-stream": "^2.6.4",
                "bare-url": "^2.2.2",
                "fast-fifo": "^1.3.2"
            },
            "engines": {
                "bare": ">=1.16.0"
            },
            "peerDependencies": {
                "bare-buffer": "*"
            },
            "peerDependenciesMeta": {
                "bare-buffer": {
                    "optional": true
                }
            }
        },
        "node_modules/bare-os": {
            "version": "3.6.2",
            "resolved": "https://registry.npmjs.org/bare-os/-/bare-os-3.6.2.tgz",
            "integrity": "sha512-T+V1+1srU2qYNBmJCXZkUY5vQ0B4FSlL3QDROnKQYOqeiQR8UbjNHlPa+TIbM4cuidiN9GaTaOZgSEgsvPbh5A==",
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "engines": {
                "bare": ">=1.14.0"
            }
        },
        "node_modules/bare-path": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/bare-path/-/bare-path-3.0.0.tgz",
            "integrity": "sha512-tyfW2cQcB5NN8Saijrhqn0Zh7AnFNsnczRcuWODH0eYAXBsJ5gVxAUuNr7tsHSC6IZ77cA0SitzT+s47kot8Mw==",
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "dependencies": {
                "bare-os": "^3.0.1"
            }
        },
        "node_modules/bare-stream": {
            "version": "2.7.0",
            "resolved": "https://registry.npmjs.org/bare-stream/-/bare-stream-2.7.0.tgz",
            "integrity": "sha512-oyXQNicV1y8nc2aKffH+BUHFRXmx6VrPzlnaEvMhram0nPBrKcEdcyBg5r08D0i8VxngHFAiVyn1QKXpSG0B8A==",
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "dependencies": {
                "streamx": "^2.21.0"
            },
            "peerDependencies": {
                "bare-buffer": "*",
                "bare-events": "*"
            },
            "peerDependenciesMeta": {
                "bare-buffer": {
                    "optional": true
                },
                "bare-events": {
                    "optional": true
                }
            }
        },
        "node_modules/bare-url": {
            "version": "2.3.2",
            "resolved": "https://registry.npmjs.org/bare-url/-/bare-url-2.3.2.tgz",
            "integrity": "sha512-ZMq4gd9ngV5aTMa5p9+UfY0b3skwhHELaDkhEHetMdX0LRkW9kzaym4oo/Eh+Ghm0CCDuMTsRIGM/ytUc1ZYmw==",
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "dependencies": {
                "bare-path": "^3.0.0"
            }
        },
        "node_modules/base": {
            "version": "0.11.2",
            "resolved": "https://registry.npmjs.org/base/-/base-0.11.2.tgz",
            "integrity": "sha512-5T6P4xPgpp0YDFvSWwEZ4NoE3aM4QBQXDzmVbraCkFj8zHM+mba8SyqB5DbZWyR7mYHo6Y7BdQo3MoA4m0TeQg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "cache-base": "^1.0.1",
                "class-utils": "^0.3.5",
                "component-emitter": "^1.2.1",
                "define-property": "^1.0.0",
                "isobject": "^3.0.1",
                "mixin-deep": "^1.2.0",
                "pascalcase": "^0.1.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/base/node_modules/define-property": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-1.0.0.tgz",
            "integrity": "sha512-cZTYKFWspt9jZsMscWo8sc/5lbPC9Q0N5nBLgb+Yd915iL3udB1uFgS3B8YCx66UVHq018DAVFoee7x+gxggeA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/base64-js": {
            "version": "1.5.1",
            "resolved": "https://registry.npmjs.org/base64-js/-/base64-js-1.5.1.tgz",
            "integrity": "sha512-AKpaYlHn8t4SVbOHCy+b5+KKgvR4vrsD8vbvrbiQJps7fKDTkjkDry6ji0rUJjC0kzbNePLwzxq8iypo41qeWA==",
            "dev": true,
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/feross"
                },
                {
                    "type": "patreon",
                    "url": "https://www.patreon.com/feross"
                },
                {
                    "type": "consulting",
                    "url": "https://feross.org/support"
                }
            ],
            "license": "MIT"
        },
        "node_modules/baseline-browser-mapping": {
            "version": "2.9.11",
            "resolved": "https://registry.npmjs.org/baseline-browser-mapping/-/baseline-browser-mapping-2.9.11.tgz",
            "integrity": "sha512-Sg0xJUNDU1sJNGdfGWhVHX0kkZ+HWcvmVymJbj6NSgZZmW/8S9Y2HQ5euytnIgakgxN6papOAWiwDo1ctFDcoQ==",
            "dev": true,
            "license": "Apache-2.0",
            "bin": {
                "baseline-browser-mapping": "dist/cli.js"
            }
        },
        "node_modules/basic-auth": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/basic-auth/-/basic-auth-2.0.1.tgz",
            "integrity": "sha512-NF+epuEdnUYVlGuhaxbbq+dvJttwLnGY+YixlXlME5KpQ5W3CnXA5cVTneY3SPbPDRkcjMbifrwmFYcClgOZeg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "safe-buffer": "5.1.2"
            },
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/basic-ftp": {
            "version": "5.1.0",
            "resolved": "https://registry.npmjs.org/basic-ftp/-/basic-ftp-5.1.0.tgz",
            "integrity": "sha512-RkaJzeJKDbaDWTIPiJwubyljaEPwpVWkm9Rt5h9Nd6h7tEXTJ3VB4qxdZBioV7JO5yLUaOKwz7vDOzlncUsegw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=10.0.0"
            }
        },
        "node_modules/batch": {
            "version": "0.6.1",
            "resolved": "https://registry.npmjs.org/batch/-/batch-0.6.1.tgz",
            "integrity": "sha512-x+VAiMRL6UPkx+kudNvxTl6hB2XNNCG2r+7wixVfIYwu/2HKRXimwQyaumLjMveWvT2Hkd/cAJw+QBMfJ/EKVw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/bcryptjs": {
            "version": "2.4.3",
            "resolved": "https://registry.npmjs.org/bcryptjs/-/bcryptjs-2.4.3.tgz",
            "integrity": "sha512-V/Hy/X9Vt7f3BbPJEi8BdVFMByHi+jNXrYkW3huaybV/kQ0KJg0Y6PkEMbn+zeT+i+SiKZ/HMqJGIIt4LZDqNQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/binary-extensions": {
            "version": "1.13.1",
            "resolved": "https://registry.npmjs.org/binary-extensions/-/binary-extensions-1.13.1.tgz",
            "integrity": "sha512-Un7MIEDdUC5gNpcGDV97op1Ywk748MpHcFTHoYs6qnj1Z3j7I53VG3nwZhKzoBZmbdRNnb6WRdFlwl7tSDuZGw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/bindings": {
            "version": "1.5.0",
            "resolved": "https://registry.npmjs.org/bindings/-/bindings-1.5.0.tgz",
            "integrity": "sha512-p2q/t/mhvuOj/UeLlV6566GD/guowlr0hHxClI0W9m7MWYkL1F0hLo+0Aexs9HSPCtR1SXQ0TD3MMKrXZajbiQ==",
            "dev": true,
            "license": "MIT",
            "optional": true,
            "dependencies": {
                "file-uri-to-path": "1.0.0"
            }
        },
        "node_modules/blake3-wasm": {
            "version": "2.1.5",
            "resolved": "https://registry.npmjs.org/blake3-wasm/-/blake3-wasm-2.1.5.tgz",
            "integrity": "sha512-F1+K8EbfOZE49dtoPtmxUQrpXaBIl3ICvasLh+nJta0xkz+9kF/7uet9fLnwKqhDrmj6g+6K3Tw9yQPUg2ka5g==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/brace-expansion": {
            "version": "1.1.12",
            "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz",
            "integrity": "sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "balanced-match": "^1.0.0",
                "concat-map": "0.0.1"
            }
        },
        "node_modules/braces": {
            "version": "2.3.2",
            "resolved": "https://registry.npmjs.org/braces/-/braces-2.3.2.tgz",
            "integrity": "sha512-aNdbnj9P8PjdXU4ybaWLK2IF3jc/EoDYbC7AazW6to3TRsfXxscC9UXOB5iDiEQrkyIbWp2SLQda4+QAa7nc3w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "arr-flatten": "^1.1.0",
                "array-unique": "^0.3.2",
                "extend-shallow": "^2.0.1",
                "fill-range": "^4.0.0",
                "isobject": "^3.0.1",
                "repeat-element": "^1.1.2",
                "snapdragon": "^0.8.1",
                "snapdragon-node": "^2.0.1",
                "split-string": "^3.0.2",
                "to-regex": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/browserslist": {
            "version": "4.28.1",
            "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.28.1.tgz",
            "integrity": "sha512-ZC5Bd0LgJXgwGqUknZY/vkUQ04r8NXnJZ3yYi4vDmSiZmC/pdSN0NbNRPxZpbtO4uAfDUAFffO8IZoM3Gj8IkA==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/browserslist"
                },
                {
                    "type": "tidelift",
                    "url": "https://tidelift.com/funding/github/npm/browserslist"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "peer": true,
            "dependencies": {
                "baseline-browser-mapping": "^2.9.0",
                "caniuse-lite": "^1.0.30001759",
                "electron-to-chromium": "^1.5.263",
                "node-releases": "^2.0.27",
                "update-browserslist-db": "^1.2.0"
            },
            "bin": {
                "browserslist": "cli.js"
            },
            "engines": {
                "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
            }
        },
        "node_modules/buffer": {
            "version": "5.7.1",
            "resolved": "https://registry.npmjs.org/buffer/-/buffer-5.7.1.tgz",
            "integrity": "sha512-EHcyIPBQ4BSGlvjB16k5KgAJ27CIsHY/2JBmCRReo48y9rQ3MaUzWX3KVlBa4U7MyX02HdVj0K7C3WaB3ju7FQ==",
            "dev": true,
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/feross"
                },
                {
                    "type": "patreon",
                    "url": "https://www.patreon.com/feross"
                },
                {
                    "type": "consulting",
                    "url": "https://feross.org/support"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "base64-js": "^1.3.1",
                "ieee754": "^1.1.13"
            }
        },
        "node_modules/buffer-crc32": {
            "version": "0.2.13",
            "resolved": "https://registry.npmjs.org/buffer-crc32/-/buffer-crc32-0.2.13.tgz",
            "integrity": "sha512-VO9Ht/+p3SN7SKWqcrgEzjGbRSJYTx+Q1pTQC0wrWqHx0vpJraQ6GtHx8tvcg1rlK1byhU5gccxgOgj7B0TDkQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": "*"
            }
        },
        "node_modules/cache-base": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/cache-base/-/cache-base-1.0.1.tgz",
            "integrity": "sha512-AKcdTnFSWATd5/GCPRxr2ChwIJ85CeyrEyjRHlKxQ56d4XJMGym0uAiKn0xbLOGOl3+yRpOTi484dVCEc5AUzQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "collection-visit": "^1.0.0",
                "component-emitter": "^1.2.1",
                "get-value": "^2.0.6",
                "has-value": "^1.0.0",
                "isobject": "^3.0.1",
                "set-value": "^2.0.0",
                "to-object-path": "^0.3.0",
                "union-value": "^1.0.0",
                "unset-value": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/callsites": {
            "version": "3.1.0",
            "resolved": "https://registry.npmjs.org/callsites/-/callsites-3.1.0.tgz",
            "integrity": "sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/camelcase-css": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/camelcase-css/-/camelcase-css-2.0.1.tgz",
            "integrity": "sha512-QOSvevhslijgYwRx6Rv7zKdMF8lbRmx+uQGx2+vDc+KI/eBnsy9kit5aj23AgGu3pa4t9AgwbnXWqS+iOY+2aA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/caniuse-lite": {
            "version": "1.0.30001762",
            "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001762.tgz",
            "integrity": "sha512-PxZwGNvH7Ak8WX5iXzoK1KPZttBXNPuaOvI2ZYU7NrlM+d9Ov+TUvlLOBNGzVXAntMSMMlJPd+jY6ovrVjSmUw==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/browserslist"
                },
                {
                    "type": "tidelift",
                    "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "CC-BY-4.0"
        },
        "node_modules/chalk": {
            "version": "4.1.2",
            "resolved": "https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz",
            "integrity": "sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ansi-styles": "^4.1.0",
                "supports-color": "^7.1.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/chalk/chalk?sponsor=1"
            }
        },
        "node_modules/chalk/node_modules/supports-color": {
            "version": "7.2.0",
            "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz",
            "integrity": "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "has-flag": "^4.0.0"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/chokidar": {
            "version": "2.1.8",
            "resolved": "https://registry.npmjs.org/chokidar/-/chokidar-2.1.8.tgz",
            "integrity": "sha512-ZmZUazfOzf0Nve7duiCKD23PFSCs4JPoYyccjUFF3aQkQadqBhfzhjkwBH2mNOG9cTBwhamM37EIsIkZw3nRgg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "anymatch": "^2.0.0",
                "async-each": "^1.0.1",
                "braces": "^2.3.2",
                "glob-parent": "^3.1.0",
                "inherits": "^2.0.3",
                "is-binary-path": "^1.0.0",
                "is-glob": "^4.0.0",
                "normalize-path": "^3.0.0",
                "path-is-absolute": "^1.0.0",
                "readdirp": "^2.2.1",
                "upath": "^1.1.1"
            },
            "optionalDependencies": {
                "fsevents": "^1.2.7"
            }
        },
        "node_modules/chokidar/node_modules/fsevents": {
            "version": "1.2.13",
            "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-1.2.13.tgz",
            "integrity": "sha512-oWb1Z6mkHIskLzEJ/XWX0srkpkTQ7vaopMQkyaEIoq0fmtFVxOthb8cCxeT+p3ynTdkk/RZwbgG4brR5BeWECw==",
            "deprecated": "Upgrade to fsevents v2 to mitigate potential security issues",
            "dev": true,
            "hasInstallScript": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "dependencies": {
                "bindings": "^1.5.0",
                "nan": "^2.12.1"
            },
            "engines": {
                "node": ">= 4.0"
            }
        },
        "node_modules/chokidar/node_modules/glob-parent": {
            "version": "3.1.0",
            "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-3.1.0.tgz",
            "integrity": "sha512-E8Ak/2+dZY6fnzlR7+ueWvhsH1SjHr4jjss4YS/h4py44jY9MhK/VFdaZJAWDz6BbL21KeteKxFSFpq8OS5gVA==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "is-glob": "^3.1.0",
                "path-dirname": "^1.0.0"
            }
        },
        "node_modules/chokidar/node_modules/glob-parent/node_modules/is-glob": {
            "version": "3.1.0",
            "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-3.1.0.tgz",
            "integrity": "sha512-UFpDDrPgM6qpnFNI+rh/p3bUaq9hKLZN8bMUWzxmcnZVS3omf4IPK+BrewlnWjO1WmUsMYuSjKh4UJuV4+Lqmw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-extglob": "^2.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/chromium-bidi": {
            "version": "0.6.3",
            "resolved": "https://registry.npmjs.org/chromium-bidi/-/chromium-bidi-0.6.3.tgz",
            "integrity": "sha512-qXlsCmpCZJAnoTYI83Iu6EdYQpMYdVkCfq08KDh2pmlVqK5t5IA9mGs4/LwCwp4fqisSOMXZxP3HIh8w8aRn0A==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "mitt": "3.0.1",
                "urlpattern-polyfill": "10.0.0",
                "zod": "3.23.8"
            },
            "peerDependencies": {
                "devtools-protocol": "*"
            }
        },
        "node_modules/chromium-bidi/node_modules/zod": {
            "version": "3.23.8",
            "resolved": "https://registry.npmjs.org/zod/-/zod-3.23.8.tgz",
            "integrity": "sha512-XBx9AXhXktjUqnepgTiE5flcKIYWi/rme0Eaj+5Y0lftuGBq+jyRu/md4WnuxqgP1ubdpNCsYEYPxrzVHD8d6g==",
            "dev": true,
            "license": "MIT",
            "funding": {
                "url": "https://github.com/sponsors/colinhacks"
            }
        },
        "node_modules/class-utils": {
            "version": "0.3.6",
            "resolved": "https://registry.npmjs.org/class-utils/-/class-utils-0.3.6.tgz",
            "integrity": "sha512-qOhPa/Fj7s6TY8H8esGu5QNpMMQxz79h+urzrNYN6mn+9BnxlDGf5QZ+XeCDsxSjPqsSR56XOZOJmpeurnLMeg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "arr-union": "^3.1.0",
                "define-property": "^0.2.5",
                "isobject": "^3.0.0",
                "static-extend": "^0.1.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/class-utils/node_modules/define-property": {
            "version": "0.2.5",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz",
            "integrity": "sha512-Rr7ADjQZenceVOAKop6ALkkRAmH1A4Gx9hV/7ZujPUN2rkATqFO0JZLZInbAjpZYoJ1gUx8MRMQVkYemcbMSTA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/class-utils/node_modules/is-descriptor": {
            "version": "0.1.7",
            "resolved": "https://registry.npmjs.org/is-descriptor/-/is-descriptor-0.1.7.tgz",
            "integrity": "sha512-C3grZTvObeN1xud4cRWl366OMXZTj0+HGyk4hvfpx4ZHt1Pb60ANSXqCK7pdOTeUQpRzECBSTphqvD7U+l22Eg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-accessor-descriptor": "^1.0.1",
                "is-data-descriptor": "^1.0.1"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/cliui": {
            "version": "8.0.1",
            "resolved": "https://registry.npmjs.org/cliui/-/cliui-8.0.1.tgz",
            "integrity": "sha512-BSeNnyus75C4//NQ9gQt1/csTXyo/8Sb+afLAkzAptFuMsod9HFokGNudZpi/oQV73hnVK+sR+5PVRMd+Dr7YQ==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "string-width": "^4.2.0",
                "strip-ansi": "^6.0.1",
                "wrap-ansi": "^7.0.0"
            },
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/collection-visit": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/collection-visit/-/collection-visit-1.0.0.tgz",
            "integrity": "sha512-lNkKvzEeMBBjUGHZ+q6z9pSJla0KWAQPvtzhEV9+iGyQYG+pBpl7xKDhxoNSOZH2hhv0v5k0y2yAM4o4SjoSkw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "map-visit": "^1.0.0",
                "object-visit": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/color": {
            "version": "4.2.3",
            "resolved": "https://registry.npmjs.org/color/-/color-4.2.3.tgz",
            "integrity": "sha512-1rXeuUUiGGrykh+CeBdu5Ie7OJwinCgQY0bc7GCRxy5xVHy+moaqkpL/jqQq0MtQOeYcrqEz4abc5f0KtU7W4A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "color-convert": "^2.0.1",
                "color-string": "^1.9.0"
            },
            "engines": {
                "node": ">=12.5.0"
            }
        },
        "node_modules/color-convert": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
            "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "color-name": "~1.1.4"
            },
            "engines": {
                "node": ">=7.0.0"
            }
        },
        "node_modules/color-name": {
            "version": "1.1.4",
            "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
            "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/color-string": {
            "version": "1.9.1",
            "resolved": "https://registry.npmjs.org/color-string/-/color-string-1.9.1.tgz",
            "integrity": "sha512-shrVawQFojnZv6xM40anx4CkoDP+fZsw/ZerEMsW/pyzsRbElpsL/DBVW7q3ExxwusdNXI3lXpuhEZkzs8p5Eg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "color-name": "^1.0.0",
                "simple-swizzle": "^0.2.2"
            }
        },
        "node_modules/colors": {
            "version": "1.4.0",
            "resolved": "https://registry.npmjs.org/colors/-/colors-1.4.0.tgz",
            "integrity": "sha512-a+UqTh4kgZg/SlGvfbzDHpgRu7AAQOmmqRHJnxhRZICKFUT91brVhNNt58CMWU9PsBbv3PDCZUHbVxuDiH2mtA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.1.90"
            }
        },
        "node_modules/commander": {
            "version": "11.1.0",
            "resolved": "https://registry.npmjs.org/commander/-/commander-11.1.0.tgz",
            "integrity": "sha512-yPVavfyCcRhmorC7rWlkHn15b4wDVgVmBA7kV4QVBsF7kv/9TKJAbAXVTxvTnwP8HHKjRCJDClKbciiYS7p0DQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/component-emitter": {
            "version": "1.3.1",
            "resolved": "https://registry.npmjs.org/component-emitter/-/component-emitter-1.3.1.tgz",
            "integrity": "sha512-T0+barUSQRTUQASh8bx02dl+DhF54GtIDY13Y3m9oWTklKbb3Wv974meRpeZ3lp1JpLVECWWNHC4vaG2XHXouQ==",
            "dev": true,
            "license": "MIT",
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/concat-map": {
            "version": "0.0.1",
            "resolved": "https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz",
            "integrity": "sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/concurrently": {
            "version": "8.2.2",
            "resolved": "https://registry.npmjs.org/concurrently/-/concurrently-8.2.2.tgz",
            "integrity": "sha512-1dP4gpXFhei8IOtlXRE/T/4H88ElHgTiUzh71YUmtjTEHMSRS2Z/fgOxHSxxusGHogsRfxNq1vyAwxSC+EVyDg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "chalk": "^4.1.2",
                "date-fns": "^2.30.0",
                "lodash": "^4.17.21",
                "rxjs": "^7.8.1",
                "shell-quote": "^1.8.1",
                "spawn-command": "0.0.2",
                "supports-color": "^8.1.1",
                "tree-kill": "^1.2.2",
                "yargs": "^17.7.2"
            },
            "bin": {
                "conc": "dist/bin/concurrently.js",
                "concurrently": "dist/bin/concurrently.js"
            },
            "engines": {
                "node": "^14.13.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://github.com/open-cli-tools/concurrently?sponsor=1"
            }
        },
        "node_modules/connect": {
            "version": "3.7.0",
            "resolved": "https://registry.npmjs.org/connect/-/connect-3.7.0.tgz",
            "integrity": "sha512-ZqRXc+tZukToSNmh5C2iWMSoV3X1YUcPbqEM4DkEG5tNQXrQUZCNVGGv3IuicnkMtPfGf3Xtp8WCXs295iQ1pQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "debug": "2.6.9",
                "finalhandler": "1.1.2",
                "parseurl": "~1.3.3",
                "utils-merge": "1.0.1"
            },
            "engines": {
                "node": ">= 0.10.0"
            }
        },
        "node_modules/connect/node_modules/debug": {
            "version": "2.6.9",
            "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
            "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "2.0.0"
            }
        },
        "node_modules/connect/node_modules/ms": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
            "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/cookie": {
            "version": "1.1.1",
            "resolved": "https://registry.npmjs.org/cookie/-/cookie-1.1.1.tgz",
            "integrity": "sha512-ei8Aos7ja0weRpFzJnEA9UHJ/7XQmqglbRwnf2ATjcB9Wq874VKH9kfjjirM6UhU2/E5fFYadylyhFldcqSidQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/express"
            }
        },
        "node_modules/copy-descriptor": {
            "version": "0.1.1",
            "resolved": "https://registry.npmjs.org/copy-descriptor/-/copy-descriptor-0.1.1.tgz",
            "integrity": "sha512-XgZ0pFcakEUlbwQEVNg3+QAis1FyTL3Qel9FYy8pSkQqoG3PNoT0bOCQtOXcOkur21r2Eq2kI+IE+gsmAEVlYw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/core-util-is": {
            "version": "1.0.3",
            "resolved": "https://registry.npmjs.org/core-util-is/-/core-util-is-1.0.3.tgz",
            "integrity": "sha512-ZQBvi1DcpJ4GDqanjucZ2Hj3wEO5pZDS89BWbkcrvdxksJorwUDDZamX9ldFkp9aw2lmBDLgkObEA4DWNJ9FYQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/cors": {
            "version": "2.8.5",
            "resolved": "https://registry.npmjs.org/cors/-/cors-2.8.5.tgz",
            "integrity": "sha512-KIHbLJqu73RGr/hnbrO9uBeixNGuvSQjul/jdFvS/KFSIH1hWVd1ng7zOHx+YrEfInLG7q4n6GHQ9cDtxv/P6g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "object-assign": "^4",
                "vary": "^1"
            },
            "engines": {
                "node": ">= 0.10"
            }
        },
        "node_modules/cosmiconfig": {
            "version": "9.0.0",
            "resolved": "https://registry.npmjs.org/cosmiconfig/-/cosmiconfig-9.0.0.tgz",
            "integrity": "sha512-itvL5h8RETACmOTFc4UfIyB2RfEHi71Ax6E/PivVxq9NseKbOWpeyHEOIbmAw1rs8Ak0VursQNww7lf7YtUwzg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "env-paths": "^2.2.1",
                "import-fresh": "^3.3.0",
                "js-yaml": "^4.1.0",
                "parse-json": "^5.2.0"
            },
            "engines": {
                "node": ">=14"
            },
            "funding": {
                "url": "https://github.com/sponsors/d-fischer"
            },
            "peerDependencies": {
                "typescript": ">=4.9.5"
            },
            "peerDependenciesMeta": {
                "typescript": {
                    "optional": true
                }
            }
        },
        "node_modules/cross-spawn": {
            "version": "7.0.6",
            "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
            "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "path-key": "^3.1.0",
                "shebang-command": "^2.0.0",
                "which": "^2.0.1"
            },
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/cssesc": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/cssesc/-/cssesc-3.0.0.tgz",
            "integrity": "sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==",
            "dev": true,
            "license": "MIT",
            "bin": {
                "cssesc": "bin/cssesc"
            },
            "engines": {
                "node": ">=4"
            }
        },
        "node_modules/data-uri-to-buffer": {
            "version": "6.0.2",
            "resolved": "https://registry.npmjs.org/data-uri-to-buffer/-/data-uri-to-buffer-6.0.2.tgz",
            "integrity": "sha512-7hvf7/GW8e86rW0ptuwS3OcBGDjIi6SZva7hCyWC0yYry2cOPmLIjXAUHI6DK2HsnwJd9ifmt57i8eV2n4YNpw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/date-fns": {
            "version": "2.30.0",
            "resolved": "https://registry.npmjs.org/date-fns/-/date-fns-2.30.0.tgz",
            "integrity": "sha512-fnULvOpxnC5/Vg3NCiWelDsLiUc9bRwAPs/+LfTLNvetFCtCTN+yQz15C/fs4AwX1R9K5GLtLfn8QW+dWisaAw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@babel/runtime": "^7.21.0"
            },
            "engines": {
                "node": ">=0.11"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/date-fns"
            }
        },
        "node_modules/debug": {
            "version": "4.4.3",
            "resolved": "https://registry.npmjs.org/debug/-/debug-4.4.3.tgz",
            "integrity": "sha512-RGwwWnwQvkVfavKVt22FGLw+xYSdzARwm0ru6DhTVA3umU5hZc28V3kO4stgYryrTlLpuvgI9GiijltAjNbcqA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "^2.1.3"
            },
            "engines": {
                "node": ">=6.0"
            },
            "peerDependenciesMeta": {
                "supports-color": {
                    "optional": true
                }
            }
        },
        "node_modules/decode-uri-component": {
            "version": "0.2.2",
            "resolved": "https://registry.npmjs.org/decode-uri-component/-/decode-uri-component-0.2.2.tgz",
            "integrity": "sha512-FqUYQ+8o158GyGTrMFJms9qh3CqTKvAqgqsTnkLI8sKu0028orqBhxNMFkFen0zGyg6epACD32pjVk58ngIErQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10"
            }
        },
        "node_modules/deep-is": {
            "version": "0.1.4",
            "resolved": "https://registry.npmjs.org/deep-is/-/deep-is-0.1.4.tgz",
            "integrity": "sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/define-property": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-2.0.2.tgz",
            "integrity": "sha512-jwK2UV4cnPpbcG7+VRARKTZPUWowwXA8bzH5NP6ud0oeAxyYPuGZUAC7hMugpCdz4BeSZl2Dl9k66CHJ/46ZYQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^1.0.2",
                "isobject": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/degenerator": {
            "version": "5.0.1",
            "resolved": "https://registry.npmjs.org/degenerator/-/degenerator-5.0.1.tgz",
            "integrity": "sha512-TllpMR/t0M5sqCXfj85i4XaAzxmS5tVA16dqvdkMwGmzI+dXLXnw3J+3Vdv7VKw+ThlTMboK6i9rnZ6Nntj5CQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ast-types": "^0.13.4",
                "escodegen": "^2.1.0",
                "esprima": "^4.0.1"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/depd": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/depd/-/depd-2.0.0.tgz",
            "integrity": "sha512-g7nH6P6dyDioJogAAGprGpCtVImJhpPk/roCzdb3fIh61/s/nPsfR6onyMwkCAR/OlC3yBC0lESvUoQEAssIrw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/detect-libc": {
            "version": "2.1.2",
            "resolved": "https://registry.npmjs.org/detect-libc/-/detect-libc-2.1.2.tgz",
            "integrity": "sha512-Btj2BOOO83o3WyH59e8MgXsxEQVcarkUOpEYrubB0urwnN10yQ364rsiByU11nZlqWYZm05i/of7io4mzihBtQ==",
            "dev": true,
            "license": "Apache-2.0",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/devtools-protocol": {
            "version": "0.0.1312386",
            "resolved": "https://registry.npmjs.org/devtools-protocol/-/devtools-protocol-0.0.1312386.tgz",
            "integrity": "sha512-DPnhUXvmvKT2dFA/j7B+riVLUt9Q6RKJlcppojL5CoRywJJKLDYnRlw0gTFKfgDPHP5E04UoB71SxoJlVZy8FA==",
            "dev": true,
            "license": "BSD-3-Clause",
            "peer": true
        },
        "node_modules/didyoumean": {
            "version": "1.2.2",
            "resolved": "https://registry.npmjs.org/didyoumean/-/didyoumean-1.2.2.tgz",
            "integrity": "sha512-gxtyfqMg7GKyhQmb056K7M3xszy/myH8w+B4RT+QXBQsvAOdc3XymqDDPHx1BgPgsdAA5SIifona89YtRATDzw==",
            "dev": true,
            "license": "Apache-2.0"
        },
        "node_modules/dlv": {
            "version": "1.1.3",
            "resolved": "https://registry.npmjs.org/dlv/-/dlv-1.1.3.tgz",
            "integrity": "sha512-+HlytyjlPKnIG8XuRG8WvmBP8xs8P71y+SKKS6ZXWoEgLuePxtDoUEiH7WkdePWrQ5JBpE6aoVqfZfJUQkjXwA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/doctrine": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/doctrine/-/doctrine-3.0.0.tgz",
            "integrity": "sha512-yS+Q5i3hBf7GBkd4KG8a7eBNNWNGLTaEwwYWUijIYM7zrlYDM0BFXHjjPWlWZ1Rg7UaddZeIDmi9jF3HmqiQ2w==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "esutils": "^2.0.2"
            },
            "engines": {
                "node": ">=6.0.0"
            }
        },
        "node_modules/duplexer": {
            "version": "0.1.2",
            "resolved": "https://registry.npmjs.org/duplexer/-/duplexer-0.1.2.tgz",
            "integrity": "sha512-jtD6YG370ZCIi/9GTaJKQxWTZD045+4R4hTk/x1UyoqadyJ9x9CgSi1RlVDQF8U2sxLLSnFkCaMihqljHIWgMg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/ee-first": {
            "version": "1.1.1",
            "resolved": "https://registry.npmjs.org/ee-first/-/ee-first-1.1.1.tgz",
            "integrity": "sha512-WMwm9LhRUo+WUaRN+vRuETqG89IgZphVSNkdFgeb6sS/E4OrDIN7t48CAewSHXc6C8lefD8KKfr5vY61brQlow==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/electron-to-chromium": {
            "version": "1.5.267",
            "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.267.tgz",
            "integrity": "sha512-0Drusm6MVRXSOJpGbaSVgcQsuB4hEkMpHXaVstcPmhu5LIedxs1xNK/nIxmQIU/RPC0+1/o0AVZfBTkTNJOdUw==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/emoji-regex": {
            "version": "8.0.0",
            "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
            "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/encodeurl": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/encodeurl/-/encodeurl-1.0.2.tgz",
            "integrity": "sha512-TPJXq8JqFaVYm2CWmPvnP2Iyo4ZSM7/QKcSmuMLDObfpH5fi7RUGmd/rTDf+rut/saiDiQEeVTNgAmJEdAOx0w==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/end-of-stream": {
            "version": "1.4.5",
            "resolved": "https://registry.npmjs.org/end-of-stream/-/end-of-stream-1.4.5.tgz",
            "integrity": "sha512-ooEGc6HP26xXq/N+GCGOT0JKCLDGrq2bQUZrQ7gyrJiZANJ/8YDTxTpQBXGMn+WbIQXNVpyWymm7KYVICQnyOg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "once": "^1.4.0"
            }
        },
        "node_modules/env-paths": {
            "version": "2.2.1",
            "resolved": "https://registry.npmjs.org/env-paths/-/env-paths-2.2.1.tgz",
            "integrity": "sha512-+h1lkLKhZMTYjog1VEpJNG7NZJWcuc2DDk/qsqSTRRCOXiLjeQ1d1/udrUGhqMxUgAlwKNZ0cf2uqan5GLuS2A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/error-ex": {
            "version": "1.3.4",
            "resolved": "https://registry.npmjs.org/error-ex/-/error-ex-1.3.4.tgz",
            "integrity": "sha512-sqQamAnR14VgCr1A618A3sGrygcpK+HEbenA/HiEAkkUwcZIIB/tgWqHFxWgOyDh4nB4JCRimh79dR5Ywc9MDQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-arrayish": "^0.2.1"
            }
        },
        "node_modules/error-ex/node_modules/is-arrayish": {
            "version": "0.2.1",
            "resolved": "https://registry.npmjs.org/is-arrayish/-/is-arrayish-0.2.1.tgz",
            "integrity": "sha512-zz06S8t0ozoDXMG+ube26zeCTNXcKIPJZJi8hBrF4idCLms4CG9QtK7qBl1boi5ODzFpjswb5JPmHCbMpjaYzg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/error-stack-parser-es": {
            "version": "1.0.5",
            "resolved": "https://registry.npmjs.org/error-stack-parser-es/-/error-stack-parser-es-1.0.5.tgz",
            "integrity": "sha512-5qucVt2XcuGMcEGgWI7i+yZpmpByQ8J1lHhcL7PwqCwu9FPP3VUXzT4ltHe5i2z9dePwEHcDVOAfSnHsOlCXRA==",
            "dev": true,
            "license": "MIT",
            "funding": {
                "url": "https://github.com/sponsors/antfu"
            }
        },
        "node_modules/esbuild": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.27.0.tgz",
            "integrity": "sha512-jd0f4NHbD6cALCyGElNpGAOtWxSq46l9X/sWB0Nzd5er4Kz2YTm+Vl0qKFT9KUJvD8+fiO8AvoHhFvEatfVixA==",
            "dev": true,
            "hasInstallScript": true,
            "license": "MIT",
            "bin": {
                "esbuild": "bin/esbuild"
            },
            "engines": {
                "node": ">=18"
            },
            "optionalDependencies": {
                "@esbuild/aix-ppc64": "0.27.0",
                "@esbuild/android-arm": "0.27.0",
                "@esbuild/android-arm64": "0.27.0",
                "@esbuild/android-x64": "0.27.0",
                "@esbuild/darwin-arm64": "0.27.0",
                "@esbuild/darwin-x64": "0.27.0",
                "@esbuild/freebsd-arm64": "0.27.0",
                "@esbuild/freebsd-x64": "0.27.0",
                "@esbuild/linux-arm": "0.27.0",
                "@esbuild/linux-arm64": "0.27.0",
                "@esbuild/linux-ia32": "0.27.0",
                "@esbuild/linux-loong64": "0.27.0",
                "@esbuild/linux-mips64el": "0.27.0",
                "@esbuild/linux-ppc64": "0.27.0",
                "@esbuild/linux-riscv64": "0.27.0",
                "@esbuild/linux-s390x": "0.27.0",
                "@esbuild/linux-x64": "0.27.0",
                "@esbuild/netbsd-arm64": "0.27.0",
                "@esbuild/netbsd-x64": "0.27.0",
                "@esbuild/openbsd-arm64": "0.27.0",
                "@esbuild/openbsd-x64": "0.27.0",
                "@esbuild/openharmony-arm64": "0.27.0",
                "@esbuild/sunos-x64": "0.27.0",
                "@esbuild/win32-arm64": "0.27.0",
                "@esbuild/win32-ia32": "0.27.0",
                "@esbuild/win32-x64": "0.27.0"
            }
        },
        "node_modules/escalade": {
            "version": "3.2.0",
            "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
            "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/escape-html": {
            "version": "1.0.3",
            "resolved": "https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz",
            "integrity": "sha512-NiSupZ4OeuGwr68lGIeym/ksIZMJodUGOSCZ/FSnTxcrekbvqrgdUxlJOMpijaKZVjAJrWrGs/6Jy8OMuyj9ow==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/escape-string-regexp": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-4.0.0.tgz",
            "integrity": "sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/escodegen": {
            "version": "2.1.0",
            "resolved": "https://registry.npmjs.org/escodegen/-/escodegen-2.1.0.tgz",
            "integrity": "sha512-2NlIDTwUWJN0mRPQOdtQBzbUHvdGY2P1VXSyU83Q3xKxM7WHX2Ql8dKq782Q9TgQUNOLEzEYu9bzLNj1q88I5w==",
            "dev": true,
            "license": "BSD-2-Clause",
            "dependencies": {
                "esprima": "^4.0.1",
                "estraverse": "^5.2.0",
                "esutils": "^2.0.2"
            },
            "bin": {
                "escodegen": "bin/escodegen.js",
                "esgenerate": "bin/esgenerate.js"
            },
            "engines": {
                "node": ">=6.0"
            },
            "optionalDependencies": {
                "source-map": "~0.6.1"
            }
        },
        "node_modules/eslint": {
            "version": "8.57.1",
            "resolved": "https://registry.npmjs.org/eslint/-/eslint-8.57.1.tgz",
            "integrity": "sha512-ypowyDxpVSYpkXr9WPv2PAZCtNip1Mv5KTW0SCurXv/9iOpcrH9PaqUElksqEB6pChqHGDRCFTyrZlGhnLNGiA==",
            "deprecated": "This version is no longer supported. Please see https://eslint.org/version-support for other options.",
            "dev": true,
            "license": "MIT",
            "peer": true,
            "dependencies": {
                "@eslint-community/eslint-utils": "^4.2.0",
                "@eslint-community/regexpp": "^4.6.1",
                "@eslint/eslintrc": "^2.1.4",
                "@eslint/js": "8.57.1",
                "@humanwhocodes/config-array": "^0.13.0",
                "@humanwhocodes/module-importer": "^1.0.1",
                "@nodelib/fs.walk": "^1.2.8",
                "@ungap/structured-clone": "^1.2.0",
                "ajv": "^6.12.4",
                "chalk": "^4.0.0",
                "cross-spawn": "^7.0.2",
                "debug": "^4.3.2",
                "doctrine": "^3.0.0",
                "escape-string-regexp": "^4.0.0",
                "eslint-scope": "^7.2.2",
                "eslint-visitor-keys": "^3.4.3",
                "espree": "^9.6.1",
                "esquery": "^1.4.2",
                "esutils": "^2.0.2",
                "fast-deep-equal": "^3.1.3",
                "file-entry-cache": "^6.0.1",
                "find-up": "^5.0.0",
                "glob-parent": "^6.0.2",
                "globals": "^13.19.0",
                "graphemer": "^1.4.0",
                "ignore": "^5.2.0",
                "imurmurhash": "^0.1.4",
                "is-glob": "^4.0.0",
                "is-path-inside": "^3.0.3",
                "js-yaml": "^4.1.0",
                "json-stable-stringify-without-jsonify": "^1.0.1",
                "levn": "^0.4.1",
                "lodash.merge": "^4.6.2",
                "minimatch": "^3.1.2",
                "natural-compare": "^1.4.0",
                "optionator": "^0.9.3",
                "strip-ansi": "^6.0.1",
                "text-table": "^0.2.0"
            },
            "bin": {
                "eslint": "bin/eslint.js"
            },
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/eslint"
            }
        },
        "node_modules/eslint-scope": {
            "version": "7.2.2",
            "resolved": "https://registry.npmjs.org/eslint-scope/-/eslint-scope-7.2.2.tgz",
            "integrity": "sha512-dOt21O7lTMhDM+X9mB4GX+DZrZtCUJPL/wlcTqxyrx5IvO0IYtILdtrQGQp+8n5S0gwSVmOf9NQrjMOgfQZlIg==",
            "dev": true,
            "license": "BSD-2-Clause",
            "dependencies": {
                "esrecurse": "^4.3.0",
                "estraverse": "^5.2.0"
            },
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/eslint"
            }
        },
        "node_modules/eslint-visitor-keys": {
            "version": "3.4.3",
            "resolved": "https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-3.4.3.tgz",
            "integrity": "sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==",
            "dev": true,
            "license": "Apache-2.0",
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/eslint"
            }
        },
        "node_modules/espree": {
            "version": "9.6.1",
            "resolved": "https://registry.npmjs.org/espree/-/espree-9.6.1.tgz",
            "integrity": "sha512-oruZaFkjorTpF32kDSI5/75ViwGeZginGGy2NoOSg3Q9bnwlnmDm4HLnkl0RE3n+njDXR037aY1+x58Z/zFdwQ==",
            "dev": true,
            "license": "BSD-2-Clause",
            "dependencies": {
                "acorn": "^8.9.0",
                "acorn-jsx": "^5.3.2",
                "eslint-visitor-keys": "^3.4.1"
            },
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/eslint"
            }
        },
        "node_modules/esprima": {
            "version": "4.0.1",
            "resolved": "https://registry.npmjs.org/esprima/-/esprima-4.0.1.tgz",
            "integrity": "sha512-eGuFFw7Upda+g4p+QHvnW0RyTX/SVeJBDM/gCtMARO0cLuT2HcEKnTPvhjV6aGeqrCB/sbNop0Kszm0jsaWU4A==",
            "dev": true,
            "license": "BSD-2-Clause",
            "bin": {
                "esparse": "bin/esparse.js",
                "esvalidate": "bin/esvalidate.js"
            },
            "engines": {
                "node": ">=4"
            }
        },
        "node_modules/esquery": {
            "version": "1.6.0",
            "resolved": "https://registry.npmjs.org/esquery/-/esquery-1.6.0.tgz",
            "integrity": "sha512-ca9pw9fomFcKPvFLXhBKUK90ZvGibiGOvRJNbjljY7s7uq/5YO4BOzcYtJqExdx99rF6aAcnRxHmcUHcz6sQsg==",
            "dev": true,
            "license": "BSD-3-Clause",
            "dependencies": {
                "estraverse": "^5.1.0"
            },
            "engines": {
                "node": ">=0.10"
            }
        },
        "node_modules/esrecurse": {
            "version": "4.3.0",
            "resolved": "https://registry.npmjs.org/esrecurse/-/esrecurse-4.3.0.tgz",
            "integrity": "sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag==",
            "dev": true,
            "license": "BSD-2-Clause",
            "dependencies": {
                "estraverse": "^5.2.0"
            },
            "engines": {
                "node": ">=4.0"
            }
        },
        "node_modules/estraverse": {
            "version": "5.3.0",
            "resolved": "https://registry.npmjs.org/estraverse/-/estraverse-5.3.0.tgz",
            "integrity": "sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==",
            "dev": true,
            "license": "BSD-2-Clause",
            "engines": {
                "node": ">=4.0"
            }
        },
        "node_modules/esutils": {
            "version": "2.0.3",
            "resolved": "https://registry.npmjs.org/esutils/-/esutils-2.0.3.tgz",
            "integrity": "sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==",
            "dev": true,
            "license": "BSD-2-Clause",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/etag": {
            "version": "1.8.1",
            "resolved": "https://registry.npmjs.org/etag/-/etag-1.8.1.tgz",
            "integrity": "sha512-aIL5Fx7mawVa300al2BnEE4iNvo1qETxLrPI/o05L7z6go7fCw1J6EQmbK4FmJ2AS7kgVF/KEZWufBfdClMcPg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/event-stream": {
            "version": "3.3.4",
            "resolved": "https://registry.npmjs.org/event-stream/-/event-stream-3.3.4.tgz",
            "integrity": "sha512-QHpkERcGsR0T7Qm3HNJSyXKEEj8AHNxkY3PK8TS2KJvQ7NiSHe3DDpwVKKtoYprL/AreyzFBeIkBIWChAqn60g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "duplexer": "~0.1.1",
                "from": "~0",
                "map-stream": "~0.1.0",
                "pause-stream": "0.0.11",
                "split": "0.3",
                "stream-combiner": "~0.0.4",
                "through": "~2.3.1"
            }
        },
        "node_modules/events-universal": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/events-universal/-/events-universal-1.0.1.tgz",
            "integrity": "sha512-LUd5euvbMLpwOF8m6ivPCbhQeSiYVNb8Vs0fQ8QjXo0JTkEHpz8pxdQf0gStltaPpw0Cca8b39KxvK9cfKRiAw==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "bare-events": "^2.7.0"
            }
        },
        "node_modules/exit-hook": {
            "version": "2.2.1",
            "resolved": "https://registry.npmjs.org/exit-hook/-/exit-hook-2.2.1.tgz",
            "integrity": "sha512-eNTPlAD67BmP31LDINZ3U7HSF8l57TxOY2PmBJ1shpCvpnxBF93mWCE8YHBnXs8qiUZJc9WDcWIeC3a2HIAMfw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/expand-brackets": {
            "version": "2.1.4",
            "resolved": "https://registry.npmjs.org/expand-brackets/-/expand-brackets-2.1.4.tgz",
            "integrity": "sha512-w/ozOKR9Obk3qoWeY/WDi6MFta9AoMR+zud60mdnbniMcBxRuFJyDt2LdX/14A1UABeqk+Uk+LDfUpvoGKppZA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "debug": "^2.3.3",
                "define-property": "^0.2.5",
                "extend-shallow": "^2.0.1",
                "posix-character-classes": "^0.1.0",
                "regex-not": "^1.0.0",
                "snapdragon": "^0.8.1",
                "to-regex": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/expand-brackets/node_modules/debug": {
            "version": "2.6.9",
            "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
            "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "2.0.0"
            }
        },
        "node_modules/expand-brackets/node_modules/define-property": {
            "version": "0.2.5",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz",
            "integrity": "sha512-Rr7ADjQZenceVOAKop6ALkkRAmH1A4Gx9hV/7ZujPUN2rkATqFO0JZLZInbAjpZYoJ1gUx8MRMQVkYemcbMSTA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/expand-brackets/node_modules/is-descriptor": {
            "version": "0.1.7",
            "resolved": "https://registry.npmjs.org/is-descriptor/-/is-descriptor-0.1.7.tgz",
            "integrity": "sha512-C3grZTvObeN1xud4cRWl366OMXZTj0+HGyk4hvfpx4ZHt1Pb60ANSXqCK7pdOTeUQpRzECBSTphqvD7U+l22Eg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-accessor-descriptor": "^1.0.1",
                "is-data-descriptor": "^1.0.1"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/expand-brackets/node_modules/ms": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
            "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/extend-shallow": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz",
            "integrity": "sha512-zCnTtlxNoAiDc3gqY2aYAWFx7XWWiasuF2K8Me5WbN8otHKTUKBwjPtNpRs/rbUZm7KxWAaNj7P1a/p52GbVug==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-extendable": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/extglob": {
            "version": "2.0.4",
            "resolved": "https://registry.npmjs.org/extglob/-/extglob-2.0.4.tgz",
            "integrity": "sha512-Nmb6QXkELsuBr24CJSkilo6UHHgbekK5UiZgfE6UHD3Eb27YC6oD+bhcT+tJ6cl8dmsgdQxnWlcry8ksBIBLpw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "array-unique": "^0.3.2",
                "define-property": "^1.0.0",
                "expand-brackets": "^2.1.4",
                "extend-shallow": "^2.0.1",
                "fragment-cache": "^0.2.1",
                "regex-not": "^1.0.0",
                "snapdragon": "^0.8.1",
                "to-regex": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/extglob/node_modules/define-property": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-1.0.0.tgz",
            "integrity": "sha512-cZTYKFWspt9jZsMscWo8sc/5lbPC9Q0N5nBLgb+Yd915iL3udB1uFgS3B8YCx66UVHq018DAVFoee7x+gxggeA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/extract-zip": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/extract-zip/-/extract-zip-2.0.1.tgz",
            "integrity": "sha512-GDhU9ntwuKyGXdZBUgTIe+vXnWj0fppUEtMDL0+idd5Sta8TGpHssn/eusA9mrPr9qNDym6SxAYZjNvCn/9RBg==",
            "dev": true,
            "license": "BSD-2-Clause",
            "dependencies": {
                "debug": "^4.1.1",
                "get-stream": "^5.1.0",
                "yauzl": "^2.10.0"
            },
            "bin": {
                "extract-zip": "cli.js"
            },
            "engines": {
                "node": ">= 10.17.0"
            },
            "optionalDependencies": {
                "@types/yauzl": "^2.9.1"
            }
        },
        "node_modules/fast-deep-equal": {
            "version": "3.1.3",
            "resolved": "https://registry.npmjs.org/fast-deep-equal/-/fast-deep-equal-3.1.3.tgz",
            "integrity": "sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/fast-fifo": {
            "version": "1.3.2",
            "resolved": "https://registry.npmjs.org/fast-fifo/-/fast-fifo-1.3.2.tgz",
            "integrity": "sha512-/d9sfos4yxzpwkDkuN7k2SqFKtYNmCTzgfEpz82x34IM9/zc8KGxQoXg1liNC/izpRM/MBdt44Nmx41ZWqk+FQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/fast-glob": {
            "version": "3.3.3",
            "resolved": "https://registry.npmjs.org/fast-glob/-/fast-glob-3.3.3.tgz",
            "integrity": "sha512-7MptL8U0cqcFdzIzwOTHoilX9x5BrNqye7Z/LuC7kCMRio1EMSyqRK3BEAUD7sXRq4iT4AzTVuZdhgQ2TCvYLg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@nodelib/fs.stat": "^2.0.2",
                "@nodelib/fs.walk": "^1.2.3",
                "glob-parent": "^5.1.2",
                "merge2": "^1.3.0",
                "micromatch": "^4.0.8"
            },
            "engines": {
                "node": ">=8.6.0"
            }
        },
        "node_modules/fast-glob/node_modules/braces": {
            "version": "3.0.3",
            "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
            "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "fill-range": "^7.1.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/fast-glob/node_modules/fill-range": {
            "version": "7.1.1",
            "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
            "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "to-regex-range": "^5.0.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/fast-glob/node_modules/glob-parent": {
            "version": "5.1.2",
            "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
            "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "is-glob": "^4.0.1"
            },
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/fast-glob/node_modules/is-number": {
            "version": "7.0.0",
            "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
            "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.12.0"
            }
        },
        "node_modules/fast-glob/node_modules/micromatch": {
            "version": "4.0.8",
            "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
            "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "braces": "^3.0.3",
                "picomatch": "^2.3.1"
            },
            "engines": {
                "node": ">=8.6"
            }
        },
        "node_modules/fast-glob/node_modules/picomatch": {
            "version": "2.3.1",
            "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
            "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8.6"
            },
            "funding": {
                "url": "https://github.com/sponsors/jonschlinkert"
            }
        },
        "node_modules/fast-glob/node_modules/to-regex-range": {
            "version": "5.0.1",
            "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
            "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-number": "^7.0.0"
            },
            "engines": {
                "node": ">=8.0"
            }
        },
        "node_modules/fast-json-stable-stringify": {
            "version": "2.1.0",
            "resolved": "https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz",
            "integrity": "sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/fast-levenshtein": {
            "version": "2.0.6",
            "resolved": "https://registry.npmjs.org/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz",
            "integrity": "sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/fastq": {
            "version": "1.19.1",
            "resolved": "https://registry.npmjs.org/fastq/-/fastq-1.19.1.tgz",
            "integrity": "sha512-GwLTyxkCXjXbxqIhTsMI2Nui8huMPtnxg7krajPJAjnEG/iiOS7i+zCtWGZR9G0NBKbXKh6X9m9UIsYX/N6vvQ==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "reusify": "^1.0.4"
            }
        },
        "node_modules/faye-websocket": {
            "version": "0.11.4",
            "resolved": "https://registry.npmjs.org/faye-websocket/-/faye-websocket-0.11.4.tgz",
            "integrity": "sha512-CzbClwlXAuiRQAlUyfqPgvPoNKTckTPGfwZV4ZdAhVcP2lh9KUxJg2b5GkE7XbjKQ3YJnQ9z6D9ntLAlB+tP8g==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "websocket-driver": ">=0.5.1"
            },
            "engines": {
                "node": ">=0.8.0"
            }
        },
        "node_modules/fd-slicer": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/fd-slicer/-/fd-slicer-1.1.0.tgz",
            "integrity": "sha512-cE1qsB/VwyQozZ+q1dGxR8LBYNZeofhEdUNGSMbQD3Gw2lAzX9Zb3uIU6Ebc/Fmyjo9AWWfnn0AUCHqtevs/8g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "pend": "~1.2.0"
            }
        },
        "node_modules/fdir": {
            "version": "6.5.0",
            "resolved": "https://registry.npmjs.org/fdir/-/fdir-6.5.0.tgz",
            "integrity": "sha512-tIbYtZbucOs0BRGqPJkshJUYdL+SDH7dVM8gjy+ERp3WAUjLEFJE+02kanyHtwjWOnwrKYBiwAmM0p4kLJAnXg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=12.0.0"
            },
            "peerDependencies": {
                "picomatch": "^3 || ^4"
            },
            "peerDependenciesMeta": {
                "picomatch": {
                    "optional": true
                }
            }
        },
        "node_modules/file-entry-cache": {
            "version": "6.0.1",
            "resolved": "https://registry.npmjs.org/file-entry-cache/-/file-entry-cache-6.0.1.tgz",
            "integrity": "sha512-7Gps/XWymbLk2QLYK4NzpMOrYjMhdIxXuIvy2QBsLE6ljuodKvdkWs/cpyJJ3CVIVpH0Oi1Hvg1ovbMzLdFBBg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "flat-cache": "^3.0.4"
            },
            "engines": {
                "node": "^10.12.0 || >=12.0.0"
            }
        },
        "node_modules/file-uri-to-path": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/file-uri-to-path/-/file-uri-to-path-1.0.0.tgz",
            "integrity": "sha512-0Zt+s3L7Vf1biwWZ29aARiVYLx7iMGnEUl9x33fbB/j3jR81u/O2LbqK+Bm1CDSNDKVtJ/YjwY7TUd5SkeLQLw==",
            "dev": true,
            "license": "MIT",
            "optional": true
        },
        "node_modules/fill-range": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-4.0.0.tgz",
            "integrity": "sha512-VcpLTWqWDiTerugjj8e3+esbg+skS3M9e54UuR3iCeIDMXCLTsAH8hTSzDQU/X6/6t3eYkOKoZSef2PlU6U1XQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "extend-shallow": "^2.0.1",
                "is-number": "^3.0.0",
                "repeat-string": "^1.6.1",
                "to-regex-range": "^2.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/finalhandler": {
            "version": "1.1.2",
            "resolved": "https://registry.npmjs.org/finalhandler/-/finalhandler-1.1.2.tgz",
            "integrity": "sha512-aAWcW57uxVNrQZqFXjITpW3sIUQmHGG3qSb9mUah9MgMC4NeWhNOlNjXEYq3HjRAvL6arUviZGGJsBg6z0zsWA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "debug": "2.6.9",
                "encodeurl": "~1.0.2",
                "escape-html": "~1.0.3",
                "on-finished": "~2.3.0",
                "parseurl": "~1.3.3",
                "statuses": "~1.5.0",
                "unpipe": "~1.0.0"
            },
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/finalhandler/node_modules/debug": {
            "version": "2.6.9",
            "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
            "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "2.0.0"
            }
        },
        "node_modules/finalhandler/node_modules/ms": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
            "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/find-up": {
            "version": "5.0.0",
            "resolved": "https://registry.npmjs.org/find-up/-/find-up-5.0.0.tgz",
            "integrity": "sha512-78/PXT1wlLLDgTzDs7sjq9hzz0vXD+zn+7wypEe4fXQxCmdmqfGsEPQxmiCSQI3ajFV91bVSsvNtrJRiW6nGng==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "locate-path": "^6.0.0",
                "path-exists": "^4.0.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/flat-cache": {
            "version": "3.2.0",
            "resolved": "https://registry.npmjs.org/flat-cache/-/flat-cache-3.2.0.tgz",
            "integrity": "sha512-CYcENa+FtcUKLmhhqyctpclsq7QF38pKjZHsGNiSQF5r4FtoKDWabFDl3hzaEQMvT1LHEysw5twgLvpYYb4vbw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "flatted": "^3.2.9",
                "keyv": "^4.5.3",
                "rimraf": "^3.0.2"
            },
            "engines": {
                "node": "^10.12.0 || >=12.0.0"
            }
        },
        "node_modules/flatted": {
            "version": "3.3.3",
            "resolved": "https://registry.npmjs.org/flatted/-/flatted-3.3.3.tgz",
            "integrity": "sha512-GX+ysw4PBCz0PzosHDepZGANEuFCMLrnRTiEy9McGjmkCQYwRq4A/X786G/fjM/+OjsWSU1ZrY5qyARZmO/uwg==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/for-in": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/for-in/-/for-in-1.0.2.tgz",
            "integrity": "sha512-7EwmXrOjyL+ChxMhmG5lnW9MPt1aIeZEwKhQzoBUdTV0N3zuwWDZYVJatDvZ2OyzPUvdIAZDsCetk3coyMfcnQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/fraction.js": {
            "version": "5.3.4",
            "resolved": "https://registry.npmjs.org/fraction.js/-/fraction.js-5.3.4.tgz",
            "integrity": "sha512-1X1NTtiJphryn/uLQz3whtY6jK3fTqoE3ohKs0tT+Ujr1W59oopxmoEh7Lu5p6vBaPbgoM0bzveAW4Qi5RyWDQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": "*"
            },
            "funding": {
                "type": "github",
                "url": "https://github.com/sponsors/rawify"
            }
        },
        "node_modules/fragment-cache": {
            "version": "0.2.1",
            "resolved": "https://registry.npmjs.org/fragment-cache/-/fragment-cache-0.2.1.tgz",
            "integrity": "sha512-GMBAbW9antB8iZRHLoGw0b3HANt57diZYFO/HL1JGIC1MjKrdmhxvrJbupnVvpys0zsz7yBApXdQyfepKly2kA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "map-cache": "^0.2.2"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/fresh": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/fresh/-/fresh-2.0.0.tgz",
            "integrity": "sha512-Rx/WycZ60HOaqLKAi6cHRKKI7zxWbJ31MhntmtwMoaTeF7XFH9hhBp8vITaMidfljRQ6eYWCKkaTK+ykVJHP2A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/from": {
            "version": "0.1.7",
            "resolved": "https://registry.npmjs.org/from/-/from-0.1.7.tgz",
            "integrity": "sha512-twe20eF1OxVxp/ML/kq2p1uc6KvFK/+vs8WjEbeKmV2He22MKm7YF2ANIt+EOqhJ5L3K/SuuPhk0hWQDjOM23g==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/fs-extra": {
            "version": "11.3.2",
            "resolved": "https://registry.npmjs.org/fs-extra/-/fs-extra-11.3.2.tgz",
            "integrity": "sha512-Xr9F6z6up6Ws+NjzMCZc6WXg2YFRlrLP9NQDO3VQrWrfiojdhS56TzueT88ze0uBdCTwEIhQ3ptnmKeWGFAe0A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "graceful-fs": "^4.2.0",
                "jsonfile": "^6.0.1",
                "universalify": "^2.0.0"
            },
            "engines": {
                "node": ">=14.14"
            }
        },
        "node_modules/fs.realpath": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/fs.realpath/-/fs.realpath-1.0.0.tgz",
            "integrity": "sha512-OO0pH2lK6a0hZnAdau5ItzHPI6pUlvI7jMVnxUQRtw4owF2wk8lOSabtGDCTP4Ggrg2MbGnWO9X8K1t4+fGMDw==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/fsevents": {
            "version": "2.3.3",
            "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
            "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
            "dev": true,
            "hasInstallScript": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
            }
        },
        "node_modules/function-bind": {
            "version": "1.1.2",
            "resolved": "https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz",
            "integrity": "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==",
            "dev": true,
            "license": "MIT",
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/get-caller-file": {
            "version": "2.0.5",
            "resolved": "https://registry.npmjs.org/get-caller-file/-/get-caller-file-2.0.5.tgz",
            "integrity": "sha512-DyFP3BM/3YHTQOCUL/w0OZHR0lpKeGrxotcHWcqNEdnltqFwXVfhEBQ94eIo34AfQpo0rGki4cyIiftY06h2Fg==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": "6.* || 8.* || >= 10.*"
            }
        },
        "node_modules/get-stream": {
            "version": "5.2.0",
            "resolved": "https://registry.npmjs.org/get-stream/-/get-stream-5.2.0.tgz",
            "integrity": "sha512-nBF+F1rAZVCu/p7rjzgA+Yb4lfYXrpl7a6VmJrU8wF9I1CKvP/QwPNZHnOlwbTkY6dvtFIzFMSyQXbLoTQPRpA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "pump": "^3.0.0"
            },
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/get-uri": {
            "version": "6.0.5",
            "resolved": "https://registry.npmjs.org/get-uri/-/get-uri-6.0.5.tgz",
            "integrity": "sha512-b1O07XYq8eRuVzBNgJLstU6FYc1tS6wnMtF1I1D9lE8LxZSOGZ7LhxN54yPP6mGw5f2CkXY2BQUL9Fx41qvcIg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "basic-ftp": "^5.0.2",
                "data-uri-to-buffer": "^6.0.2",
                "debug": "^4.3.4"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/get-value": {
            "version": "2.0.6",
            "resolved": "https://registry.npmjs.org/get-value/-/get-value-2.0.6.tgz",
            "integrity": "sha512-Ln0UQDlxH1BapMu3GPtf7CuYNwRZf2gwCuPqbyG6pB8WfmFpzqcy4xtAaAMUhnNqjMKTiCPZG2oMT3YSx8U2NA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/glob": {
            "version": "9.3.5",
            "resolved": "https://registry.npmjs.org/glob/-/glob-9.3.5.tgz",
            "integrity": "sha512-e1LleDykUz2Iu+MTYdkSsuWX8lvAjAcs0Xef0lNIu0S2wOAzuTxCJtcd9S3cijlwYF18EsU3rzb8jPVobxDh9Q==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "fs.realpath": "^1.0.0",
                "minimatch": "^8.0.2",
                "minipass": "^4.2.4",
                "path-scurry": "^1.6.1"
            },
            "engines": {
                "node": ">=16 || 14 >=14.17"
            },
            "funding": {
                "url": "https://github.com/sponsors/isaacs"
            }
        },
        "node_modules/glob-parent": {
            "version": "6.0.2",
            "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz",
            "integrity": "sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "is-glob": "^4.0.3"
            },
            "engines": {
                "node": ">=10.13.0"
            }
        },
        "node_modules/glob-to-regexp": {
            "version": "0.4.1",
            "resolved": "https://registry.npmjs.org/glob-to-regexp/-/glob-to-regexp-0.4.1.tgz",
            "integrity": "sha512-lkX1HJXwyMcprw/5YUZc2s7DrpAiHB21/V+E1rHUrVNokkvB6bqMzT0VfV6/86ZNabt1k14YOIaT7nDvOX3Iiw==",
            "dev": true,
            "license": "BSD-2-Clause"
        },
        "node_modules/glob/node_modules/brace-expansion": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
            "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "balanced-match": "^1.0.0"
            }
        },
        "node_modules/glob/node_modules/minimatch": {
            "version": "8.0.4",
            "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-8.0.4.tgz",
            "integrity": "sha512-W0Wvr9HyFXZRGIDgCicunpQ299OKXs9RgZfaukz4qAW/pJhcpUfupc9c+OObPOFueNy8VSrZgEmDtk6Kh4WzDA==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "brace-expansion": "^2.0.1"
            },
            "engines": {
                "node": ">=16 || 14 >=14.17"
            },
            "funding": {
                "url": "https://github.com/sponsors/isaacs"
            }
        },
        "node_modules/globals": {
            "version": "13.24.0",
            "resolved": "https://registry.npmjs.org/globals/-/globals-13.24.0.tgz",
            "integrity": "sha512-AhO5QUcj8llrbG09iWhPU2B204J1xnPeL8kQmVorSsy+Sjj1sk8gIyh6cUocGmH4L0UuhAJy+hJMRA4mgA4mFQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "type-fest": "^0.20.2"
            },
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/graceful-fs": {
            "version": "4.2.11",
            "resolved": "https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz",
            "integrity": "sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/graphemer": {
            "version": "1.4.0",
            "resolved": "https://registry.npmjs.org/graphemer/-/graphemer-1.4.0.tgz",
            "integrity": "sha512-EtKwoO6kxCL9WO5xipiHTZlSzBm7WLT627TqC/uVRd0HKmq8NXyebnNYxDoBi7wt8eTWrUrKXCOVaFq9x1kgag==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/has-flag": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz",
            "integrity": "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/has-value": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/has-value/-/has-value-1.0.0.tgz",
            "integrity": "sha512-IBXk4GTsLYdQ7Rvt+GRBrFSVEkmuOUy4re0Xjd9kJSUQpnTrWR4/y9RpfexN9vkAPMFuQoeWKwqzPozRTlasGw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "get-value": "^2.0.6",
                "has-values": "^1.0.0",
                "isobject": "^3.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/has-values": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/has-values/-/has-values-1.0.0.tgz",
            "integrity": "sha512-ODYZC64uqzmtfGMEAX/FvZiRyWLpAC3vYnNunURUnkGVTS+mI0smVsWaPydRBsE3g+ok7h960jChO8mFcWlHaQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-number": "^3.0.0",
                "kind-of": "^4.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/has-values/node_modules/kind-of": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/kind-of/-/kind-of-4.0.0.tgz",
            "integrity": "sha512-24XsCxmEbRwEDbz/qz3stgin8TTzZ1ESR56OMCN0ujYg+vRutNSiOj9bHH9u85DKgXguraugV5sFuvbD4FW/hw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-buffer": "^1.1.5"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/hasown": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz",
            "integrity": "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "function-bind": "^1.1.2"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/htmlhint": {
            "version": "1.8.0",
            "resolved": "https://registry.npmjs.org/htmlhint/-/htmlhint-1.8.0.tgz",
            "integrity": "sha512-RT1UsSM3ldlVQ7DDqWnbbRY1Rf6wwudmdYwiJzIyZVapA0jcka5r2lE2RkMLzTDN5c8Vc06yis57TaTpZ6o3Dg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "async": "3.2.6",
                "chalk": "4.1.2",
                "commander": "11.1.0",
                "glob": "^9.0.0",
                "is-glob": "^4.0.3",
                "node-sarif-builder": "^3.3.1",
                "strip-json-comments": "3.1.1",
                "xml": "1.0.1"
            },
            "bin": {
                "htmlhint": "bin/htmlhint"
            },
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "type": "Open Collective",
                "url": "https://opencollective.com/htmlhint"
            }
        },
        "node_modules/http-auth": {
            "version": "3.1.3",
            "resolved": "https://registry.npmjs.org/http-auth/-/http-auth-3.1.3.tgz",
            "integrity": "sha512-Jbx0+ejo2IOx+cRUYAGS1z6RGc6JfYUNkysZM4u4Sfk1uLlGv814F7/PIjQQAuThLdAWxb74JMGd5J8zex1VQg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "apache-crypt": "^1.1.2",
                "apache-md5": "^1.0.6",
                "bcryptjs": "^2.3.0",
                "uuid": "^3.0.0"
            },
            "engines": {
                "node": ">=4.6.1"
            }
        },
        "node_modules/http-errors": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/http-errors/-/http-errors-2.0.1.tgz",
            "integrity": "sha512-4FbRdAX+bSdmo4AUFuS0WNiPz8NgFt+r8ThgNWmlrjQjt1Q7ZR9+zTlce2859x4KSXrwIsaeTqDoKQmtP8pLmQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "depd": "~2.0.0",
                "inherits": "~2.0.4",
                "setprototypeof": "~1.2.0",
                "statuses": "~2.0.2",
                "toidentifier": "~1.0.1"
            },
            "engines": {
                "node": ">= 0.8"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/express"
            }
        },
        "node_modules/http-errors/node_modules/statuses": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/statuses/-/statuses-2.0.2.tgz",
            "integrity": "sha512-DvEy55V3DB7uknRo+4iOGT5fP1slR8wQohVdknigZPMpMstaKJQWhwiYBACJE3Ul2pTnATihhBYnRhZQHGBiRw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/http-parser-js": {
            "version": "0.5.10",
            "resolved": "https://registry.npmjs.org/http-parser-js/-/http-parser-js-0.5.10.tgz",
            "integrity": "sha512-Pysuw9XpUq5dVc/2SMHpuTY01RFl8fttgcyunjL7eEMhGM3cI4eOmiCycJDVCo/7O7ClfQD3SaI6ftDzqOXYMA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/http-proxy-agent": {
            "version": "7.0.2",
            "resolved": "https://registry.npmjs.org/http-proxy-agent/-/http-proxy-agent-7.0.2.tgz",
            "integrity": "sha512-T1gkAiYYDWYx3V5Bmyu7HcfcvL7mUrTWiM6yOfa3PIphViJ/gFPbvidQ+veqSOHci/PxBcDabeUNCzpOODJZig==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "agent-base": "^7.1.0",
                "debug": "^4.3.4"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/https-proxy-agent": {
            "version": "7.0.6",
            "resolved": "https://registry.npmjs.org/https-proxy-agent/-/https-proxy-agent-7.0.6.tgz",
            "integrity": "sha512-vK9P5/iUfdl95AI+JVyUuIcVtd4ofvtrOr3HNtM2yxC9bnMbEdp3x01OhQNnjb8IJYi38VlTE3mBXwcfvywuSw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "agent-base": "^7.1.2",
                "debug": "4"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/ieee754": {
            "version": "1.2.1",
            "resolved": "https://registry.npmjs.org/ieee754/-/ieee754-1.2.1.tgz",
            "integrity": "sha512-dcyqhDvX1C46lXZcVqCpK+FtMRQVdIMN6/Df5js2zouUsqG7I6sFxitIC+7KYK29KdXOLHdu9zL4sFnoVQnqaA==",
            "dev": true,
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/feross"
                },
                {
                    "type": "patreon",
                    "url": "https://www.patreon.com/feross"
                },
                {
                    "type": "consulting",
                    "url": "https://feross.org/support"
                }
            ],
            "license": "BSD-3-Clause"
        },
        "node_modules/ignore": {
            "version": "5.3.2",
            "resolved": "https://registry.npmjs.org/ignore/-/ignore-5.3.2.tgz",
            "integrity": "sha512-hsBTNUqQTDwkWtcdYI2i06Y/nUBEsNEDJKjWdigLvegy8kDuJAS8uRlpkkcQpyEXL0Z/pjDy5HBmMjRCJ2gq+g==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 4"
            }
        },
        "node_modules/import-fresh": {
            "version": "3.3.1",
            "resolved": "https://registry.npmjs.org/import-fresh/-/import-fresh-3.3.1.tgz",
            "integrity": "sha512-TR3KfrTZTYLPB6jUjfx6MF9WcWrHL9su5TObK4ZkYgBdWKPOFoSoQIdEuTuR82pmtxH2spWG9h6etwfr1pLBqQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "parent-module": "^1.0.0",
                "resolve-from": "^4.0.0"
            },
            "engines": {
                "node": ">=6"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/imurmurhash": {
            "version": "0.1.4",
            "resolved": "https://registry.npmjs.org/imurmurhash/-/imurmurhash-0.1.4.tgz",
            "integrity": "sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.8.19"
            }
        },
        "node_modules/inflight": {
            "version": "1.0.6",
            "resolved": "https://registry.npmjs.org/inflight/-/inflight-1.0.6.tgz",
            "integrity": "sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==",
            "deprecated": "This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "once": "^1.3.0",
                "wrappy": "1"
            }
        },
        "node_modules/inherits": {
            "version": "2.0.4",
            "resolved": "https://registry.npmjs.org/inherits/-/inherits-2.0.4.tgz",
            "integrity": "sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/ip-address": {
            "version": "10.1.0",
            "resolved": "https://registry.npmjs.org/ip-address/-/ip-address-10.1.0.tgz",
            "integrity": "sha512-XXADHxXmvT9+CRxhXg56LJovE+bmWnEWB78LB83VZTprKTmaC5QfruXocxzTZ2Kl0DNwKuBdlIhjL8LeY8Sf8Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 12"
            }
        },
        "node_modules/is-accessor-descriptor": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-accessor-descriptor/-/is-accessor-descriptor-1.0.1.tgz",
            "integrity": "sha512-YBUanLI8Yoihw923YeFUS5fs0fF2f5TSFTNiYAAzhhDscDa3lEqYuz1pDOEP5KvX94I9ey3vsqjJcLVFVU+3QA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "hasown": "^2.0.0"
            },
            "engines": {
                "node": ">= 0.10"
            }
        },
        "node_modules/is-arrayish": {
            "version": "0.3.4",
            "resolved": "https://registry.npmjs.org/is-arrayish/-/is-arrayish-0.3.4.tgz",
            "integrity": "sha512-m6UrgzFVUYawGBh1dUsWR5M2Clqic9RVXC/9f8ceNlv2IcO9j9J/z8UoCLPqtsPBFNzEpfR3xftohbfqDx8EQA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/is-binary-path": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-binary-path/-/is-binary-path-1.0.1.tgz",
            "integrity": "sha512-9fRVlXc0uCxEDj1nQzaWONSpbTfx0FmJfzHF7pwlI8DkWGoHBBea4Pg5Ky0ojwwxQmnSifgbKkI06Qv0Ljgj+Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "binary-extensions": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-buffer": {
            "version": "1.1.6",
            "resolved": "https://registry.npmjs.org/is-buffer/-/is-buffer-1.1.6.tgz",
            "integrity": "sha512-NcdALwpXkTm5Zvvbk7owOUSvVvBKDgKP5/ewfXEznmQFfs4ZRmanOeKBTjRVjka3QFoN6XJ+9F3USqfHqTaU5w==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/is-core-module": {
            "version": "2.16.1",
            "resolved": "https://registry.npmjs.org/is-core-module/-/is-core-module-2.16.1.tgz",
            "integrity": "sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "hasown": "^2.0.2"
            },
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/is-data-descriptor": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-data-descriptor/-/is-data-descriptor-1.0.1.tgz",
            "integrity": "sha512-bc4NlCDiCr28U4aEsQ3Qs2491gVq4V8G7MQyws968ImqjKuYtTJXrl7Vq7jsN7Ly/C3xj5KWFrY7sHNeDkAzXw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "hasown": "^2.0.0"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/is-descriptor": {
            "version": "1.0.3",
            "resolved": "https://registry.npmjs.org/is-descriptor/-/is-descriptor-1.0.3.tgz",
            "integrity": "sha512-JCNNGbwWZEVaSPtS45mdtrneRWJFp07LLmykxeFV5F6oBvNF8vHSfJuJgoT472pSfk+Mf8VnlrspaFBHWM8JAw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-accessor-descriptor": "^1.0.1",
                "is-data-descriptor": "^1.0.1"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/is-extendable": {
            "version": "0.1.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-0.1.1.tgz",
            "integrity": "sha512-5BMULNob1vgFX6EjQw5izWDxrecWK9AM72rugNr0TFldMOi0fj6Jk+zeKIt0xGj4cEfQIJth4w3OKWOJ4f+AFw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-extglob": {
            "version": "2.1.1",
            "resolved": "https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz",
            "integrity": "sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-fullwidth-code-point": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
            "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/is-glob": {
            "version": "4.0.3",
            "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz",
            "integrity": "sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-extglob": "^2.1.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-number": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/is-number/-/is-number-3.0.0.tgz",
            "integrity": "sha512-4cboCqIpliH+mAvFNegjZQ4kgKc3ZUhQVr3HvWbSh5q3WH2v82ct+T2Y1hdU5Gdtorx/cLifQjqCbL7bpznLTg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "kind-of": "^3.0.2"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-path-inside": {
            "version": "3.0.3",
            "resolved": "https://registry.npmjs.org/is-path-inside/-/is-path-inside-3.0.3.tgz",
            "integrity": "sha512-Fd4gABb+ycGAmKou8eMftCupSir5lRxqf4aD/vd0cD2qc4HL07OjCeuHMr8Ro4CoMaeCKDB0/ECBOVWjTwUvPQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/is-plain-object": {
            "version": "2.0.4",
            "resolved": "https://registry.npmjs.org/is-plain-object/-/is-plain-object-2.0.4.tgz",
            "integrity": "sha512-h5PpgXkWitc38BBMYawTYMWJHFZJVnBquFE57xFpjB8pJFiF6gZ+bU+WyI/yqXiFR5mdLsgYNaPe8uao6Uv9Og==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "isobject": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-windows": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/is-windows/-/is-windows-1.0.2.tgz",
            "integrity": "sha512-eXK1UInq2bPmjyX6e3VHIzMLobc4J94i4AWn+Hpq3OU5KkrRC96OAcR3PRJ/pGu6m8TRnBHP9dkXQVsT/COVIA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-wsl": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/is-wsl/-/is-wsl-1.1.0.tgz",
            "integrity": "sha512-gfygJYZ2gLTDlmbWMI0CE2MwnFzSN/2SZfkMlItC4K/JBlsWVDB0bO6XhqcY13YXE7iMcAJnzTCJjPiTeJJ0Mw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=4"
            }
        },
        "node_modules/isarray": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/isarray/-/isarray-1.0.0.tgz",
            "integrity": "sha512-VLghIWNM6ELQzo7zwmcg0NmTVyWKYjvIeM83yjp0wRDTmUnrM678fQbcKBo6n2CJEF0szoG//ytg+TKla89ALQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/isexe": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
            "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/isobject": {
            "version": "3.0.1",
            "resolved": "https://registry.npmjs.org/isobject/-/isobject-3.0.1.tgz",
            "integrity": "sha512-WhB9zCku7EGTj/HQQRz5aUQEUeoQZH2bWcltRErOpymJ4boYE6wL9Tbr23krRPSZ+C5zqNSrSw+Cc7sZZ4b7vg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/jiti": {
            "version": "1.21.7",
            "resolved": "https://registry.npmjs.org/jiti/-/jiti-1.21.7.tgz",
            "integrity": "sha512-/imKNG4EbWNrVjoNC/1H5/9GFy+tqjGBHCaSsN+P2RnPqjsLmv6UD3Ej+Kj8nBWaRAwyk7kK5ZUc+OEatnTR3A==",
            "dev": true,
            "license": "MIT",
            "peer": true,
            "bin": {
                "jiti": "bin/jiti.js"
            }
        },
        "node_modules/js-tokens": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
            "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/js-yaml": {
            "version": "4.1.1",
            "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-4.1.1.tgz",
            "integrity": "sha512-qQKT4zQxXl8lLwBtHMWwaTcGfFOZviOJet3Oy/xmGk2gZH677CJM9EvtfdSkgWcATZhj/55JZ0rmy3myCT5lsA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "argparse": "^2.0.1"
            },
            "bin": {
                "js-yaml": "bin/js-yaml.js"
            }
        },
        "node_modules/json-buffer": {
            "version": "3.0.1",
            "resolved": "https://registry.npmjs.org/json-buffer/-/json-buffer-3.0.1.tgz",
            "integrity": "sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/json-parse-even-better-errors": {
            "version": "2.3.1",
            "resolved": "https://registry.npmjs.org/json-parse-even-better-errors/-/json-parse-even-better-errors-2.3.1.tgz",
            "integrity": "sha512-xyFwyhro/JEof6Ghe2iz2NcXoj2sloNsWr/XsERDK/oiPCfaNhl5ONfp+jQdAZRQQ0IJWNzH9zIZF7li91kh2w==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/json-schema-traverse": {
            "version": "0.4.1",
            "resolved": "https://registry.npmjs.org/json-schema-traverse/-/json-schema-traverse-0.4.1.tgz",
            "integrity": "sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/json-stable-stringify-without-jsonify": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/json-stable-stringify-without-jsonify/-/json-stable-stringify-without-jsonify-1.0.1.tgz",
            "integrity": "sha512-Bdboy+l7tA3OGW6FjyFHWkP5LuByj1Tk33Ljyq0axyzdk9//JSi2u3fP1QSmd1KNwq6VOKYGlAu87CisVir6Pw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/jsonfile": {
            "version": "6.2.0",
            "resolved": "https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz",
            "integrity": "sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "universalify": "^2.0.0"
            },
            "optionalDependencies": {
                "graceful-fs": "^4.1.6"
            }
        },
        "node_modules/keyv": {
            "version": "4.5.4",
            "resolved": "https://registry.npmjs.org/keyv/-/keyv-4.5.4.tgz",
            "integrity": "sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "json-buffer": "3.0.1"
            }
        },
        "node_modules/kind-of": {
            "version": "3.2.2",
            "resolved": "https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz",
            "integrity": "sha512-NOW9QQXMoZGg/oqnVNoNTTIFEIid1627WCffUBJEdMxYApq7mNE7CpzucIPc+ZQg25Phej7IJSmX3hO+oblOtQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-buffer": "^1.1.5"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/kleur": {
            "version": "4.1.5",
            "resolved": "https://registry.npmjs.org/kleur/-/kleur-4.1.5.tgz",
            "integrity": "sha512-o+NO+8WrRiQEE4/7nwRJhN1HWpVmJm511pBHUxPLtp0BUISzlBplORYSmTclCnJvQq2tKu/sgl3xVpkc7ZWuQQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/levn": {
            "version": "0.4.1",
            "resolved": "https://registry.npmjs.org/levn/-/levn-0.4.1.tgz",
            "integrity": "sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "prelude-ls": "^1.2.1",
                "type-check": "~0.4.0"
            },
            "engines": {
                "node": ">= 0.8.0"
            }
        },
        "node_modules/lilconfig": {
            "version": "3.1.3",
            "resolved": "https://registry.npmjs.org/lilconfig/-/lilconfig-3.1.3.tgz",
            "integrity": "sha512-/vlFKAoH5Cgt3Ie+JLhRbwOsCQePABiU3tJ1egGvyQ+33R/vcwM2Zl2QR/LzjsBeItPt3oSVXapn+m4nQDvpzw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=14"
            },
            "funding": {
                "url": "https://github.com/sponsors/antonk52"
            }
        },
        "node_modules/lines-and-columns": {
            "version": "1.2.4",
            "resolved": "https://registry.npmjs.org/lines-and-columns/-/lines-and-columns-1.2.4.tgz",
            "integrity": "sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/live-server": {
            "version": "1.2.2",
            "resolved": "https://registry.npmjs.org/live-server/-/live-server-1.2.2.tgz",
            "integrity": "sha512-t28HXLjITRGoMSrCOv4eZ88viHaBVIjKjdI5PO92Vxlu+twbk6aE0t7dVIaz6ZWkjPilYFV6OSdMYl9ybN2B4w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "chokidar": "^2.0.4",
                "colors": "1.4.0",
                "connect": "^3.6.6",
                "cors": "latest",
                "event-stream": "3.3.4",
                "faye-websocket": "0.11.x",
                "http-auth": "3.1.x",
                "morgan": "^1.9.1",
                "object-assign": "latest",
                "opn": "latest",
                "proxy-middleware": "latest",
                "send": "latest",
                "serve-index": "^1.9.1"
            },
            "bin": {
                "live-server": "live-server.js"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/locate-path": {
            "version": "6.0.0",
            "resolved": "https://registry.npmjs.org/locate-path/-/locate-path-6.0.0.tgz",
            "integrity": "sha512-iPZK6eYjbxRu3uB4/WZ3EsEIMJFMqAoopl3R+zuq0UjcAm/MO6KCweDgPfP3elTztoKP3KtnVHxTn2NHBSDVUw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "p-locate": "^5.0.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/lodash": {
            "version": "4.17.21",
            "resolved": "https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz",
            "integrity": "sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/lodash.merge": {
            "version": "4.6.2",
            "resolved": "https://registry.npmjs.org/lodash.merge/-/lodash.merge-4.6.2.tgz",
            "integrity": "sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/lru-cache": {
            "version": "10.4.3",
            "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
            "integrity": "sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/map-cache": {
            "version": "0.2.2",
            "resolved": "https://registry.npmjs.org/map-cache/-/map-cache-0.2.2.tgz",
            "integrity": "sha512-8y/eV9QQZCiyn1SprXSrCmqJN0yNRATe+PO8ztwqrvrbdRLA3eYJF0yaR0YayLWkMbsQSKWS9N2gPcGEc4UsZg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/map-stream": {
            "version": "0.1.0",
            "resolved": "https://registry.npmjs.org/map-stream/-/map-stream-0.1.0.tgz",
            "integrity": "sha512-CkYQrPYZfWnu/DAmVCpTSX/xHpKZ80eKh2lAkyA6AJTef6bW+6JpbQZN5rofum7da+SyN1bi5ctTm+lTfcCW3g==",
            "dev": true
        },
        "node_modules/map-visit": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/map-visit/-/map-visit-1.0.0.tgz",
            "integrity": "sha512-4y7uGv8bd2WdM9vpQsiQNo41Ln1NvhvDRuVt0k2JZQ+ezN2uaQes7lZeZ+QQUHOLQAtDaBJ+7wCbi+ab/KFs+w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "object-visit": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/merge2": {
            "version": "1.4.1",
            "resolved": "https://registry.npmjs.org/merge2/-/merge2-1.4.1.tgz",
            "integrity": "sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/micro-packed": {
            "version": "0.7.3",
            "resolved": "https://registry.npmjs.org/micro-packed/-/micro-packed-0.7.3.tgz",
            "integrity": "sha512-2Milxs+WNC00TRlem41oRswvw31146GiSaoCT7s3Xi2gMUglW5QBeqlQaZeHr5tJx9nm3i57LNXPqxOOaWtTYg==",
            "license": "MIT",
            "dependencies": {
                "@scure/base": "~1.2.5"
            },
            "funding": {
                "url": "https://paulmillr.com/funding/"
            }
        },
        "node_modules/micromatch": {
            "version": "3.1.10",
            "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-3.1.10.tgz",
            "integrity": "sha512-MWikgl9n9M3w+bpsY3He8L+w9eF9338xRl8IAO5viDizwSzziFEyUzo2xrrloB64ADbTf8uA8vRqqttDTOmccg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "arr-diff": "^4.0.0",
                "array-unique": "^0.3.2",
                "braces": "^2.3.1",
                "define-property": "^2.0.2",
                "extend-shallow": "^3.0.2",
                "extglob": "^2.0.4",
                "fragment-cache": "^0.2.1",
                "kind-of": "^6.0.2",
                "nanomatch": "^1.2.9",
                "object.pick": "^1.3.0",
                "regex-not": "^1.0.0",
                "snapdragon": "^0.8.1",
                "to-regex": "^3.0.2"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/micromatch/node_modules/extend-shallow": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-3.0.2.tgz",
            "integrity": "sha512-BwY5b5Ql4+qZoefgMj2NUmx+tehVTH/Kf4k1ZEtOHNFcm2wSxMRo992l6X3TIgni2eZVTZ85xMOjF31fwZAj6Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "assign-symbols": "^1.0.0",
                "is-extendable": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/micromatch/node_modules/is-extendable": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz",
            "integrity": "sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-plain-object": "^2.0.4"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/micromatch/node_modules/kind-of": {
            "version": "6.0.3",
            "resolved": "https://registry.npmjs.org/kind-of/-/kind-of-6.0.3.tgz",
            "integrity": "sha512-dcS1ul+9tmeD95T+x28/ehLgd9mENa3LsvDTtzm3vyBEO7RPptvAD+t44WVXaUjTBRcrpFeFlC8WCruUR456hw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/mime": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/mime/-/mime-3.0.0.tgz",
            "integrity": "sha512-jSCU7/VB1loIWBZe14aEYHU/+1UMEHoaO7qxCOVJOw9GgH72VAWppxNcjU+x9a2k3GSIBXNKxXQFqRvvZ7vr3A==",
            "dev": true,
            "license": "MIT",
            "bin": {
                "mime": "cli.js"
            },
            "engines": {
                "node": ">=10.0.0"
            }
        },
        "node_modules/mime-db": {
            "version": "1.54.0",
            "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.54.0.tgz",
            "integrity": "sha512-aU5EJuIN2WDemCcAp2vFBfp/m4EAhWJnUNSSw0ixs7/kXbd6Pg64EmwJkNdFhB8aWt1sH2CTXrLxo/iAGV3oPQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/mime-types": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-3.0.2.tgz",
            "integrity": "sha512-Lbgzdk0h4juoQ9fCKXW4by0UJqj+nOOrI9MJ1sSj4nI8aI2eo1qmvQEie4VD1glsS250n15LsWsYtCugiStS5A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "mime-db": "^1.54.0"
            },
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/express"
            }
        },
        "node_modules/miniflare": {
            "version": "4.20251210.0",
            "resolved": "https://registry.npmjs.org/miniflare/-/miniflare-4.20251210.0.tgz",
            "integrity": "sha512-k6kIoXwGVqlPZb0hcn+X7BmnK+8BjIIkusQPY22kCo2RaQJ/LzAjtxHQdGXerlHSnJyQivDQsL6BJHMpQfUFyw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@cspotcode/source-map-support": "0.8.1",
                "acorn": "8.14.0",
                "acorn-walk": "8.3.2",
                "exit-hook": "2.2.1",
                "glob-to-regexp": "0.4.1",
                "sharp": "^0.33.5",
                "stoppable": "1.1.0",
                "undici": "7.14.0",
                "workerd": "1.20251210.0",
                "ws": "8.18.0",
                "youch": "4.1.0-beta.10",
                "zod": "3.22.3"
            },
            "bin": {
                "miniflare": "bootstrap.js"
            },
            "engines": {
                "node": ">=18.0.0"
            }
        },
        "node_modules/minimatch": {
            "version": "3.1.2",
            "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz",
            "integrity": "sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "brace-expansion": "^1.1.7"
            },
            "engines": {
                "node": "*"
            }
        },
        "node_modules/minipass": {
            "version": "4.2.8",
            "resolved": "https://registry.npmjs.org/minipass/-/minipass-4.2.8.tgz",
            "integrity": "sha512-fNzuVyifolSLFL4NzpF+wEF4qrgqaaKX0haXPQEdQ7NKAN+WecoKMHV09YcuL/DHxrUsYQOK3MiuDf7Ip2OXfQ==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/mitt": {
            "version": "3.0.1",
            "resolved": "https://registry.npmjs.org/mitt/-/mitt-3.0.1.tgz",
            "integrity": "sha512-vKivATfr97l2/QBCYAkXYDbrIWPM2IIKEl7YPhjCvKlG3kE2gm+uBo6nEXK3M5/Ffh/FLpKExzOQ3JJoJGFKBw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/mixin-deep": {
            "version": "1.3.2",
            "resolved": "https://registry.npmjs.org/mixin-deep/-/mixin-deep-1.3.2.tgz",
            "integrity": "sha512-WRoDn//mXBiJ1H40rqa3vH0toePwSsGb45iInWlTySa+Uu4k3tYUSxa2v1KqAiLtvlrSzaExqS1gtk96A9zvEA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "for-in": "^1.0.2",
                "is-extendable": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/mixin-deep/node_modules/is-extendable": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz",
            "integrity": "sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-plain-object": "^2.0.4"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/morgan": {
            "version": "1.10.1",
            "resolved": "https://registry.npmjs.org/morgan/-/morgan-1.10.1.tgz",
            "integrity": "sha512-223dMRJtI/l25dJKWpgij2cMtywuG/WiUKXdvwfbhGKBhy1puASqXwFzmWZ7+K73vUPoR7SS2Qz2cI/g9MKw0A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "basic-auth": "~2.0.1",
                "debug": "2.6.9",
                "depd": "~2.0.0",
                "on-finished": "~2.3.0",
                "on-headers": "~1.1.0"
            },
            "engines": {
                "node": ">= 0.8.0"
            }
        },
        "node_modules/morgan/node_modules/debug": {
            "version": "2.6.9",
            "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
            "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "2.0.0"
            }
        },
        "node_modules/morgan/node_modules/ms": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
            "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/ms": {
            "version": "2.1.3",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
            "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/mz": {
            "version": "2.7.0",
            "resolved": "https://registry.npmjs.org/mz/-/mz-2.7.0.tgz",
            "integrity": "sha512-z81GNO7nnYMEhrGh9LeymoE4+Yr0Wn5McHIZMK5cfQCl+NDX08sCZgUc9/6MHni9IWuFLm1Z3HTCXu2z9fN62Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "any-promise": "^1.0.0",
                "object-assign": "^4.0.1",
                "thenify-all": "^1.0.0"
            }
        },
        "node_modules/nan": {
            "version": "2.24.0",
            "resolved": "https://registry.npmjs.org/nan/-/nan-2.24.0.tgz",
            "integrity": "sha512-Vpf9qnVW1RaDkoNKFUvfxqAbtI8ncb8OJlqZ9wwpXzWPEsvsB1nvdUi6oYrHIkQ1Y/tMDnr1h4nczS0VB9Xykg==",
            "dev": true,
            "license": "MIT",
            "optional": true
        },
        "node_modules/nanoid": {
            "version": "3.3.11",
            "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
            "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
            "dev": true,
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "bin": {
                "nanoid": "bin/nanoid.cjs"
            },
            "engines": {
                "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
            }
        },
        "node_modules/nanomatch": {
            "version": "1.2.13",
            "resolved": "https://registry.npmjs.org/nanomatch/-/nanomatch-1.2.13.tgz",
            "integrity": "sha512-fpoe2T0RbHwBTBUOftAfBPaDEi06ufaUai0mE6Yn1kacc3SnTErfb/h+X94VXzI64rKFHYImXSvdwGGCmwOqCA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "arr-diff": "^4.0.0",
                "array-unique": "^0.3.2",
                "define-property": "^2.0.2",
                "extend-shallow": "^3.0.2",
                "fragment-cache": "^0.2.1",
                "is-windows": "^1.0.2",
                "kind-of": "^6.0.2",
                "object.pick": "^1.3.0",
                "regex-not": "^1.0.0",
                "snapdragon": "^0.8.1",
                "to-regex": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/nanomatch/node_modules/extend-shallow": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-3.0.2.tgz",
            "integrity": "sha512-BwY5b5Ql4+qZoefgMj2NUmx+tehVTH/Kf4k1ZEtOHNFcm2wSxMRo992l6X3TIgni2eZVTZ85xMOjF31fwZAj6Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "assign-symbols": "^1.0.0",
                "is-extendable": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/nanomatch/node_modules/is-extendable": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz",
            "integrity": "sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-plain-object": "^2.0.4"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/nanomatch/node_modules/kind-of": {
            "version": "6.0.3",
            "resolved": "https://registry.npmjs.org/kind-of/-/kind-of-6.0.3.tgz",
            "integrity": "sha512-dcS1ul+9tmeD95T+x28/ehLgd9mENa3LsvDTtzm3vyBEO7RPptvAD+t44WVXaUjTBRcrpFeFlC8WCruUR456hw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/natural-compare": {
            "version": "1.4.0",
            "resolved": "https://registry.npmjs.org/natural-compare/-/natural-compare-1.4.0.tgz",
            "integrity": "sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/negotiator": {
            "version": "0.6.3",
            "resolved": "https://registry.npmjs.org/negotiator/-/negotiator-0.6.3.tgz",
            "integrity": "sha512-+EUsqGPLsM+j/zdChZjsnX51g4XrHFOIXwfnCVPGlQk/k5giakcKsuxCObBRu6DSm9opw/O6slWbJdghQM4bBg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/netmask": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/netmask/-/netmask-2.0.2.tgz",
            "integrity": "sha512-dBpDMdxv9Irdq66304OLfEmQ9tbNRFnFTuZiLo+bD+r332bBmMJ8GBLXklIXXgxd3+v9+KUnZaUR5PJMa75Gsg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4.0"
            }
        },
        "node_modules/node-releases": {
            "version": "2.0.27",
            "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.27.tgz",
            "integrity": "sha512-nmh3lCkYZ3grZvqcCH+fjmQ7X+H0OeZgP40OierEaAptX4XofMh5kwNbWh7lBduUzCcV/8kZ+NDLCwm2iorIlA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/node-sarif-builder": {
            "version": "3.3.1",
            "resolved": "https://registry.npmjs.org/node-sarif-builder/-/node-sarif-builder-3.3.1.tgz",
            "integrity": "sha512-8z5dAbhpxmk/WRQHXlv4V0h+9Y4Ugk+w08lyhV/7E/CQX9yDdBc3025/EG+RSMJU2aPFh/IQ7XDV7Ti5TLt/TA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@types/sarif": "^2.1.7",
                "fs-extra": "^11.1.1"
            },
            "engines": {
                "node": ">=20"
            }
        },
        "node_modules/normalize-path": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-3.0.0.tgz",
            "integrity": "sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/object-assign": {
            "version": "4.1.1",
            "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
            "integrity": "sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/object-copy": {
            "version": "0.1.0",
            "resolved": "https://registry.npmjs.org/object-copy/-/object-copy-0.1.0.tgz",
            "integrity": "sha512-79LYn6VAb63zgtmAteVOWo9Vdj71ZVBy3Pbse+VqxDpEP83XuujMrGqHIwAXJ5I/aM0zU7dIyIAhifVTPrNItQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "copy-descriptor": "^0.1.0",
                "define-property": "^0.2.5",
                "kind-of": "^3.0.3"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/object-copy/node_modules/define-property": {
            "version": "0.2.5",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz",
            "integrity": "sha512-Rr7ADjQZenceVOAKop6ALkkRAmH1A4Gx9hV/7ZujPUN2rkATqFO0JZLZInbAjpZYoJ1gUx8MRMQVkYemcbMSTA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/object-copy/node_modules/is-descriptor": {
            "version": "0.1.7",
            "resolved": "https://registry.npmjs.org/is-descriptor/-/is-descriptor-0.1.7.tgz",
            "integrity": "sha512-C3grZTvObeN1xud4cRWl366OMXZTj0+HGyk4hvfpx4ZHt1Pb60ANSXqCK7pdOTeUQpRzECBSTphqvD7U+l22Eg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-accessor-descriptor": "^1.0.1",
                "is-data-descriptor": "^1.0.1"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/object-hash": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/object-hash/-/object-hash-3.0.0.tgz",
            "integrity": "sha512-RSn9F68PjH9HqtltsSnqYC1XXoWe9Bju5+213R98cNGttag9q9yAOTzdbsqvIa7aNm5WffBZFpWYr2aWrklWAw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/object-visit": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/object-visit/-/object-visit-1.0.1.tgz",
            "integrity": "sha512-GBaMwwAVK9qbQN3Scdo0OyvgPW7l3lnaVMj84uTOZlswkX0KpF6fyDBJhtTthf7pymztoN36/KEr1DyhF96zEA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "isobject": "^3.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/object.pick": {
            "version": "1.3.0",
            "resolved": "https://registry.npmjs.org/object.pick/-/object.pick-1.3.0.tgz",
            "integrity": "sha512-tqa/UMy/CCoYmj+H5qc07qvSL9dqcs/WZENZ1JbtWBlATP+iVOe778gE6MSijnyCnORzDuX6hU+LA4SZ09YjFQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "isobject": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/on-finished": {
            "version": "2.3.0",
            "resolved": "https://registry.npmjs.org/on-finished/-/on-finished-2.3.0.tgz",
            "integrity": "sha512-ikqdkGAAyf/X/gPhXGvfgAytDZtDbr+bkNUJ0N9h5MI/dmdgCs3l6hoHrcUv41sRKew3jIwrp4qQDXiK99Utww==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ee-first": "1.1.1"
            },
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/on-headers": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/on-headers/-/on-headers-1.1.0.tgz",
            "integrity": "sha512-737ZY3yNnXy37FHkQxPzt4UZ2UWPWiCZWLvFZ4fu5cueciegX0zGPnrlY6bwRg4FdQOe9YU8MkmJwGhoMybl8A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/once": {
            "version": "1.4.0",
            "resolved": "https://registry.npmjs.org/once/-/once-1.4.0.tgz",
            "integrity": "sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "wrappy": "1"
            }
        },
        "node_modules/opn": {
            "version": "6.0.0",
            "resolved": "https://registry.npmjs.org/opn/-/opn-6.0.0.tgz",
            "integrity": "sha512-I9PKfIZC+e4RXZ/qr1RhgyCnGgYX0UEIlXgWnCOVACIvFgaC9rz6Won7xbdhoHrd8IIhV7YEpHjreNUNkqCGkQ==",
            "deprecated": "The package has been renamed to `open`",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-wsl": "^1.1.0"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/optionator": {
            "version": "0.9.4",
            "resolved": "https://registry.npmjs.org/optionator/-/optionator-0.9.4.tgz",
            "integrity": "sha512-6IpQ7mKUxRcZNLIObR0hz7lxsapSSIYNZJwXPGeF0mTVqGKFIXj1DQcMoT22S3ROcLyY/rz0PWaWZ9ayWmad9g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "deep-is": "^0.1.3",
                "fast-levenshtein": "^2.0.6",
                "levn": "^0.4.1",
                "prelude-ls": "^1.2.1",
                "type-check": "^0.4.0",
                "word-wrap": "^1.2.5"
            },
            "engines": {
                "node": ">= 0.8.0"
            }
        },
        "node_modules/p-limit": {
            "version": "3.1.0",
            "resolved": "https://registry.npmjs.org/p-limit/-/p-limit-3.1.0.tgz",
            "integrity": "sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "yocto-queue": "^0.1.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/p-locate": {
            "version": "5.0.0",
            "resolved": "https://registry.npmjs.org/p-locate/-/p-locate-5.0.0.tgz",
            "integrity": "sha512-LaNjtRWUBY++zB5nE/NwcaoMylSPk+S+ZHNB1TzdbMJMny6dynpAGt7X/tl/QYq3TIeE6nxHppbo2LGymrG5Pw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "p-limit": "^3.0.2"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/pac-proxy-agent": {
            "version": "7.2.0",
            "resolved": "https://registry.npmjs.org/pac-proxy-agent/-/pac-proxy-agent-7.2.0.tgz",
            "integrity": "sha512-TEB8ESquiLMc0lV8vcd5Ql/JAKAoyzHFXaStwjkzpOpC5Yv+pIzLfHvjTSdf3vpa2bMiUQrg9i6276yn8666aA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@tootallnate/quickjs-emscripten": "^0.23.0",
                "agent-base": "^7.1.2",
                "debug": "^4.3.4",
                "get-uri": "^6.0.1",
                "http-proxy-agent": "^7.0.0",
                "https-proxy-agent": "^7.0.6",
                "pac-resolver": "^7.0.1",
                "socks-proxy-agent": "^8.0.5"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/pac-resolver": {
            "version": "7.0.1",
            "resolved": "https://registry.npmjs.org/pac-resolver/-/pac-resolver-7.0.1.tgz",
            "integrity": "sha512-5NPgf87AT2STgwa2ntRMr45jTKrYBGkVU36yT0ig/n/GMAa3oPqhZfIQ2kMEimReg0+t9kZViDVZ83qfVUlckg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "degenerator": "^5.0.0",
                "netmask": "^2.0.2"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/parent-module": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/parent-module/-/parent-module-1.0.1.tgz",
            "integrity": "sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "callsites": "^3.0.0"
            },
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/parse-json": {
            "version": "5.2.0",
            "resolved": "https://registry.npmjs.org/parse-json/-/parse-json-5.2.0.tgz",
            "integrity": "sha512-ayCKvm/phCGxOkYRSCM82iDwct8/EonSEgCSxWxD7ve6jHggsFl4fZVQBPRNgQoKiuV/odhFrGzQXZwbifC8Rg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@babel/code-frame": "^7.0.0",
                "error-ex": "^1.3.1",
                "json-parse-even-better-errors": "^2.3.0",
                "lines-and-columns": "^1.1.6"
            },
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/parseurl": {
            "version": "1.3.3",
            "resolved": "https://registry.npmjs.org/parseurl/-/parseurl-1.3.3.tgz",
            "integrity": "sha512-CiyeOxFT/JZyN5m0z9PfXw4SCBJ6Sygz1Dpl0wqjlhDEGGBP1GnsUVEL0p63hoG1fcj3fHynXi9NYO4nWOL+qQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/pascalcase": {
            "version": "0.1.1",
            "resolved": "https://registry.npmjs.org/pascalcase/-/pascalcase-0.1.1.tgz",
            "integrity": "sha512-XHXfu/yOQRy9vYOtUDVMN60OEJjW013GoObG1o+xwQTpB9eYJX/BjXMsdW13ZDPruFhYYn0AG22w0xgQMwl3Nw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/path-dirname": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/path-dirname/-/path-dirname-1.0.2.tgz",
            "integrity": "sha512-ALzNPpyNq9AqXMBjeymIjFDAkAFH06mHJH/cSBHAgU0s4vfpBn6b2nf8tiRLvagKD8RbTpq2FKTBg7cl9l3c7Q==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/path-exists": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/path-exists/-/path-exists-4.0.0.tgz",
            "integrity": "sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/path-is-absolute": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/path-is-absolute/-/path-is-absolute-1.0.1.tgz",
            "integrity": "sha512-AVbw3UJ2e9bq64vSaS9Am0fje1Pa8pbGqTTsmXfaIiMpnr5DlDhfJOuLj9Sf95ZPVDAUerDfEk88MPmPe7UCQg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/path-key": {
            "version": "3.1.1",
            "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
            "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/path-parse": {
            "version": "1.0.7",
            "resolved": "https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz",
            "integrity": "sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/path-scurry": {
            "version": "1.11.1",
            "resolved": "https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz",
            "integrity": "sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==",
            "dev": true,
            "license": "BlueOak-1.0.0",
            "dependencies": {
                "lru-cache": "^10.2.0",
                "minipass": "^5.0.0 || ^6.0.2 || ^7.0.0"
            },
            "engines": {
                "node": ">=16 || 14 >=14.18"
            },
            "funding": {
                "url": "https://github.com/sponsors/isaacs"
            }
        },
        "node_modules/path-scurry/node_modules/minipass": {
            "version": "7.1.2",
            "resolved": "https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz",
            "integrity": "sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": ">=16 || 14 >=14.17"
            }
        },
        "node_modules/path-to-regexp": {
            "version": "6.3.0",
            "resolved": "https://registry.npmjs.org/path-to-regexp/-/path-to-regexp-6.3.0.tgz",
            "integrity": "sha512-Yhpw4T9C6hPpgPeA28us07OJeqZ5EzQTkbfwuhsUg0c237RomFoETJgmp2sa3F/41gfLE6G5cqcYwznmeEeOlQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/pathe": {
            "version": "2.0.3",
            "resolved": "https://registry.npmjs.org/pathe/-/pathe-2.0.3.tgz",
            "integrity": "sha512-WUjGcAqP1gQacoQe+OBJsFA7Ld4DyXuUIjZ5cc75cLHvJ7dtNsTugphxIADwspS+AraAUePCKrSVtPLFj/F88w==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/pause-stream": {
            "version": "0.0.11",
            "resolved": "https://registry.npmjs.org/pause-stream/-/pause-stream-0.0.11.tgz",
            "integrity": "sha512-e3FBlXLmN/D1S+zHzanP4E/4Z60oFAa3O051qt1pxa7DEJWKAyil6upYVXCWadEnuoqa4Pkc9oUx9zsxYeRv8A==",
            "dev": true,
            "license": [
                "MIT",
                "Apache2"
            ],
            "dependencies": {
                "through": "~2.3"
            }
        },
        "node_modules/pend": {
            "version": "1.2.0",
            "resolved": "https://registry.npmjs.org/pend/-/pend-1.2.0.tgz",
            "integrity": "sha512-F3asv42UuXchdzt+xXqfW1OGlVBe+mxa2mqI0pg5yAHZPvFmY3Y6drSf/GQ1A86WgWEN9Kzh/WrgKa6iGcHXLg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/picocolors": {
            "version": "1.1.1",
            "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
            "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/picomatch": {
            "version": "4.0.3",
            "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-4.0.3.tgz",
            "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
            "dev": true,
            "license": "MIT",
            "peer": true,
            "engines": {
                "node": ">=12"
            },
            "funding": {
                "url": "https://github.com/sponsors/jonschlinkert"
            }
        },
        "node_modules/pify": {
            "version": "2.3.0",
            "resolved": "https://registry.npmjs.org/pify/-/pify-2.3.0.tgz",
            "integrity": "sha512-udgsAY+fTnvv7kI7aaxbqwWNb0AHiB0qBO89PZKPkoTmGOgdbrHDKD+0B2X4uTfJ/FT1R09r9gTsjUjNJotuog==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/pirates": {
            "version": "4.0.7",
            "resolved": "https://registry.npmjs.org/pirates/-/pirates-4.0.7.tgz",
            "integrity": "sha512-TfySrs/5nm8fQJDcBDuUng3VOUKsd7S+zqvbOTiGXHfxX4wK31ard+hoNuvkicM/2YFzlpDgABOevKSsB4G/FA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/posix-character-classes": {
            "version": "0.1.1",
            "resolved": "https://registry.npmjs.org/posix-character-classes/-/posix-character-classes-0.1.1.tgz",
            "integrity": "sha512-xTgYBc3fuo7Yt7JbiuFxSYGToMoz8fLoE6TC9Wx1P/u+LfeThMOAqmuyECnlBaaJb+u1m9hHiXUEtwW4OzfUJg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/postcss": {
            "version": "8.5.6",
            "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.6.tgz",
            "integrity": "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/postcss/"
                },
                {
                    "type": "tidelift",
                    "url": "https://tidelift.com/funding/github/npm/postcss"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "peer": true,
            "dependencies": {
                "nanoid": "^3.3.11",
                "picocolors": "^1.1.1",
                "source-map-js": "^1.2.1"
            },
            "engines": {
                "node": "^10 || ^12 || >=14"
            }
        },
        "node_modules/postcss-import": {
            "version": "15.1.0",
            "resolved": "https://registry.npmjs.org/postcss-import/-/postcss-import-15.1.0.tgz",
            "integrity": "sha512-hpr+J05B2FVYUAXHeK1YyI267J/dDDhMU6B6civm8hSY1jYJnBXxzKDKDswzJmtLHryrjhnDjqqp/49t8FALew==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "postcss-value-parser": "^4.0.0",
                "read-cache": "^1.0.0",
                "resolve": "^1.1.7"
            },
            "engines": {
                "node": ">=14.0.0"
            },
            "peerDependencies": {
                "postcss": "^8.0.0"
            }
        },
        "node_modules/postcss-js": {
            "version": "4.1.0",
            "resolved": "https://registry.npmjs.org/postcss-js/-/postcss-js-4.1.0.tgz",
            "integrity": "sha512-oIAOTqgIo7q2EOwbhb8UalYePMvYoIeRY2YKntdpFQXNosSu3vLrniGgmH9OKs/qAkfoj5oB3le/7mINW1LCfw==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/postcss/"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "camelcase-css": "^2.0.1"
            },
            "engines": {
                "node": "^12 || ^14 || >= 16"
            },
            "peerDependencies": {
                "postcss": "^8.4.21"
            }
        },
        "node_modules/postcss-load-config": {
            "version": "6.0.1",
            "resolved": "https://registry.npmjs.org/postcss-load-config/-/postcss-load-config-6.0.1.tgz",
            "integrity": "sha512-oPtTM4oerL+UXmx+93ytZVN82RrlY/wPUV8IeDxFrzIjXOLF1pN+EmKPLbubvKHT2HC20xXsCAH2Z+CKV6Oz/g==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/postcss/"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "lilconfig": "^3.1.1"
            },
            "engines": {
                "node": ">= 18"
            },
            "peerDependencies": {
                "jiti": ">=1.21.0",
                "postcss": ">=8.0.9",
                "tsx": "^4.8.1",
                "yaml": "^2.4.2"
            },
            "peerDependenciesMeta": {
                "jiti": {
                    "optional": true
                },
                "postcss": {
                    "optional": true
                },
                "tsx": {
                    "optional": true
                },
                "yaml": {
                    "optional": true
                }
            }
        },
        "node_modules/postcss-nested": {
            "version": "6.2.0",
            "resolved": "https://registry.npmjs.org/postcss-nested/-/postcss-nested-6.2.0.tgz",
            "integrity": "sha512-HQbt28KulC5AJzG+cZtj9kvKB93CFCdLvog1WFLf1D+xmMvPGlBstkpTEZfK5+AN9hfJocyBFCNiqyS48bpgzQ==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/postcss/"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "postcss-selector-parser": "^6.1.1"
            },
            "engines": {
                "node": ">=12.0"
            },
            "peerDependencies": {
                "postcss": "^8.2.14"
            }
        },
        "node_modules/postcss-selector-parser": {
            "version": "6.1.2",
            "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.1.2.tgz",
            "integrity": "sha512-Q8qQfPiZ+THO/3ZrOrO0cJJKfpYCagtMUkXbnEfmgUjwXg6z/WBeOyS9APBBPCTSiDV+s4SwQGu8yFsiMRIudg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "cssesc": "^3.0.0",
                "util-deprecate": "^1.0.2"
            },
            "engines": {
                "node": ">=4"
            }
        },
        "node_modules/postcss-value-parser": {
            "version": "4.2.0",
            "resolved": "https://registry.npmjs.org/postcss-value-parser/-/postcss-value-parser-4.2.0.tgz",
            "integrity": "sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/prelude-ls": {
            "version": "1.2.1",
            "resolved": "https://registry.npmjs.org/prelude-ls/-/prelude-ls-1.2.1.tgz",
            "integrity": "sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8.0"
            }
        },
        "node_modules/prettier": {
            "version": "3.7.4",
            "resolved": "https://registry.npmjs.org/prettier/-/prettier-3.7.4.tgz",
            "integrity": "sha512-v6UNi1+3hSlVvv8fSaoUbggEM5VErKmmpGA7Pl3HF8V6uKY7rvClBOJlH6yNwQtfTueNkGVpOv/mtWL9L4bgRA==",
            "dev": true,
            "license": "MIT",
            "bin": {
                "prettier": "bin/prettier.cjs"
            },
            "engines": {
                "node": ">=14"
            },
            "funding": {
                "url": "https://github.com/prettier/prettier?sponsor=1"
            }
        },
        "node_modules/process-nextick-args": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/process-nextick-args/-/process-nextick-args-2.0.1.tgz",
            "integrity": "sha512-3ouUOpQhtgrbOa17J7+uxOTpITYWaGP7/AhoR3+A+/1e9skrzelGi/dXzEYyvbxubEF6Wn2ypscTKiKJFFn1ag==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/progress": {
            "version": "2.0.3",
            "resolved": "https://registry.npmjs.org/progress/-/progress-2.0.3.tgz",
            "integrity": "sha512-7PiHtLll5LdnKIMw100I+8xJXR5gW2QwWYkT6iJva0bXitZKa/XMrSbdmg3r2Xnaidz9Qumd0VPaMrZlF9V9sA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.4.0"
            }
        },
        "node_modules/proxy-agent": {
            "version": "6.5.0",
            "resolved": "https://registry.npmjs.org/proxy-agent/-/proxy-agent-6.5.0.tgz",
            "integrity": "sha512-TmatMXdr2KlRiA2CyDu8GqR8EjahTG3aY3nXjdzFyoZbmB8hrBsTyMezhULIXKnC0jpfjlmiZ3+EaCzoInSu/A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "agent-base": "^7.1.2",
                "debug": "^4.3.4",
                "http-proxy-agent": "^7.0.1",
                "https-proxy-agent": "^7.0.6",
                "lru-cache": "^7.14.1",
                "pac-proxy-agent": "^7.1.0",
                "proxy-from-env": "^1.1.0",
                "socks-proxy-agent": "^8.0.5"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/proxy-agent/node_modules/lru-cache": {
            "version": "7.18.3",
            "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-7.18.3.tgz",
            "integrity": "sha512-jumlc0BIUrS3qJGgIkWZsyfAM7NCWiBcCDhnd+3NNM5KbBmLTgHVfWBcg6W+rLUsIpzpERPsvwUP7CckAQSOoA==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/proxy-from-env": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/proxy-from-env/-/proxy-from-env-1.1.0.tgz",
            "integrity": "sha512-D+zkORCbA9f1tdWRK0RaCR3GPv50cMxcrz4X8k5LTSUD1Dkw47mKJEZQNunItRTkWwgtaUSo1RVFRIG9ZXiFYg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/proxy-middleware": {
            "version": "0.15.0",
            "resolved": "https://registry.npmjs.org/proxy-middleware/-/proxy-middleware-0.15.0.tgz",
            "integrity": "sha512-EGCG8SeoIRVMhsqHQUdDigB2i7qU7fCsWASwn54+nPutYO8n4q6EiwMzyfWlC+dzRFExP+kvcnDFdBDHoZBU7Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.8.0"
            }
        },
        "node_modules/pump": {
            "version": "3.0.3",
            "resolved": "https://registry.npmjs.org/pump/-/pump-3.0.3.tgz",
            "integrity": "sha512-todwxLMY7/heScKmntwQG8CXVkWUOdYxIvY2s0VWAAMh/nd8SoYiRaKjlr7+iCs984f2P8zvrfWcDDYVb73NfA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "end-of-stream": "^1.1.0",
                "once": "^1.3.1"
            }
        },
        "node_modules/punycode": {
            "version": "2.3.1",
            "resolved": "https://registry.npmjs.org/punycode/-/punycode-2.3.1.tgz",
            "integrity": "sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/puppeteer": {
            "version": "22.15.0",
            "resolved": "https://registry.npmjs.org/puppeteer/-/puppeteer-22.15.0.tgz",
            "integrity": "sha512-XjCY1SiSEi1T7iSYuxS82ft85kwDJUS7wj1Z0eGVXKdtr5g4xnVcbjwxhq5xBnpK/E7x1VZZoJDxpjAOasHT4Q==",
            "deprecated": "< 24.15.0 is no longer supported",
            "dev": true,
            "hasInstallScript": true,
            "license": "Apache-2.0",
            "dependencies": {
                "@puppeteer/browsers": "2.3.0",
                "cosmiconfig": "^9.0.0",
                "devtools-protocol": "0.0.1312386",
                "puppeteer-core": "22.15.0"
            },
            "bin": {
                "puppeteer": "lib/esm/puppeteer/node/cli.js"
            },
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/puppeteer-core": {
            "version": "22.15.0",
            "resolved": "https://registry.npmjs.org/puppeteer-core/-/puppeteer-core-22.15.0.tgz",
            "integrity": "sha512-cHArnywCiAAVXa3t4GGL2vttNxh7GqXtIYGym99egkNJ3oG//wL9LkvO4WE8W1TJe95t1F1ocu9X4xWaGsOKOA==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "@puppeteer/browsers": "2.3.0",
                "chromium-bidi": "0.6.3",
                "debug": "^4.3.6",
                "devtools-protocol": "0.0.1312386",
                "ws": "^8.18.0"
            },
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/queue-microtask": {
            "version": "1.2.3",
            "resolved": "https://registry.npmjs.org/queue-microtask/-/queue-microtask-1.2.3.tgz",
            "integrity": "sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==",
            "dev": true,
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/feross"
                },
                {
                    "type": "patreon",
                    "url": "https://www.patreon.com/feross"
                },
                {
                    "type": "consulting",
                    "url": "https://feross.org/support"
                }
            ],
            "license": "MIT"
        },
        "node_modules/range-parser": {
            "version": "1.2.1",
            "resolved": "https://registry.npmjs.org/range-parser/-/range-parser-1.2.1.tgz",
            "integrity": "sha512-Hrgsx+orqoygnmhFbKaHE6c296J+HTAQXoxEF6gNupROmmGJRoyzfG3ccAveqCBrwr/2yxQ5BVd/GTl5agOwSg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/read-cache": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/read-cache/-/read-cache-1.0.0.tgz",
            "integrity": "sha512-Owdv/Ft7IjOgm/i0xvNDZ1LrRANRfew4b2prF3OWMQLxLfu3bS8FVhCsrSCMK4lR56Y9ya+AThoTpDCTxCmpRA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "pify": "^2.3.0"
            }
        },
        "node_modules/readable-stream": {
            "version": "2.3.8",
            "resolved": "https://registry.npmjs.org/readable-stream/-/readable-stream-2.3.8.tgz",
            "integrity": "sha512-8p0AUk4XODgIewSi0l8Epjs+EVnWiK7NoDIEGU0HhE7+ZyY8D1IMY7odu5lRrFXGg71L15KG8QrPmum45RTtdA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "core-util-is": "~1.0.0",
                "inherits": "~2.0.3",
                "isarray": "~1.0.0",
                "process-nextick-args": "~2.0.0",
                "safe-buffer": "~5.1.1",
                "string_decoder": "~1.1.1",
                "util-deprecate": "~1.0.1"
            }
        },
        "node_modules/readdirp": {
            "version": "2.2.1",
            "resolved": "https://registry.npmjs.org/readdirp/-/readdirp-2.2.1.tgz",
            "integrity": "sha512-1JU/8q+VgFZyxwrJ+SVIOsh+KywWGpds3NTqikiKpDMZWScmAYyKIgqkO+ARvNWJfXeXR1zxz7aHF4u4CyH6vQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "graceful-fs": "^4.1.11",
                "micromatch": "^3.1.10",
                "readable-stream": "^2.0.2"
            },
            "engines": {
                "node": ">=0.10"
            }
        },
        "node_modules/regex-not": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/regex-not/-/regex-not-1.0.2.tgz",
            "integrity": "sha512-J6SDjUgDxQj5NusnOtdFxDwN/+HWykR8GELwctJ7mdqhcyy1xEc4SRFHUXvxTp661YaVKAjfRLZ9cCqS6tn32A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "extend-shallow": "^3.0.2",
                "safe-regex": "^1.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/regex-not/node_modules/extend-shallow": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-3.0.2.tgz",
            "integrity": "sha512-BwY5b5Ql4+qZoefgMj2NUmx+tehVTH/Kf4k1ZEtOHNFcm2wSxMRo992l6X3TIgni2eZVTZ85xMOjF31fwZAj6Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "assign-symbols": "^1.0.0",
                "is-extendable": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/regex-not/node_modules/is-extendable": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz",
            "integrity": "sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-plain-object": "^2.0.4"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/remove-trailing-separator": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/remove-trailing-separator/-/remove-trailing-separator-1.1.0.tgz",
            "integrity": "sha512-/hS+Y0u3aOfIETiaiirUFwDBDzmXPvO+jAfKTitUngIPzdKc6Z0LoFjM/CK5PL4C+eKwHohlHAb6H0VFfmmUsw==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/repeat-element": {
            "version": "1.1.4",
            "resolved": "https://registry.npmjs.org/repeat-element/-/repeat-element-1.1.4.tgz",
            "integrity": "sha512-LFiNfRcSu7KK3evMyYOuCzv3L10TW7yC1G2/+StMjK8Y6Vqd2MG7r/Qjw4ghtuCOjFvlnms/iMmLqpvW/ES/WQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/repeat-string": {
            "version": "1.6.1",
            "resolved": "https://registry.npmjs.org/repeat-string/-/repeat-string-1.6.1.tgz",
            "integrity": "sha512-PV0dzCYDNfRi1jCDbJzpW7jNNDRuCOG/jI5ctQcGKt/clZD+YcPS3yIlWuTJMmESC8aevCFmWJy5wjAFgNqN6w==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10"
            }
        },
        "node_modules/require-directory": {
            "version": "2.1.1",
            "resolved": "https://registry.npmjs.org/require-directory/-/require-directory-2.1.1.tgz",
            "integrity": "sha512-fGxEI7+wsG9xrvdjsrlmL22OMTTiHRwAMroiEeMgq8gzoLC/PQr7RsRDSTLUg/bZAZtF+TVIkHc6/4RIKrui+Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/resolve": {
            "version": "1.22.11",
            "resolved": "https://registry.npmjs.org/resolve/-/resolve-1.22.11.tgz",
            "integrity": "sha512-RfqAvLnMl313r7c9oclB1HhUEAezcpLjz95wFH4LVuhk9JF/r22qmVP9AMmOU4vMX7Q8pN8jwNg/CSpdFnMjTQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-core-module": "^2.16.1",
                "path-parse": "^1.0.7",
                "supports-preserve-symlinks-flag": "^1.0.0"
            },
            "bin": {
                "resolve": "bin/resolve"
            },
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/resolve-from": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/resolve-from/-/resolve-from-4.0.0.tgz",
            "integrity": "sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=4"
            }
        },
        "node_modules/resolve-url": {
            "version": "0.2.1",
            "resolved": "https://registry.npmjs.org/resolve-url/-/resolve-url-0.2.1.tgz",
            "integrity": "sha512-ZuF55hVUQaaczgOIwqWzkEcEidmlD/xl44x1UZnhOXcYuFN2S6+rcxpG+C1N3So0wvNI3DmJICUFfu2SxhBmvg==",
            "deprecated": "https://github.com/lydell/resolve-url#deprecated",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/ret": {
            "version": "0.1.15",
            "resolved": "https://registry.npmjs.org/ret/-/ret-0.1.15.tgz",
            "integrity": "sha512-TTlYpa+OL+vMMNG24xSlQGEJ3B/RzEfUlLct7b5G/ytav+wPrplCpVMFuwzXbkecJrb6IYo1iFb0S9v37754mg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.12"
            }
        },
        "node_modules/reusify": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/reusify/-/reusify-1.1.0.tgz",
            "integrity": "sha512-g6QUff04oZpHs0eG5p83rFLhHeV00ug/Yf9nZM6fLeUrPguBTkTQOdpAWWspMh55TZfVQDPaN3NQJfbVRAxdIw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "iojs": ">=1.0.0",
                "node": ">=0.10.0"
            }
        },
        "node_modules/rimraf": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/rimraf/-/rimraf-3.0.2.tgz",
            "integrity": "sha512-JZkJMZkAGFFPP2YqXZXPbMlMBgsxzE8ILs4lMIX/2o0L9UBw9O/Y3o6wFw/i9YLapcUJWwqbi3kdxIPdC62TIA==",
            "deprecated": "Rimraf versions prior to v4 are no longer supported",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "glob": "^7.1.3"
            },
            "bin": {
                "rimraf": "bin.js"
            },
            "funding": {
                "url": "https://github.com/sponsors/isaacs"
            }
        },
        "node_modules/rimraf/node_modules/glob": {
            "version": "7.2.3",
            "resolved": "https://registry.npmjs.org/glob/-/glob-7.2.3.tgz",
            "integrity": "sha512-nFR0zLpU2YCaRxwoCJvL6UvCH2JFyFVIvwTLsIf21AuHlMskA1hhTdk+LlYJtOlYt9v6dvszD2BGRqBL+iQK9Q==",
            "deprecated": "Glob versions prior to v9 are no longer supported",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "fs.realpath": "^1.0.0",
                "inflight": "^1.0.4",
                "inherits": "2",
                "minimatch": "^3.1.1",
                "once": "^1.3.0",
                "path-is-absolute": "^1.0.0"
            },
            "engines": {
                "node": "*"
            },
            "funding": {
                "url": "https://github.com/sponsors/isaacs"
            }
        },
        "node_modules/rollup": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/rollup/-/rollup-4.54.0.tgz",
            "integrity": "sha512-3nk8Y3a9Ea8szgKhinMlGMhGMw89mqule3KWczxhIzqudyHdCIOHw8WJlj/r329fACjKLEh13ZSk7oE22kyeIw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@types/estree": "1.0.8"
            },
            "bin": {
                "rollup": "dist/bin/rollup"
            },
            "engines": {
                "node": ">=18.0.0",
                "npm": ">=8.0.0"
            },
            "optionalDependencies": {
                "@rollup/rollup-android-arm-eabi": "4.54.0",
                "@rollup/rollup-android-arm64": "4.54.0",
                "@rollup/rollup-darwin-arm64": "4.54.0",
                "@rollup/rollup-darwin-x64": "4.54.0",
                "@rollup/rollup-freebsd-arm64": "4.54.0",
                "@rollup/rollup-freebsd-x64": "4.54.0",
                "@rollup/rollup-linux-arm-gnueabihf": "4.54.0",
                "@rollup/rollup-linux-arm-musleabihf": "4.54.0",
                "@rollup/rollup-linux-arm64-gnu": "4.54.0",
                "@rollup/rollup-linux-arm64-musl": "4.54.0",
                "@rollup/rollup-linux-loong64-gnu": "4.54.0",
                "@rollup/rollup-linux-ppc64-gnu": "4.54.0",
                "@rollup/rollup-linux-riscv64-gnu": "4.54.0",
                "@rollup/rollup-linux-riscv64-musl": "4.54.0",
                "@rollup/rollup-linux-s390x-gnu": "4.54.0",
                "@rollup/rollup-linux-x64-gnu": "4.54.0",
                "@rollup/rollup-linux-x64-musl": "4.54.0",
                "@rollup/rollup-openharmony-arm64": "4.54.0",
                "@rollup/rollup-win32-arm64-msvc": "4.54.0",
                "@rollup/rollup-win32-ia32-msvc": "4.54.0",
                "@rollup/rollup-win32-x64-gnu": "4.54.0",
                "@rollup/rollup-win32-x64-msvc": "4.54.0",
                "fsevents": "~2.3.2"
            }
        },
        "node_modules/run-parallel": {
            "version": "1.2.0",
            "resolved": "https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz",
            "integrity": "sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==",
            "dev": true,
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/feross"
                },
                {
                    "type": "patreon",
                    "url": "https://www.patreon.com/feross"
                },
                {
                    "type": "consulting",
                    "url": "https://feross.org/support"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "queue-microtask": "^1.2.2"
            }
        },
        "node_modules/rxjs": {
            "version": "7.8.2",
            "resolved": "https://registry.npmjs.org/rxjs/-/rxjs-7.8.2.tgz",
            "integrity": "sha512-dhKf903U/PQZY6boNNtAGdWbG85WAbjT/1xYoZIC7FAY0yWapOBQVsVrDl58W86//e1VpMNBtRV4MaXfdMySFA==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "tslib": "^2.1.0"
            }
        },
        "node_modules/safe-buffer": {
            "version": "5.1.2",
            "resolved": "https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.1.2.tgz",
            "integrity": "sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/safe-regex": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/safe-regex/-/safe-regex-1.1.0.tgz",
            "integrity": "sha512-aJXcif4xnaNUzvUuC5gcb46oTS7zvg4jpMTnuqtrEPlR3vFr4pxtdTwaF1Qs3Enjn9HK+ZlwQui+a7z0SywIzg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ret": "~0.1.10"
            }
        },
        "node_modules/semver": {
            "version": "7.7.3",
            "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
            "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
            "dev": true,
            "license": "ISC",
            "bin": {
                "semver": "bin/semver.js"
            },
            "engines": {
                "node": ">=10"
            }
        },
        "node_modules/send": {
            "version": "1.2.1",
            "resolved": "https://registry.npmjs.org/send/-/send-1.2.1.tgz",
            "integrity": "sha512-1gnZf7DFcoIcajTjTwjwuDjzuz4PPcY2StKPlsGAQ1+YH20IRVrBaXSWmdjowTJ6u8Rc01PoYOGHXfP1mYcZNQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "debug": "^4.4.3",
                "encodeurl": "^2.0.0",
                "escape-html": "^1.0.3",
                "etag": "^1.8.1",
                "fresh": "^2.0.0",
                "http-errors": "^2.0.1",
                "mime-types": "^3.0.2",
                "ms": "^2.1.3",
                "on-finished": "^2.4.1",
                "range-parser": "^1.2.1",
                "statuses": "^2.0.2"
            },
            "engines": {
                "node": ">= 18"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/express"
            }
        },
        "node_modules/send/node_modules/encodeurl": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/encodeurl/-/encodeurl-2.0.0.tgz",
            "integrity": "sha512-Q0n9HRi4m6JuGIV1eFlmvJB7ZEVxu93IrMyiMsGC0lrMJMWzRgx6WGquyfQgZVb31vhGgXnfmPNNXmxnOkRBrg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/send/node_modules/on-finished": {
            "version": "2.4.1",
            "resolved": "https://registry.npmjs.org/on-finished/-/on-finished-2.4.1.tgz",
            "integrity": "sha512-oVlzkg3ENAhCk2zdv7IJwd/QUD4z2RxRwpkcGY8psCVcCYZNq4wYnVWALHM+brtuJjePWiYF/ClmuDr8Ch5+kg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ee-first": "1.1.1"
            },
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/send/node_modules/statuses": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/statuses/-/statuses-2.0.2.tgz",
            "integrity": "sha512-DvEy55V3DB7uknRo+4iOGT5fP1slR8wQohVdknigZPMpMstaKJQWhwiYBACJE3Ul2pTnATihhBYnRhZQHGBiRw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/serve-index": {
            "version": "1.9.1",
            "resolved": "https://registry.npmjs.org/serve-index/-/serve-index-1.9.1.tgz",
            "integrity": "sha512-pXHfKNP4qujrtteMrSBb0rc8HJ9Ms/GrXwcUtUtD5s4ewDJI8bT3Cz2zTVRMKtri49pLx2e0Ya8ziP5Ya2pZZw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "accepts": "~1.3.4",
                "batch": "0.6.1",
                "debug": "2.6.9",
                "escape-html": "~1.0.3",
                "http-errors": "~1.6.2",
                "mime-types": "~2.1.17",
                "parseurl": "~1.3.2"
            },
            "engines": {
                "node": ">= 0.8.0"
            }
        },
        "node_modules/serve-index/node_modules/debug": {
            "version": "2.6.9",
            "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
            "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "2.0.0"
            }
        },
        "node_modules/serve-index/node_modules/depd": {
            "version": "1.1.2",
            "resolved": "https://registry.npmjs.org/depd/-/depd-1.1.2.tgz",
            "integrity": "sha512-7emPTl6Dpo6JRXOXjLRxck+FlLRX5847cLKEn00PLAgc3g2hTZZgr+e4c2v6QpSmLeFP3n5yUo7ft6avBK/5jQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/serve-index/node_modules/http-errors": {
            "version": "1.6.3",
            "resolved": "https://registry.npmjs.org/http-errors/-/http-errors-1.6.3.tgz",
            "integrity": "sha512-lks+lVC8dgGyh97jxvxeYTWQFvh4uw4yC12gVl63Cg30sjPX4wuGcdkICVXDAESr6OJGjqGA8Iz5mkeN6zlD7A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "depd": "~1.1.2",
                "inherits": "2.0.3",
                "setprototypeof": "1.1.0",
                "statuses": ">= 1.4.0 < 2"
            },
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/serve-index/node_modules/inherits": {
            "version": "2.0.3",
            "resolved": "https://registry.npmjs.org/inherits/-/inherits-2.0.3.tgz",
            "integrity": "sha512-x00IRNXNy63jwGkJmzPigoySHbaqpNuzKbBOmzK+g2OdZpQ9w+sxCN+VSB3ja7IAge2OP2qpfxTjeNcyjmW1uw==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/serve-index/node_modules/mime-db": {
            "version": "1.52.0",
            "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
            "integrity": "sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/serve-index/node_modules/mime-types": {
            "version": "2.1.35",
            "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz",
            "integrity": "sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "mime-db": "1.52.0"
            },
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/serve-index/node_modules/ms": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
            "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/serve-index/node_modules/setprototypeof": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/setprototypeof/-/setprototypeof-1.1.0.tgz",
            "integrity": "sha512-BvE/TwpZX4FXExxOxZyRGQQv651MSwmWKZGqvmPcRIjDqWub67kTKuIMx43cZZrS/cBBzwBcNDWoFxt2XEFIpQ==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/set-value": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/set-value/-/set-value-2.0.1.tgz",
            "integrity": "sha512-JxHc1weCN68wRY0fhCoXpyK55m/XPHafOmK4UWD7m2CI14GMcFypt4w/0+NV5f/ZMby2F6S2wwA7fgynh9gWSw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "extend-shallow": "^2.0.1",
                "is-extendable": "^0.1.1",
                "is-plain-object": "^2.0.3",
                "split-string": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/setprototypeof": {
            "version": "1.2.0",
            "resolved": "https://registry.npmjs.org/setprototypeof/-/setprototypeof-1.2.0.tgz",
            "integrity": "sha512-E5LDX7Wrp85Kil5bhZv46j8jOeboKq5JMmYM3gVGdGH8xFpPWXUMsNrlODCrkoxMEeNi/XZIwuRvY4XNwYMJpw==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/sharp": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/sharp/-/sharp-0.33.5.tgz",
            "integrity": "sha512-haPVm1EkS9pgvHrQ/F3Xy+hgcuMV0Wm9vfIBSiwZ05k+xgb0PkBQpGsAA/oWdDobNaZTH5ppvHtzCFbnSEwHVw==",
            "dev": true,
            "hasInstallScript": true,
            "license": "Apache-2.0",
            "dependencies": {
                "color": "^4.2.3",
                "detect-libc": "^2.0.3",
                "semver": "^7.6.3"
            },
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-darwin-arm64": "0.33.5",
                "@img/sharp-darwin-x64": "0.33.5",
                "@img/sharp-libvips-darwin-arm64": "1.0.4",
                "@img/sharp-libvips-darwin-x64": "1.0.4",
                "@img/sharp-libvips-linux-arm": "1.0.5",
                "@img/sharp-libvips-linux-arm64": "1.0.4",
                "@img/sharp-libvips-linux-s390x": "1.0.4",
                "@img/sharp-libvips-linux-x64": "1.0.4",
                "@img/sharp-libvips-linuxmusl-arm64": "1.0.4",
                "@img/sharp-libvips-linuxmusl-x64": "1.0.4",
                "@img/sharp-linux-arm": "0.33.5",
                "@img/sharp-linux-arm64": "0.33.5",
                "@img/sharp-linux-s390x": "0.33.5",
                "@img/sharp-linux-x64": "0.33.5",
                "@img/sharp-linuxmusl-arm64": "0.33.5",
                "@img/sharp-linuxmusl-x64": "0.33.5",
                "@img/sharp-wasm32": "0.33.5",
                "@img/sharp-win32-ia32": "0.33.5",
                "@img/sharp-win32-x64": "0.33.5"
            }
        },
        "node_modules/shebang-command": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
            "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "shebang-regex": "^3.0.0"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/shebang-regex": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
            "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/shell-quote": {
            "version": "1.8.3",
            "resolved": "https://registry.npmjs.org/shell-quote/-/shell-quote-1.8.3.tgz",
            "integrity": "sha512-ObmnIF4hXNg1BqhnHmgbDETF8dLPCggZWBjkQfhZpbszZnYur5DUljTcCHii5LC3J5E0yeO/1LIMyH+UvHQgyw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/simple-swizzle": {
            "version": "0.2.4",
            "resolved": "https://registry.npmjs.org/simple-swizzle/-/simple-swizzle-0.2.4.tgz",
            "integrity": "sha512-nAu1WFPQSMNr2Zn9PGSZK9AGn4t/y97lEm+MXTtUDwfP0ksAIX4nO+6ruD9Jwut4C49SB1Ws+fbXsm/yScWOHw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-arrayish": "^0.3.1"
            }
        },
        "node_modules/smart-buffer": {
            "version": "4.2.0",
            "resolved": "https://registry.npmjs.org/smart-buffer/-/smart-buffer-4.2.0.tgz",
            "integrity": "sha512-94hK0Hh8rPqQl2xXc3HsaBoOXKV20MToPkcXvwbISWLEs+64sBq5kFgn2kJDHb1Pry9yrP0dxrCI9RRci7RXKg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 6.0.0",
                "npm": ">= 3.0.0"
            }
        },
        "node_modules/snapdragon": {
            "version": "0.8.2",
            "resolved": "https://registry.npmjs.org/snapdragon/-/snapdragon-0.8.2.tgz",
            "integrity": "sha512-FtyOnWN/wCHTVXOMwvSv26d+ko5vWlIDD6zoUJ7LW8vh+ZBC8QdljveRP+crNrtBwioEUWy/4dMtbBjA4ioNlg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "base": "^0.11.1",
                "debug": "^2.2.0",
                "define-property": "^0.2.5",
                "extend-shallow": "^2.0.1",
                "map-cache": "^0.2.2",
                "source-map": "^0.5.6",
                "source-map-resolve": "^0.5.0",
                "use": "^3.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/snapdragon-node": {
            "version": "2.1.1",
            "resolved": "https://registry.npmjs.org/snapdragon-node/-/snapdragon-node-2.1.1.tgz",
            "integrity": "sha512-O27l4xaMYt/RSQ5TR3vpWCAB5Kb/czIcqUFOM/C4fYcLnbZUc1PkjTAMjof2pBWaSTwOUd6qUHcFGVGj7aIwnw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "define-property": "^1.0.0",
                "isobject": "^3.0.0",
                "snapdragon-util": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/snapdragon-node/node_modules/define-property": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-1.0.0.tgz",
            "integrity": "sha512-cZTYKFWspt9jZsMscWo8sc/5lbPC9Q0N5nBLgb+Yd915iL3udB1uFgS3B8YCx66UVHq018DAVFoee7x+gxggeA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/snapdragon-util": {
            "version": "3.0.1",
            "resolved": "https://registry.npmjs.org/snapdragon-util/-/snapdragon-util-3.0.1.tgz",
            "integrity": "sha512-mbKkMdQKsjX4BAL4bRYTj21edOf8cN7XHdYUJEe+Zn99hVEYcMvKPct1IqNe7+AZPirn8BCDOQBHQZknqmKlZQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "kind-of": "^3.2.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/snapdragon/node_modules/debug": {
            "version": "2.6.9",
            "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
            "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "2.0.0"
            }
        },
        "node_modules/snapdragon/node_modules/define-property": {
            "version": "0.2.5",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz",
            "integrity": "sha512-Rr7ADjQZenceVOAKop6ALkkRAmH1A4Gx9hV/7ZujPUN2rkATqFO0JZLZInbAjpZYoJ1gUx8MRMQVkYemcbMSTA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/snapdragon/node_modules/is-descriptor": {
            "version": "0.1.7",
            "resolved": "https://registry.npmjs.org/is-descriptor/-/is-descriptor-0.1.7.tgz",
            "integrity": "sha512-C3grZTvObeN1xud4cRWl366OMXZTj0+HGyk4hvfpx4ZHt1Pb60ANSXqCK7pdOTeUQpRzECBSTphqvD7U+l22Eg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-accessor-descriptor": "^1.0.1",
                "is-data-descriptor": "^1.0.1"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/snapdragon/node_modules/ms": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
            "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/snapdragon/node_modules/source-map": {
            "version": "0.5.7",
            "resolved": "https://registry.npmjs.org/source-map/-/source-map-0.5.7.tgz",
            "integrity": "sha512-LbrmJOMUSdEVxIKvdcJzQC+nQhe8FUZQTXQy6+I75skNgn3OoQ0DZA8YnFa7gp8tqtL3KPf1kmo0R5DoApeSGQ==",
            "dev": true,
            "license": "BSD-3-Clause",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/socks": {
            "version": "2.8.7",
            "resolved": "https://registry.npmjs.org/socks/-/socks-2.8.7.tgz",
            "integrity": "sha512-HLpt+uLy/pxB+bum/9DzAgiKS8CX1EvbWxI4zlmgGCExImLdiad2iCwXT5Z4c9c3Eq8rP2318mPW2c+QbtjK8A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ip-address": "^10.0.1",
                "smart-buffer": "^4.2.0"
            },
            "engines": {
                "node": ">= 10.0.0",
                "npm": ">= 3.0.0"
            }
        },
        "node_modules/socks-proxy-agent": {
            "version": "8.0.5",
            "resolved": "https://registry.npmjs.org/socks-proxy-agent/-/socks-proxy-agent-8.0.5.tgz",
            "integrity": "sha512-HehCEsotFqbPW9sJ8WVYB6UbmIMv7kUUORIF2Nncq4VQvBfNBLibW9YZR5dlYCSUhwcD628pRllm7n+E+YTzJw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "agent-base": "^7.1.2",
                "debug": "^4.3.4",
                "socks": "^2.8.3"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/source-map": {
            "version": "0.6.1",
            "resolved": "https://registry.npmjs.org/source-map/-/source-map-0.6.1.tgz",
            "integrity": "sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g==",
            "dev": true,
            "license": "BSD-3-Clause",
            "optional": true,
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/source-map-js": {
            "version": "1.2.1",
            "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
            "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
            "dev": true,
            "license": "BSD-3-Clause",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/source-map-resolve": {
            "version": "0.5.3",
            "resolved": "https://registry.npmjs.org/source-map-resolve/-/source-map-resolve-0.5.3.tgz",
            "integrity": "sha512-Htz+RnsXWk5+P2slx5Jh3Q66vhQj1Cllm0zvnaY98+NFx+Dv2CF/f5O/t8x+KaNdrdIAsruNzoh/KpialbqAnw==",
            "deprecated": "See https://github.com/lydell/source-map-resolve#deprecated",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "atob": "^2.1.2",
                "decode-uri-component": "^0.2.0",
                "resolve-url": "^0.2.1",
                "source-map-url": "^0.4.0",
                "urix": "^0.1.0"
            }
        },
        "node_modules/source-map-url": {
            "version": "0.4.1",
            "resolved": "https://registry.npmjs.org/source-map-url/-/source-map-url-0.4.1.tgz",
            "integrity": "sha512-cPiFOTLUKvJFIg4SKVScy4ilPPW6rFgMgfuZJPNoDuMs3nC1HbMUycBoJw77xFIp6z1UJQJOfx6C9GMH80DiTw==",
            "deprecated": "See https://github.com/lydell/source-map-url#deprecated",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/spawn-command": {
            "version": "0.0.2",
            "resolved": "https://registry.npmjs.org/spawn-command/-/spawn-command-0.0.2.tgz",
            "integrity": "sha512-zC8zGoGkmc8J9ndvml8Xksr1Amk9qBujgbF0JAIWO7kXr43w0h/0GJNM/Vustixu+YE8N/MTrQ7N31FvHUACxQ==",
            "dev": true
        },
        "node_modules/split": {
            "version": "0.3.3",
            "resolved": "https://registry.npmjs.org/split/-/split-0.3.3.tgz",
            "integrity": "sha512-wD2AeVmxXRBoX44wAycgjVpMhvbwdI2aZjCkvfNcH1YqHQvJVa1duWc73OyVGJUc05fhFaTZeQ/PYsrmyH0JVA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "through": "2"
            },
            "engines": {
                "node": "*"
            }
        },
        "node_modules/split-string": {
            "version": "3.1.0",
            "resolved": "https://registry.npmjs.org/split-string/-/split-string-3.1.0.tgz",
            "integrity": "sha512-NzNVhJDYpwceVVii8/Hu6DKfD2G+NrQHlS/V/qgv763EYudVwEcMQNxd2lh+0VrUByXN/oJkl5grOhYWvQUYiw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "extend-shallow": "^3.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/split-string/node_modules/extend-shallow": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-3.0.2.tgz",
            "integrity": "sha512-BwY5b5Ql4+qZoefgMj2NUmx+tehVTH/Kf4k1ZEtOHNFcm2wSxMRo992l6X3TIgni2eZVTZ85xMOjF31fwZAj6Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "assign-symbols": "^1.0.0",
                "is-extendable": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/split-string/node_modules/is-extendable": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz",
            "integrity": "sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-plain-object": "^2.0.4"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/static-extend": {
            "version": "0.1.2",
            "resolved": "https://registry.npmjs.org/static-extend/-/static-extend-0.1.2.tgz",
            "integrity": "sha512-72E9+uLc27Mt718pMHt9VMNiAL4LMsmDbBva8mxWUCkT07fSzEGMYUCk0XWY6lp0j6RBAG4cJ3mWuZv2OE3s0g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "define-property": "^0.2.5",
                "object-copy": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/static-extend/node_modules/define-property": {
            "version": "0.2.5",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz",
            "integrity": "sha512-Rr7ADjQZenceVOAKop6ALkkRAmH1A4Gx9hV/7ZujPUN2rkATqFO0JZLZInbAjpZYoJ1gUx8MRMQVkYemcbMSTA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/static-extend/node_modules/is-descriptor": {
            "version": "0.1.7",
            "resolved": "https://registry.npmjs.org/is-descriptor/-/is-descriptor-0.1.7.tgz",
            "integrity": "sha512-C3grZTvObeN1xud4cRWl366OMXZTj0+HGyk4hvfpx4ZHt1Pb60ANSXqCK7pdOTeUQpRzECBSTphqvD7U+l22Eg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-accessor-descriptor": "^1.0.1",
                "is-data-descriptor": "^1.0.1"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/statuses": {
            "version": "1.5.0",
            "resolved": "https://registry.npmjs.org/statuses/-/statuses-1.5.0.tgz",
            "integrity": "sha512-OpZ3zP+jT1PI7I8nemJX4AKmAX070ZkYPVWV/AaKTJl+tXCTGyVdC1a4SL8RUQYEwk/f34ZX8UTykN68FwrqAA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/stoppable": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/stoppable/-/stoppable-1.1.0.tgz",
            "integrity": "sha512-KXDYZ9dszj6bzvnEMRYvxgeTHU74QBFL54XKtP3nyMuJ81CFYtABZ3bAzL2EdFUaEwJOBOgENyFj3R7oTzDyyw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=4",
                "npm": ">=6"
            }
        },
        "node_modules/stream-combiner": {
            "version": "0.0.4",
            "resolved": "https://registry.npmjs.org/stream-combiner/-/stream-combiner-0.0.4.tgz",
            "integrity": "sha512-rT00SPnTVyRsaSz5zgSPma/aHSOic5U1prhYdRy5HS2kTZviFpmDgzilbtsJsxiroqACmayynDN/9VzIbX5DOw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "duplexer": "~0.1.1"
            }
        },
        "node_modules/streamx": {
            "version": "2.23.0",
            "resolved": "https://registry.npmjs.org/streamx/-/streamx-2.23.0.tgz",
            "integrity": "sha512-kn+e44esVfn2Fa/O0CPFcex27fjIL6MkVae0Mm6q+E6f0hWv578YCERbv+4m02cjxvDsPKLnmxral/rR6lBMAg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "events-universal": "^1.0.0",
                "fast-fifo": "^1.3.2",
                "text-decoder": "^1.1.0"
            }
        },
        "node_modules/string_decoder": {
            "version": "1.1.1",
            "resolved": "https://registry.npmjs.org/string_decoder/-/string_decoder-1.1.1.tgz",
            "integrity": "sha512-n/ShnvDi6FHbbVfviro+WojiFzv+s8MPMHBczVePfUpDJLwoLT0ht1l4YwBCbi8pJAveEEdnkHyPyTP/mzRfwg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "safe-buffer": "~5.1.0"
            }
        },
        "node_modules/string-width": {
            "version": "4.2.3",
            "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
            "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "emoji-regex": "^8.0.0",
                "is-fullwidth-code-point": "^3.0.0",
                "strip-ansi": "^6.0.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/strip-ansi": {
            "version": "6.0.1",
            "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
            "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ansi-regex": "^5.0.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/strip-json-comments": {
            "version": "3.1.1",
            "resolved": "https://registry.npmjs.org/strip-json-comments/-/strip-json-comments-3.1.1.tgz",
            "integrity": "sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/sucrase": {
            "version": "3.35.1",
            "resolved": "https://registry.npmjs.org/sucrase/-/sucrase-3.35.1.tgz",
            "integrity": "sha512-DhuTmvZWux4H1UOnWMB3sk0sbaCVOoQZjv8u1rDoTV0HTdGem9hkAZtl4JZy8P2z4Bg0nT+YMeOFyVr4zcG5Tw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/gen-mapping": "^0.3.2",
                "commander": "^4.0.0",
                "lines-and-columns": "^1.1.6",
                "mz": "^2.7.0",
                "pirates": "^4.0.1",
                "tinyglobby": "^0.2.11",
                "ts-interface-checker": "^0.1.9"
            },
            "bin": {
                "sucrase": "bin/sucrase",
                "sucrase-node": "bin/sucrase-node"
            },
            "engines": {
                "node": ">=16 || 14 >=14.17"
            }
        },
        "node_modules/sucrase/node_modules/commander": {
            "version": "4.1.1",
            "resolved": "https://registry.npmjs.org/commander/-/commander-4.1.1.tgz",
            "integrity": "sha512-NOKm8xhkzAjzFx8B2v5OAHT+u5pRQc2UCa2Vq9jYL/31o2wi9mxBA7LIFs3sV5VSC49z6pEhfbMULvShKj26WA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/supports-color": {
            "version": "8.1.1",
            "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-8.1.1.tgz",
            "integrity": "sha512-MpUEN2OodtUzxvKQl72cUF7RQ5EiHsGvSsVG0ia9c5RbWGL2CI4C7EpPS8UTBIplnlzZiNuV56w+FuNxy3ty2Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "has-flag": "^4.0.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/chalk/supports-color?sponsor=1"
            }
        },
        "node_modules/supports-preserve-symlinks-flag": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz",
            "integrity": "sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/tailwindcss": {
            "version": "3.4.19",
            "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-3.4.19.tgz",
            "integrity": "sha512-3ofp+LL8E+pK/JuPLPggVAIaEuhvIz4qNcf3nA1Xn2o/7fb7s/TYpHhwGDv1ZU3PkBluUVaF8PyCHcm48cKLWQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@alloc/quick-lru": "^5.2.0",
                "arg": "^5.0.2",
                "chokidar": "^3.6.0",
                "didyoumean": "^1.2.2",
                "dlv": "^1.1.3",
                "fast-glob": "^3.3.2",
                "glob-parent": "^6.0.2",
                "is-glob": "^4.0.3",
                "jiti": "^1.21.7",
                "lilconfig": "^3.1.3",
                "micromatch": "^4.0.8",
                "normalize-path": "^3.0.0",
                "object-hash": "^3.0.0",
                "picocolors": "^1.1.1",
                "postcss": "^8.4.47",
                "postcss-import": "^15.1.0",
                "postcss-js": "^4.0.1",
                "postcss-load-config": "^4.0.2 || ^5.0 || ^6.0",
                "postcss-nested": "^6.2.0",
                "postcss-selector-parser": "^6.1.2",
                "resolve": "^1.22.8",
                "sucrase": "^3.35.0"
            },
            "bin": {
                "tailwind": "lib/cli.js",
                "tailwindcss": "lib/cli.js"
            },
            "engines": {
                "node": ">=14.0.0"
            }
        },
        "node_modules/tailwindcss/node_modules/anymatch": {
            "version": "3.1.3",
            "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-3.1.3.tgz",
            "integrity": "sha512-KMReFUr0B4t+D+OBkjR3KYqvocp2XaSzO55UcB6mgQMd3KbcE+mWTyvVV7D/zsdEbNnV6acZUutkiHQXvTr1Rw==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "normalize-path": "^3.0.0",
                "picomatch": "^2.0.4"
            },
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/tailwindcss/node_modules/binary-extensions": {
            "version": "2.3.0",
            "resolved": "https://registry.npmjs.org/binary-extensions/-/binary-extensions-2.3.0.tgz",
            "integrity": "sha512-Ceh+7ox5qe7LJuLHoY0feh3pHuUDHAcRUeyL2VYghZwfpkNIy/+8Ocg0a3UuSoYzavmylwuLWQOf3hl0jjMMIw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/tailwindcss/node_modules/braces": {
            "version": "3.0.3",
            "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
            "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "fill-range": "^7.1.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/tailwindcss/node_modules/chokidar": {
            "version": "3.6.0",
            "resolved": "https://registry.npmjs.org/chokidar/-/chokidar-3.6.0.tgz",
            "integrity": "sha512-7VT13fmjotKpGipCW9JEQAusEPE+Ei8nl6/g4FBAmIm0GOOLMua9NDDo/DWp0ZAxCr3cPq5ZpBqmPAQgDda2Pw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "anymatch": "~3.1.2",
                "braces": "~3.0.2",
                "glob-parent": "~5.1.2",
                "is-binary-path": "~2.1.0",
                "is-glob": "~4.0.1",
                "normalize-path": "~3.0.0",
                "readdirp": "~3.6.0"
            },
            "engines": {
                "node": ">= 8.10.0"
            },
            "funding": {
                "url": "https://paulmillr.com/funding/"
            },
            "optionalDependencies": {
                "fsevents": "~2.3.2"
            }
        },
        "node_modules/tailwindcss/node_modules/chokidar/node_modules/glob-parent": {
            "version": "5.1.2",
            "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
            "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "is-glob": "^4.0.1"
            },
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/tailwindcss/node_modules/fill-range": {
            "version": "7.1.1",
            "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
            "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "to-regex-range": "^5.0.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/tailwindcss/node_modules/is-binary-path": {
            "version": "2.1.0",
            "resolved": "https://registry.npmjs.org/is-binary-path/-/is-binary-path-2.1.0.tgz",
            "integrity": "sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "binary-extensions": "^2.0.0"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/tailwindcss/node_modules/is-number": {
            "version": "7.0.0",
            "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
            "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.12.0"
            }
        },
        "node_modules/tailwindcss/node_modules/micromatch": {
            "version": "4.0.8",
            "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
            "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "braces": "^3.0.3",
                "picomatch": "^2.3.1"
            },
            "engines": {
                "node": ">=8.6"
            }
        },
        "node_modules/tailwindcss/node_modules/picomatch": {
            "version": "2.3.1",
            "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
            "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8.6"
            },
            "funding": {
                "url": "https://github.com/sponsors/jonschlinkert"
            }
        },
        "node_modules/tailwindcss/node_modules/readdirp": {
            "version": "3.6.0",
            "resolved": "https://registry.npmjs.org/readdirp/-/readdirp-3.6.0.tgz",
            "integrity": "sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "picomatch": "^2.2.1"
            },
            "engines": {
                "node": ">=8.10.0"
            }
        },
        "node_modules/tailwindcss/node_modules/to-regex-range": {
            "version": "5.0.1",
            "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
            "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-number": "^7.0.0"
            },
            "engines": {
                "node": ">=8.0"
            }
        },
        "node_modules/tar-fs": {
            "version": "3.1.1",
            "resolved": "https://registry.npmjs.org/tar-fs/-/tar-fs-3.1.1.tgz",
            "integrity": "sha512-LZA0oaPOc2fVo82Txf3gw+AkEd38szODlptMYejQUhndHMLQ9M059uXR+AfS7DNo0NpINvSqDsvyaCrBVkptWg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "pump": "^3.0.0",
                "tar-stream": "^3.1.5"
            },
            "optionalDependencies": {
                "bare-fs": "^4.0.1",
                "bare-path": "^3.0.0"
            }
        },
        "node_modules/tar-stream": {
            "version": "3.1.7",
            "resolved": "https://registry.npmjs.org/tar-stream/-/tar-stream-3.1.7.tgz",
            "integrity": "sha512-qJj60CXt7IU1Ffyc3NJMjh6EkuCFej46zUqJ4J7pqYlThyd9bO0XBTmcOIhSzZJVWfsLks0+nle/j538YAW9RQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "b4a": "^1.6.4",
                "fast-fifo": "^1.2.0",
                "streamx": "^2.15.0"
            }
        },
        "node_modules/tar-stream/node_modules/b4a": {
            "version": "1.7.3",
            "resolved": "https://registry.npmjs.org/b4a/-/b4a-1.7.3.tgz",
            "integrity": "sha512-5Q2mfq2WfGuFp3uS//0s6baOJLMoVduPYVeNmDYxu5OUA1/cBfvr2RIS7vi62LdNj/urk1hfmj867I3qt6uZ7Q==",
            "dev": true,
            "license": "Apache-2.0",
            "peerDependencies": {
                "react-native-b4a": "*"
            },
            "peerDependenciesMeta": {
                "react-native-b4a": {
                    "optional": true
                }
            }
        },
        "node_modules/text-decoder": {
            "version": "1.2.3",
            "resolved": "https://registry.npmjs.org/text-decoder/-/text-decoder-1.2.3.tgz",
            "integrity": "sha512-3/o9z3X0X0fTupwsYvR03pJ/DjWuqqrfwBgTQzdWDiQSm9KitAyz/9WqsT2JQW7KV2m+bC2ol/zqpW37NHxLaA==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "b4a": "^1.6.4"
            }
        },
        "node_modules/text-decoder/node_modules/b4a": {
            "version": "1.7.3",
            "resolved": "https://registry.npmjs.org/b4a/-/b4a-1.7.3.tgz",
            "integrity": "sha512-5Q2mfq2WfGuFp3uS//0s6baOJLMoVduPYVeNmDYxu5OUA1/cBfvr2RIS7vi62LdNj/urk1hfmj867I3qt6uZ7Q==",
            "dev": true,
            "license": "Apache-2.0",
            "peerDependencies": {
                "react-native-b4a": "*"
            },
            "peerDependenciesMeta": {
                "react-native-b4a": {
                    "optional": true
                }
            }
        },
        "node_modules/text-table": {
            "version": "0.2.0",
            "resolved": "https://registry.npmjs.org/text-table/-/text-table-0.2.0.tgz",
            "integrity": "sha512-N+8UisAXDGk8PFXP4HAzVR9nbfmVJ3zYLAWiTIoqC5v5isinhr+r5uaO8+7r3BMfuNIufIsA7RdpVgacC2cSpw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/thenify": {
            "version": "3.3.1",
            "resolved": "https://registry.npmjs.org/thenify/-/thenify-3.3.1.tgz",
            "integrity": "sha512-RVZSIV5IG10Hk3enotrhvz0T9em6cyHBLkH/YAZuKqd8hRkKhSfCGIcP2KUY0EPxndzANBmNllzWPwak+bheSw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "any-promise": "^1.0.0"
            }
        },
        "node_modules/thenify-all": {
            "version": "1.6.0",
            "resolved": "https://registry.npmjs.org/thenify-all/-/thenify-all-1.6.0.tgz",
            "integrity": "sha512-RNxQH/qI8/t3thXJDwcstUO4zeqo64+Uy/+sNVRBx4Xn2OX+OZ9oP+iJnNFqplFra2ZUVeKCSa2oVWi3T4uVmA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "thenify": ">= 3.1.0 < 4"
            },
            "engines": {
                "node": ">=0.8"
            }
        },
        "node_modules/through": {
            "version": "2.3.8",
            "resolved": "https://registry.npmjs.org/through/-/through-2.3.8.tgz",
            "integrity": "sha512-w89qg7PI8wAdvX60bMDP+bFoD5Dvhm9oLheFp5O4a2QF0cSBGsBX4qZmadPMvVqlLJBBci+WqGGOAPvcDeNSVg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/tinyglobby": {
            "version": "0.2.15",
            "resolved": "https://registry.npmjs.org/tinyglobby/-/tinyglobby-0.2.15.tgz",
            "integrity": "sha512-j2Zq4NyQYG5XMST4cbs02Ak8iJUdxRM0XI5QyxXuZOzKOINmWurp3smXu3y5wDcJrptwpSjgXHzIQxR0omXljQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "fdir": "^6.5.0",
                "picomatch": "^4.0.3"
            },
            "engines": {
                "node": ">=12.0.0"
            },
            "funding": {
                "url": "https://github.com/sponsors/SuperchupuDev"
            }
        },
        "node_modules/to-object-path": {
            "version": "0.3.0",
            "resolved": "https://registry.npmjs.org/to-object-path/-/to-object-path-0.3.0.tgz",
            "integrity": "sha512-9mWHdnGRuh3onocaHzukyvCZhzvr6tiflAy/JRFXcJX0TjgfWA9pk9t8CMbzmBE4Jfw58pXbkngtBtqYxzNEyg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "kind-of": "^3.0.2"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/to-regex": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/to-regex/-/to-regex-3.0.2.tgz",
            "integrity": "sha512-FWtleNAtZ/Ki2qtqej2CXTOayOH9bHDQF+Q48VpWyDXjbYxA4Yz8iDB31zXOBUlOHHKidDbqGVrTUvQMPmBGBw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "define-property": "^2.0.2",
                "extend-shallow": "^3.0.2",
                "regex-not": "^1.0.2",
                "safe-regex": "^1.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/to-regex-range": {
            "version": "2.1.1",
            "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-2.1.1.tgz",
            "integrity": "sha512-ZZWNfCjUokXXDGXFpZehJIkZqq91BcULFq/Pi7M5i4JnxXdhMKAK682z8bCW3o8Hj1wuuzoKcW3DfVzaP6VuNg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-number": "^3.0.0",
                "repeat-string": "^1.6.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/to-regex/node_modules/extend-shallow": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-3.0.2.tgz",
            "integrity": "sha512-BwY5b5Ql4+qZoefgMj2NUmx+tehVTH/Kf4k1ZEtOHNFcm2wSxMRo992l6X3TIgni2eZVTZ85xMOjF31fwZAj6Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "assign-symbols": "^1.0.0",
                "is-extendable": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/to-regex/node_modules/is-extendable": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz",
            "integrity": "sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-plain-object": "^2.0.4"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/toidentifier": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/toidentifier/-/toidentifier-1.0.1.tgz",
            "integrity": "sha512-o5sSPKEkg/DIQNmH43V0/uerLrpzVedkUh8tGNvaeXpfpuwjKenlSox/2O/BTlZUtEe+JG7s5YhEz608PlAHRA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.6"
            }
        },
        "node_modules/tree-kill": {
            "version": "1.2.2",
            "resolved": "https://registry.npmjs.org/tree-kill/-/tree-kill-1.2.2.tgz",
            "integrity": "sha512-L0Orpi8qGpRG//Nd+H90vFB+3iHnue1zSSGmNOOCh1GLJ7rUKVwV2HvijphGQS2UmhUZewS9VgvxYIdgr+fG1A==",
            "dev": true,
            "license": "MIT",
            "bin": {
                "tree-kill": "cli.js"
            }
        },
        "node_modules/ts-interface-checker": {
            "version": "0.1.13",
            "resolved": "https://registry.npmjs.org/ts-interface-checker/-/ts-interface-checker-0.1.13.tgz",
            "integrity": "sha512-Y/arvbn+rrz3JCKl9C4kVNfTfSm2/mEp5FSz5EsZSANGPSlQrpRI5M4PKF+mJnE52jOO90PnPSc3Ur3bTQw0gA==",
            "dev": true,
            "license": "Apache-2.0"
        },
        "node_modules/tslib": {
            "version": "2.8.1",
            "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.8.1.tgz",
            "integrity": "sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==",
            "dev": true,
            "license": "0BSD"
        },
        "node_modules/type-check": {
            "version": "0.4.0",
            "resolved": "https://registry.npmjs.org/type-check/-/type-check-0.4.0.tgz",
            "integrity": "sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "prelude-ls": "^1.2.1"
            },
            "engines": {
                "node": ">= 0.8.0"
            }
        },
        "node_modules/type-fest": {
            "version": "0.20.2",
            "resolved": "https://registry.npmjs.org/type-fest/-/type-fest-0.20.2.tgz",
            "integrity": "sha512-Ne+eE4r0/iWnpAxD852z3A+N0Bt5RN//NjJwRd2VFHEmrywxf5vsZlh4R6lixl6B+wz/8d+maTSAkN1FIkI3LQ==",
            "dev": true,
            "license": "(MIT OR CC0-1.0)",
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/typescript": {
            "version": "5.9.3",
            "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.9.3.tgz",
            "integrity": "sha512-jl1vZzPDinLr9eUt3J/t7V6FgNEw9QjvBPdysz9KfQDD41fQrC2Y4vKQdiaUpFT4bXlb1RHhLpp8wtm6M5TgSw==",
            "dev": true,
            "license": "Apache-2.0",
            "peer": true,
            "bin": {
                "tsc": "bin/tsc",
                "tsserver": "bin/tsserver"
            },
            "engines": {
                "node": ">=14.17"
            }
        },
        "node_modules/unbzip2-stream": {
            "version": "1.4.3",
            "resolved": "https://registry.npmjs.org/unbzip2-stream/-/unbzip2-stream-1.4.3.tgz",
            "integrity": "sha512-mlExGW4w71ebDJviH16lQLtZS32VKqsSfk80GCfUlwT/4/hNRFsoscrF/c++9xinkMzECL1uL9DDwXqFWkruPg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "buffer": "^5.2.1",
                "through": "^2.3.8"
            }
        },
        "node_modules/undici": {
            "version": "7.14.0",
            "resolved": "https://registry.npmjs.org/undici/-/undici-7.14.0.tgz",
            "integrity": "sha512-Vqs8HTzjpQXZeXdpsfChQTlafcMQaaIwnGwLam1wudSSjlJeQ3bw1j+TLPePgrCnCpUXx7Ba5Pdpf5OBih62NQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=20.18.1"
            }
        },
        "node_modules/undici-types": {
            "version": "7.16.0",
            "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-7.16.0.tgz",
            "integrity": "sha512-Zz+aZWSj8LE6zoxD+xrjh4VfkIG8Ya6LvYkZqtUQGJPZjYl53ypCaUwWqo7eI0x66KBGeRo+mlBEkMSeSZ38Nw==",
            "dev": true,
            "license": "MIT",
            "optional": true
        },
        "node_modules/unenv": {
            "version": "2.0.0-rc.24",
            "resolved": "https://registry.npmjs.org/unenv/-/unenv-2.0.0-rc.24.tgz",
            "integrity": "sha512-i7qRCmY42zmCwnYlh9H2SvLEypEFGye5iRmEMKjcGi7zk9UquigRjFtTLz0TYqr0ZGLZhaMHl/foy1bZR+Cwlw==",
            "dev": true,
            "license": "MIT",
            "peer": true,
            "dependencies": {
                "pathe": "^2.0.3"
            }
        },
        "node_modules/union-value": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/union-value/-/union-value-1.0.1.tgz",
            "integrity": "sha512-tJfXmxMeWYnczCVs7XAEvIV7ieppALdyepWMkHkwciRpZraG/xwT+s2JN8+pr1+8jCRf80FFzvr+MpQeeoF4Xg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "arr-union": "^3.1.0",
                "get-value": "^2.0.6",
                "is-extendable": "^0.1.1",
                "set-value": "^2.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/universalify": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz",
            "integrity": "sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 10.0.0"
            }
        },
        "node_modules/unix-crypt-td-js": {
            "version": "1.1.4",
            "resolved": "https://registry.npmjs.org/unix-crypt-td-js/-/unix-crypt-td-js-1.1.4.tgz",
            "integrity": "sha512-8rMeVYWSIyccIJscb9NdCfZKSRBKYTeVnwmiRYT2ulE3qd1RaDQ0xQDP+rI3ccIWbhu/zuo5cgN8z73belNZgw==",
            "dev": true,
            "license": "BSD-3-Clause"
        },
        "node_modules/unpipe": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/unpipe/-/unpipe-1.0.0.tgz",
            "integrity": "sha512-pjy2bYhSsufwWlKwPc+l3cN7+wuJlK6uz0YdJEOlQDbl6jo/YlPi4mb8agUkVC8BF7V8NuzeyPNqRksA3hztKQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/unset-value": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/unset-value/-/unset-value-1.0.0.tgz",
            "integrity": "sha512-PcA2tsuGSF9cnySLHTLSh2qrQiJ70mn+r+Glzxv2TWZblxsxCC52BDlZoPCsz7STd9pN7EZetkWZBAvk4cgZdQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "has-value": "^0.3.1",
                "isobject": "^3.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/unset-value/node_modules/has-value": {
            "version": "0.3.1",
            "resolved": "https://registry.npmjs.org/has-value/-/has-value-0.3.1.tgz",
            "integrity": "sha512-gpG936j8/MzaeID5Yif+577c17TxaDmhuyVgSwtnL/q8UUTySg8Mecb+8Cf1otgLoD7DDH75axp86ER7LFsf3Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "get-value": "^2.0.3",
                "has-values": "^0.1.4",
                "isobject": "^2.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/unset-value/node_modules/has-value/node_modules/isobject": {
            "version": "2.1.0",
            "resolved": "https://registry.npmjs.org/isobject/-/isobject-2.1.0.tgz",
            "integrity": "sha512-+OUdGJlgjOBZDfxnDjYYG6zp487z0JGNQq3cYQYg5f5hKR+syHMsaztzGeml/4kGG55CSpKSpWTY+jYGgsHLgA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "isarray": "1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/unset-value/node_modules/has-values": {
            "version": "0.1.4",
            "resolved": "https://registry.npmjs.org/has-values/-/has-values-0.1.4.tgz",
            "integrity": "sha512-J8S0cEdWuQbqD9//tlZxiMuMNmxB8PlEwvYwuxsTmR1G5RXUePEX/SJn7aD0GMLieuZYSwNH0cQuJGwnYunXRQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/upath": {
            "version": "1.2.0",
            "resolved": "https://registry.npmjs.org/upath/-/upath-1.2.0.tgz",
            "integrity": "sha512-aZwGpamFO61g3OlfT7OQCHqhGnW43ieH9WZeP7QxN/G/jS4jfqUkZxoryvJgVPEcrl5NL/ggHsSmLMHuH64Lhg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=4",
                "yarn": "*"
            }
        },
        "node_modules/update-browserslist-db": {
            "version": "1.2.3",
            "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.2.3.tgz",
            "integrity": "sha512-Js0m9cx+qOgDxo0eMiFGEueWztz+d4+M3rGlmKPT+T4IS/jP4ylw3Nwpu6cpTTP8R1MAC1kF4VbdLt3ARf209w==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/browserslist"
                },
                {
                    "type": "tidelift",
                    "url": "https://tidelift.com/funding/github/npm/browserslist"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "escalade": "^3.2.0",
                "picocolors": "^1.1.1"
            },
            "bin": {
                "update-browserslist-db": "cli.js"
            },
            "peerDependencies": {
                "browserslist": ">= 4.21.0"
            }
        },
        "node_modules/uri-js": {
            "version": "4.4.1",
            "resolved": "https://registry.npmjs.org/uri-js/-/uri-js-4.4.1.tgz",
            "integrity": "sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==",
            "dev": true,
            "license": "BSD-2-Clause",
            "dependencies": {
                "punycode": "^2.1.0"
            }
        },
        "node_modules/urix": {
            "version": "0.1.0",
            "resolved": "https://registry.npmjs.org/urix/-/urix-0.1.0.tgz",
            "integrity": "sha512-Am1ousAhSLBeB9cG/7k7r2R0zj50uDRlZHPGbazid5s9rlF1F/QKYObEKSIunSjIOkJZqwRRLpvewjEkM7pSqg==",
            "deprecated": "Please see https://github.com/lydell/urix#deprecated",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/urlpattern-polyfill": {
            "version": "10.0.0",
            "resolved": "https://registry.npmjs.org/urlpattern-polyfill/-/urlpattern-polyfill-10.0.0.tgz",
            "integrity": "sha512-H/A06tKD7sS1O1X2SshBVeA5FLycRpjqiBeqGKmBwBDBy28EnRjORxTNe269KSSr5un5qyWi1iL61wLxpd+ZOg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/use": {
            "version": "3.1.1",
            "resolved": "https://registry.npmjs.org/use/-/use-3.1.1.tgz",
            "integrity": "sha512-cwESVXlO3url9YWlFW/TA9cshCEhtu7IKJ/p5soJ/gGpj7vbvFrAY/eIioQ6Dw23KjZhYgiIo8HOs1nQ2vr/oQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/util-deprecate": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz",
            "integrity": "sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/utils-merge": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/utils-merge/-/utils-merge-1.0.1.tgz",
            "integrity": "sha512-pMZTvIkT1d+TFGvDOqodOclx0QWkkgi6Tdoa8gC8ffGAAqz9pzPTZWAybbsHHoED/ztMtkv/VoYTYyShUn81hA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4.0"
            }
        },
        "node_modules/uuid": {
            "version": "3.4.0",
            "resolved": "https://registry.npmjs.org/uuid/-/uuid-3.4.0.tgz",
            "integrity": "sha512-HjSDRw6gZE5JMggctHBcjVak08+KEVhSIiDzFnT9S9aegmp85S/bReBVTb4QTFaRNptJ9kuYaNhnbNEOkbKb/A==",
            "deprecated": "Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.",
            "dev": true,
            "license": "MIT",
            "bin": {
                "uuid": "bin/uuid"
            }
        },
        "node_modules/vary": {
            "version": "1.1.2",
            "resolved": "https://registry.npmjs.org/vary/-/vary-1.1.2.tgz",
            "integrity": "sha512-BNGbWLfd0eUPabhkXUVm0j8uuvREyTh5ovRa/dyow/BqAbZJyC+5fU+IzQOzmAKzYqYRAISoRhdQr3eIZ/PXqg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/vite": {
            "version": "5.4.21",
            "resolved": "https://registry.npmjs.org/vite/-/vite-5.4.21.tgz",
            "integrity": "sha512-o5a9xKjbtuhY6Bi5S3+HvbRERmouabWbyUcpXXUA1u+GNUKoROi9byOJ8M0nHbHYHkYICiMlqxkg1KkYmm25Sw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "esbuild": "^0.21.3",
                "postcss": "^8.4.43",
                "rollup": "^4.20.0"
            },
            "bin": {
                "vite": "bin/vite.js"
            },
            "engines": {
                "node": "^18.0.0 || >=20.0.0"
            },
            "funding": {
                "url": "https://github.com/vitejs/vite?sponsor=1"
            },
            "optionalDependencies": {
                "fsevents": "~2.3.3"
            },
            "peerDependencies": {
                "@types/node": "^18.0.0 || >=20.0.0",
                "less": "*",
                "lightningcss": "^1.21.0",
                "sass": "*",
                "sass-embedded": "*",
                "stylus": "*",
                "sugarss": "*",
                "terser": "^5.4.0"
            },
            "peerDependenciesMeta": {
                "@types/node": {
                    "optional": true
                },
                "less": {
                    "optional": true
                },
                "lightningcss": {
                    "optional": true
                },
                "sass": {
                    "optional": true
                },
                "sass-embedded": {
                    "optional": true
                },
                "stylus": {
                    "optional": true
                },
                "sugarss": {
                    "optional": true
                },
                "terser": {
                    "optional": true
                }
            }
        },
        "node_modules/vite/node_modules/@esbuild/aix-ppc64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.21.5.tgz",
            "integrity": "sha512-1SDgH6ZSPTlggy1yI6+Dbkiz8xzpHJEVAlF/AM1tHPLsf5STom9rwtjE4hKAF20FfXXNTFqEYXyJNWh1GiZedQ==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "aix"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/android-arm": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.21.5.tgz",
            "integrity": "sha512-vCPvzSjpPHEi1siZdlvAlsPxXl7WbOVUBBAowWug4rJHb68Ox8KualB+1ocNvT5fjv6wpkX6o/iEpbDrf68zcg==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/android-arm64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.21.5.tgz",
            "integrity": "sha512-c0uX9VAUBQ7dTDCjq+wdyGLowMdtR/GoC2U5IYk/7D1H1JYC0qseD7+11iMP2mRLN9RcCMRcjC4YMclCzGwS/A==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/android-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.21.5.tgz",
            "integrity": "sha512-D7aPRUUNHRBwHxzxRvp856rjUHRFW1SdQATKXH2hqA0kAZb1hKmi02OpYRacl0TxIGz/ZmXWlbZgjwWYaCakTA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/darwin-arm64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.21.5.tgz",
            "integrity": "sha512-DwqXqZyuk5AiWWf3UfLiRDJ5EDd49zg6O9wclZ7kUMv2WRFr4HKjXp/5t8JZ11QbQfUS6/cRCKGwYhtNAY88kQ==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/darwin-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.21.5.tgz",
            "integrity": "sha512-se/JjF8NlmKVG4kNIuyWMV/22ZaerB+qaSi5MdrXtd6R08kvs2qCN4C09miupktDitvh8jRFflwGFBQcxZRjbw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/freebsd-arm64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.21.5.tgz",
            "integrity": "sha512-5JcRxxRDUJLX8JXp/wcBCy3pENnCgBR9bN6JsY4OmhfUtIHe3ZW0mawA7+RDAcMLrMIZaf03NlQiX9DGyB8h4g==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/freebsd-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.21.5.tgz",
            "integrity": "sha512-J95kNBj1zkbMXtHVH29bBriQygMXqoVQOQYA+ISs0/2l3T9/kj42ow2mpqerRBxDJnmkUDCaQT/dfNXWX/ZZCQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-arm": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.21.5.tgz",
            "integrity": "sha512-bPb5AHZtbeNGjCKVZ9UGqGwo8EUu4cLq68E95A53KlxAPRmUyYv2D6F0uUI65XisGOL1hBP5mTronbgo+0bFcA==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-arm64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.21.5.tgz",
            "integrity": "sha512-ibKvmyYzKsBeX8d8I7MH/TMfWDXBF3db4qM6sy+7re0YXya+K1cem3on9XgdT2EQGMu4hQyZhan7TeQ8XkGp4Q==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-ia32": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.21.5.tgz",
            "integrity": "sha512-YvjXDqLRqPDl2dvRODYmmhz4rPeVKYvppfGYKSNGdyZkA01046pLWyRKKI3ax8fbJoK5QbxblURkwK/MWY18Tg==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-loong64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.21.5.tgz",
            "integrity": "sha512-uHf1BmMG8qEvzdrzAqg2SIG/02+4/DHB6a9Kbya0XDvwDEKCoC8ZRWI5JJvNdUjtciBGFQ5PuBlpEOXQj+JQSg==",
            "cpu": [
                "loong64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-mips64el": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.21.5.tgz",
            "integrity": "sha512-IajOmO+KJK23bj52dFSNCMsz1QP1DqM6cwLUv3W1QwyxkyIWecfafnI555fvSGqEKwjMXVLokcV5ygHW5b3Jbg==",
            "cpu": [
                "mips64el"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-ppc64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.21.5.tgz",
            "integrity": "sha512-1hHV/Z4OEfMwpLO8rp7CvlhBDnjsC3CttJXIhBi+5Aj5r+MBvy4egg7wCbe//hSsT+RvDAG7s81tAvpL2XAE4w==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-riscv64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.21.5.tgz",
            "integrity": "sha512-2HdXDMd9GMgTGrPWnJzP2ALSokE/0O5HhTUvWIbD3YdjME8JwvSCnNGBnTThKGEB91OZhzrJ4qIIxk/SBmyDDA==",
            "cpu": [
                "riscv64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-s390x": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.21.5.tgz",
            "integrity": "sha512-zus5sxzqBJD3eXxwvjN1yQkRepANgxE9lgOW2qLnmr8ikMTphkjgXu1HR01K4FJg8h1kEEDAqDcZQtbrRnB41A==",
            "cpu": [
                "s390x"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.21.5.tgz",
            "integrity": "sha512-1rYdTpyv03iycF1+BhzrzQJCdOuAOtaqHTWJZCWvijKD2N5Xu0TtVC8/+1faWqcP9iBCWOmjmhoH94dH82BxPQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/netbsd-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.21.5.tgz",
            "integrity": "sha512-Woi2MXzXjMULccIwMnLciyZH4nCIMpWQAs049KEeMvOcNADVxo0UBIQPfSmxB3CWKedngg7sWZdLvLczpe0tLg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "netbsd"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/openbsd-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.21.5.tgz",
            "integrity": "sha512-HLNNw99xsvx12lFBUwoT8EVCsSvRNDVxNpjZ7bPn947b8gJPzeHWyNVhFsaerc0n3TsbOINvRP2byTZ5LKezow==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openbsd"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/sunos-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.21.5.tgz",
            "integrity": "sha512-6+gjmFpfy0BHU5Tpptkuh8+uw3mnrvgs+dSPQXQOv3ekbordwnzTVEb4qnIvQcYXq6gzkyTnoZ9dZG+D4garKg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "sunos"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/win32-arm64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.21.5.tgz",
            "integrity": "sha512-Z0gOTd75VvXqyq7nsl93zwahcTROgqvuAcYDUr+vOv8uHhNSKROyU961kgtCD1e95IqPKSQKH7tBTslnS3tA8A==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/win32-ia32": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.21.5.tgz",
            "integrity": "sha512-SWXFF1CL2RVNMaVs+BBClwtfZSvDgtL//G/smwAc5oVK/UPu2Gu9tIaRgFmYFFKrmg3SyAjSrElf0TiJ1v8fYA==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/win32-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.21.5.tgz",
            "integrity": "sha512-tQd/1efJuzPC6rCFwEvLtci/xNFcTZknmXs98FYDfGE4wP9ClFV98nyKrzJKVPMhdDnjzLhdUyMX4PsQAPjwIw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/esbuild": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.21.5.tgz",
            "integrity": "sha512-mg3OPMV4hXywwpoDxu3Qda5xCKQi+vCTZq8S9J/EpkhB2HzKXq4SNFZE3+NK93JYxc8VMSep+lOUSC/RVKaBqw==",
            "dev": true,
            "hasInstallScript": true,
            "license": "MIT",
            "bin": {
                "esbuild": "bin/esbuild"
            },
            "engines": {
                "node": ">=12"
            },
            "optionalDependencies": {
                "@esbuild/aix-ppc64": "0.21.5",
                "@esbuild/android-arm": "0.21.5",
                "@esbuild/android-arm64": "0.21.5",
                "@esbuild/android-x64": "0.21.5",
                "@esbuild/darwin-arm64": "0.21.5",
                "@esbuild/darwin-x64": "0.21.5",
                "@esbuild/freebsd-arm64": "0.21.5",
                "@esbuild/freebsd-x64": "0.21.5",
                "@esbuild/linux-arm": "0.21.5",
                "@esbuild/linux-arm64": "0.21.5",
                "@esbuild/linux-ia32": "0.21.5",
                "@esbuild/linux-loong64": "0.21.5",
                "@esbuild/linux-mips64el": "0.21.5",
                "@esbuild/linux-ppc64": "0.21.5",
                "@esbuild/linux-riscv64": "0.21.5",
                "@esbuild/linux-s390x": "0.21.5",
                "@esbuild/linux-x64": "0.21.5",
                "@esbuild/netbsd-x64": "0.21.5",
                "@esbuild/openbsd-x64": "0.21.5",
                "@esbuild/sunos-x64": "0.21.5",
                "@esbuild/win32-arm64": "0.21.5",
                "@esbuild/win32-ia32": "0.21.5",
                "@esbuild/win32-x64": "0.21.5"
            }
        },
        "node_modules/websocket-driver": {
            "version": "0.7.4",
            "resolved": "https://registry.npmjs.org/websocket-driver/-/websocket-driver-0.7.4.tgz",
            "integrity": "sha512-b17KeDIQVjvb0ssuSDF2cYXSg2iztliJ4B9WdsuB6J952qCPKmnVq4DyW5motImXHDC1cBT/1UezrJVsKw5zjg==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "http-parser-js": ">=0.5.1",
                "safe-buffer": ">=5.1.0",
                "websocket-extensions": ">=0.1.1"
            },
            "engines": {
                "node": ">=0.8.0"
            }
        },
        "node_modules/websocket-extensions": {
            "version": "0.1.4",
            "resolved": "https://registry.npmjs.org/websocket-extensions/-/websocket-extensions-0.1.4.tgz",
            "integrity": "sha512-OqedPIGOfsDlo31UNwYbCFMSaO9m9G/0faIHj5/dZFDMFqPTcx6UwqyOy3COEaEOg/9VsGIpdqn62W5KhoKSpg==",
            "dev": true,
            "license": "Apache-2.0",
            "engines": {
                "node": ">=0.8.0"
            }
        },
        "node_modules/which": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
            "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "isexe": "^2.0.0"
            },
            "bin": {
                "node-which": "bin/node-which"
            },
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/word-wrap": {
            "version": "1.2.5",
            "resolved": "https://registry.npmjs.org/word-wrap/-/word-wrap-1.2.5.tgz",
            "integrity": "sha512-BN22B5eaMMI9UMtjrGd5g5eCYPpCPDUy0FJXbYsaT5zYxjFOckS53SQDE3pWkVoWpHXVb3BrYcEN4Twa55B5cA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/workerd": {
            "version": "1.20251210.0",
            "resolved": "https://registry.npmjs.org/workerd/-/workerd-1.20251210.0.tgz",
            "integrity": "sha512-9MUUneP1BnRE9XAYi94FXxHmiLGbO75EHQZsgWqSiOXjoXSqJCw8aQbIEPxCy19TclEl/kHUFYce8ST2W+Qpjw==",
            "dev": true,
            "hasInstallScript": true,
            "license": "Apache-2.0",
            "peer": true,
            "bin": {
                "workerd": "bin/workerd"
            },
            "engines": {
                "node": ">=16"
            },
            "optionalDependencies": {
                "@cloudflare/workerd-darwin-64": "1.20251210.0",
                "@cloudflare/workerd-darwin-arm64": "1.20251210.0",
                "@cloudflare/workerd-linux-64": "1.20251210.0",
                "@cloudflare/workerd-linux-arm64": "1.20251210.0",
                "@cloudflare/workerd-windows-64": "1.20251210.0"
            }
        },
        "node_modules/wrangler": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/wrangler/-/wrangler-4.54.0.tgz",
            "integrity": "sha512-bANFsjDwJLbprYoBK+hUDZsVbUv2SqJd8QvArLIcZk+fPq4h/Ohtj5vkKXD3k0s2bD1DXLk08D+hYmeNH+xC6A==",
            "dev": true,
            "license": "MIT OR Apache-2.0",
            "dependencies": {
                "@cloudflare/kv-asset-handler": "0.4.1",
                "@cloudflare/unenv-preset": "2.7.13",
                "blake3-wasm": "2.1.5",
                "esbuild": "0.27.0",
                "miniflare": "4.20251210.0",
                "path-to-regexp": "6.3.0",
                "unenv": "2.0.0-rc.24",
                "workerd": "1.20251210.0"
            },
            "bin": {
                "wrangler": "bin/wrangler.js",
                "wrangler2": "bin/wrangler.js"
            },
            "engines": {
                "node": ">=20.0.0"
            },
            "optionalDependencies": {
                "fsevents": "~2.3.2"
            },
            "peerDependencies": {
                "@cloudflare/workers-types": "^4.20251210.0"
            },
            "peerDependenciesMeta": {
                "@cloudflare/workers-types": {
                    "optional": true
                }
            }
        },
        "node_modules/wrap-ansi": {
            "version": "7.0.0",
            "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
            "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ansi-styles": "^4.0.0",
                "string-width": "^4.1.0",
                "strip-ansi": "^6.0.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
            }
        },
        "node_modules/wrappy": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz",
            "integrity": "sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/ws": {
            "version": "8.18.0",
            "resolved": "https://registry.npmjs.org/ws/-/ws-8.18.0.tgz",
            "integrity": "sha512-8VbfWfHLbbwu3+N6OKsOMpBdT4kXPDDB9cJk2bJ6mh9ucxdlnNvH1e+roYkKmN9Nxw2yjz7VzeO9oOz2zJ04Pw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=10.0.0"
            },
            "peerDependencies": {
                "bufferutil": "^4.0.1",
                "utf-8-validate": ">=5.0.2"
            },
            "peerDependenciesMeta": {
                "bufferutil": {
                    "optional": true
                },
                "utf-8-validate": {
                    "optional": true
                }
            }
        },
        "node_modules/xml": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/xml/-/xml-1.0.1.tgz",
            "integrity": "sha512-huCv9IH9Tcf95zuYCsQraZtWnJvBtLVE0QHMOs8bWyZAFZNDcYjsPq1nEx8jKA9y+Beo9v+7OBPRisQTjinQMw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/y18n": {
            "version": "5.0.8",
            "resolved": "https://registry.npmjs.org/y18n/-/y18n-5.0.8.tgz",
            "integrity": "sha512-0pfFzegeDWJHJIAmTLRP2DwHjdF5s7jo9tuztdQxAhINCdvS+3nGINqPd00AphqJR/0LhANUS6/+7SCb98YOfA==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": ">=10"
            }
        },
        "node_modules/yargs": {
            "version": "17.7.2",
            "resolved": "https://registry.npmjs.org/yargs/-/yargs-17.7.2.tgz",
            "integrity": "sha512-7dSzzRQ++CKnNI/krKnYRV7JKKPUXMEh61soaHKg9mrWEhzFWhFnxPxGl+69cD1Ou63C13NUPCnmIcrvqCuM6w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "cliui": "^8.0.1",
                "escalade": "^3.1.1",
                "get-caller-file": "^2.0.5",
                "require-directory": "^2.1.1",
                "string-width": "^4.2.3",
                "y18n": "^5.0.5",
                "yargs-parser": "^21.1.1"
            },
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/yargs-parser": {
            "version": "21.1.1",
            "resolved": "https://registry.npmjs.org/yargs-parser/-/yargs-parser-21.1.1.tgz",
            "integrity": "sha512-tVpsJW7DdjecAiFpbIB1e3qxIQsE6NoPc5/eTdrbbIC4h0LVsWhnoa3g+m2HclBIujHzsxZ4VJVA+GUuc2/LBw==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/yauzl": {
            "version": "2.10.0",
            "resolved": "https://registry.npmjs.org/yauzl/-/yauzl-2.10.0.tgz",
            "integrity": "sha512-p4a9I6X6nu6IhoGmBqAcbJy1mlC4j27vEPZX9F4L4/vZT3Lyq1VkFHw/V/PUcB9Buo+DG3iHkT0x3Qya58zc3g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "buffer-crc32": "~0.2.3",
                "fd-slicer": "~1.1.0"
            }
        },
        "node_modules/yocto-queue": {
            "version": "0.1.0",
            "resolved": "https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz",
            "integrity": "sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/youch": {
            "version": "4.1.0-beta.10",
            "resolved": "https://registry.npmjs.org/youch/-/youch-4.1.0-beta.10.tgz",
            "integrity": "sha512-rLfVLB4FgQneDr0dv1oddCVZmKjcJ6yX6mS4pU82Mq/Dt9a3cLZQ62pDBL4AUO+uVrCvtWz3ZFUL2HFAFJ/BXQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@poppinss/colors": "^4.1.5",
                "@poppinss/dumper": "^0.6.4",
                "@speed-highlight/core": "^1.2.7",
                "cookie": "^1.0.2",
                "youch-core": "^0.3.3"
            }
        },
        "node_modules/youch-core": {
            "version": "0.3.3",
            "resolved": "https://registry.npmjs.org/youch-core/-/youch-core-0.3.3.tgz",
            "integrity": "sha512-ho7XuGjLaJ2hWHoK8yFnsUGy2Y5uDpqSTq1FkHLK4/oqKtyUU1AFbOOxY4IpC9f0fTLjwYbslUz0Po5BpD1wrA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@poppinss/exception": "^1.2.2",
                "error-stack-parser-es": "^1.0.5"
            }
        },
        "node_modules/zod": {
            "version": "3.22.3",
            "resolved": "https://registry.npmjs.org/zod/-/zod-3.22.3.tgz",
            "integrity": "sha512-EjIevzuJRiRPbVH4mGc8nApb/lVLKVpmUhAaR5R5doKGfAnGJ6Gr3CViAVjP+4FWSxCsybeWQdcgCtbX+7oZug==",
            "dev": true,
            "license": "MIT",
            "funding": {
                "url": "https://github.com/sponsors/colinhacks"
            }
        }
    }
}

==================================================
FILE PATH: \.pages_upload\package.json
==================================================

{
    "name": "fennec-swap",
    "version": "1.0.0",
    "description": "Fennec Swap - Fractal Bitcoin Token Exchange",
    "dependencies": {
        "@scure/base": "^1.2.6",
        "@scure/btc-signer": "^1.7.0"
    },
    "scripts": {
        "deploy:worker": "wrangler deploy",
        "deploy:pages": "wrangler pages deploy . --project-name=fennec-swap --commit-dirty=true",
        "deploy-worker": "npm run deploy:worker",
        "deploy-pages": "npm run deploy:pages",
        "deploy": "npm run deploy:worker && npm run deploy:pages",
        "dev:worker": "wrangler dev",
        "dev": "live-server --port=3000 --open=/index.html --watch=index.html,worker.js,api",
        "dev:all": "concurrently \"npm run dev\" \"npm run dev:worker\"",
        "stats:snapshot": "node scripts/fractal_stats_snapshot.mjs",
        "login": "wrangler login",
        "lint": "eslint worker.js api/*.js --fix",
        "lint:html": "htmlhint index.html",
        "format": "prettier --write \"**/*.{js,html,css,json}\" --ignore-path .prettierignore",
        "format:check": "prettier --check \"**/*.{js,html,css,json}\"",
        "validate": "npm run lint && npm run lint:html && npm run format:check",
        "test:worker": "wrangler dev --local",
        "qa:cycle": "node qa-bridge.js"
    },
    "devDependencies": {
        "autoprefixer": "^10.4.20",
        "wrangler": "^4.54.0",
        "live-server": "^1.2.2",
        "concurrently": "^8.2.2",
        "eslint": "^8.57.0",
        "postcss": "^8.4.49",
        "prettier": "^3.2.5",
        "tailwindcss": "^3.4.15",
        "typescript": "^5.6.3",
        "vite": "^5.4.11",
        "htmlhint": "^1.1.4",
        "puppeteer": "^22.0.0"
    },
    "engines": {
        "node": ">=18.0.0"
    }
}

==================================================
FILE PATH: \.pages_upload\preview-vfx-evolution.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fennec VFX Evolution Matrix - Production Grade</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                background: linear-gradient(135deg, #0a0a0f 0%, #1a1428 50%, #0a0a0f 100%);
                min-height: 100vh;
                padding: 40px 20px;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                color: white;
            }

            .page-title {
                font-size: 2.5rem;
                font-weight: 900;
                text-align: center;
                margin-bottom: 0.5rem;
                text-transform: uppercase;
                letter-spacing: 0.1em;
                background: linear-gradient(90deg, #ff6b35, #8a2be2, #00ffff);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            .page-subtitle {
                text-align: center;
                color: rgba(255, 255, 255, 0.5);
                font-size: 0.875rem;
                margin-bottom: 3rem;
                letter-spacing: 0.05em;
            }

            .section-title {
                font-size: 1.75rem;
                font-weight: 800;
                margin: 3rem auto 1.5rem;
                text-transform: uppercase;
                letter-spacing: 0.08em;
                color: #ff6b35;
                text-shadow: 0 0 20px rgba(255, 107, 53, 0.5);
                max-width: 1600px;
            }

            .border-showcase {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
                gap: 40px;
                max-width: 1600px;
                margin: 0 auto 60px;
                padding: 20px;
            }

            .matrix-grid {
                display: grid;
                grid-template-columns: 150px repeat(4, 1fr);
                gap: 20px;
                max-width: 1600px;
                margin: 0 auto 30px;
            }

            .matrix-label {
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: 700;
                font-size: 0.875rem;
                text-transform: uppercase;
                letter-spacing: 0.05em;
                background: rgba(255, 107, 53, 0.1);
                border-radius: 8px;
                border: 1px solid rgba(255, 107, 53, 0.2);
                padding: 1rem;
            }

            .card-wrapper {
                position: relative;
                aspect-ratio: 2.5 / 3.5;
            }

            .card-wrapper::before {
                content: '';
                position: absolute;
                inset: -4px;
                border-radius: calc(20px + 4px);
                z-index: -1;
                pointer-events: none;
            }

            .card-face {
                position: relative;
                width: 100%;
                height: 100%;
                border-radius: 20px;
                overflow: hidden;
                background-color: #1a1a1a;
                border: 1px solid rgba(255, 255, 255, 0.1);
            }

            .card-image {
                position: absolute;
                inset: 0;
                width: 100%;
                height: 100%;
                object-fit: cover;
                z-index: 1;
            }

            .card-vfx {
                position: absolute;
                inset: 0;
                z-index: 2;
                pointer-events: none;
                overflow: hidden;
            }

            .tier-2 .card-vfx {
                opacity: 0.4;
            }

            .tier-3 .card-vfx {
                opacity: 0.9;
            }

            .showcase-content {
                position: absolute;
                inset: 0;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 60;
            }

            .border-title {
                font-size: 1.25rem;
                font-weight: 800;
                text-transform: uppercase;
                letter-spacing: 0.1em;
                margin-bottom: 0.5rem;
                text-shadow: 0 2px 8px rgba(0, 0, 0, 0.9);
            }

            .border-desc {
                font-size: 0.75rem;
                opacity: 0.7;
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.9);
            }

            @property --scout-angle {
                syntax: '<angle>';
                initial-value: 0deg;
                inherits: false;
            }

            @property --hunter-angle {
                syntax: '<angle>';
                initial-value: 0deg;
                inherits: false;
            }

            @property --spirit-angle {
                syntax: '<angle>';
                initial-value: 0deg;
                inherits: false;
            }

            .border-cub::before {
                background: linear-gradient(135deg, #3a3a3a, #5a5a5a, #6a6a6a, #5a5a5a, #3a3a3a);
                box-shadow: 0 0 15px rgba(90, 90, 90, 0.5);
            }

            .border-scout::before {
                background: conic-gradient(
                    from var(--scout-angle),
                    rgba(34, 197, 94, 0.6) 0%,
                    rgba(34, 197, 94, 0.6) 70%,
                    rgba(34, 197, 94, 1) 85%,
                    #22c55e 100%
                );
                animation: scoutBeam 4s linear infinite;
                box-shadow:
                    0 0 15px rgba(34, 197, 94, 0.5),
                    inset 0 0 10px rgba(34, 197, 94, 0.3);
            }

            @keyframes scoutBeam {
                0% {
                    --scout-angle: 0deg;
                }
                100% {
                    --scout-angle: 360deg;
                }
            }

            .border-hunter::before {
                background: conic-gradient(
                    from var(--hunter-angle),
                    rgba(14, 165, 233, 0.6) 0%,
                    rgba(14, 165, 233, 0.6) 70%,
                    rgba(14, 165, 233, 1) 85%,
                    #0ea5e9 100%
                );
                animation: hunterBeam 4s linear infinite;
                box-shadow:
                    0 0 15px rgba(14, 165, 233, 0.5),
                    inset 0 0 10px rgba(14, 165, 233, 0.3);
            }

            @keyframes hunterBeam {
                0% {
                    --hunter-angle: 0deg;
                }
                100% {
                    --hunter-angle: 360deg;
                }
            }

            .border-alpha::before {
                background: conic-gradient(
                    from var(--hunter-angle),
                    #450a0a 0deg,
                    #7f1d1d 60deg,
                    #dc2626 120deg,
                    #f97316 180deg,
                    #dc2626 240deg,
                    #7f1d1d 300deg,
                    #450a0a 360deg
                );
                animation: hunterBeam 8s linear infinite;
                filter: blur(2px);
                box-shadow: 0 0 25px rgba(255, 0, 0, 0.8);
            }

            .border-elder::before {
                background: linear-gradient(135deg, #a47e1b 0%, #f9d976 25%, #ffffff 50%, #f9d976 75%, #a47e1b 100%);
                background-size: 200% 200%;
                animation: goldShimmer 5s ease-in-out infinite;
                box-shadow: 0 0 30px rgba(255, 215, 0, 0.7);
            }

            @keyframes goldShimmer {
                0%,
                100% {
                    background-position: 0% 50%;
                }
                50% {
                    background-position: 100% 50%;
                }
            }

            .border-spirit::before {
                background: conic-gradient(
                    from var(--spirit-angle),
                    #ff0000 0deg,
                    #ff7f00 51deg,
                    #ffff00 102deg,
                    #00ff00 153deg,
                    #00ffff 204deg,
                    #0000ff 255deg,
                    #8b00ff 306deg,
                    #ff0000 360deg
                );
                animation: spiritSpinGradient 3s linear infinite;
                box-shadow:
                    0 0 40px rgba(255, 255, 255, 0.8),
                    0 0 60px rgba(138, 43, 226, 0.6);
            }

            @keyframes spiritSpinGradient {
                0% {
                    --spirit-angle: 0deg;
                }
                100% {
                    --spirit-angle: 360deg;
                }
            }

            .tier-0 .card-image {
                filter: grayscale(40%) sepia(10%) brightness(95%) contrast(90%);
            }

            .tier-1 .card-image {
                filter: none;
            }

            .tier-2 .card-image {
                filter: contrast(105%) brightness(102%) saturate(110%);
            }

            .tier-3 .card-image {
                filter: contrast(110%) brightness(105%) saturate(120%);
            }

            .vfx-drifter::before {
                content: '';
                position: absolute;
                inset: -200%;
                background:
                    radial-gradient(ellipse at 50% 150%, rgba(255, 107, 53, 0.8) 0%, transparent 35%),
                    linear-gradient(to top, rgba(255, 107, 53, 0.5) 0%, transparent 45%);
                animation: heatHaze 3s ease-in-out infinite;
                mix-blend-mode: hard-light;
                filter: blur(12px);
                opacity: 0.6;
            }

            @keyframes heatHaze {
                0%,
                100% {
                    transform: scale(1) translateY(0);
                }
                50% {
                    transform: scale(1.05) translateY(-8px);
                }
            }

            .vfx-walker::before {
                content: '';
                position: absolute;
                inset: -200%;
                background:
                    radial-gradient(ellipse at 0% 50%, rgba(59, 130, 246, 0.7) 0%, transparent 40%),
                    radial-gradient(ellipse at 100% 50%, rgba(59, 130, 246, 0.7) 0%, transparent 40%);
                animation: phaseShift 6s ease-in-out infinite;
                mix-blend-mode: screen;
                opacity: 0.6;
            }

            @keyframes phaseShift {
                0%,
                100% {
                    transform: translate(0, 0) rotate(0deg);
                }
                50% {
                    transform: translate(30px, -30px) rotate(180deg);
                }
            }

            .vfx-merchant::before {
                content: '';
                position: absolute;
                inset: -200%;
                background: linear-gradient(
                    120deg,
                    transparent 0%,
                    transparent 48%,
                    rgba(255, 215, 0, 0.9) 50%,
                    transparent 52%,
                    transparent 100%
                );
                animation: razorSweep 15s ease-in-out infinite;
                mix-blend-mode: screen;
            }

            @keyframes razorSweep {
                0% {
                    transform: translateX(-150%) translateY(-150%);
                }
                100% {
                    transform: translateX(150%) translateY(150%);
                }
            }

            .vfx-engineer::before {
                content: '';
                position: absolute;
                inset: 0;
                background: repeating-linear-gradient(
                    0deg,
                    transparent 0px,
                    rgba(0, 255, 255, 0.25) 2px,
                    transparent 4px
                );
                animation: scanlineMove 8s linear infinite;
                mix-blend-mode: screen;
                opacity: 0.2;
            }

            .vfx-engineer::after {
                content: '';
                position: absolute;
                inset: -200%;
                background: linear-gradient(
                    90deg,
                    rgba(255, 0, 0, 0.4) 0%,
                    rgba(0, 255, 0, 0.4) 50%,
                    rgba(0, 0, 255, 0.4) 100%
                );
                animation: engineerGlitch 5s ease-in-out infinite;
                mix-blend-mode: screen;
            }

            @keyframes scanlineMove {
                0% {
                    transform: translateY(0);
                }
                100% {
                    transform: translateY(100%);
                }
            }

            @keyframes engineerGlitch {
                0%,
                90% {
                    transform: translateX(0);
                    opacity: 0;
                }
                91%,
                93%,
                95% {
                    transform: translateX(-4px);
                    opacity: 0.7;
                }
                92%,
                94%,
                96% {
                    transform: translateX(4px);
                    opacity: 0.7;
                }
                97%,
                100% {
                    opacity: 0;
                }
            }

            .vfx-shaman::before {
                content: '';
                position: absolute;
                inset: -100%;
                background: conic-gradient(
                    from 0deg,
                    rgba(138, 43, 226, 0.6) 0deg,
                    transparent 60deg,
                    rgba(147, 51, 234, 0.7) 120deg,
                    transparent 180deg,
                    rgba(186, 85, 211, 0.5) 240deg,
                    transparent 300deg,
                    rgba(138, 43, 226, 0.6) 360deg
                );
                animation: spiritMist 8s linear infinite;
                mix-blend-mode: color-dodge;
                filter: blur(10px);
            }

            @keyframes spiritMist {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }

            .vfx-keeper::before {
                content: '';
                position: absolute;
                inset: -200%;
                background: radial-gradient(
                    circle at 50% 100%,
                    rgba(251, 146, 60, 0.8) 0%,
                    rgba(255, 193, 7, 0.6) 15%,
                    rgba(251, 191, 36, 0.4) 30%,
                    transparent 50%
                );
                animation: flameFlicker 2.5s ease-in-out infinite;
                mix-blend-mode: screen;
                opacity: 0.6;
            }

            @keyframes flameFlicker {
                0%,
                100% {
                    transform: translateY(0) scale(1);
                }
                50% {
                    transform: translateY(-15px) scale(1.1);
                }
            }

            .vfx-lord::before {
                content: '';
                position: absolute;
                inset: -150%;
                background: radial-gradient(
                    ellipse at 50% 120%,
                    rgba(0, 100, 200, 0.8) 0%,
                    rgba(0, 200, 255, 0.6) 25%,
                    rgba(0, 255, 255, 0.4) 40%,
                    transparent 60%
                );
                animation: deepOcean 5s ease-in-out infinite;
                mix-blend-mode: screen;
            }

            @keyframes deepOcean {
                0%,
                100% {
                    transform: translateY(10%) scale(1);
                    filter: brightness(0.8);
                }
                50% {
                    transform: translateY(-5%) scale(1.05);
                    filter: brightness(1.2);
                }
            }

            .vfx-prime::before {
                content: '';
                position: absolute;
                inset: -100%;
                background: radial-gradient(
                    circle at 50% 30%,
                    rgba(255, 255, 255, 0.95) 0%,
                    rgba(240, 240, 255, 0.7) 12%,
                    transparent 40%
                );
                opacity: 0.3;
                animation: platinumGlow 4s ease-in-out infinite;
                mix-blend-mode: soft-light;
            }

            .tier-3 .vfx-prime {
                opacity: 0.3;
            }

            @keyframes platinumGlow {
                0%,
                100% {
                    transform: scale(0.9);
                    opacity: 0.7;
                }
                50% {
                    transform: scale(1.15);
                    opacity: 1;
                }
            }

            .vfx-singularity::before {
                content: '';
                position: absolute;
                inset: -200%;
                background: radial-gradient(
                    ellipse at 50% 50%,
                    rgba(138, 43, 226, 1) 0%,
                    rgba(0, 255, 255, 0.8) 22%,
                    rgba(255, 215, 0, 0.6) 45%,
                    transparent 70%
                );
                opacity: 0.25;
                animation: voidChaos 14s linear infinite;
                mix-blend-mode: exclusion;
            }

            @keyframes voidChaos {
                0% {
                    transform: rotate(0deg) scale(1);
                    filter: hue-rotate(0deg);
                }
                100% {
                    transform: rotate(360deg) scale(1.15);
                    filter: hue-rotate(180deg);
                }
            }
        </style>
    </head>
    <body>
        <div class="max-w-[1700px] mx-auto">
            <h1 class="page-title">FENNEC VFX EVOLUTION MATRIX</h1>
            <p class="page-subtitle">
                Static Border Containers ‚Ä¢ Animated Gradients ‚Ä¢ Refined VFX Intensity ‚Ä¢ Perfect Geometry
            </p>

            <h2 class="section-title">üî• RARITY BORDERS (PRODUCTION GRADE)</h2>
            <div class="border-showcase">
                <div class="card-wrapper border-cub">
                    <div class="card-face" style="background: linear-gradient(135deg, #1a1428, #0f0c1d)">
                        <div class="showcase-content">
                            <div class="border-title" style="color: #6a6a6a">CUB</div>
                            <div class="border-desc">Static Grey</div>
                        </div>
                    </div>
                </div>

                <div class="card-wrapper border-scout">
                    <div class="card-face" style="background: linear-gradient(135deg, #0f3d2f, #0a1f1a)">
                        <div class="showcase-content">
                            <div class="border-title" style="color: #22c55e">SCOUT</div>
                            <div class="border-desc">Gradient Beam</div>
                        </div>
                    </div>
                </div>

                <div class="card-wrapper border-hunter">
                    <div class="card-face" style="background: linear-gradient(135deg, #1e3a5f, #0f1d2f)">
                        <div class="showcase-content">
                            <div class="border-title" style="color: #0ea5e9">HUNTER</div>
                            <div class="border-desc">Gradient Beam</div>
                        </div>
                    </div>
                </div>

                <div class="card-wrapper border-alpha">
                    <div class="card-face" style="background: linear-gradient(135deg, #3d0f0f, #1f0a0a)">
                        <div class="showcase-content">
                            <div class="border-title" style="color: #ff4444">ALPHA</div>
                            <div class="border-desc">Lava Flow</div>
                        </div>
                    </div>
                </div>

                <div class="card-wrapper border-elder">
                    <div class="card-face" style="background: linear-gradient(135deg, #3d2f0f, #1f180a)">
                        <div class="showcase-content">
                            <div class="border-title" style="color: #f9d976">ELDER</div>
                            <div class="border-desc">Shimmer Gold</div>
                        </div>
                    </div>
                </div>

                <div class="card-wrapper border-spirit">
                    <div class="card-face" style="background: linear-gradient(135deg, #2d1a3d, #1a0f2f)">
                        <div class="showcase-content">
                            <div class="border-title" style="color: #8b00ff">SPIRIT</div>
                            <div class="border-desc">Prismatic</div>
                        </div>
                    </div>
                </div>
            </div>

            <h2 class="section-title">üìä ARCHETYPE EVOLUTION (T0‚ÜíT3)</h2>
            <div id="matrixContainer"></div>
        </div>

        <script>
            const archetypes = [
                { name: 'DRIFTER', img: 'img/drifter.png', border: 'alpha' },
                { name: 'WALKER', img: 'img/walker.png', border: 'hunter' },
                { name: 'MERCHANT', img: 'img/merchant.png', border: 'elder' },
                { name: 'ENGINEER', img: 'img/engineer.png', border: 'hunter' },
                { name: 'SHAMAN', img: 'img/shaman.png', border: 'scout' },
                { name: 'KEEPER', img: 'img/keeper.png', border: 'alpha' },
                { name: 'LORD', img: 'img/oasis.png', border: 'elder' },
                { name: 'PRIME', img: 'img/prime.png', border: 'spirit' },
                { name: 'SINGULARITY', img: 'img/singularity.png', border: 'spirit' }
            ];

            const container = document.getElementById('matrixContainer');

            archetypes.forEach(arch => {
                const row = document.createElement('div');
                row.className = 'matrix-grid';

                const label = document.createElement('div');
                label.className = 'matrix-label';
                label.textContent = arch.name;
                row.appendChild(label);

                for (let tier = 0; tier <= 3; tier++) {
                    const wrapper = document.createElement('div');
                    wrapper.className = 'card-wrapper';

                    if (tier === 0) {
                        wrapper.classList.add('border-cub');
                    } else if (tier === 3) {
                        wrapper.classList.add(`border-${arch.border}`);
                    }

                    const face = document.createElement('div');
                    face.className = `card-face tier-${tier}`;

                    const img = document.createElement('img');
                    img.className = 'card-image';
                    img.src = arch.img;
                    img.alt = arch.name;
                    face.appendChild(img);

                    if (tier >= 2) {
                        const vfx = document.createElement('div');
                        vfx.className = `card-vfx vfx-${arch.name.toLowerCase()}`;
                        face.appendChild(vfx);
                    }

                    wrapper.appendChild(face);
                    row.appendChild(wrapper);
                }

                container.appendChild(row);
            });
        </script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\qa-bridge.js
==================================================

#!/usr/bin/env node
/**
 * QA Bridge - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Gemini AI
 * –ó–∞–ø—É—Å–∫: node qa-bridge.js –∏–ª–∏ npm run qa:cycle
 */

const puppeteer = require('puppeteer');

const CONFIG = {
    targetUrl: 'https://main.fennec-swap.pages.dev',
    workerUrl: 'https://fennec-api.warninghejo.workers.dev',
    timeout: 30000,
    maxRetries: 5
};

async function runQACycle() {
    console.log('\nü§ñ === FENNEC QA CYCLE START ===\n');

    let browser = null;
    let retryCount = 0;

    while (retryCount < CONFIG.maxRetries) {
        try {
            // –ó–∞–ø—É—Å–∫ –±—Ä–∞—É–∑–µ—Ä–∞
            console.log(`üåê –ó–∞–ø—É—Å–∫ –±—Ä–∞—É–∑–µ—Ä–∞ (–ø–æ–ø—ã—Ç–∫–∞ ${retryCount + 1}/${CONFIG.maxRetries})...`);
            browser = await puppeteer.launch({
                headless: 'new',
                args: ['--no-sandbox', '--disable-setuid-sandbox']
            });

            const page = await browser.newPage();

            // –°–±–æ—Ä –æ—à–∏–±–æ–∫ –∫–æ–Ω—Å–æ–ª–∏
            const consoleLogs = [];
            const networkErrors = [];

            page.on('console', msg => {
                const type = msg.type();
                const text = msg.text();
                consoleLogs.push({ type, text, timestamp: Date.now() });

                if (type === 'error') {
                    console.log(`‚ùå Console Error: ${text}`);
                }
            });

            page.on('pageerror', error => {
                consoleLogs.push({
                    type: 'error',
                    text: error.toString(),
                    stack: error.stack,
                    timestamp: Date.now()
                });
                console.log(`‚ùå Page Error: ${error.toString()}`);
            });

            page.on('requestfailed', request => {
                networkErrors.push({
                    url: request.url(),
                    failure: request.failure()
                });
                console.log(`‚ö†Ô∏è Network Error: ${request.url()}`);
            });

            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            console.log(`üìÑ –ó–∞–≥—Ä—É–∑–∫–∞ ${CONFIG.targetUrl}...`);
            await page.goto(CONFIG.targetUrl, {
                waitUntil: 'networkidle2',
                timeout: CONFIG.timeout
            });

            // –ñ–¥–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
            await page.waitForTimeout(3000);

            // –°–±–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            const pageState = await page.evaluate(() => {
                const state = {
                    url: window.location.href,
                    userAddress: window.userAddress || null,
                    modalOpen: !!document.querySelector('[id*="modal"]')?.offsetParent,
                    visibleTabs: Array.from(document.querySelectorAll('[role="tablist"] button')).map(b =>
                        b.textContent.trim()
                    ),
                    balances: {
                        fb: document.querySelector('[data-balance-fb]')?.textContent || 'N/A',
                        cats: document.querySelector('[data-balance-cats]')?.textContent || 'N/A'
                    },
                    fennecIdStatus: !!document.getElementById('fennecIdIframe'),
                    aiProbe: window.aiProbe || null
                };
                return state;
            });

            console.log('\nüìä –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:', JSON.stringify(pageState, null, 2));

            // –ü—Ä–æ–∫–ª–∏–∫–∏–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)
            try {
                const tabs = ['Swap', 'Deposit', 'Audit'];
                for (const tab of tabs) {
                    try {
                        const button = await page.$x(`//button[contains(text(), "${tab}")]`);
                        if (button.length > 0) {
                            await button[0].click();
                            await page.waitForTimeout(1000);
                            console.log(`‚úÖ –ö–ª–∏–∫–Ω—É–ª –≤–∫–ª–∞–¥–∫—É: ${tab}`);
                        }
                    } catch (e) {
                        console.log(`‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∫–ª–∏–∫–Ω—É—Ç—å ${tab}: ${e.message}`);
                    }
                }
            } catch (e) {
                console.log(`‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–∫–ª–∏–∫–∏–≤–∞–Ω–∏–∏: ${e.message}`);
            }

            // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ QA Agent (Gemini)
            console.log('\nüß† –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Gemini QA Agent...');

            const qaPayload = {
                page_state: pageState,
                console_logs: consoleLogs,
                network_errors: networkErrors,
                timestamp: new Date().toISOString()
            };

            const response = await fetch(`${CONFIG.workerUrl}?action=qa_agent_check`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(qaPayload)
            });

            const result = await response.json();

            console.log('\nü§ñ === GEMINI QA REPORT ===');
            console.log(`–°—Ç–∞—Ç—É—Å: ${result.status || 'UNKNOWN'}`);

            if (result.status === 'PASS') {
                console.log('‚úÖ –í–°–ï –°–ò–°–¢–ï–ú–´ –†–ê–ë–û–¢–ê–Æ–¢ –ù–û–†–ú–ê–õ–¨–ù–û');
                console.log(result.message || '');
                await browser.close();
                process.exit(0);
            } else if (result.status === 'FAIL') {
                console.log('‚ùå –û–ë–ù–ê–†–£–ñ–ï–ù–´ –û–®–ò–ë–ö–ò');
                console.log('\nüìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Windsurf:');
                console.log(result.windsurf_instruction || '–ù–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π');
                console.log('\n‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è...');
                retryCount++;
                await browser.close();

                if (retryCount >= CONFIG.maxRetries) {
                    console.log('\n‚ùå –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –ø–æ–ø—ã—Ç–æ–∫. –û—Å—Ç–∞–Ω–æ–≤–∫–∞.');
                    process.exit(1);
                }

                // –ñ–¥–µ–º –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π
                console.log('\n‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π...');
                await new Promise(resolve => setTimeout(resolve, 5000));
            } else {
                console.log('‚ö†Ô∏è –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å –æ—Ç AI');
                console.log(JSON.stringify(result, null, 2));
                await browser.close();
                process.exit(1);
            }
        } catch (error) {
            console.error(`\n‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ QA —Ü–∏–∫–ª–∞: ${error.message}`);
            console.error(error.stack);

            if (browser) {
                await browser.close();
            }

            retryCount++;

            if (retryCount >= CONFIG.maxRetries) {
                console.log('\n‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å QA —Ü–∏–∫–ª –ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫.');
                process.exit(1);
            }

            console.log('\n‚è≥ –ü–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥...');
            await new Promise(resolve => setTimeout(resolve, 5000));
        }
    }
}

// –ó–∞–ø—É—Å–∫
runQACycle().catch(error => {
    console.error('Fatal error:', error);
    process.exit(1);
});

==================================================
FILE PATH: \.pages_upload\README_DEV.md
==================================================

# –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Fennec Swap

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- `npm run dev` - –ó–∞–ø—É—Å–∫–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–ø–æ—Ä—Ç 3000)
- `npm run dev:worker` - –ó–∞–ø—É—Å–∫–∞–µ—Ç Cloudflare Worker –ª–æ–∫–∞–ª—å–Ω–æ
- `npm run dev:all` - –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏ —Å–µ—Ä–≤–µ—Ä, –∏ worker –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### –î–µ–ø–ª–æ–π
- `npm run deploy:worker` - –î–µ–ø–ª–æ–π Worker –Ω–∞ Cloudflare
- `npm run deploy:pages` - –î–µ–ø–ª–æ–π Pages –Ω–∞ Cloudflare
- `npm run deploy` - –î–µ–ø–ª–æ–π –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
- `npm run lint` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ JavaScript –∫–æ–¥–∞
- `npm run lint:html` - –ü—Ä–æ–≤–µ—Ä–∫–∞ HTML
- `npm run format` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –∫–æ–¥–∞
- `npm run format:check` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `npm run validate` - –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ (lint + format check)

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è VS Code

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏–∑ `.vscode/extensions.json`:
- Prettier - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- ESLint - –ø—Ä–æ–≤–µ—Ä–∫–∞ JavaScript
- HTMLHint - –ø—Ä–æ–≤–µ—Ä–∫–∞ HTML
- Live Server - –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `index.html` - –û—Å–Ω–æ–≤–Ω–æ–π HTML —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `worker.js` - Cloudflare Worker (API backend)
- `api/proxy.js` - Vercel API proxy
- `wrangler.toml` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Cloudflare Worker
- `vercel.json` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel

## –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run dev` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
3. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—é—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –û—Ç–ª–∞–¥–∫–∞ Worker
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run dev:worker`
2. Worker –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –ø–æ—Ä—Ç—É (–æ–±—ã—á–Ω–æ 8787)
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `console.log` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### Browser DevTools
- Chrome DevTools: F12 –∏–ª–∏ Ctrl+Shift+I
- Network tab - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –∑–∞–ø—Ä–æ—Å–æ–≤
- Console - –¥–ª—è –ª–æ–≥–æ–≤ –∏ –æ—à–∏–±–æ–∫
- Application tab - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ localStorage

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

1. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Prettier)
2. **–õ–∏–Ω—Ç–∏–Ω–≥**: –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ VS Code
3. **Live Reload**: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ HTML/CSS/JS –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. **Worker Debugging**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `wrangler tail` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–æ–º 3000
–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `package.json` –∏–ª–∏ `.vscode/settings.json`

### ESLint –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`

### Prettier –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å ESLint
–û–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –Ω–æ –µ—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `.eslintrc.json` –∏ `.prettierrc`


==================================================
FILE PATH: \.pages_upload\README.md
==================================================

# ü¶ä Fennec Swap - Fractal Bitcoin Token Exchange

Modern swap interface for Fractal Bitcoin with InSwap integration.

## üöÄ Quick Start - Auto Deploy

### First Time Setup (–æ–¥–∏–Ω —Ä–∞–∑):

1. **–£—Å—Ç–∞–Ω–æ–≤–∏ Node.js** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç):
   - –°–∫–∞—á–∞–π: https://nodejs.org/
   - –í–µ—Ä—Å–∏—è: 18+ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

2. **–£—Å—Ç–∞–Ω–æ–≤–∏ Wrangler** (Cloudflare CLI):
   ```bash
   npm install -g wrangler
   ```

3. **–ó–∞–ª–æ–≥–∏–Ω—å—Å—è –≤ Cloudflare**:
   ```bash
   wrangler login
   ```
   –û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä - –ø–æ–¥—Ç–≤–µ—Ä–¥–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

4. **–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (–≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞):
   ```bash
   npm install
   ```

### –î–µ–ø–ª–æ–π (–∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π):

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Cursor IDE (—Å–∞–º—ã–π —É–¥–æ–±–Ω—ã–π) üéØ
1. –ù–∞–∂–º–∏ `Ctrl+Shift+P` (–∏–ª–∏ `Cmd+Shift+P` –Ω–∞ Mac)
2. –ù–∞–±–µ—Ä–∏ "Run Task"
3. –í—ã–±–µ—Ä–∏ "üöÄ Deploy to Cloudflare"
4. –ì–æ—Ç–æ–≤–æ!

**–ò–ª–∏:**
- –ù–∞–∂–º–∏ `Ctrl+Shift+B` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

#### –°–ø–æ—Å–æ–± 2: –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ ‚ö°
–ü—Ä–æ—Å—Ç–æ **–¥–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏ –Ω–∞ `deploy.bat`** - –≤—Å—ë –∑–∞–¥–µ–ø–ª–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

#### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª
```bash
# –î–µ–ø–ª–æ–π –≤—Å–µ–≥–æ (Worker + Pages)
npm run deploy

# –ò–õ–ò –æ—Ç–¥–µ–ª—å–Ω–æ:
npm run deploy-worker   # –¢–æ–ª—å–∫–æ Worker (API)
npm run deploy-pages    # –¢–æ–ª—å–∫–æ Pages (Frontend)
```

#### –°–ø–æ—Å–æ–± 4: –í—Ä—É—á–Ω—É—é
```bash
# Worker
wrangler deploy

# Pages
wrangler pages deploy . --project-name=fennec-swap
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Fennec site/
‚îú‚îÄ‚îÄ index.html          # Frontend (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
‚îú‚îÄ‚îÄ worker.txt          # Worker –∫–æ–¥ (–∏—Å—Ö–æ–¥–Ω–∏–∫)
‚îú‚îÄ‚îÄ worker.js           # Worker –∫–æ–¥ (–¥–ª—è –¥–µ–ø–ª–æ—è)
‚îú‚îÄ‚îÄ wrangler.toml       # Cloudflare Worker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ package.json        # NPM –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ deploy.bat          # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (Windows)
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Worker (wrangler.toml)

–ò–∑–º–µ–Ω–∏ `name` –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –¥—Ä—É–≥–æ–µ –∏–º—è Worker:
```toml
name = "fennec-api"  # –ë—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞: fennec-api.—Ç–≤–æ–π-–∞–∫–∫–∞—É–Ω—Ç.workers.dev
```

### Frontend (index.html)

URL Worker –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞:
```javascript
const BACKEND_URL = "https://fennec-api.warninghejo.workers.dev";
```

–ò–∑–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è Worker.

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)
npm run dev:worker      # Worker –Ω–∞ http://localhost:8787

# –õ–æ–≥–∏ Worker –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
wrangler tail

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
wrangler whoami
```

## üìù Workflow –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

1. **–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å –∫–æ–¥** –≤ `index.html` –∏–ª–∏ `worker.txt`
2. **–ó–∞–ø—É—Å–∫–∞–µ—à—å** `deploy.bat` (–∏–ª–∏ `npm run deploy`)
3. **–ì–æ—Ç–æ–≤–æ!** –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## üêõ Troubleshooting

### "wrangler: command not found"
```bash
npm install -g wrangler
```

### "Not logged in"
```bash
wrangler login
```

### Worker –¥–µ–ø–ª–æ–∏—Ç—Å—è, Pages –Ω–µ—Ç
–°–æ–∑–¥–∞–π Pages –ø—Ä–æ–µ–∫—Ç –≤—Ä—É—á–Ω—É—é:
1. –ó–∞–π–¥–∏ –Ω–∞ https://dash.cloudflare.com/
2. Pages ‚Üí Create project ‚Üí Direct upload
3. –ù–∞–∑–æ–≤–∏ `fennec-swap`

### –û—à–∏–±–∫–∞ "account_id required"
–î–æ–±–∞–≤—å –≤ `wrangler.toml`:
```toml
account_id = "—Ç–≤–æ–π_account_id"
```
–ù–∞–π—Ç–∏ –º–æ–∂–Ω–æ: `wrangler whoami`

## üåü Features

- ‚úÖ Swap FB ‚Üî FENNEC
- ‚úÖ Deposit FB/FENNEC to InSwap
- ‚úÖ Withdraw from InSwap
- ‚úÖ Real-time balance checking
- ‚úÖ Transaction status tracking
- ‚úÖ Auto-detect deposit confirmations
- ‚úÖ Mobile responsive

## üîó Links

- **Worker API**: https://fennec-api.warninghejo.workers.dev
- **InSwap**: https://inswap.cc
- **Fractal Bitcoin**: https://fractalbitcoin.io
- **UniSat Wallet**: https://unisat.io

## üìÑ License

MIT

---

Made with ‚ù§Ô∏è for Fractal Bitcoin Community


==================================================
FILE PATH: \.pages_upload\tailwind.config.ts
==================================================

import type { Config } from 'tailwindcss';

export default {
    content: ['./index.html', './recursive_inscriptions/**/*.{js,ts}', './preview/**/*.{html,js,css}'],
    corePlugins: {
        preflight: false
    },
    theme: {
        extend: {
            colors: {
                fennec: {
                    orange: '#FF6B35',
                    amber: '#FFB347',
                    brown: '#3E2723',
                    dark: '#0C0C0C',
                    cyan: '#00E5FF',
                    purple: '#9D4EDD'
                },
                muted: {
                    DEFAULT: '#1F1F1F',
                    foreground: '#A1A1A1'
                }
            },
            fontFamily: {
                orbitron: ['Orbitron', 'monospace'],
                rajdhani: ['Rajdhani', 'sans-serif']
            },
            keyframes: {
                'card-float': {
                    '0%, 100%': { transform: 'translateY(0) rotateX(2deg)' },
                    '50%': { transform: 'translateY(-15px) rotateX(5deg)' }
                },
                'text-flicker': {
                    '0%, 100%': { opacity: '1' },
                    '50%': { opacity: '0.85' }
                },
                'scan-line': {
                    '0%': { top: '-100%' },
                    '100%': { top: '200%' }
                },
                'pulse-glow': {
                    '0%, 100%': { opacity: '1', filter: 'brightness(1)' },
                    '50%': { opacity: '0.8', filter: 'brightness(1.3)' }
                },
                'particle-float': {
                    '0%': { transform: 'translateY(100vh) scale(0)', opacity: '0' },
                    '10%': { opacity: '1' },
                    '90%': { opacity: '1' },
                    '100%': { transform: 'translateY(-10vh) scale(1)', opacity: '0' }
                }
            },
            animation: {
                'card-float': 'card-float 6s ease-in-out infinite',
                'text-flicker': 'text-flicker 3s ease-in-out infinite',
                'scan-line': 'scan-line 2.5s ease-in-out infinite',
                'pulse-glow': 'pulse-glow 2s ease-in-out infinite',
                'particle-float': 'particle-float 8s ease-out infinite'
            }
        }
    },
    plugins: []
} satisfies Config;

==================================================
FILE PATH: \.pages_upload\terminal.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="fennec-embed" content="0" />
        <meta name="fennec-manifest" content="/recursive_inscriptions/fennec_manifest_live.json" />
        <meta
            name="description"
            content="$FENNEC - The Desert Fox Protocol. Swap, deposit and withdraw on Fractal's fastest DEX with Fennec ID."
        />
        <title>$FENNEC | The Desert Fox Protocol</title>

        <!-- FAVICONS -->
        <link rel="icon" href="img/phav.png" type="image/png" />
        <link rel="apple-touch-icon" href="img/phav.png" />

        <!-- –¶–≤–µ—Ç –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (—á—Ç–æ–±—ã –Ω–∞ –º–æ–±–∏–ª–∫–∞—Ö —Å–ª–∏–≤–∞–ª–æ—Å—å —Å —à–∞–ø–∫–æ–π) -->
        <meta name="theme-color" content="#000000" />

        <!-- Preconnect –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <link rel="preconnect" href="https://cdn.tailwindcss.com" />
        <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="dns-prefetch" href="https://fennec-api.warninghejo.workers.dev" />
        <link rel="dns-prefetch" href="https://open-api-fractal.unisat.io" />

        <!-- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
        <link
            href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;500;700;900&display=swap"
            rel="stylesheet"
            media="print"
            onload="this.media = 'all'"
        />
        <noscript
            ><link
                href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;500;700;900&rel=stylesheet"
        /></noscript>

        <script src="assets/storage_shim.js?v=2026-01-13-1"></script>
        <link rel="stylesheet" href="assets/app.css?v=2026-01-13-1" />
    </head>
    <body>
        <!-- DEV CONSOLE INTERCEPTOR - AI Error Analysis -->
        <script src="assets/dev_console_interceptor.js?v=2026-01-13-1"></script>
        <div id="animatedBackground" class="fixed top-0 left-0 w-full h-full pointer-events-none" style="z-index: 0">
            <canvas id="animatedBackgroundCanvas" class="w-full h-full"></canvas>
        </div>

        <!-- Notifications Container -->
        <div
            id="notificationsContainer"
            style="
                position: fixed;
                top: 80px;
                right: 20px;
                z-index: 10000;
                display: flex;
                flex-direction: column;
                gap: 12px;
                align-items: flex-end;
            "
        ></div>

        <!-- LIVE TICKER -->
        <div
            id="liveTickerBar"
            class="fixed bottom-0 left-0 right-0 w-full z-[100] py-1 overflow-hidden pointer-events-none flex items-center"
            style="
                background: linear-gradient(
                    90deg,
                    rgba(13, 6, 4, 0.95) 0%,
                    rgba(20, 10, 6, 0.98) 50%,
                    rgba(13, 6, 4, 0.95) 100%
                );
                border-top: 1px solid rgba(255, 107, 53, 0.15);
                box-shadow:
                    0 -4px 20px rgba(255, 107, 53, 0.08),
                    inset 0 1px 0 rgba(255, 107, 53, 0.1);
                backdrop-filter: blur(12px);
                height: 28px;
            "
        >
            <div
                class="ticker-container"
                style="
                    overflow: hidden;
                    position: relative;
                    width: 100%;
                    height: 100%;
                    display: flex;
                    align-items: center;
                "
            >
                <div
                    class="ticker-content"
                    id="liveTicker"
                    style="
                        display: inline-flex;
                        align-items: center;
                        white-space: nowrap;
                        font-size: 13px;
                        font-weight: 700;
                        letter-spacing: 0.05em;
                        text-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
                        line-height: 28px;
                    "
                >
                    <div class="ticker-marquee">
                        <span class="ticker-item text-fennec"
                            ><img
                                src="img/phav.png"
                                class="w-5 h-5 inline-block object-contain"
                                style="filter: drop-shadow(0 0 8px rgba(255, 107, 53, 0.5))"
                            />
                            <span>FENNEC SYSTEM ONLINE</span></span
                        >
                    </div>
                </div>
            </div>
        </div>

        <!-- HEADER -->
        <header class="fixed w-full z-50 border-b border-white/5 bg-[#2c1a12]/90 backdrop-blur-md">
            <div class="max-w-6xl mx-auto px-4 h-16 grid grid-cols-[1fr_auto_1fr] items-center">
                <a class="flex items-center gap-3 cursor-pointer group" href="index.html" data-link>
                    <img
                        src="img/phav.png"
                        class="neon-logo w-9 h-9 rounded-full border border-fennec/50 group-hover:scale-110 transition shadow-lg shadow-fennec/20 object-contain"
                    />
                    <div>
                        <h1
                            class="font-display font-bold text-xl leading-none tracking-tight text-fennec"
                            style="text-shadow: 0 0 18px rgba(255, 107, 53, 0.35)"
                        >
                            FENNEC
                        </h1>
                    </div>
                </a>

                <nav class="flex gap-8 text-xs font-bold text-gray-400 uppercase tracking-widest justify-self-center">
                    <a
                        href="index.html"
                        class="nav-link hover:text-white transition py-5"
                        id="nav-home"
                        data-t="nav_home"
                        data-link
                    >
                        VISION
                    </a>
                    <a
                        href="terminal.html"
                        class="nav-link hover:text-white transition py-5 active"
                        id="nav-terminal"
                        data-t="nav_terminal"
                        data-link
                    >
                        TERMINAL
                    </a>
                    <a
                        href="id.html"
                        class="nav-link hover:text-white transition py-5"
                        id="nav-audit"
                        data-t="nav_audit"
                        data-link
                    >
                        FENNEC ID
                    </a>
                </nav>

                <div class="flex items-center gap-3 justify-self-end">
                    <a
                        href="https://x.com/FennecBTC"
                        target="_blank"
                        class="text-gray-400 hover:text-white transition flex items-center justify-center text-2xl w-10 h-10"
                        aria-label="Twitter"
                    >
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a
                        href="https://t.me/FennecBTC"
                        target="_blank"
                        class="text-gray-400 hover:text-white transition flex items-center justify-center text-2xl w-10 h-10"
                        aria-label="Telegram"
                    >
                        <i class="fab fa-telegram"></i>
                    </a>
                    <button
                        onclick="window.manualRefresh()"
                        id="refreshBtn"
                        class="hidden bg-gradient-to-br from-fennec/25 via-orange-600/20 to-orange-700/15 text-fennec px-3.5 py-2 rounded-xl font-bold hover:brightness-125 hover:scale-105 transition-all duration-200 text-[11px] border border-fennec/40 flex items-center gap-2 shadow-[0_0_20px_rgba(255,107,53,0.3)] hover:shadow-[0_0_32px_rgba(255,107,53,0.5)] backdrop-blur-sm"
                    >
                        <i id="refreshIcon" class="fas fa-sync-alt"></i>
                        <span id="refreshText">REFRESH</span>
                        <span id="refreshTimer" class="hidden text-[10px] opacity-75"></span>
                    </button>
                    <button
                        onclick="window.disconnectWallet()"
                        id="disconnectBtn"
                        class="hidden bg-red-600/20 text-red-400 px-4 py-2 rounded-lg font-bold hover:bg-red-600/30 transition text-xs border border-red-500/50 flex items-center gap-2"
                    >
                        <i class="fas fa-sign-out-alt"></i> <span id="disconnectBtnText">DISCONNECT</span>
                    </button>
                    <button
                        onclick="window.connectWallet()"
                        id="connectBtn"
                        class="bg-gradient-to-r from-fennec to-orange-600 text-black px-4 py-2 rounded-lg font-bold hover:brightness-110 transition text-xs shadow-[0_0_20px_rgba(255,107,53,0.4)] flex items-center gap-2"
                        data-t="connect"
                    >
                        <i class="fas fa-wallet"></i> <span>CONNECT</span>
                    </button>
                </div>
            </div>
        </header>

        <main id="router-view" class="router-view">
            <!-- === SECTION 2: TERMINAL (SWAP) === -->
            <section
                id="sec-terminal"
                class="page-section active flex flex-col justify-start pt-32 pb-20 px-4 max-w-4xl mx-auto relative z-10"
            >
                <!-- CHART -->
                <div class="glass-panel p-6 rounded-2xl mb-6">
                    <div class="flex justify-between items-end mb-4">
                        <div>
                            <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold">
                                Market Price (FB)
                            </div>
                            <div class="flex items-baseline gap-3">
                                <div class="text-3xl font-bold font-mono text-white tracking-tighter" id="chartPrice">
                                    --
                                </div>
                                <div class="text-lg font-bold" id="chartPriceChange">--</div>
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <button
                                onclick="setChartTimeframe('1h')"
                                class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                            >
                                1H
                            </button>
                            <button
                                onclick="setChartTimeframe('24h')"
                                class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                            >
                                24H
                            </button>
                            <button
                                onclick="setChartTimeframe('7d')"
                                class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                            >
                                7D
                            </button>
                            <button
                                onclick="setChartTimeframe('30d')"
                                class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                            >
                                30D
                            </button>
                            <button
                                onclick="setChartTimeframe('all')"
                                class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                            >
                                ALL
                            </button>
                        </div>
                    </div>
                    <div class="chart-container" style="height: 250px; width: 100%; position: relative">
                        <canvas id="priceChart"></canvas>
                    </div>
                    <!-- Market Stats -->
                    <div class="grid grid-cols-4 gap-4 mt-3 pt-4 border-t border-white/5">
                        <div class="text-center">
                            <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                24h Volume
                            </div>
                            <div class="text-lg font-bold font-mono text-white" id="volume24h">--</div>
                        </div>
                        <div class="text-center">
                            <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                7d Volume
                            </div>
                            <div class="text-lg font-bold font-mono text-white" id="volume7d">--</div>
                        </div>
                        <div class="text-center">
                            <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                30d Volume
                            </div>
                            <div class="text-lg font-bold font-mono text-white" id="volume30d">--</div>
                        </div>
                        <div class="text-center">
                            <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                Market Cap
                            </div>
                            <div class="text-lg font-bold font-mono text-white" id="marketCap">--</div>
                        </div>
                    </div>
                </div>

                <!-- MAIN INTERFACE -->
                <div
                    class="glass-panel p-6 rounded-2xl relative shadow-[0_0_50px_rgba(0,0,0,0.3)] border border-fennec/20"
                >
                    <div
                        id="swapSuccessOverlay"
                        class="absolute inset-0 z-40 items-center justify-center"
                        style="display: none"
                    >
                        <div
                            class="px-6 py-4 rounded-2xl bg-black/70 border border-fennec/30 backdrop-blur-md flex items-center gap-3"
                        >
                            <div
                                class="w-10 h-10 rounded-full bg-fennec/15 border border-fennec/40 flex items-center justify-center text-fennec text-xl"
                            >
                                <i class="fas fa-check"></i>
                            </div>
                            <div>
                                <div class="text-xs tracking-[0.25em] text-gray-300 uppercase font-bold">
                                    Swap confirmed
                                </div>
                                <div class="text-[11px] text-gray-400">Balances are updating‚Ä¶</div>
                            </div>
                        </div>
                    </div>
                    <!-- TABS -->
                    <div class="flex border-b border-white/10 mb-6">
                        <button class="tab-btn active w-1/4" onclick="switchTab('swap')" id="tab-swap" data-t="swap">
                            SWAP
                        </button>
                        <button class="tab-btn w-1/4" onclick="switchTab('deposit')" id="tab-deposit" data-t="deposit">
                            DEPOSIT
                        </button>
                        <button
                            class="tab-btn w-1/4"
                            onclick="switchTab('withdraw')"
                            id="tab-withdraw"
                            data-t="withdraw"
                        >
                            WITHDRAW
                        </button>
                        <button class="tab-btn w-1/4" onclick="switchTab('pending')" id="tab-pending" data-t="activity">
                            PENDING
                        </button>
                    </div>

                    <!-- SWAP TAB -->
                    <div id="view-swap" class="tab-content active">
                        <div class="flex gap-2 mb-4">
                            <div
                                onclick="setSwapPair('FB_FENNEC')"
                                id="pair-fb-fennec"
                                class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition hover:bg-fennec/20 cursor-pointer"
                                role="button"
                                tabindex="0"
                            >
                                <div class="flex flex-col items-center justify-center leading-tight">
                                    <div>FB / FENNEC</div>
                                </div>
                            </div>
                            <div
                                onclick="setSwapPair('BTC_FB')"
                                id="pair-btc-fb"
                                class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition hover:bg-white/5 cursor-pointer"
                                role="button"
                                tabindex="0"
                            >
                                <div class="flex flex-col items-center justify-center leading-tight">
                                    <div>BTC / FB</div>
                                </div>
                            </div>
                        </div>

                        <div
                            class="bg-black/40 rounded-xl p-4 mb-2 border border-white/5 focus-within:border-fennec/50 transition"
                        >
                            <div class="flex justify-between text-xs mb-2 text-gray-400">
                                <span data-t="you_pay" class="font-bold">YOU PAY</span>
                                <div class="flex gap-2 items-center">
                                    <span id="balIn" class="font-mono text-[10px] text-gray-500">Bal: --</span>
                                    <button
                                        onclick="setMaxAmount()"
                                        class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    >
                                        MAX
                                    </button>
                                </div>
                            </div>
                            <div class="flex justify-between items-center relative">
                                <input
                                    type="number"
                                    id="swapIn"
                                    placeholder="0.0"
                                    class="bg-transparent text-3xl font-bold w-full outline-none text-white placeholder-gray-700"
                                    oninput="debounceQuote()"
                                />
                                <div class="flex flex-col items-center gap-1">
                                    <div
                                        class="flex items-center gap-2 px-3 py-1.5 cursor-pointer min-w-[80px] justify-center"
                                    >
                                        <img id="iconIn" src="img/FB.png" class="w-6 h-6 rounded-full flex-shrink-0" />
                                        <span id="tickerIn" class="font-bold text-sm whitespace-nowrap">FB</span>
                                    </div>
                                    <!-- Liquidity Plus Button moved under the coins -->
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-center items-center gap-4 -my-5 relative z-10">
                            <button
                                onclick="switchDir()"
                                class="bg-[#2b1d1a] border border-fennec/30 p-3 rounded-full text-fennec shadow-xl hover:scale-110 transition hover:border-fennec rotate-90"
                                title="Switch direction"
                            >
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>

                        <div class="bg-black/40 rounded-xl p-4 mt-2 border border-white/5">
                            <div class="flex justify-between text-xs mb-2 text-gray-400">
                                <span data-t="you_receive" class="font-bold">YOU RECEIVE</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <input
                                    type="number"
                                    id="swapOut"
                                    placeholder="0.0"
                                    class="bg-transparent text-3xl font-bold w-full outline-none text-white placeholder-gray-700"
                                    oninput="debounceReverse()"
                                />
                                <div class="flex items-center gap-2 px-3 py-1.5 min-w-[80px] justify-center">
                                    <img id="iconOut" src="img/phav.png" class="w-6 h-6 rounded-full flex-shrink-0" />
                                    <span id="tickerOut" class="font-bold text-sm whitespace-nowrap">FENNEC</span>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-between items-center text-xs text-gray-400 mt-4 px-2 font-mono gap-3">
                            <span id="rateVal" class="font-semibold">Rate: --</span>
                            <button
                                type="button"
                                onclick="openAddLiquidityModal(currentSwapPair)"
                                class="px-4 py-2 text-[11px] font-black bg-fennec/15 text-fennec border border-fennec/30 rounded-lg hover:bg-fennec/25 transition shadow-lg tracking-widest"
                                title="Manage Liquidity"
                            >
                                Liquidity
                            </button>
                        </div>

                        <button
                            onclick="doSwap()"
                            id="swapBtn"
                            class="w-full bg-fennec text-black font-black text-xl py-4 rounded-xl mt-6 hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide flex items-center justify-center gap-2"
                            data-t="swap_action"
                        >
                            <img src="img/phav.png" class="w-6 h-6 inline-block object-contain" /> GET FENNEC
                        </button>

                        <!-- Recent Swaps -->
                        <div class="mt-6 pt-4 border-t border-white/10">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                    >Recent Swaps</span
                                >
                            </div>
                            <div id="swapHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                <div class="text-center py-4 text-gray-600 text-xs">No swaps yet</div>
                            </div>
                        </div>
                    </div>

                    <!-- DEPOSIT TAB -->
                    <div id="view-deposit" class="tab-content hidden">
                        <div class="flex gap-2 mb-6">
                            <button
                                onclick="setDepositToken('BTC')"
                                id="dep-btc"
                                class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg"
                            >
                                BTC
                            </button>
                            <button
                                onclick="setDepositToken('sFB')"
                                id="dep-sfb"
                                class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                            >
                                FB
                            </button>
                            <button
                                onclick="setDepositToken('FENNEC')"
                                id="dep-fennec"
                                class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                            >
                                FENNEC
                            </button>
                        </div>

                        <div id="dep-native-ui">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-xs text-gray-400" id="depBalance">Balance: --</span>
                                <div class="flex items-center gap-2">
                                    <button
                                        onclick="setMaxDepositAmount()"
                                        class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    >
                                        MAX
                                    </button>
                                </div>
                            </div>
                            <div
                                class="bg-black/40 rounded-xl p-4 mb-4 border border-white/5 flex justify-between items-center"
                            >
                                <input
                                    type="number"
                                    id="depAmount"
                                    placeholder="0.001"
                                    class="bg-transparent text-2xl font-bold w-full outline-none text-white"
                                />
                                <span class="font-bold text-gray-400" id="depTickerLabel">BTC</span>
                            </div>

                            <!-- Fee Selection -->
                            <div class="mb-4">
                                <div class="text-[10px] font-bold text-gray-400 tracking-wider mb-2">NETWORK FEE</div>
                                <div class="flex gap-2" id="depFeeSelector">
                                    <button
                                        onclick="setDepositFee('medium')"
                                        id="dep-fee-medium"
                                        class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition"
                                    >
                                        <div>MEDIUM</div>
                                        <div class="text-[10px] text-fennec/70" id="dep-fee-medium-value">--</div>
                                    </button>
                                    <button
                                        onclick="setDepositFee('fast')"
                                        id="dep-fee-fast"
                                        class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                    >
                                        <div>FAST</div>
                                        <div class="text-[10px] text-gray-600" id="dep-fee-fast-value">--</div>
                                    </button>
                                    <button
                                        onclick="setDepositFee('custom')"
                                        id="dep-fee-custom"
                                        class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                    >
                                        <div>CUSTOM</div>
                                        <input
                                            type="number"
                                            id="dep-fee-custom-input"
                                            placeholder="sat/vB"
                                            min="1"
                                            step="1"
                                            class="text-[10px] bg-black/40 border border-white/20 rounded w-full text-center mt-1 text-white px-1"
                                            style="display: none"
                                            onchange="setDepositFeeCustom(this.value)"
                                        />
                                    </button>
                                </div>
                            </div>

                            <button
                                onclick="doDeposit()"
                                id="btnDeposit"
                                class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide"
                                data-t="deposit_btc_btn"
                            >
                                DEPOSIT
                            </button>
                        </div>
                        <div id="dep-brc20-ui" style="display: none">
                            <div class="mb-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-xs text-gray-400"
                                        >Available: <span id="fennecAvailable">--</span></span
                                    >
                                    <span class="text-xs text-gray-400"
                                        >Transferable: <span id="fennecTransferable">--</span></span
                                    >
                                </div>
                            </div>
                            <div id="inscriptionCards" class="grid grid-cols-3 gap-3 mb-4 max-h-64 overflow-y-auto">
                                <div class="text-center py-8 text-gray-500 text-xs">Loading inscriptions...</div>
                            </div>
                            <div class="border-t border-white/10 pt-3 mb-4">
                                <div class="flex items-center justify-between text-sm">
                                    <span class="text-gray-400">Selected:</span>
                                    <span class="text-white font-bold" id="selectedAmount">0</span>
                                    <span class="text-fennec font-bold">FENNEC</span>
                                </div>
                            </div>
                            <button
                                onclick="depositSelectedInscriptions()"
                                id="btnDepositSelected"
                                class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white transition duration-200 shadow-lg mb-3"
                                disabled
                            >
                                DEPOSIT
                            </button>
                            <div class="text-center py-2 border-t border-white/10">
                                <div class="mb-3">
                                    <div class="flex items-center justify-center gap-2 mb-2">
                                        <input
                                            type="number"
                                            id="depFennecAmount"
                                            placeholder="Enter amount"
                                            min="0.00000001"
                                            step="0.00000001"
                                            class="bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white text-sm w-32 text-center focus:border-fennec transition"
                                            style="outline: none"
                                        />
                                        <span class="text-xs text-gray-400">FENNEC</span>
                                    </div>
                                    <button
                                        onclick="setMaxFennecAmount()"
                                        class="text-[10px] text-fennec hover:text-white bg-fennec/10 px-3 py-1 rounded border border-fennec/30 mb-2"
                                    >
                                        Use Max
                                    </button>
                                </div>
                                <button
                                    onclick="createFennecInscription()"
                                    id="btnCreateInscription"
                                    class="text-xs text-fennec hover:text-white bg-fennec/10 px-4 py-2 rounded-lg border border-fennec/30 transition hover:bg-fennec/20"
                                >
                                    Create Transfer Inscription
                                </button>
                            </div>
                        </div>

                        <!-- Recent Deposits -->
                        <div class="mt-6 pt-4 border-t border-white/10">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                    >Recent Deposits</span
                                >
                            </div>
                            <div id="depositHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                <div class="text-center py-4 text-gray-600 text-xs">No deposits yet</div>
                            </div>
                        </div>
                    </div>

                    <!-- WITHDRAW TAB -->
                    <div id="view-withdraw" class="tab-content hidden">
                        <div class="flex gap-2 mb-6">
                            <button
                                onclick="setWithdrawToken('sFB')"
                                id="wd-sfb"
                                class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg"
                            >
                                FB
                            </button>
                            <button
                                onclick="setWithdrawToken('FENNEC')"
                                id="wd-fennec"
                                class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                            >
                                FENNEC
                            </button>
                        </div>
                        <div class="flex justify-between text-xs mb-2 text-gray-400">
                            <span id="wd-bal">Available: --</span>
                            <div class="flex items-center gap-2">
                                <button
                                    onclick="setMaxWithdrawAmount()"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                >
                                    MAX
                                </button>
                            </div>
                        </div>
                        <div
                            class="bg-black/40 rounded-xl p-4 mb-4 border border-white/5 flex justify-between items-center"
                        >
                            <input
                                type="number"
                                id="wdAmount"
                                placeholder="0.0"
                                class="bg-transparent text-2xl font-bold w-full outline-none text-white"
                            />
                            <span class="font-bold text-gray-400" id="wdTickerLabel">FB</span>
                        </div>

                        <!-- Fee Selection -->
                        <div class="mb-4">
                            <div class="text-[10px] font-bold text-gray-400 tracking-wider mb-2">NETWORK FEE</div>
                            <div class="flex gap-2" id="wdFeeSelector">
                                <button
                                    onclick="setWithdrawFee('medium')"
                                    id="wd-fee-medium"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition"
                                >
                                    <div>MEDIUM</div>
                                    <div class="text-[10px] text-fennec/70" id="wd-fee-medium-value">--</div>
                                </button>
                                <button
                                    onclick="setWithdrawFee('fast')"
                                    id="wd-fee-fast"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                >
                                    <div>FAST</div>
                                    <div class="text-[10px] text-gray-600" id="wd-fee-fast-value">--</div>
                                </button>
                                <button
                                    onclick="setWithdrawFee('custom')"
                                    id="wd-fee-custom"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                >
                                    <div>CUSTOM</div>
                                    <input
                                        type="number"
                                        id="wd-fee-custom-input"
                                        placeholder="sat/vB"
                                        min="1"
                                        step="1"
                                        class="text-[10px] bg-black/40 border border-white/20 rounded w-full text-center mt-1 text-white px-1"
                                        style="display: none"
                                        onchange="setWithdrawFeeCustom(this.value)"
                                    />
                                </button>
                            </div>
                        </div>

                        <button
                            onclick="doWithdraw()"
                            id="btnWithdraw"
                            class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide"
                            data-t="withdraw_btn"
                        >
                            WITHDRAW
                        </button>

                        <!-- Recent Withdrawals -->
                        <div class="mt-6 pt-4 border-t border-white/10">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                    >Recent Withdrawals</span
                                >
                            </div>
                            <div id="withdrawHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                <div class="text-center py-4 text-gray-600 text-xs">No withdrawals yet</div>
                            </div>
                        </div>
                    </div>

                    <!-- PENDING TAB -->
                    <div id="view-pending" class="tab-content hidden">
                        <div
                            class="text-xs text-gray-500 font-bold uppercase mb-3 tracking-widest flex justify-between"
                        >
                            <span>Pending Operations</span>
                        </div>
                        <div id="pendingOperations" class="space-y-2 max-h-80 overflow-y-auto scrollbar-thin">
                            <div class="text-center py-8 text-gray-600 text-xs">No pending operations</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- FOOTER SPACER -->
        <div class="h-10"></div>

        <!-- MODALS -->
        <div
            id="errorModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('errorModal').classList.add('hidden')"
        >
            <div class="modal-box border-red-500/30" onclick="event.stopPropagation()">
                <h3 class="text-lg font-bold text-red-500 mb-2">Error</h3>
                <p id="errorMsg" class="text-gray-400 text-xs font-mono mb-4 break-all"></p>
                <button
                    onclick="document.getElementById('errorModal').classList.add('hidden')"
                    class="w-full bg-white/10 py-2 rounded-lg hover:bg-white/20 text-white text-sm font-bold"
                >
                    CLOSE
                </button>
            </div>
        </div>
        <div
            id="successModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('successModal').classList.add('hidden')"
        >
            <div class="modal-box border-green-500/30 text-center" onclick="event.stopPropagation()">
                <div class="text-4xl mb-3"></div>
                <h3 class="text-lg font-bold text-green-500 mb-2">Success!</h3>
                <p class="text-gray-400 text-xs mb-4 font-mono break-all bg-black/30 p-2 rounded" id="successTxId"></p>
                <button
                    onclick="document.getElementById('successModal').classList.add('hidden')"
                    class="w-full bg-green-600 text-black font-bold py-2 rounded-lg hover:bg-green-500 transition"
                >
                    OK
                </button>
            </div>
        </div>
        <div
            id="depositLinkModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('depositLinkModal').classList.add('hidden')"
        >
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <i class="fas fa-wallet text-3xl text-fennec mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">Insufficient Funds</h3>
                <button
                    onclick="
                        switchTab('deposit');
                        document.getElementById('depositLinkModal').classList.add('hidden');
                    "
                    class="w-full bg-fennec text-black py-3 rounded-xl font-bold hover:bg-white transition"
                >
                    GO TO DEPOSIT
                </button>
            </div>
        </div>

        <div id="addLiquidityModal" class="modal-overlay hidden" onclick="closeAddLiquidityModal()">
            <div
                class="modal-box border-fennec/30"
                style="max-width: 560px; width: 92%; padding: 22px"
                onclick="event.stopPropagation()"
            >
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">Liquidity</div>
                        <div class="text-lg font-black text-white">Manage Liquidity</div>
                    </div>
                    <div class="flex items-center gap-3">
                        <button type="button" onclick="closeAddLiquidityModal()" class="text-gray-500 hover:text-white">
                            ‚úï
                        </button>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="flex gap-2 mb-3">
                    <button
                        id="liqTabAdd"
                        onclick="switchLiquidityTab('add')"
                        class="flex-1 px-4 py-2 rounded-xl bg-fennec/15 border border-fennec/30 text-white font-black transition"
                    >
                        ADD
                    </button>
                    <button
                        id="liqTabRemove"
                        onclick="switchLiquidityTab('remove')"
                        class="flex-1 px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-gray-400 font-black transition"
                    >
                        REMOVE
                    </button>
                </div>

                <!-- Pair selector hidden - pair is fixed when modal opens -->
                <div class="hidden grid grid-cols-2 gap-2" id="liqPairSwitcher">
                    <button
                        id="liqPairFBF"
                        onclick="selectLiquidityPair('FB_FENNEC')"
                        class="px-4 py-3 rounded-xl bg-fennec/10 border border-fennec/25 text-white font-black hover:bg-fennec/15 hover:border-fennec/45 transition"
                    >
                        FB / FENNEC
                    </button>
                    <button
                        id="liqPairBFB"
                        onclick="selectLiquidityPair('BTC_FB')"
                        class="px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white font-black hover:bg-white/10 hover:border-white/20 transition"
                    >
                        BTC / FB
                    </button>
                </div>

                <!-- Add Liquidity Tab Content -->
                <div id="liqAddContent">
                    <!-- Display fixed pair -->
                    <div class="text-center py-3 px-4 bg-fennec/10 border border-fennec/30 rounded-xl">
                        <div class="text-xs text-gray-400 uppercase tracking-widest mb-1">Selected Pair</div>
                        <div id="liqFixedPairDisplay" class="text-xl font-black text-white">FB / FENNEC</div>
                    </div>

                    <div id="liqSideRow" class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div
                            id="liqMyPos"
                            class="hidden bg-black/40 border border-white/10 rounded-xl p-3 md:col-span-2"
                        >
                            <div class="flex items-center justify-between gap-3">
                                <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                                    Your Position
                                </div>
                                <button
                                    type="button"
                                    onclick="refreshMyLiquidityForSelectedPair(true)"
                                    class="text-[10px] text-fennec hover:text-white underline decoration-dotted"
                                >
                                    Refresh
                                </button>
                            </div>
                            <div id="liqMyPosBody" class="mt-3 text-gray-200">--</div>
                        </div>

                        <div
                            id="liqWithdrawPanel"
                            class="hidden bg-black/40 border border-white/10 rounded-xl p-3 md:col-span-1"
                        >
                            <div class="flex items-center justify-between gap-3">
                                <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                                    Liquidity
                                </div>
                                <button
                                    id="liqWithdrawBtn"
                                    type="button"
                                    onclick="openRemoveLiquidityModal()"
                                    class="text-[10px] font-black bg-fennec/15 text-fennec border border-fennec/30 px-2 py-1 rounded-lg hover:bg-fennec/25 transition"
                                >
                                    Withdraw
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                            <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                                <span id="liqTick0Label">FENNEC</span>
                                <button
                                    onclick="setMaxLiqAmount(0)"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    type="button"
                                >
                                    MAX
                                </button>
                            </div>
                            <input
                                id="liqAmount0"
                                type="number"
                                inputmode="decimal"
                                placeholder="0.0"
                                class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                                oninput="syncLiquidityAmounts(0)"
                            />
                            <div class="text-[10px] text-gray-500 mt-1">Bal: <span id="liqBal0">--</span></div>
                        </div>
                        <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                            <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                                <span id="liqTick1Label">FB</span>
                                <button
                                    onclick="setMaxLiqAmount(1)"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    type="button"
                                >
                                    MAX
                                </button>
                            </div>
                            <input
                                id="liqAmount1"
                                type="number"
                                inputmode="decimal"
                                placeholder="0.0"
                                class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                                oninput="syncLiquidityAmounts(1)"
                            />
                            <div class="text-[10px] text-gray-500 mt-1">Bal: <span id="liqBal1">--</span></div>
                        </div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                        <span>Expected LP: <span id="liqExpectedLP" class="text-white font-bold">--</span></span>
                    </div>

                    <button
                        onclick="doAddLiquidity()"
                        id="liqSupplyBtn"
                        class="mt-3 w-full bg-gradient-to-r from-fennec to-orange-400 text-black font-black text-base py-3 rounded-xl hover:brightness-110 transition opacity-50 cursor-not-allowed"
                        disabled
                    >
                        SUPPLY
                    </button>
                </div>

                <!-- Remove Liquidity Tab Content -->
                <div id="liqRemoveContent" class="hidden">
                    <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                        <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                            <span>LP Amount</span>
                            <button
                                type="button"
                                onclick="setMaxRemoveLp()"
                                class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                            >
                                MAX
                            </button>
                        </div>
                        <input
                            id="removeLpAmount"
                            type="number"
                            inputmode="decimal"
                            placeholder="0.0"
                            class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                        />
                        <div class="text-[10px] text-gray-500 mt-1">Your LP: <span id="removeLpBalance">--</span></div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                        <span>Est. Receive: <span id="removeReceive" class="text-white font-bold">--</span></span>
                        <span class="text-gray-600">Fees in FB</span>
                    </div>

                    <button
                        onclick="doRemoveLiquidity()"
                        id="removeLiqBtn"
                        class="mt-3 w-full bg-gradient-to-r from-fennec to-orange-400 text-black font-black text-base py-3 rounded-xl hover:brightness-110 transition opacity-50 cursor-not-allowed"
                        disabled
                    >
                        WITHDRAW
                    </button>
                </div>
            </div>
        </div>

        <div id="removeLiquidityModal" class="modal-overlay hidden" onclick="closeRemoveLiquidityModal()">
            <div
                class="modal-box border-fennec/30"
                style="max-width: 520px; width: 92%; padding: 22px"
                onclick="event.stopPropagation()"
            >
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                            Withdraw Liquidity
                        </div>
                        <div class="text-lg font-black text-white">Remove Liquidity</div>
                    </div>
                    <button type="button" onclick="closeRemoveLiquidityModal()" class="text-gray-500 hover:text-white">
                        ‚úï
                    </button>
                </div>

                <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                    <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                        <span>LP Amount</span>
                        <button
                            type="button"
                            onclick="setMaxRemoveLp()"
                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                        >
                            MAX
                        </button>
                    </div>
                    <input
                        id="removeLpAmount"
                        type="number"
                        inputmode="decimal"
                        placeholder="0.0"
                        class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                    />
                    <div class="text-[10px] text-gray-500 mt-1">Your LP: <span id="removeLpBalance">--</span></div>
                </div>

                <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                    <span>Est. Receive: <span id="removeReceive" class="text-white font-bold">--</span></span>
                    <span class="text-gray-600">Fees in FB</span>
                </div>

                <button
                    onclick="doRemoveLiquidity()"
                    id="removeLiqBtn"
                    class="mt-3 w-full bg-white/10 border border-white/10 text-white font-black text-base py-3 rounded-xl hover:bg-white/15 transition"
                >
                    WITHDRAW
                </button>
            </div>
        </div>

        <div
            id="inscriptionModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('inscriptionModal').classList.add('hidden')"
        >
            <div class="modal-box" onclick="event.stopPropagation()">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-white">Select Inscription</h3>
                    <button
                        onclick="document.getElementById('inscriptionModal').classList.add('hidden')"
                        class="text-gray-500 hover:text-white"
                    >
                        ‚úï
                    </button>
                </div>
                <div id="inscList" class="max-h-60 overflow-y-auto space-y-2">
                    <div class="text-center py-4 text-gray-500 text-xs">Loading...</div>
                </div>
            </div>
        </div>
        <div
            id="switchWalletModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('switchWalletModal').classList.add('hidden')"
        >
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <i class="fas fa-exchange-alt text-3xl text-fennec mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">Switch Wallet?</h3>
                <p class="text-gray-400 text-sm mb-4">
                    You are about to switch from:<br /><span
                        class="text-fennec font-mono text-xs"
                        id="currentWalletAddress"
                    ></span
                    ><br /><br />Please confirm to continue.
                </p>
                <div class="flex gap-3">
                    <button
                        onclick="
                            document.getElementById('switchWalletModal').classList.add('hidden');
                            switchWalletConfirmed = true;
                            window.connectWallet();
                        "
                        class="flex-1 bg-fennec text-black py-3 rounded-xl font-bold hover:bg-white transition"
                    >
                        CONFIRM</button
                    ><button
                        onclick="
                            document.getElementById('switchWalletModal').classList.add('hidden');
                            switchWalletConfirmed = false;
                        "
                        class="flex-1 bg-white/10 text-white py-3 rounded-xl font-bold hover:bg-white/20 transition"
                    >
                        CANCEL
                    </button>
                </div>
            </div>
        </div>

        <!-- WHALE WATCHER NOTIFICATION -->
        <div
            id="whaleWatcher"
            class="whale-alert fixed bottom-4 right-4 bg-black/90 border border-fennec/50 p-4 rounded-xl shadow-[0_0_30px_rgba(255,107,53,0.3)] transform translate-y-[200%] transition-transform duration-500 z-50 flex items-center gap-4 max-w-sm hidden"
        >
            <div class="text-4xl"></div>
            <div>
                <div class="text-xs text-fennec font-bold uppercase tracking-widest mb-1">Whale Alert</div>
                <div id="whaleMsg" class="text-sm text-white font-mono leading-tight">Someone just swapped 500 FB!</div>
            </div>
            <button
                onclick="document.getElementById('whaleWatcher').classList.add('translate-y-[200%]')"
                class="absolute top-2 right-2 text-gray-500 hover:text-white"
            >
                √ó
            </button>
        </div>

        <!-- Progress Tracking Modal -->
        <div id="progressModal" class="modal-overlay hidden">
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <div class="text-4xl mb-4"><i class="fas fa-spinner fa-spin text-fennec"></i></div>
                <h3 class="text-lg font-bold text-white mb-3" id="progressTitle">Processing...</h3>
                <div class="bg-black/40 rounded-lg p-4 mb-4">
                    <div class="flex justify-between text-xs mb-2">
                        <span class="text-gray-400" id="progressStep">Waiting...</span
                        ><span class="text-fennec font-bold" id="progressPercent">0%</span>
                    </div>
                    <div class="w-full bg-white/10 rounded-full h-2 overflow-hidden">
                        <div
                            id="progressBar"
                            class="bg-gradient-to-r from-fennec to-sand h-full transition-all duration-300"
                            style="width: 0%"
                        ></div>
                    </div>
                </div>
                <p class="text-gray-400 text-xs font-mono break-all bg-black/30 p-2 rounded mb-4" id="progressTxId"></p>
                <button
                    onclick="closeProgress()"
                    class="w-full bg-white/10 py-2 rounded-lg hover:bg-white/20 text-white text-sm font-bold"
                >
                    CLOSE
                </button>
            </div>
        </div>

        <script src="js/router.js?v=2026-01-14-1"></script>
        <script src="assets/app.js?v=2026-01-14-1"></script>

        <!-- CHAT WIDGET -->
        <div id="chatWidget" class="fixed bottom-12 right-6 z-50 flex flex-col items-end pointer-events-none">
            <div
                id="chatWindow"
                class="mb-4 w-80 bg-[#1a100c]/95 backdrop-blur-xl border border-fennec/30 rounded-2xl shadow-[0_0_50px_rgba(255,107,53,0.15)] overflow-hidden transform origin-bottom-right scale-90 opacity-0 transition-all duration-300 pointer-events-auto hidden"
            >
                <div
                    class="bg-gradient-to-r from-fennec/20 to-transparent p-3 border-b border-white/5 flex justify-between items-center"
                >
                    <div class="flex items-center gap-2">
                        <div class="w-5 h-5 flex-shrink-0">
                            <img src="img/FENNECAI.png" class="w-full h-full object-contain ai-avatar" />
                        </div>
                        <span class="text-xs font-mono font-bold text-fennec tracking-widest">ASSISTANT</span>
                    </div>
                    <button onclick="window.toggleChat()" class="text-gray-500 hover:text-white">‚úï</button>
                </div>
                <div class="px-3 py-2 border-b border-white/5 bg-black/10">
                    <div class="flex flex-wrap gap-2 justify-center">
                        <button
                            onclick="oracleQuick('help')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            HELP
                        </button>
                        <button
                            onclick="oracleQuick('prices')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            PRICE
                        </button>
                        <button
                            onclick="oracleQuick('swap')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            SWAP
                        </button>
                        <button
                            onclick="oracleQuick('id')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            FENNEC ID
                        </button>
                        <button
                            onclick="oracleQuick('deposit')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            DEPOSIT
                        </button>
                        <button
                            onclick="oracleQuick('withdraw')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            WITHDRAW
                        </button>
                        <button
                            onclick="oracleQuick('clear')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-red-500/40 hover:bg-red-500/10 transition"
                        >
                            CLEAR
                        </button>
                    </div>
                    <div id="chatLoading" class="hidden mt-2 text-[10px] text-gray-500 font-mono">
                        Scanning the dunes...
                    </div>
                </div>
                <div id="chatMessages" class="h-80 overflow-y-auto p-4 space-y-3 scrollbar-thin text-xs text-gray-300">
                    <div class="flex gap-2 items-start">
                        <div class="w-6 h-6 flex-shrink-0">
                            <img src="img/FENNECAI.png" class="w-full h-full object-contain ai-avatar" />
                        </div>
                        <div class="bg-white/5 p-3 rounded-lg rounded-tl-none flex-1">
                            Ask me anything about Fennec.
                        </div>
                    </div>
                </div>
                <div class="p-3 border-t border-white/10 bg-black/20 relative">
                    <input
                        type="text"
                        id="chatInput"
                        placeholder="Ask..."
                        class="w-full bg-black/50 border border-white/10 rounded-lg pl-3 pr-12 py-3 text-xs text-white outline-none focus:border-fennec/50 transition"
                        onkeypress="if (event.key === 'Enter') sendMessage();"
                    />
                    <button
                        onclick="sendMessage()"
                        id="chatSendBtn"
                        class="absolute right-2 top-1/2 -translate-y-1/2 text-fennec w-9 h-9 flex items-center justify-center rounded-md bg-white/5 border border-white/10 hover:bg-fennec/10 hover:border-fennec/30"
                    >
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            <button
                onclick="window.toggleChat()"
                id="chatTrigger"
                class="pointer-events-auto w-14 h-14 bg-[#2b1d1a] rounded-full border border-fennec/50 shadow-lg flex items-center justify-center hover:scale-110 transition hover:bg-fennec hover:text-black overflow-hidden"
            >
                <img src="img/FENNECAI.png" class="w-10 h-10 object-contain ai-avatar" />
            </button>
        </div>

        <script src="assets/bg.js?v=2026-01-13-1"></script>
    </body>
</html>

==================================================
FILE PATH: \.pages_upload\test_response.json
==================================================

{"error":"All Gemini models failed"}

==================================================
FILE PATH: \.pages_upload\tsconfig.json
==================================================

{
    "compilerOptions": {
        "target": "ES2020",
        "useDefineForClassFields": true,
        "lib": ["ES2020", "DOM", "DOM.Iterable"],
        "module": "ESNext",
        "skipLibCheck": true,
        "moduleResolution": "Bundler",
        "allowJs": true,
        "checkJs": false,
        "resolveJsonModule": true,
        "isolatedModules": true,
        "noEmit": true,
        "strict": true,
        "types": ["vite/client"]
    },
    "include": ["worker.js", "api/**/*.js", "scripts/**/*.js", "scripts/**/*.mjs"]
}

==================================================
FILE PATH: \.pages_upload\vercel.json
==================================================

{
    "name": "fennec-swap",
    "version": 2,
    "headers": [
        {
            "source": "/recursive_inscriptions/(.*)",
            "headers": [
                { "key": "Access-Control-Allow-Origin", "value": "*" },
                { "key": "Access-Control-Allow-Methods", "value": "GET, OPTIONS" },
                { "key": "Access-Control-Allow-Headers", "value": "*" }
            ]
        }
    ],
    "builds": [
        {
            "src": "index.html",
            "use": "@vercel/static"
        },
        {
            "src": "api/proxy.js",
            "use": "@vercel/node"
        }
    ],
    "routes": [
        {
            "src": "/api/(.*)",
            "dest": "/api/proxy.js"
        },
        {
            "src": "/(.*)",
            "dest": "/$1"
        }
    ]
}

==================================================
FILE PATH: \.vscode\extensions.json
==================================================

{
    "recommendations": [
        "esbenp.prettier-vscode",
        "dbaeumer.vscode-eslint",
        "mkaufman.htmlhint",
        "ritwickdey.liveserver",
        "ms-vscode.vscode-typescript-next"
    ]
}

==================================================
FILE PATH: \.vscode\settings.json
==================================================

{
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "editor.codeActionsOnSave": {
        "source.fixAll.eslint": "explicit"
    },
    "files.eol": "\n",
    "files.insertFinalNewline": true,
    "files.trimTrailingWhitespace": true,
    "html.format.enable": false,
    "javascript.format.enable": false,
    "[javascript]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[html]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[json]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "eslint.validate": ["javascript", "javascriptreact"],
    "htmlhint.enable": true,
    "liveServer.settings.port": 3001,
    "liveServer.settings.root": "/",
    "liveServer.settings.CustomBrowser": "chrome"
}

==================================================
FILE PATH: \.vscode\tasks.json
==================================================

{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "üöÄ Deploy to Cloudflare",
            "type": "shell",
            "command": "deploy.bat",
            "problemMatcher": [],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "shared",
                "showReuseMessage": true,
                "clear": false
            },
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "üîß Deploy Worker Only",
            "type": "shell",
            "command": "npm run deploy-worker",
            "problemMatcher": [],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "shared"
            }
        },
        {
            "label": "üåê Deploy Pages Only",
            "type": "shell",
            "command": "npm run deploy-pages",
            "problemMatcher": [],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "shared"
            }
        }
    ]
}

==================================================
FILE PATH: \api\proxy.js
==================================================

const BACKEND = 'https://fennec-api.warninghejo.workers.dev';

const zlib = require('zlib');

function getRawBody(req) {
    return new Promise((resolve, reject) => {
        const chunks = [];
        req.on('data', chunk => chunks.push(Buffer.from(chunk)));
        req.on('end', () => resolve(Buffer.concat(chunks)));
        req.on('error', reject);
    });
}

module.exports = async (req, res) => {
    try {
        const originUrl = new URL(req.url, `http://${req.headers.host || 'localhost'}`);
        const targetUrl = new URL(BACKEND);
        const originPath = String(originUrl.pathname || '/');
        let upstreamPath = originPath;
        if (upstreamPath.startsWith('/api/proxy.js')) upstreamPath = upstreamPath.slice('/api/proxy.js'.length);
        else if (upstreamPath.startsWith('/api/proxy')) upstreamPath = upstreamPath.slice('/api/proxy'.length);
        else if (upstreamPath.startsWith('/api')) upstreamPath = upstreamPath.slice('/api'.length);
        upstreamPath = String(upstreamPath || '/');
        if (!upstreamPath.startsWith('/')) upstreamPath = '/' + upstreamPath;
        targetUrl.pathname = upstreamPath;
        targetUrl.search = originUrl.search;

        const method = (req.method || 'GET').toUpperCase();

        const headers = {};
        const contentType = req.headers['content-type'];
        if (contentType) headers['content-type'] = contentType;
        const originHeader = req.headers['origin'];
        if (originHeader) headers['origin'] = originHeader;
        const refererHeader = req.headers['referer'];
        if (refererHeader) headers['referer'] = refererHeader;
        const userAgentHeader = req.headers['user-agent'];
        if (userAgentHeader) headers['user-agent'] = userAgentHeader;
        if (req.headers['x-public-key']) headers['x-public-key'] = req.headers['x-public-key'];
        if (req.headers['x-address']) headers['x-address'] = req.headers['x-address'];

        let body;
        if (method !== 'GET' && method !== 'HEAD' && method !== 'OPTIONS') {
            const raw = await getRawBody(req);
            if (raw && raw.length) body = raw;
        }

        const upstream = await fetch(targetUrl.toString(), { method, headers, body });

        res.statusCode = upstream.status;
        res.setHeader('access-control-allow-origin', '*');

        const acceptEncoding = String(req.headers['accept-encoding'] || '');

        const upstreamContentType = upstream.headers.get('content-type');
        if (upstreamContentType) res.setHeader('content-type', upstreamContentType);

        const buf = Buffer.from(await upstream.arrayBuffer());

        const isTextLike =
            /^(application\/json|text\/|application\/javascript|application\/xml|application\/xhtml\+xml)/i.test(
                String(upstreamContentType || '')
            );

        if (isTextLike && /\bbr\b/i.test(acceptEncoding)) {
            try {
                const compressed = zlib.brotliCompressSync(buf, {
                    params: {
                        [zlib.constants.BROTLI_PARAM_QUALITY]: 4
                    }
                });
                res.setHeader('content-encoding', 'br');
                res.setHeader('vary', 'Accept-Encoding');
                res.end(compressed);
                return;
            } catch (e) {
                // Fallback to uncompressed
            }
        }

        if (/\bgzip\b/i.test(acceptEncoding)) {
            try {
                const gz = zlib.gzipSync(buf, { level: 6 });
                res.setHeader('content-encoding', 'gzip');
                res.setHeader('vary', 'Accept-Encoding');
                res.end(gz);
                return;
            } catch (e) {
                // Fallback to uncompressed
            }
        }

        res.setHeader('vary', 'Accept-Encoding');
        res.end(buf);
    } catch (e) {
        res.statusCode = 500;
        res.setHeader('content-type', 'application/json');
        res.setHeader('access-control-allow-origin', '*');
        res.end(
            JSON.stringify({
                code: -1,
                error: e?.message || String(e)
            })
        );
    }
};

==================================================
FILE PATH: \fennec-launch\lib\curve_engine.js
==================================================

export function createLaunchState({ tokenSymbol, saleSupply, lpSupply, startPrice, slope }) {
    const s = Number(saleSupply);
    const l = Number(lpSupply);
    const p0 = Number(startPrice);
    const k = Number(slope);

    if (!tokenSymbol) throw new Error('tokenSymbol required');
    if (!Number.isFinite(s) || s <= 0) throw new Error('saleSupply must be > 0');
    if (!Number.isFinite(l) || l <= 0) throw new Error('lpSupply must be > 0');
    if (!Number.isFinite(p0) || p0 <= 0) throw new Error('startPrice must be > 0');
    if (!Number.isFinite(k) || k < 0) throw new Error('slope must be >= 0');

    return {
        schema: 'fennec.launch.state.v1',
        tokenSymbol: String(tokenSymbol).toUpperCase(),
        saleSupply: s,
        lpSupply: l,
        startPrice: p0,
        slope: k,
        sold: 0,
        reserve: 0,
        migrated: false,
        lp: null,
        createdAt: new Date().toISOString(),
        updatedAt: new Date().toISOString()
    };
}

export function priceAt(state, sold) {
    return state.startPrice + state.slope * sold;
}

export function quoteBuy(state, amountTokens) {
    if (state.migrated) throw new Error('launch migrated');
    const dx = Number(amountTokens);
    if (!Number.isFinite(dx) || dx <= 0) throw new Error('amountTokens must be > 0');
    if (state.sold + dx > state.saleSupply) throw new Error('insufficient sale supply');

    const s = state.sold;
    const p0 = state.startPrice;
    const k = state.slope;

    const cost = p0 * dx + k * (s * dx + 0.5 * dx * dx);
    const avgPrice = cost / dx;

    return {
        amountTokens: dx,
        cost,
        avgPrice,
        startPrice: priceAt(state, s),
        endPrice: priceAt(state, s + dx)
    };
}

export function buy(state, amountTokens) {
    const q = quoteBuy(state, amountTokens);
    state.sold += q.amountTokens;
    state.reserve += q.cost;
    state.updatedAt = new Date().toISOString();
    return q;
}

==================================================
FILE PATH: \fennec-launch\lib\migration_manager.js
==================================================

export function canMigrate(state) {
    return !state.migrated && state.sold >= state.saleSupply;
}

export function migrate(state) {
    if (!canMigrate(state)) throw new Error('cannot migrate');

    const lp = {
        schema: 'fennec.launch.lp.v1',
        token: state.tokenSymbol,
        tokenAmount: state.lpSupply,
        reserveAmount: state.reserve,
        createdAt: new Date().toISOString()
    };

    state.lp = lp;
    state.reserve = 0;
    state.migrated = true;
    state.updatedAt = new Date().toISOString();

    return lp;
}

==================================================
FILE PATH: \fennec-launch\public\app.js
==================================================

async function j(url, opts) {
    const res = await fetch(url, opts);
    const json = await res.json().catch(() => null);
    if (!res.ok || !json?.ok) throw new Error(json?.error || `HTTP ${res.status}`);
    return json;
}

const el = {
    health: document.getElementById('health'),
    token: document.getElementById('token'),
    saleSupply: document.getElementById('saleSupply'),
    lpSupply: document.getElementById('lpSupply'),
    startPrice: document.getElementById('startPrice'),
    slope: document.getElementById('slope'),
    btnCreate: document.getElementById('btnCreate'),
    buyAmount: document.getElementById('buyAmount'),
    btnQuote: document.getElementById('btnQuote'),
    btnBuy: document.getElementById('btnBuy'),
    btnMigrate: document.getElementById('btnMigrate'),
    btnRefresh: document.getElementById('btnRefresh'),
    quote: document.getElementById('quote'),
    state: document.getElementById('state')
};

async function loadHealth() {
    try {
        const h = await fetch('/api/health').then(r => r.json());
        el.health.textContent = h?.ok ? 'api:ok' : 'api:error';
    } catch {
        el.health.textContent = 'api:error';
    }
}

async function refresh() {
    const { data } = await j('/api/state');
    el.state.textContent = JSON.stringify(data, null, 2);
}

async function createLaunch() {
    el.btnCreate.disabled = true;
    try {
        await j('/api/launch/create', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                tokenSymbol: el.token.value.trim(),
                saleSupply: el.saleSupply.value,
                lpSupply: el.lpSupply.value,
                startPrice: el.startPrice.value,
                slope: el.slope.value
            })
        });
        await refresh();
    } finally {
        el.btnCreate.disabled = false;
    }
}

async function quote() {
    el.quote.textContent = '';
    const { data } = await j('/api/buy/quote', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ amountTokens: el.buyAmount.value })
    });
    el.quote.textContent = JSON.stringify(data, null, 2);
}

async function buyTokens() {
    const { data } = await j('/api/buy', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ amountTokens: el.buyAmount.value })
    });
    el.quote.textContent = JSON.stringify(data.quote, null, 2);
    el.state.textContent = JSON.stringify(data.state, null, 2);
}

async function migrate() {
    const { data } = await j('/api/migrate', { method: 'POST' });
    el.quote.textContent = JSON.stringify(data.lp, null, 2);
    el.state.textContent = JSON.stringify(data.state, null, 2);
}

el.btnCreate.addEventListener('click', createLaunch);
el.btnRefresh.addEventListener('click', refresh);
el.btnQuote.addEventListener('click', quote);
el.btnBuy.addEventListener('click', buyTokens);
el.btnMigrate.addEventListener('click', migrate);

await loadHealth();
await refresh().catch(() => {
    el.state.textContent = 'null';
});

==================================================
FILE PATH: \fennec-launch\public\index.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec Launch</title>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body class="bg-black text-zinc-100">
        <div class="max-w-4xl mx-auto p-6">
            <div class="flex items-baseline justify-between gap-4 flex-wrap">
                <h1 class="text-2xl font-black tracking-widest">FENNEC LAUNCH</h1>
                <div id="health" class="text-xs font-mono text-zinc-400"></div>
            </div>

            <div class="mt-6 grid md:grid-cols-2 gap-6">
                <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
                    <div class="text-xs font-bold tracking-widest text-zinc-300">CREATE LAUNCH</div>

                    <div class="mt-3 grid grid-cols-2 gap-3">
                        <label class="text-xs text-zinc-300">
                            Token
                            <input
                                id="token"
                                value="FENNEC"
                                class="mt-1 w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2"
                            />
                        </label>
                        <label class="text-xs text-zinc-300">
                            Sale supply
                            <input
                                id="saleSupply"
                                value="1000000"
                                inputmode="numeric"
                                class="mt-1 w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2"
                            />
                        </label>
                    </div>

                    <div class="mt-3 grid grid-cols-2 gap-3">
                        <label class="text-xs text-zinc-300">
                            LP supply
                            <input
                                id="lpSupply"
                                value="250000"
                                inputmode="numeric"
                                class="mt-1 w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2"
                            />
                        </label>
                        <label class="text-xs text-zinc-300">
                            Start price
                            <input
                                id="startPrice"
                                value="0.000001"
                                inputmode="decimal"
                                class="mt-1 w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2"
                            />
                        </label>
                    </div>

                    <div class="mt-3">
                        <label class="text-xs text-zinc-300">
                            Slope
                            <input
                                id="slope"
                                value="0.0000000000005"
                                inputmode="decimal"
                                class="mt-1 w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2"
                            />
                        </label>
                    </div>

                    <button
                        id="btnCreate"
                        class="mt-4 w-full rounded-xl bg-emerald-500/15 border border-emerald-500/30 px-4 py-3 text-xs font-black tracking-widest hover:bg-emerald-500/25"
                    >
                        CREATE
                    </button>
                </div>

                <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
                    <div class="text-xs font-bold tracking-widest text-zinc-300">BUY / MIGRATE</div>

                    <label class="mt-3 block text-xs text-zinc-300">
                        Buy tokens
                        <input
                            id="buyAmount"
                            value="1000"
                            inputmode="decimal"
                            class="mt-1 w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2"
                        />
                    </label>

                    <div class="mt-3 text-xs text-zinc-300">Quote</div>
                    <pre
                        id="quote"
                        class="mt-2 text-[11px] bg-black/40 border border-white/10 rounded-lg p-3 overflow-auto"
                    ></pre>

                    <div class="mt-3 grid grid-cols-2 gap-3">
                        <button
                            id="btnQuote"
                            class="rounded-xl bg-orange-500/15 border border-orange-500/30 px-4 py-3 text-xs font-black tracking-widest hover:bg-orange-500/25"
                        >
                            QUOTE
                        </button>
                        <button
                            id="btnBuy"
                            class="rounded-xl bg-orange-500/15 border border-orange-500/30 px-4 py-3 text-xs font-black tracking-widest hover:bg-orange-500/25"
                        >
                            BUY
                        </button>
                    </div>

                    <button
                        id="btnMigrate"
                        class="mt-3 w-full rounded-xl bg-violet-500/15 border border-violet-500/30 px-4 py-3 text-xs font-black tracking-widest hover:bg-violet-500/25"
                    >
                        MIGRATE TO AMM
                    </button>
                </div>
            </div>

            <div class="mt-6 rounded-2xl border border-white/10 bg-white/5 p-4">
                <div class="flex items-baseline justify-between gap-4 flex-wrap">
                    <div class="text-xs font-bold tracking-widest text-zinc-300">STATE</div>
                    <button id="btnRefresh" class="text-xs font-bold text-zinc-300 hover:text-white">refresh</button>
                </div>
                <pre
                    id="state"
                    class="mt-3 text-[11px] bg-black/40 border border-white/10 rounded-lg p-3 overflow-auto"
                ></pre>
            </div>
        </div>

        <script type="module" src="/app.js"></script>
    </body>
</html>

==================================================
FILE PATH: \fennec-launch\test\migration.test.js
==================================================

import test from 'node:test';
import assert from 'node:assert/strict';
import { createLaunchState, buy } from '../lib/curve_engine.js';
import { canMigrate, migrate } from '../lib/migration_manager.js';

test('migration adds 100% of reserve to LP', () => {
    const state = createLaunchState({
        tokenSymbol: 'FENNEC',
        saleSupply: 1000,
        lpSupply: 250,
        startPrice: 1,
        slope: 0.01
    });

    const q1 = buy(state, 400);
    const q2 = buy(state, 600);

    const raised = q1.cost + q2.cost;
    assert.equal(state.sold, 1000);
    assert.equal(state.reserve, raised);
    assert.equal(canMigrate(state), true);

    const lp = migrate(state);
    assert.equal(lp.reserveAmount, raised);
    assert.equal(state.reserve, 0);
    assert.equal(state.migrated, true);
    assert.equal(state.lp.reserveAmount, raised);
});

==================================================
FILE PATH: \fennec-launch\db.json
==================================================

{
    "launch": null,
    "events": []
}

==================================================
FILE PATH: \fennec-launch\package.json
==================================================

{
    "name": "fennec-launch",
    "private": true,
    "type": "module",
    "scripts": {
        "dev": "node server.mjs",
        "start": "node server.mjs",
        "test": "node --test"
    },
    "dependencies": {
        "cors": "^2.8.5",
        "express": "^4.18.2",
        "lowdb": "^6.0.1"
    }
}

==================================================
FILE PATH: \js\lore_db.js
==================================================

(function () {
    // === MODULAR LORE DATABASE ===

    // Part 1: Identity (depends on Archetype)
    const IDENTITY_DB = {
        DRIFTER: {
            prefixes: ['Silent', 'Nomadic', 'Dust-covered', 'Wandering', 'High-speed', 'Lonely', 'Wind-borne'],
            nouns: ['Strider', 'Runner', 'Ghost', 'Vagrant', 'Scout', 'Pathfinder', 'Traveler']
        },
        MERCHANT: {
            prefixes: ['Golden', 'Calculating', 'Wealthy', 'Neon', 'Licensed', 'Digital', 'Arbitrage'],
            nouns: ['Broker', 'Tycoon', 'Dealer', 'Baron', 'Architect', 'Vendor', 'Executive']
        },
        ENGINEER: {
            prefixes: ['Optimized', 'Overclocked', 'Neural', 'Cybernetic', 'Rooted', 'Encrypted', 'Compiled'],
            nouns: ['Architect', 'Coder', 'Operator', 'Hacker', 'Builder', 'Technomancer', 'Unit']
        },
        SHAMAN: {
            prefixes: ['Mystic', 'Ancient', 'Glowing', 'Ethereal', 'Chanting', 'Prophetic', 'Ritual'],
            nouns: ['Seer', 'Oracle', 'Medium', 'Spirit', 'Summoner', 'Sage', 'Visionary']
        },
        KEEPER: {
            prefixes: ['Eternal', 'Remembering', 'Archived', 'Immutable', 'Silent', 'Watchful', 'Recorded'],
            nouns: ['Librarian', 'Observer', 'Guardian', 'Scribe', 'Witness', 'Custodian', 'Sentinel']
        },
        WALKER: {
            prefixes: ['Timeless', 'Steady', 'Ancient', 'Unstoppable'],
            nouns: ['Pilgrim', 'Walker', 'Monk', 'Entity']
        },
        LORD: {
            prefixes: ['Sovereign', 'Imperial', 'Grand', 'Crowned', 'Absolute', 'Dominant', 'Royal'],
            nouns: ['Ruler', 'Monarch', 'Emperor', 'Regent', 'Overlord', 'Commander', 'King']
        },
        PRIME: {
            prefixes: ['Apex', 'Prime', 'Luminous', 'Perfect', 'Ascended', 'Radiant', 'Supreme'],
            nouns: ['Being', 'Core', 'Form', 'Standard', 'Alpha', 'Source', 'Light']
        },
        SINGULARITY: {
            prefixes: ['Void', 'Infinite', 'Null', 'Event', 'Collapsed', 'Final', 'Undefined'],
            nouns: ['Anomaly', 'Point', 'Horizon', 'Error', 'God', 'Variable', 'Entropy']
        }
    };

    // Part 2: Achievements (depends on Badges and Stats)
    const SUFFIX_DB = {
        // --- BADGES ---
        GENESIS: [
            'forged in the first block.',
            'present since Day Zero.',
            'carrying the Genesis spark.',
            'witnessing the creation.',
            'awakened at the beginning.'
        ],
        WHALE: [
            'manipulating gravity wells.',
            'controlling market tides.',
            'with massive capital allocation.',
            'displacing the mempool.',
            'commanding heavy liquidity.'
        ],
        PROVIDER: [
            'fueling the ecosystem.',
            'stabilizing the flow.',
            'keeping the oasis alive.',
            'bridging the void.',
            'generating yield in silence.'
        ],
        'FENNEC MAXI': [
            'loyal to the Pack.',
            'bleeding orange neon.',
            'guided by the Fox Spirit.',
            'following the True Path.',
            'fully synchronized with Fennec.'
        ],
        'ARTIFACT HUNTER': [
            'collecting digital relics.',
            'archiving rare data.',
            'hunting for inscriptions.',
            'preserving lost history.',
            'with a trove of artifacts.'
        ],
        'RUNE KEEPER': [
            'deciphering ancient glyphs.',
            'reading the rune stream.',
            'etched with protocol magic.',
            'holding runic power.',
            'speaking the old tongue.'
        ],
        'MEMPOOL RIDER': [
            'surfing the zero-block.',
            'faster than confirmation.',
            'living between blocks.',
            'riding the lightning.',
            'bypassing the queue.'
        ],

        // --- STATS ---
        RICH: [
            'accumulating vast resources.',
            'building a digital empire.',
            'shining with gold.',
            'holding the keys to power.'
        ],
        OLD: [
            'surviving every cycle.',
            'eroded by digital winds.',
            'standing the test of time.',
            'watching tokens rise and fall.'
        ],
        NEW: ['just entering the simulation.', 'initializing connection.', 'scanning for signals.', 'ready to evolve.'],

        // --- DEFAULT ---
        DEFAULT: [
            'exploring the fractal depths.',
            'searching for a signal.',
            'navigating the noise.',
            'waiting for the next block.',
            'connected to the grid.'
        ]
    };

    window.getSmartLore = function (data) {
        const m = (data && data.metrics) || {};
        const archObj = (data && data.archetype) || {};

        const archKey = String(archObj.baseKey || 'DRIFTER').toUpperCase();

        const badgesArr = Array.isArray(archObj.badges)
            ? archObj.badges
            : Array.isArray(data && data.badges)
              ? data.badges
              : [];
        const userBadges = badgesArr
            .map(b => {
                try {
                    if (typeof b === 'string') return b;
                    return String(b && b.name ? b.name : '');
                } catch (_) {
                    return '';
                }
            })
            .map(s =>
                String(s || '')
                    .trim()
                    .toUpperCase()
            )
            .filter(Boolean);

        const addr = String(m.address || m.addr || '0x00');

        const getHash = seed => {
            let h = seed;
            for (let i = 0; i < addr.length; i++) h = (h << 5) - h + addr.charCodeAt(i);
            return Math.abs(h);
        };

        let identitySource = IDENTITY_DB[archKey] || IDENTITY_DB.DRIFTER;
        if (!identitySource || !identitySource.prefixes || !identitySource.nouns) identitySource = IDENTITY_DB.DRIFTER;

        const pIdx = getHash(1) % identitySource.prefixes.length;
        const nIdx = getHash(2) % identitySource.nouns.length;

        const prefix = identitySource.prefixes[pIdx];
        const noun = identitySource.nouns[nIdx];

        let possibleSuffixes = [];

        userBadges.forEach(badge => {
            let key = '';
            if (badge.includes('GENESIS')) key = 'GENESIS';
            else if (badge.includes('WHALE')) key = 'WHALE';
            else if (badge.includes('PROVIDER') || badge.includes('LIQUIDITY')) key = 'PROVIDER';
            else if (badge.includes('MAXI')) key = 'FENNEC MAXI';
            else if (badge.includes('ARTIFACT') || badge.includes('COLLECTOR')) key = 'ARTIFACT HUNTER';
            else if (badge.includes('RUNE')) key = 'RUNE KEEPER';
            else if (badge.includes('MEMPOOL')) key = 'MEMPOOL RIDER';

            if (key && SUFFIX_DB[key]) {
                possibleSuffixes.push(...SUFFIX_DB[key]);
                possibleSuffixes.push(...SUFFIX_DB[key]);
                possibleSuffixes.push(...SUFFIX_DB[key]);
            }
        });

        const wealth = parseFloat(m.wealth || m.netWorth || m.netWorthUSD || 0);
        const days = parseInt(m.daysAlive || m.days || 0);

        if (wealth > 500) possibleSuffixes.push(...SUFFIX_DB.RICH);
        if (days > 60) possibleSuffixes.push(...SUFFIX_DB.OLD);
        if (days >= 0 && days < 10) possibleSuffixes.push(...SUFFIX_DB.NEW);

        if (possibleSuffixes.length === 0) {
            possibleSuffixes = SUFFIX_DB.DEFAULT;
        }

        const sIdx = getHash(3 + userBadges.length) % possibleSuffixes.length;
        const suffix = possibleSuffixes[sIdx];

        return `${prefix} ${noun} // ${suffix}`;
    };
})();

==================================================
FILE PATH: \js\router.js
==================================================

(function () {
    if (window.__fennecSpaRouter) return;
    window.__fennecSpaRouter = true;

    const VIEW_ID = 'router-view';
    const FADE_CLASS = 'router-fade-out';
    const FADE_MS = 180;

    const CACHE_TTL_MS = 5 * 60 * 1000;
    const __cache = new Map();
    const __inflight = new Map();

    function __getView() {
        try {
            return document.getElementById(VIEW_ID);
        } catch (_) {
            return null;
        }
    }

    function __toUrl(href) {
        try {
            return new URL(String(href || ''), window.location.href);
        } catch (_) {
            return null;
        }
    }

    function __resolvePathname(pathname) {
        const p = String(pathname || '').trim();
        if (!p || p === '/') return '/index.html';
        if (p.endsWith('/')) return p + 'index.html';
        if (p.toLowerCase().endsWith('.html')) return p;
        return '/index.html';
    }

    function __routeKey(pathname) {
        const p = __resolvePathname(pathname).toLowerCase();
        if (p.endsWith('/terminal.html')) return 'terminal';
        if (p.endsWith('/id.html')) return 'audit';
        return 'home';
    }

    function __setActiveNav(pathname) {
        try {
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        } catch (_) {}

        const key = __routeKey(pathname);
        const id = key === 'terminal' ? 'nav-terminal' : key === 'audit' ? 'nav-audit' : 'nav-home';
        try {
            const el = document.getElementById(id);
            if (el) el.classList.add('active');
        } catch (_) {}
    }

    function __runRouteInit(pathname) {
        const key = __routeKey(pathname);

        if (key === 'terminal') {
            try {
                if (typeof window.seedChartPriceFromCache === 'function') window.seedChartPriceFromCache();
            } catch (_) {}
            try {
                if (typeof window.fetchReserves === 'function') window.fetchReserves();
            } catch (_) {}
            try {
                if (typeof window.updatePriceData === 'function') window.updatePriceData();
            } catch (_) {}
            try {
                if (document.getElementById('priceChart') && typeof window.initChart === 'function') {
                    setTimeout(() => {
                        try {
                            window.initChart();
                        } catch (_) {}
                    }, 250);
                }
            } catch (_) {}
            try {
                if (window.userAddress && typeof window.checkBalance === 'function') window.checkBalance();
            } catch (_) {}
            try {
                if (window.userAddress && typeof window.refreshTransactionHistory === 'function') {
                    setTimeout(() => {
                        try {
                            window.refreshTransactionHistory();
                        } catch (_) {}
                    }, 600);
                }
            } catch (_) {}
            return;
        }

        if (key === 'audit') {
            try {
                if (typeof window.__ensureAuditUi === 'function') window.__ensureAuditUi();
                else if (typeof window.initAudit === 'function') window.initAudit();
            } catch (_) {}
            return;
        }

        try {
            if (typeof window.updateVisionFennecIdCta === 'function') window.updateVisionFennecIdCta();
        } catch (_) {}
    }

    async function __fetchHtml(pathname, search) {
        const p = __resolvePathname(pathname);
        const s = String(search || '');
        const key = p + s;
        const now = Date.now();

        const cached = __cache.get(key);
        if (cached && now - cached.ts < CACHE_TTL_MS) return cached.html;

        const inflight = __inflight.get(key);
        if (inflight) return inflight;

        const prom = fetch(key, { cache: 'no-store' })
            .then(r => {
                if (!r.ok) throw new Error('Route fetch failed');
                return r.text();
            })
            .then(html => {
                __cache.set(key, { html, ts: Date.now() });
                __inflight.delete(key);
                return html;
            })
            .catch(err => {
                __inflight.delete(key);
                throw err;
            });

        __inflight.set(key, prom);
        return prom;
    }

    function __extractViewInner(html) {
        const doc = new DOMParser().parseFromString(String(html || ''), 'text/html');
        const v = doc.getElementById(VIEW_ID);
        return { inner: v ? v.innerHTML : null, title: doc.title || '' };
    }

    async function __swapTo(targetUrl) {
        const view = __getView();
        if (!view) return;

        if (window.__fennecRouting) return;
        window.__fennecRouting = true;

        try {
            try {
                view.classList.add(FADE_CLASS);
            } catch (_) {}

            await new Promise(r => setTimeout(r, FADE_MS));

            const pathname = __resolvePathname(targetUrl.pathname);
            const html = await __fetchHtml(pathname, targetUrl.search);
            const extracted = __extractViewInner(html);

            if (extracted.inner == null) {
                window.location.href = pathname + (targetUrl.search || '') + (targetUrl.hash || '');
                return;
            }

            view.innerHTML = extracted.inner;

            try {
                if (extracted.title) document.title = extracted.title;
            } catch (_) {}

            try {
                view.classList.remove(FADE_CLASS);
            } catch (_) {}

            try {
                window.scrollTo(0, 0);
            } catch (_) {}

            __setActiveNav(pathname);
            __runRouteInit(pathname);
        } finally {
            window.__fennecRouting = false;
        }
    }

    async function __navigate(href, opts) {
        const options = opts && typeof opts === 'object' ? opts : {};
        const u = __toUrl(href);
        if (!u) return;

        if (u.origin !== window.location.origin) {
            window.location.href = u.href;
            return;
        }

        const pathname = __resolvePathname(u.pathname);
        const nextHref = pathname + (u.search || '') + (u.hash || '');

        if (!options.noPush) {
            try {
                if (options.replace) window.history.replaceState({}, '', nextHref);
                else window.history.pushState({}, '', nextHref);
            } catch (_) {}
        }

        await __swapTo(u);
    }

    function __bindPrefetchLinks() {
        try {
            document.querySelectorAll('a[data-link]').forEach(link => {
                if (link && link.dataset && link.dataset.prefetchBound === '1') return;
                if (link && link.dataset) link.dataset.prefetchBound = '1';

                link.addEventListener(
                    'mouseenter',
                    () => {
                        try {
                            const href = link.getAttribute('href');
                            if (!href || href.startsWith('#')) return;
                            const u = __toUrl(href);
                            if (!u || u.origin !== window.location.origin) return;
                            const pathname = __resolvePathname(u.pathname);
                            __fetchHtml(pathname, u.search).catch(() => void 0);
                        } catch (_) {
                            void _;
                        }
                    },
                    { passive: true }
                );
            });
        } catch (_) {
            void _;
        }
    }

    window.__fennecNavigate = function (href, opts) {
        return __navigate(href, opts);
    };

    document.addEventListener('click', ev => {
        try {
            if (ev.defaultPrevented) return;
            if (ev.button !== 0) return;
            if (ev.metaKey || ev.ctrlKey || ev.shiftKey || ev.altKey) return;

            const a = ev.target && ev.target.closest ? ev.target.closest('a[data-link]') : null;
            if (!a) return;

            const href = a.getAttribute('href');
            if (!href || href.startsWith('#')) return;
            if (a.hasAttribute('download')) return;
            const target = String(a.getAttribute('target') || '').trim();
            if (target && target !== '_self') return;

            const u = __toUrl(href);
            if (!u || u.origin !== window.location.origin) return;

            ev.preventDefault();
            __navigate(u.href);
        } catch (_) {}
    });

    // Warm cache on hover for snappier SPA transitions
    try {
        __bindPrefetchLinks();
    } catch (_) {}

    window.addEventListener('popstate', () => {
        try {
            __navigate(window.location.href, { noPush: true, replace: true });
        } catch (_) {}
    });

    try {
        __setActiveNav(window.location.pathname);
        __runRouteInit(window.location.pathname);
        __bindPrefetchLinks();
    } catch (_) {}
})();

==================================================
FILE PATH: \preview\_shared.css
==================================================

:root {
    color-scheme: dark;
}
* {
    box-sizing: border-box;
}
body {
    margin: 0;
    background: #050505;
    color: #fff;
    font-family:
        system-ui,
        -apple-system,
        Segoe UI,
        Roboto,
        Arial,
        sans-serif;
}
a {
    color: #ff6b35;
    text-decoration: none;
}
a:hover {
    text-decoration: underline;
}
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 24px;
}
.topbar {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 18px;
}
.title {
    font-size: 20px;
    font-weight: 900;
    letter-spacing: 0.12em;
    text-transform: uppercase;
}
.nav {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}
.nav a {
    font-size: 12px;
    font-weight: 800;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    padding: 8px 10px;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.08);
}
.nav a.active {
    background: rgba(255, 107, 53, 0.18);
    border-color: rgba(255, 107, 53, 0.25);
}
.subtitle {
    color: rgba(209, 213, 219, 0.8);
    font-size: 12px;
    margin: 0 0 18px 0;
}
.grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
    gap: 16px;
}
.tile {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.tile-head {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 10px;
}
.tier-name {
    font-size: 12px;
    font-weight: 900;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: rgba(229, 231, 235, 0.92);
}
.tier-note {
    font-size: 11px;
    color: rgba(156, 163, 175, 0.8);
}
.preview-card {
    position: relative;
    border-radius: 14px;
    overflow: hidden;
    aspect-ratio: 3/4;
    max-width: 320px;
    max-height: 427px;
    background: rgba(17, 17, 17, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.12);
    box-shadow: 0 18px 60px rgba(0, 0, 0, 0.55);
    will-change: transform;
    transform-style: preserve-3d;
    transform: perspective(900px) rotateX(0deg) rotateY(0deg);
    transition: transform 180ms ease;
    --vfx-rgb: 255, 200, 0;
    --vfx-rgb2: 255, 230, 150;
    --vfx3d-mult: 0.55;
}

.preview-card:has(.overlay-MERCHANT) {
    --vfx-rgb: 255, 200, 0;
    --vfx-rgb2: 255, 230, 150;
    --vfx3d-mult: 0.55;
}
.preview-card:has(.overlay-SHAMAN) {
    --vfx-rgb: 168, 85, 247;
    --vfx-rgb2: 59, 130, 246;
}
.preview-card:has(.overlay-KEEPER) {
    --vfx-rgb: 251, 146, 60;
    --vfx-rgb2: 255, 255, 255;
}
.preview-card:has(.overlay-LORD) {
    --vfx-rgb: 6, 182, 212;
    --vfx-rgb2: 255, 255, 255;
}
.preview-card:has(.overlay-PRIME) {
    --vfx-rgb: 255, 255, 255;
    --vfx-rgb2: 255, 255, 255;
}
.preview-card:has(.overlay-DRIFTER) {
    --vfx-rgb: 255, 160, 0;
    --vfx-rgb2: 255, 255, 255;
}
.preview-card:has(.overlay-WALKER) {
    --vfx-rgb: 59, 130, 246;
    --vfx-rgb2: 255, 255, 255;
}
.preview-card:has(.overlay-ENGINEER) {
    --vfx-rgb: 0, 255, 170;
    --vfx-rgb2: 255, 0, 80;
}
.preview-card:has(.overlay-SINGULARITY) {
    --vfx-rgb: 255, 255, 255;
    --vfx-rgb2: 168, 85, 247;
}

.preview-card::before {
    content: '';
    position: absolute;
    inset: -25%;
    z-index: 13;
    pointer-events: none;
    display: none;
    opacity: calc(var(--vfx3d-opacity, 0.18) * var(--vfx3d-mult, 1));
    mix-blend-mode: overlay;
    background:
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 50%), rgba(var(--vfx-rgb), 0.42), transparent 58%),
        linear-gradient(120deg, rgba(var(--vfx-rgb2), 0), rgba(var(--vfx-rgb2), 0.1), rgba(var(--vfx-rgb2), 0));
    filter: blur(10px) saturate(1.05);
    transform: translate3d(var(--npx, 0px), var(--npy, 0px), 0);
}

.preview-card::after {
    content: '';
    position: absolute;
    inset: -20%;
    z-index: 13;
    pointer-events: none;
    display: none;
    opacity: calc(var(--vfx3d-opacity, 0.18) * var(--vfx3d-mult, 1) * 0.7);
    mix-blend-mode: soft-light;
    background:
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 50%), rgba(var(--vfx-rgb), 0.18), transparent 44%),
        repeating-linear-gradient(
            90deg,
            rgba(255, 255, 255, 0.06),
            rgba(255, 255, 255, 0.06) 1px,
            transparent 2px,
            transparent 7px
        );
    filter: blur(1.6px);
    transform: translate3d(var(--px, 0px), var(--py, 0px), 0);
}
.preview-card img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center top;
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform, filter;
    animation: none !important;
}

.card-glare {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: none;
    background:
        radial-gradient(
            circle at var(--mxp, 50%) var(--myp, 50%),
            rgba(255, 255, 255, 0.6) 0%,
            rgba(255, 255, 255, 0.25) 25%,
            transparent 55%
        ),
        radial-gradient(ellipse 85% 60% at var(--mxp, 50%) var(--myp, 50%), rgba(255, 255, 255, 0.3), transparent 65%);
    border-radius: inherit;
    pointer-events: none;
    mix-blend-mode: overlay;
    z-index: 50;
    opacity: 0;
    transition: opacity 0.2s ease-out;
    filter: blur(2px);
}

.preview-card [class^='overlay-'],
.preview-card [class*=' overlay-'] {
    z-index: 12 !important;
    display: block !important;
    pointer-events: none;
}

.vfx-webgl {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    z-index: 13;
    overflow: hidden;
    display: none;
    opacity: calc(var(--vfxwebgl-opacity, 0.18) * var(--vfxwebgl-mult, 1));
    mix-blend-mode: screen;
}
.vfx-webgl canvas {
    width: 100%;
    height: 100%;
    display: block;
}

.preview-card .overlay-MERCHANT ~ .vfx-webgl {
    --vfxwebgl-mult: 0.8;
}
.preview-card .overlay-KEEPER ~ .vfx-webgl {
    --vfxwebgl-mult: 0.7;
}

.vfx-3d {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    z-index: 13;
    display: none;
    opacity: calc(var(--vfx3d-opacity, 0.24) * var(--vfx3d-mult, 1));
    mix-blend-mode: screen;
    overflow: hidden;
}
.vfx-3d::before {
    content: '';
    position: absolute;
    inset: -30%;
    background:
        radial-gradient(
            circle at var(--mxp, 50%) var(--myp, 50%),
            rgba(var(--vfx-rgb, 255, 255, 255), 0.12),
            rgba(var(--vfx-rgb, 255, 255, 255), 0.06) 30%,
            transparent 65%
        ),
        linear-gradient(135deg, transparent, rgba(var(--vfx-rgb2, 255, 255, 255), 0.04), transparent);
    filter: blur(6px) saturate(1.05) brightness(1.02);
    transform: translate3d(calc(var(--npx, 0px) * 0.8), calc(var(--npy, 0px) * 0.8), 0);
    animation: vfx-pulse 4s ease-in-out infinite;
    opacity: 0.5;
}
.vfx-3d::after {
    content: '';
    position: absolute;
    inset: -15%;
    background:
        radial-gradient(
            circle at var(--mxp, 50%) var(--myp, 50%),
            rgba(var(--vfx-rgb, 255, 255, 255), 0.18),
            rgba(var(--vfx-rgb2, 255, 255, 255), 0.08) 35%,
            transparent 55%
        ),
        repeating-linear-gradient(
            calc(45deg + var(--mxp, 50) * 0.5deg),
            rgba(255, 255, 255, 0),
            rgba(255, 255, 255, 0.06) 1px,
            transparent 3px,
            transparent 9px
        );
    background-size:
        100% 100%,
        280% 280%;
    background-position:
        0 0,
        calc(var(--mxp, 50%) * 1%) calc(var(--myp, 50%) * 1%);
    mix-blend-mode: screen;
    filter: blur(2px);
    opacity: 0.4;
    transform: translate3d(calc(var(--px, 0px) * 0.8), calc(var(--py, 0px) * 0.8), 0) scale(1.02);
    animation:
        vfx-sheen 6s linear infinite,
        vfx-shimmer 3s ease-in-out infinite;
}
@keyframes vfx-sheen {
    0% {
        background-position:
            0 0,
            0% 0%,
            0 0;
    }
    100% {
        background-position:
            0 0,
            200% 200%,
            0 0;
    }
}
@keyframes vfx-pulse {
    0%,
    100% {
        opacity: 1;
        filter: blur(14px) saturate(1.6) brightness(1.3);
    }
    50% {
        opacity: 0.9;
        filter: blur(16px) saturate(1.8) brightness(1.45);
    }
}
@keyframes vfx-shimmer {
    0%,
    100% {
        opacity: 0.95;
    }
    50% {
        opacity: 1;
    }
}

.img-tier-0 {
    filter: grayscale(0.2) sepia(0.16) contrast(1) brightness(1) saturate(1.05);
    transform: scale(1.01);
    position: relative;
}
.img-tier-0::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        linear-gradient(135deg, rgba(0, 0, 0, 0.2) 0%, transparent 50%, rgba(255, 255, 255, 0.1) 100%),
        radial-gradient(circle at 30% 40%, rgba(255, 107, 53, 0.08), transparent 60%);
    animation: dormant-pulse 6s ease-in-out infinite;
}
@keyframes dormant-pulse {
    0%,
    100% {
        opacity: 0.4;
        transform: scale(1);
    }
    50% {
        opacity: 0.7;
        transform: scale(1.01);
    }
}

.anim-tier-1 {
    animation: breathe 10s ease-in-out infinite alternate;
    position: relative;
}
.anim-tier-1::after {
    content: '';
    position: absolute;
    inset: -5%;
    background:
        radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.15), transparent 60%),
        radial-gradient(ellipse at 40% 30%, rgba(255, 160, 0, 0.12), transparent 50%),
        linear-gradient(45deg, transparent 30%, rgba(255, 160, 0, 0.1) 50%, transparent 70%);
    animation: tier1-glow 5s ease-in-out infinite;
    pointer-events: none;
}
@keyframes breathe {
    0% {
        filter: grayscale(0.08) contrast(1.02) brightness(1) saturate(1.04);
    }
    100% {
        filter: grayscale(0) contrast(1.06) brightness(1.06) saturate(1.1);
    }
}
@keyframes tier1-glow {
    0%,
    100% {
        opacity: 0.5;
        transform: scale(1) rotate(0deg);
    }
    50% {
        opacity: 0.85;
        transform: scale(1.03) rotate(1deg);
    }
}

.anim-tier-2-heat {
    animation: heat-low 5s infinite alternate;
    position: relative;
}
.anim-tier-2-heat::after {
    content: '';
    position: absolute;
    inset: -10%;
    background:
        radial-gradient(circle at 40% 60%, rgba(255, 100, 0, 0.2), transparent 55%),
        radial-gradient(ellipse at 50% 80%, rgba(255, 160, 0, 0.15), transparent 50%),
        linear-gradient(to top, rgba(255, 160, 0, 0.15), transparent 60%);
    animation: heat-wave 3.5s ease-in-out infinite;
    pointer-events: none;
    mix-blend-mode: overlay;
}
@keyframes heat-wave {
    0%,
    100% {
        opacity: 0.6;
        transform: translateY(0) scale(1);
    }
    50% {
        opacity: 0.9;
        transform: translateY(-4%) scale(1.02);
    }
}

@keyframes heat-low {
    0% {
        filter: sepia(0.08) contrast(1.06) brightness(1.02) saturate(1.04);
    }
    100% {
        filter: sepia(0.16) contrast(1.1) brightness(1.05) saturate(1.06);
    }
}

.anim-tier-2-shine {
    animation: shine-low 4s infinite alternate;
    position: relative;
}
.anim-tier-2-shine::before {
    content: '';
    position: absolute;
    inset: -8%;
    background:
        radial-gradient(ellipse at 50% 30%, rgba(255, 215, 0, 0.25), transparent 50%),
        radial-gradient(circle at 60% 50%, rgba(255, 255, 255, 0.15), transparent 45%),
        linear-gradient(135deg, transparent 20%, rgba(255, 255, 255, 0.18) 50%, transparent 80%);
    animation: tier2-radiance 4s ease-in-out infinite;
    pointer-events: none;
    mix-blend-mode: overlay;
}
@keyframes tier2-radiance {
    0%,
    100% {
        opacity: 0.65;
        transform: rotate(0deg) scale(1);
    }
    50% {
        opacity: 1;
        transform: rotate(3deg) scale(1.06);
    }
}

@keyframes shine-low {
    0% {
        filter: brightness(1.03) contrast(1.04) saturate(1.06);
    }
    100% {
        filter: brightness(1.1) contrast(1.06) saturate(1.12);
    }
}

.anim-tier-2-glitch {
    animation: glitch-low 3s infinite;
    position: relative;
}
.anim-tier-2-glitch::after {
    content: '';
    position: absolute;
    inset: -5%;
    background:
        linear-gradient(
            90deg,
            rgba(0, 255, 170, 0.25) 0%,
            transparent 30%,
            rgba(255, 0, 80, 0.25) 70%,
            transparent 100%
        ),
        radial-gradient(circle at 50% 50%, rgba(0, 255, 170, 0.1), transparent 60%);
    animation: tech-scan 2.5s linear infinite;
    pointer-events: none;
    mix-blend-mode: screen;
}
@keyframes tech-scan {
    0% {
        transform: translateX(-100%);
        opacity: 0;
    }
    10% {
        opacity: 0.8;
    }
    90% {
        opacity: 0.8;
    }
    100% {
        transform: translateX(100%);
        opacity: 0;
    }
}

@keyframes glitch-low {
    0%,
    92% {
        filter: contrast(1.12) brightness(1.03) saturate(1.08);
        transform: translate3d(0, 0, 0);
    }
    93% {
        filter: contrast(1.22) brightness(1.05) saturate(1.12) hue-rotate(3deg);
        transform: translate3d(1px, 0, 0);
    }
    94% {
        filter: contrast(1.22) brightness(1.05) saturate(1.12) hue-rotate(-3deg);
        transform: translate3d(-1px, 0, 0);
    }
    100% {
        filter: contrast(1.12) brightness(1.03) saturate(1.08);
        transform: translate3d(0, 0, 0);
    }
}

.anim-tier-2-magic {
    animation: magic-low 4s infinite alternate;
    position: relative;
}
.anim-tier-2-magic::before {
    content: '';
    position: absolute;
    inset: -12%;
    background:
        radial-gradient(circle at 50% 50%, rgba(168, 85, 247, 0.28), rgba(59, 130, 246, 0.18) 40%, transparent 65%),
        radial-gradient(ellipse at 30% 30%, rgba(255, 255, 255, 0.12), transparent 50%),
        conic-gradient(from 45deg, transparent, rgba(255, 255, 255, 0.15), transparent 50%);
    animation:
        magic-aura 4s linear infinite,
        pulse-magic 2.5s ease-in-out infinite;
    pointer-events: none;
    mix-blend-mode: screen;
}
@keyframes magic-aura {
    0% {
        transform: rotate(0deg) scale(1);
    }
    100% {
        transform: rotate(360deg) scale(1.02);
    }
}
@keyframes pulse-magic {
    0%,
    100% {
        opacity: 0.7;
    }
    50% {
        opacity: 1;
    }
}

@keyframes magic-low {
    0% {
        filter: saturate(1.08) contrast(1.04) brightness(1.02);
    }
    100% {
        filter: saturate(1.16) contrast(1.06) brightness(1.06);
    }
}

@keyframes imgTierTimeFlow {
    0% {
        filter: contrast(1.08) brightness(1.03) saturate(1.08) hue-rotate(0deg);
        transform: scale(1.01) skewX(0deg);
    }
    50% {
        filter: contrast(1.16) brightness(1.08) saturate(1.18) hue-rotate(6deg);
        transform: scale(1.015) skewX(-0.6deg);
    }
    100% {
        filter: contrast(1.08) brightness(1.03) saturate(1.08) hue-rotate(0deg);
        transform: scale(1.01) skewX(0deg);
    }
}

.anim-tier-2-time {
    animation: imgTierTimeFlow 5.2s ease-in-out infinite;
}

@keyframes imgTierRunes {
    0% {
        filter: contrast(1.06) brightness(1.02) saturate(1.12) hue-rotate(0deg);
    }
    100% {
        filter: contrast(1.14) brightness(1.07) saturate(1.26) hue-rotate(10deg);
    }
}

.anim-tier-2-runes {
    animation: imgTierRunes 4.6s ease-in-out infinite alternate;
}

@keyframes imgTierSmoke {
    0% {
        filter: contrast(1.06) brightness(1.02) saturate(1.16) hue-rotate(0deg) blur(0px);
    }
    50% {
        filter: contrast(1.12) brightness(1.06) saturate(1.32) hue-rotate(-10deg) blur(0.3px);
    }
    100% {
        filter: contrast(1.06) brightness(1.02) saturate(1.16) hue-rotate(0deg) blur(0px);
    }
}

.anim-tier-2-smoke {
    animation: imgTierSmoke 5.6s ease-in-out infinite;
}

@keyframes imgTierCrownTide {
    0% {
        filter: contrast(1.08) brightness(1.05) saturate(1.1);
    }
    100% {
        filter: contrast(1.14) brightness(1.14) saturate(1.22);
    }
}

.anim-tier-2-crown {
    animation: imgTierCrownTide 4.2s ease-in-out infinite alternate;
}

@keyframes imgTierRadiance {
    0% {
        filter: brightness(1.08) contrast(1.06) saturate(1.08);
    }
    100% {
        filter: brightness(1.22) contrast(1.12) saturate(1.16);
    }
}

.anim-tier-2-radiance {
    animation: imgTierRadiance 3.8s ease-in-out infinite alternate;
}

@keyframes imgTierDeepChaos {
    0% {
        filter: contrast(1.1) brightness(1.02) saturate(1.08) hue-rotate(0deg);
    }
    50% {
        filter: contrast(1.26) brightness(1.06) saturate(1.18) hue-rotate(150deg);
    }
    100% {
        filter: contrast(1.1) brightness(1.02) saturate(1.08) hue-rotate(360deg);
    }
}

.anim-tier-2-chaos {
    animation: imgTierDeepChaos 6.8s linear infinite;
}

.anim-DRIFTER {
    animation: drifter-heat 8s ease-in-out infinite alternate;
}
.overlay-DRIFTER {
    background: linear-gradient(to bottom, rgba(255, 160, 0, 0.16), transparent 70%);
    mix-blend-mode: overlay;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-DRIFTER::before {
    content: '';
    position: absolute;
    inset: -10%;
    background:
        radial-gradient(120% 60% at 10% 82%, rgba(255, 255, 255, 0.16) 0%, transparent 55%),
        radial-gradient(120% 60% at 90% 70%, rgba(255, 160, 0, 0.14) 0%, transparent 60%),
        linear-gradient(120deg, transparent 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%);
    background-size:
        140% 140%,
        140% 140%,
        240% 240%;
    background-position:
        0% 0%,
        100% 0%,
        0% 50%;
    opacity: 0.78;
    mix-blend-mode: overlay;
    filter: blur(0.2px);
    animation: sand-drift 7s linear infinite;
}
.overlay-DRIFTER::after {
    content: '';
    position: absolute;
    inset: -8%;
    background: linear-gradient(
        90deg,
        rgba(255, 255, 255, 0.14),
        transparent 35%,
        rgba(255, 255, 255, 0.1) 65%,
        transparent
    );
    opacity: 0.34;
    mix-blend-mode: screen;
    filter: blur(1.6px) saturate(1.1);
    animation: heat-haze 3.6s ease-in-out infinite;
}
@keyframes drifter-heat {
    0% {
        filter: sepia(0.12) contrast(1.06) brightness(1.03) saturate(1.05);
    }
    50% {
        filter: sepia(0.22) contrast(1.1) brightness(1.08) saturate(1.08) blur(0.25px)
            drop-shadow(0 0 12px rgba(255, 160, 0, 0.18));
    }
    100% {
        filter: sepia(0.12) contrast(1.06) brightness(1.03) saturate(1.05);
    }
}
@keyframes sand-drift {
    0% {
        transform: translate3d(0, 0, 0);
    }
    100% {
        transform: translate3d(-6%, -10%, 0);
    }
}
@keyframes heat-haze {
    0% {
        transform: translate3d(-2%, 0, 0) skewX(-1.2deg);
    }
    50% {
        transform: translate3d(2%, -1%, 0) skewX(1.2deg);
    }
    100% {
        transform: translate3d(-2%, 0, 0) skewX(-1.2deg);
    }
}

.anim-MERCHANT {
    animation: merchant-shine 5s ease-in-out infinite;
}
.overlay-MERCHANT {
    background: transparent;
    mix-blend-mode: screen;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-MERCHANT::before {
    content: '';
    position: absolute;
    top: -100%;
    left: -100%;
    width: 80px;
    height: 400%;
    background: linear-gradient(45deg, transparent 30%, rgba(255, 215, 0, 0.4) 50%, transparent 70%);
    transform: rotate(45deg);
    animation: gold-sweep 6s ease-in-out infinite;
    filter: blur(3px);
}
.overlay-MERCHANT::after {
    content: '';
    position: absolute;
    inset: -15%;
    background:
        radial-gradient(60% 60% at 35% 35%, rgba(255, 255, 255, 0.12), transparent 68%),
        radial-gradient(70% 70% at 70% 65%, rgba(255, 215, 0, 0.1), transparent 72%),
        linear-gradient(120deg, rgba(255, 255, 255, 0.04), transparent 60%, rgba(255, 215, 0, 0.03));
    opacity: 0.2;
    mix-blend-mode: screen;
    animation: sparkle-drift 5.2s ease-in-out infinite alternate;
    filter: blur(0.25px);
}
@keyframes merchant-shine {
    0%,
    100% {
        filter: contrast(1.05) brightness(1.04) saturate(1.08);
    }
    50% {
        filter: contrast(1.08) brightness(1.1) saturate(1.12) drop-shadow(0 0 10px rgba(255, 215, 0, 0.2));
    }
}
@keyframes coin-glint {
    0% {
        transform: translate3d(30%, -20%, 0);
    }
    100% {
        transform: translate3d(-30%, 20%, 0);
    }
}
@keyframes sparkle-drift {
    0% {
        transform: translate3d(-1%, 1%, 0);
        opacity: 0.2;
    }
    100% {
        transform: translate3d(1%, -1%, 0);
        opacity: 0.36;
    }
}

.anim-ENGINEER {
    animation: engineer-glitch 4s infinite;
}
.overlay-ENGINEER {
    background:
        repeating-linear-gradient(0deg, rgba(0, 255, 170, 0), rgba(0, 255, 170, 0) 2px, rgba(0, 255, 170, 0.12) 3px),
        linear-gradient(90deg, rgba(0, 0, 0, 0), rgba(0, 255, 170, 0.08), rgba(0, 0, 0, 0));
    background-size:
        100% 4px,
        200% 200%;
    z-index: 5;
    pointer-events: none;
    mix-blend-mode: hard-light;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-ENGINEER::before {
    content: '';
    position: absolute;
    inset: -10%;
    background: linear-gradient(0deg, transparent 40%, rgba(255, 255, 255, 0.18) 50%, transparent 60%);
    opacity: 0.3;
    mix-blend-mode: overlay;
    animation: engineer-scan 2s linear infinite;
    filter: blur(0.6px);
}
.overlay-ENGINEER::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
        90deg,
        rgba(255, 0, 80, 0.1),
        rgba(255, 0, 80, 0.1) 1px,
        transparent 2px,
        transparent 6px
    );
    opacity: 0.22;
    mix-blend-mode: difference;
    animation: engineer-rgb 3s ease-in-out infinite;
}
@keyframes engineer-glitch {
    0% {
        filter: contrast(1.12) brightness(1.04) saturate(1.06);
        transform: translate3d(0, 0, 0);
    }
    92% {
        filter: contrast(1.12) brightness(1.04) saturate(1.06);
        transform: translate3d(0, 0, 0);
    }
    94% {
        filter: contrast(1.3) brightness(1.07) saturate(1.15) hue-rotate(18deg);
        transform: translate3d(2px, 0, 0);
    }
    96% {
        filter: contrast(1.3) brightness(1.07) saturate(1.15) hue-rotate(-18deg);
        transform: translate3d(-2px, 0, 0);
    }
    98% {
        filter: contrast(1.12) brightness(1.04) saturate(1.06);
        transform: translate3d(0, 0, 0);
    }
    100% {
        filter: contrast(1.12) brightness(1.04) saturate(1.06);
        transform: translate3d(0, 0, 0);
    }
}
@keyframes engineer-scan {
    0% {
        transform: translate3d(0, 22%, 0);
    }
    100% {
        transform: translate3d(0, -22%, 0);
    }
}
@keyframes engineer-rgb {
    0%,
    100% {
        transform: translate3d(0, 0, 0);
    }
    50% {
        transform: translate3d(1%, 0, 0);
    }
}

.anim-SHAMAN {
    animation: shaman-pulse 6s ease-in-out infinite alternate;
}
.overlay-SHAMAN {
    background: radial-gradient(circle at 50% 55%, rgba(147, 51, 234, 0.18), transparent 62%);
    mix-blend-mode: color-dodge;
    animation: rune-glow 3.8s ease-in-out infinite alternate;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-SHAMAN::before {
    content: '';
    position: absolute;
    inset: -18%;
    background:
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 50%), rgba(168, 85, 247, 0.4), transparent 62%),
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 50%), rgba(59, 130, 246, 0.18), transparent 58%);
    opacity: 0.62;
    mix-blend-mode: color-dodge;
    filter: blur(1.8px);
    transform: translate3d(var(--npx, 0px), var(--npy, 0px), 0);
}
.overlay-SHAMAN::after {
    content: '';
    position: absolute;
    inset: -10%;
    background:
        radial-gradient(60% 60% at 35% 40%, rgba(255, 255, 255, 0.12), transparent 70%),
        radial-gradient(70% 70% at 70% 60%, rgba(168, 85, 247, 0.12), transparent 72%);
    opacity: 0.28;
    mix-blend-mode: screen;
    animation: rune-dust 4.6s ease-in-out infinite alternate;
}
@keyframes shaman-pulse {
    0% {
        filter: contrast(1.06) brightness(1.04) saturate(1.1);
    }
    100% {
        filter: contrast(1.14) brightness(1.1) saturate(1.22) hue-rotate(-4deg)
            drop-shadow(0 0 16px rgba(168, 85, 247, 0.4));
    }
}
@keyframes rune-glow {
    0% {
        opacity: 0.25;
    }
    100% {
        opacity: 0.55;
    }
}
@keyframes shaman-swirl {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}
@keyframes rune-dust {
    0% {
        transform: translate3d(-1%, 1%, 0);
        opacity: 0.12;
    }
    100% {
        transform: translate3d(1%, -1%, 0);
        opacity: 0.22;
    }
}

.anim-KEEPER {
    animation: keeper-eternal 8s ease-in-out infinite alternate;
}
.overlay-KEEPER {
    background: radial-gradient(circle at 50% 45%, rgba(251, 146, 60, 0.14), transparent 62%);
    mix-blend-mode: screen;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-KEEPER::before {
    content: '';
    position: absolute;
    inset: -22%;
    background:
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 50%), rgba(251, 146, 60, 0.22), transparent 68%),
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 50%), rgba(255, 255, 255, 0.08), transparent 58%),
        linear-gradient(120deg, rgba(255, 255, 255, 0.05), transparent 40%, rgba(255, 255, 255, 0.02) 60%, transparent),
        radial-gradient(circle at 65% 35%, rgba(251, 146, 60, 0.08), transparent 60%);
    opacity: 0.22;
    mix-blend-mode: screen;
    animation: ember-drift 5.6s ease-in-out infinite alternate;
    filter: blur(0.8px);
    transform: translate3d(var(--npx, 0px), var(--npy, 0px), 0);
}
.overlay-KEEPER::after {
    content: '';
    position: absolute;
    inset: -10%;
    background: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.1), transparent 62%);
    opacity: 0.14;
    mix-blend-mode: soft-light;
    animation: halo-breathe 3.6s ease-in-out infinite alternate;
    filter: blur(2px);
}
@keyframes keeper-eternal {
    0% {
        filter: sepia(0.05) contrast(1.08) brightness(1.02) saturate(1.06);
    }
    100% {
        filter: sepia(0.01) contrast(1.14) brightness(1.06) saturate(1.1) drop-shadow(0 0 10px rgba(251, 146, 60, 0.2));
    }
}
@keyframes ember-drift {
    0% {
        transform: translate3d(-1.5%, 2.5%, 0);
    }
    100% {
        transform: translate3d(1.5%, -2.5%, 0);
    }
}
@keyframes halo-breathe {
    0% {
        opacity: 0.14;
    }
    100% {
        opacity: 0.3;
    }
}

.anim-WALKER {
    animation: walker-shift 6s ease-in-out infinite;
}
.overlay-WALKER {
    background: linear-gradient(45deg, rgba(59, 130, 246, 0.22), transparent);
    mix-blend-mode: overlay;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-WALKER::before {
    content: '';
    position: absolute;
    inset: -15%;
    background:
        radial-gradient(80% 60% at 20% 30%, rgba(255, 255, 255, 0.14) 0%, transparent 60%),
        radial-gradient(80% 60% at 80% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 62%),
        radial-gradient(90% 70% at 50% 50%, rgba(255, 255, 255, 0.08) 0%, transparent 66%);
    opacity: 0.34;
    mix-blend-mode: screen;
    filter: blur(0.8px);
    animation: time-rings 5.2s linear infinite;
}
.overlay-WALKER::after {
    content: '';
    position: absolute;
    inset: -10%;
    background: linear-gradient(
        90deg,
        rgba(255, 255, 255, 0.1),
        transparent 35%,
        rgba(255, 255, 255, 0.06) 65%,
        transparent
    );
    opacity: 0.26;
    mix-blend-mode: screen;
    filter: blur(1.2px);
    animation: time-shear 3s ease-in-out infinite;
}
@keyframes walker-shift {
    0%,
    100% {
        filter: contrast(1.1) brightness(1.05) saturate(1.06) hue-rotate(0deg);
    }
    50% {
        filter: contrast(1.18) brightness(1.1) saturate(1.14) hue-rotate(4deg);
    }
}
@keyframes time-rings {
    0% {
        transform: translate3d(-2%, 2%, 0);
    }
    100% {
        transform: translate3d(2%, -2%, 0);
    }
}
@keyframes time-shear {
    0% {
        transform: translate3d(-2%, 0, 0) skewX(-1deg);
    }
    50% {
        transform: translate3d(2%, -1%, 0) skewX(1deg);
    }
    100% {
        transform: translate3d(-2%, 0, 0) skewX(-1deg);
    }
}

.anim-LORD {
    animation: lord-tide 10s ease-in-out infinite alternate;
}
.overlay-LORD {
    background: radial-gradient(circle at 50% 85%, rgba(6, 182, 212, 0.14), transparent 60%);
    mix-blend-mode: overlay;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-LORD::before {
    content: '';
    position: absolute;
    inset: -20%;
    background:
        radial-gradient(90% 70% at 30% 80%, rgba(255, 255, 255, 0.14) 0%, transparent 62%),
        radial-gradient(90% 70% at 70% 75%, rgba(255, 255, 255, 0.1) 0%, transparent 64%),
        conic-gradient(
            from 180deg at 50% 50%,
            rgba(255, 255, 255, 0.08),
            transparent 40%,
            rgba(255, 255, 255, 0.06),
            transparent 75%,
            rgba(255, 255, 255, 0.08)
        );
    opacity: 0.24;
    mix-blend-mode: screen;
    filter: blur(1px);
    animation: caustics 8s linear infinite;
}
.overlay-LORD::after {
    content: '';
    position: absolute;
    inset: -10%;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.12), transparent 55%, rgba(255, 255, 255, 0.08));
    opacity: 0.32;
    mix-blend-mode: soft-light;
    filter: blur(1.6px);
    animation: tide-sheen 3.8s ease-in-out infinite;
}
@keyframes lord-tide {
    0% {
        filter: contrast(1.08) brightness(1.04) saturate(1.08);
    }
    100% {
        filter: contrast(1.16) brightness(1.1) saturate(1.18) drop-shadow(0 10px 22px rgba(6, 182, 212, 0.35));
    }
}
@keyframes caustics {
    0% {
        transform: translate3d(-2%, 1%, 0);
    }
    100% {
        transform: translate3d(2%, -1%, 0);
    }
}
@keyframes tide-sheen {
    0% {
        transform: translate3d(0, 2%, 0);
        opacity: 0.16;
    }
    50% {
        transform: translate3d(0, -2%, 0);
        opacity: 0.28;
    }
    100% {
        transform: translate3d(0, 2%, 0);
        opacity: 0.16;
    }
}

.anim-PRIME {
    animation: prime-radiance 4s ease-in-out infinite alternate;
}
.overlay-PRIME {
    background: radial-gradient(circle at var(--mxp, 50%) var(--myp, 0%), rgba(255, 255, 255, 0.46), transparent 72%);
    mix-blend-mode: soft-light;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
}
.overlay-PRIME::before {
    content: '';
    position: absolute;
    inset: -25%;
    background:
        radial-gradient(circle at var(--mxp, 50%) var(--myp, 0%), rgba(255, 255, 255, 0.3), transparent 60%),
        linear-gradient(115deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.22), rgba(255, 255, 255, 0));
    opacity: 0.52;
    mix-blend-mode: screen;
    filter: blur(2px);
    transform: translate3d(var(--npx, 0px), var(--npy, 0px), 0);
}
.overlay-PRIME::after {
    content: '';
    position: absolute;
    inset: -15%;
    background:
        radial-gradient(70% 60% at 35% 40%, rgba(255, 255, 255, 0.18), transparent 70%),
        radial-gradient(80% 70% at 70% 65%, rgba(255, 255, 255, 0.1), transparent 74%),
        linear-gradient(115deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    opacity: 0.3;
    mix-blend-mode: screen;
    filter: blur(0.3px);
    animation: prime-sparks 5.6s ease-in-out infinite alternate;
}
@keyframes prime-radiance {
    0% {
        filter: brightness(1.1) contrast(1.06) saturate(1.06);
    }
    100% {
        filter: brightness(1.26) contrast(1.12) saturate(1.14) drop-shadow(0 0 28px rgba(255, 255, 255, 0.55));
    }
}
@keyframes prime-halo {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(-360deg);
    }
}
@keyframes prime-sparks {
    0% {
        transform: translate3d(-1%, 1%, 0);
        opacity: 0.14;
    }
    100% {
        transform: translate3d(1%, -1%, 0);
        opacity: 0.24;
    }
}
@keyframes god-ray {
    0% {
        transform: rotate(0deg);
        opacity: 0.4;
    }
    50% {
        opacity: 0.6;
    }
    100% {
        transform: rotate(360deg);
        opacity: 0.4;
    }
}

.anim-SINGULARITY {
    animation: singularity-chaos 10s linear infinite;
}
.overlay-SINGULARITY {
    background: conic-gradient(
        from 0deg,
        rgba(255, 0, 0, 0.85),
        rgba(0, 255, 0, 0.75),
        rgba(0, 0, 255, 0.85),
        rgba(255, 0, 0, 0.85)
    );
    mix-blend-mode: overlay;
    opacity: 0.18;
    animation: void-spin 20s linear infinite;
    pointer-events: none;
    z-index: 5;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
    filter: saturate(0.78) contrast(0.95);
}
.overlay-SINGULARITY::before {
    content: '';
    position: absolute;
    inset: -20%;
    background:
        radial-gradient(60% 60% at 35% 40%, rgba(255, 255, 255, 0.12), transparent 70%),
        radial-gradient(70% 70% at 65% 60%, rgba(255, 255, 255, 0.08), transparent 72%),
        linear-gradient(135deg, rgba(255, 255, 255, 0.05), transparent 60%, rgba(255, 255, 255, 0.03));
    opacity: 0.22;
    mix-blend-mode: overlay;
    filter: blur(0.6px);
    animation: void-grain 2.8s steps(2, end) infinite;
}
.overlay-SINGULARITY::after {
    content: '';
    position: absolute;
    inset: -10%;
    background:
        radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.1), transparent 55%),
        conic-gradient(from 0deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.14), rgba(255, 255, 255, 0));
    opacity: 0.28;
    mix-blend-mode: screen;
    filter: blur(1.6px);
    animation: void-pulse 4.2s ease-in-out infinite;
}
@keyframes singularity-chaos {
    0% {
        filter: contrast(1.1) brightness(1.03) saturate(1.06);
    }
    50% {
        filter: contrast(1.26) brightness(1.08) saturate(1.12) drop-shadow(0 0 18px rgba(255, 255, 255, 0.18));
    }
    100% {
        filter: contrast(1.1) brightness(1.03) saturate(1.06);
    }
}
@keyframes void-grain {
    0% {
        transform: translate3d(-1%, -1%, 0);
    }
    100% {
        transform: translate3d(1%, 1%, 0);
    }
}
@keyframes void-pulse {
    0% {
        transform: rotate(0deg);
        opacity: 0.12;
    }
    50% {
        transform: rotate(180deg);
        opacity: 0.26;
    }
    100% {
        transform: rotate(360deg);
        opacity: 0.12;
    }
}
@keyframes void-spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

==================================================
FILE PATH: \preview\_shared.js
==================================================

(function () {
    const cards = Array.from(document.querySelectorAll('.preview-card'));
    if (!cards.length) return;

    let lastClientX = null;
    let lastClientY = null;

    const onWindowMouseMove = e => {
        lastClientX = e.clientX;
        lastClientY = e.clientY;
    };

    try {
        window.addEventListener('mousemove', onWindowMouseMove, { passive: true });
    } catch (e) {
        window.addEventListener('mousemove', onWindowMouseMove);
    }

    function setTintVars(card, tier) {
        const overlay = card.querySelector('[class^="overlay-"], [class*=" overlay-"]');
        const cls = overlay ? overlay.className || '' : '';
        const has = name => cls.includes(`overlay-${name}`);

        let rgb = '255, 200, 0';
        let rgb2 = '255, 230, 150';
        let mult = 0.55;
        if (has('ENGINEER')) {
            rgb = '0, 255, 170';
            rgb2 = '255, 0, 80';
            mult = tier === 3 ? 1.24 : 1;
        }

        card.style.setProperty('--vfx-rgb', rgb);
        card.style.setProperty('--vfx-rgb2', rgb2);
        card.style.setProperty('--vfx3d-mult', String(mult));
    }

    function inferTier(card) {
        const overlay = card.querySelector('[class^="overlay-"], [class*=" overlay-"]');
        const overlayClass = overlay ? overlay.className || '' : '';

        // PRIME and SINGULARITY always use max tier
        if (overlayClass.includes('overlay-PRIME') || overlayClass.includes('overlay-SINGULARITY')) {
            return 3;
        }

        const img = card.querySelector('img');
        const cls = img ? img.className || '' : '';
        if (cls.includes('img-tier-0')) return 0;
        if (cls.includes('anim-tier-1')) return 1;
        if (cls.includes('anim-tier-2-')) return 2;
        if (/(^|\s)anim-(?!tier-)/.test(cls)) return 3;
        return 0;
    }

    function setVars(card, mxp, myp, tier) {
        const tiltStrength = tier === 0 ? 2 : tier === 1 ? 3 : tier === 2 ? 4 : 5;

        card.style.setProperty('--mxp', `${mxp.toFixed(2)}%`);
        card.style.setProperty('--myp', `${myp.toFixed(2)}%`);

        const nx = (mxp - 50) / 50;
        const ny = (myp - 50) / 50;
        card.style.setProperty('--px', `${(nx * 10).toFixed(2)}px`);
        card.style.setProperty('--py', `${(ny * 10).toFixed(2)}px`);
        card.style.setProperty('--npx', `${(nx * 4).toFixed(2)}px`);
        card.style.setProperty('--npy', `${(ny * 4).toFixed(2)}px`);

        if (card.__vfxWebgl) {
            card.__vfxWebgl.pointer[0] = Math.max(0, Math.min(1, mxp / 100));
            card.__vfxWebgl.pointer[1] = Math.max(0, Math.min(1, 1 - myp / 100));
            card.__vfxWebgl.tilt[0] = Math.max(-1, Math.min(1, nx));
            card.__vfxWebgl.tilt[1] = Math.max(-1, Math.min(1, -ny));
        }

        const rx = (-ny * tiltStrength).toFixed(2);
        const ry = (nx * tiltStrength).toFixed(2);
        card.style.transform = `perspective(1200px) rotateX(${rx}deg) rotateY(${ry}deg)`;
    }

    function resetCardTilt(card) {
        const tier = Number(card.__tiltPreviewTier || 0) || 0;
        const state = card.__tiltPreviewState;
        if (state) {
            state.active = false;
            state.lastMove = performance.now();
        }
        setVars(card, 50, 50, tier);
    }

    function syncCardTiltFromPointer(card) {
        const state = card.__tiltPreviewState;
        const tier = Number(card.__tiltPreviewTier || 0) || 0;
        if (!state) return;
        if (lastClientX == null || lastClientY == null) return;

        const rect = card.getBoundingClientRect();
        if (!rect || !rect.width || !rect.height) return;
        const x = lastClientX - rect.left;
        const y = lastClientY - rect.top;
        if (x < 0 || y < 0 || x > rect.width || y > rect.height) return;

        const mxp = Math.max(0, Math.min(100, (x / rect.width) * 100));
        const myp = Math.max(0, Math.min(100, (y / rect.height) * 100));
        state.active = true;
        state.lastMove = performance.now();
        setVars(card, mxp, myp, tier);
    }

    for (const card of cards) {
        const tier = inferTier(card);
        setTintVars(card, tier);
        const overlay = card.querySelector('[class^="overlay-"], [class*=" overlay-"]');
        const cls = overlay ? overlay.className || '' : '';

        // previews: keep only tilt (no webgl / no 3d vfx layers)
        if (card.__vfxWebgl && card.__vfxWebgl.raf) {
            try {
                cancelAnimationFrame(card.__vfxWebgl.raf);
            } catch (e) {
                void e;
            }
        }
        card.__vfxWebgl = null;
        card.__vfx3d = null;

        const idleAmp = tier === 0 ? 1.2 : tier === 1 ? 1.8 : tier === 2 ? 2.4 : 3;

        const state = {
            active: false,
            lastMove: 0,
            start: performance.now(),
            raf: 0,
            running: true
        };

        card.__tiltPreviewState = state;
        card.__tiltPreviewTier = tier;

        const idleLoop = () => {
            if (!state.running) {
                state.raf = 0;
                return;
            }

            state.raf = requestAnimationFrame(idleLoop);
            const now = performance.now();
            const t = (now - state.start) / 1000;
            const idle = now - state.lastMove > 200;

            if (!idle && state.active) return;

            const mxp = 50 + Math.sin(t * 0.55) * idleAmp;
            const myp = 50 + Math.cos(t * 0.43) * (idleAmp * 0.85);
            setVars(card, mxp, myp, tier);
        };

        state.startLoop = () => {
            if (!state.running) return;
            if (state.raf) return;
            state.raf = requestAnimationFrame(idleLoop);
        };

        card.addEventListener('mousemove', e => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            const mxp = Math.max(0, Math.min(100, (x / rect.width) * 100));
            const myp = Math.max(0, Math.min(100, (y / rect.height) * 100));
            state.active = true;
            state.lastMove = performance.now();
            setVars(card, mxp, myp, tier);
        });

        card.addEventListener('mouseenter', () => {
            state.active = true;
            state.lastMove = performance.now();
        });

        card.addEventListener('mouseleave', () => {
            state.active = false;
            state.lastMove = performance.now();
        });

        card.addEventListener(
            'touchmove',
            e => {
                if (!e.touches || !e.touches[0]) return;
                const rect = card.getBoundingClientRect();
                const x = e.touches[0].clientX - rect.left;
                const y = e.touches[0].clientY - rect.top;
                const mxp = Math.max(0, Math.min(100, (x / rect.width) * 100));
                const myp = Math.max(0, Math.min(100, (y / rect.height) * 100));
                state.active = true;
                state.lastMove = performance.now();
                setVars(card, mxp, myp, tier);
            },
            { passive: true }
        );

        card.addEventListener('touchend', () => {
            state.active = false;
            state.lastMove = performance.now();
        });

        setVars(card, 50, 50, tier);
        state.startLoop();
    }

    const pauseAll = () => {
        for (const card of cards) {
            const state = card.__tiltPreviewState;
            if (state) {
                state.running = false;
                if (state.raf) {
                    cancelAnimationFrame(state.raf);
                    state.raf = 0;
                }
            }
            resetCardTilt(card);
        }
    };

    const resumeAll = () => {
        for (const card of cards) {
            const state = card.__tiltPreviewState;
            if (state) {
                state.running = true;
                state.start = performance.now();
                state.lastMove = performance.now();
                if (typeof state.startLoop === 'function') state.startLoop();
            }
            syncCardTiltFromPointer(card);
        }
    };

    document.addEventListener('visibilitychange', () => {
        if (document.hidden) {
            pauseAll();
        } else {
            resumeAll();
        }
    });

    window.addEventListener('blur', pauseAll);
    window.addEventListener('focus', resumeAll);
})();

==================================================
FILE PATH: \preview\all.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ All Classes ‚Ä¢ Tier Matrix</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .container {
                max-width: 100%;
            }
            .matrix {
                display: grid;
                grid-template-columns: 140px repeat(4, minmax(210px, 1fr));
                gap: 14px;
                align-items: start;
                overflow: visible;
                padding: 28px 14px 48px;
            }
            .matrix .head {
                font-size: 11px;
                font-weight: 900;
                letter-spacing: 0.18em;
                text-transform: uppercase;
                color: rgba(229, 231, 235, 0.86);
                padding: 6px 0;
            }
            .matrix .row-label {
                position: sticky;
                top: 0;
                align-self: start;
                padding-top: 12px;
                font-size: 12px;
                font-weight: 900;
                letter-spacing: 0.18em;
                text-transform: uppercase;
                color: rgba(255, 255, 255, 0.92);
            }
            .matrix .cell {
                display: flex;
                flex-direction: column;
                gap: 8px;
            }
            .matrix .cell .card-host {
                display: flex;
                justify-content: center;
            }
            .matrix .cell .card-host > .card-scene {
                transform: scale(0.78);
                transform-origin: top center;
            }
            .matrix .cell .cell-title {
                display: flex;
                align-items: baseline;
                justify-content: space-between;
                gap: 10px;
            }
            .matrix .cell .cell-title .tier-name {
                font-size: 11px;
            }
            .matrix .cell .cell-title .tier-note {
                font-size: 10px;
            }
            @media (max-width: 1100px) {
                .matrix {
                    grid-template-columns: 1fr;
                }
                .matrix .row-label {
                    position: relative;
                    top: auto;
                    padding-top: 18px;
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">All Classes</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./all.html">ALL</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">
                Matrix preview of Tier 0-3 for every class. Cards are rendered via <code>FennecIDLib.createCard()</code>
                (same as live).
            </p>

            <div class="matrix" id="matrix">
                <div></div>
                <div class="head">Tier 0</div>
                <div class="head">Tier 1</div>
                <div class="head">Tier 2</div>
                <div class="head">Tier 3</div>
            </div>

            <div class="footer">
                Tip: open DevTools and compare <code>anim-*</code> + <code>overlay-*</code> across tiers.
            </div>
        </div>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();

            (function () {
                const ARCHETYPES = [
                    'DRIFTER',
                    'WALKER',
                    'MERCHANT',
                    'ENGINEER',
                    'SHAMAN',
                    'KEEPER',
                    'LORD',
                    'PRIME',
                    'SINGULARITY'
                ];

                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function tierNote(tier) {
                    if (tier === 0) return 'Dormant';
                    if (tier === 1) return 'Awakening';
                    if (tier === 2) return 'Empowered';
                    return 'Unleashed';
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('matrix');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    ARCHETYPES.forEach(baseKey => {
                        const label = document.createElement('div');
                        label.className = 'row-label';
                        label.textContent = baseKey;
                        root.appendChild(label);

                        for (let tier = 0; tier <= 3; tier++) {
                            const cell = document.createElement('div');
                            cell.className = 'cell';
                            cell.innerHTML = `
                                <div class="cell-title">
                                    <div class="tier-name">Tier ${tier}</div>
                                    <div class="tier-note">${tierNote(tier)}</div>
                                </div>
                                <div class="card-host"></div>
                            `;
                            cell.querySelector('.card-host').appendChild(
                                lib.createCard(makeDna(baseKey, tier), config || undefined)
                            );
                            root.appendChild(cell);
                        }
                    });
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \preview\archetype-effects.css
==================================================

/* ===== ANIMATED BACKGROUND EFFECTS (NO GLOW) ===== */

/* DRIFTER - Drifting sand dunes */
.overlay-DRIFTER::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        120deg,
        transparent 0%,
        rgba(194, 178, 128, 0.12) 30%,
        transparent 40%,
        rgba(218, 165, 32, 0.1) 60%,
        transparent 70%
    );
    background-size: 200% 200%;
    animation: sandDrift 8s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes sandDrift {
    0%,
    100% {
        background-position: 0% 50%;
        opacity: 0.5;
    }
    50% {
        background-position: 100% 50%;
        opacity: 0.8;
    }
}

/* WALKER - Desert wind particles */
.overlay-WALKER::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        radial-gradient(circle at 20% 30%, rgba(255, 218, 185, 0.15) 2px, transparent 2px),
        radial-gradient(circle at 60% 70%, rgba(255, 218, 185, 0.12) 1.5px, transparent 1.5px),
        radial-gradient(circle at 80% 20%, rgba(255, 218, 185, 0.1) 1px, transparent 1px);
    background-size: 100% 100%;
    animation: windParticles 6s linear infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes windParticles {
    0% {
        transform: translateX(0) translateY(0);
        opacity: 0.4;
    }
    100% {
        transform: translateX(-20px) translateY(10px);
        opacity: 0.7;
    }
}

/* MERCHANT - Gold shimmer on ornaments */
.overlay-MERCHANT::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 80px;
    height: 100%;
    background: linear-gradient(90deg, transparent 0%, rgba(255, 215, 0, 0.35) 50%, transparent 100%);
    animation: goldShine 6s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
    transform: skewX(-20deg);
}

@keyframes goldShine {
    0% {
        left: -100%;
        opacity: 0;
    }
    50% {
        opacity: 1;
    }
    100% {
        left: 100%;
        opacity: 0;
    }
}

/* ENGINEER - Circuit pulse */
.overlay-ENGINEER::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(0, 255, 255, 0.05) 2px,
            rgba(0, 255, 255, 0.05) 4px
        ),
        repeating-linear-gradient(
            90deg,
            transparent,
            transparent 2px,
            rgba(0, 255, 255, 0.05) 2px,
            rgba(0, 255, 255, 0.05) 4px
        );
    animation: circuitPulse 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes circuitPulse {
    0%,
    100% {
        opacity: 0.3;
    }
    50% {
        opacity: 0.6;
    }
}

/* SHAMAN - Mystic water ripples */
.overlay-SHAMAN::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 50%, rgba(138, 43, 226, 0.15) 0%, transparent 50%);
    animation: waterRipple 5s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

.overlay-SHAMAN::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 50%, rgba(147, 112, 219, 0.1) 0%, transparent 60%);
    animation: waterRipple 5s ease-in-out infinite 0.5s;
    pointer-events: none;
    z-index: 1;
}

@keyframes waterRipple {
    0% {
        transform: scale(0.8);
        opacity: 0;
    }
    50% {
        opacity: 0.7;
    }
    100% {
        transform: scale(1.3);
        opacity: 0;
    }
}

/* KEEPER - Rune glow pulse */
.overlay-KEEPER::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at 30% 40%, rgba(186, 85, 211, 0.18) 0%, transparent 40%),
        radial-gradient(circle at 70% 60%, rgba(138, 43, 226, 0.15) 0%, transparent 35%);
    animation: runeGlow 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes runeGlow {
    0%,
    100% {
        opacity: 0.4;
        filter: hue-rotate(0deg);
    }
    50% {
        opacity: 0.7;
        filter: hue-rotate(15deg);
    }
}

/* LORD - Royal sun rays */
.overlay-LORD::before {
    content: '';
    position: absolute;
    inset: 0;
    background: conic-gradient(
        from 0deg at 50% 50%,
        transparent 0deg,
        rgba(255, 215, 0, 0.15) 45deg,
        transparent 90deg,
        rgba(255, 215, 0, 0.15) 135deg,
        transparent 180deg,
        rgba(255, 215, 0, 0.15) 225deg,
        transparent 270deg,
        rgba(255, 215, 0, 0.15) 315deg,
        transparent 360deg
    );
    animation: sunRotate 12s linear infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes sunRotate {
    0% {
        transform: rotate(0deg);
        opacity: 0.4;
    }
    50% {
        opacity: 0.6;
    }
    100% {
        transform: rotate(360deg);
        opacity: 0.4;
    }
}

/* PRIME - Energy constellation */
.overlay-PRIME::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.25) 2px, transparent 2px),
        radial-gradient(circle at 80% 30%, rgba(138, 43, 226, 0.25) 2px, transparent 2px),
        radial-gradient(circle at 60% 80%, rgba(0, 255, 255, 0.25) 2px, transparent 2px),
        radial-gradient(circle at 30% 70%, rgba(255, 215, 0, 0.25) 2px, transparent 2px);
    background-size: 100% 100%;
    animation: starTwinkle 3s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes starTwinkle {
    0%,
    100% {
        opacity: 0.5;
    }
    50% {
        opacity: 0.9;
    }
}

/* SINGULARITY - Cosmic vortex */
.overlay-SINGULARITY::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
        ellipse at 50% 50%,
        rgba(138, 43, 226, 0.18) 0%,
        rgba(0, 255, 255, 0.12) 30%,
        rgba(255, 215, 0, 0.1) 60%,
        transparent 80%
    );
    animation: vortexSpin 10s linear infinite;
    pointer-events: none;
    z-index: 1;
}

.overlay-SINGULARITY::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 50%, transparent 30%, rgba(255, 255, 255, 0.12) 40%, transparent 50%);
    animation: cosmicPulse 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 2;
}

@keyframes vortexSpin {
    0% {
        transform: rotate(0deg) scale(1);
        opacity: 0.5;
    }
    50% {
        opacity: 0.7;
    }
    100% {
        transform: rotate(360deg) scale(1.05);
        opacity: 0.5;
    }
}

@keyframes cosmicPulse {
    0%,
    100% {
        transform: scale(0.9);
        opacity: 0.4;
    }
    50% {
        transform: scale(1.1);
        opacity: 0.8;
    }
}

==================================================
FILE PATH: \preview\borders-and-titles.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ Premium Borders & Titles Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            .matrix-grid {
                display: grid;
                grid-template-columns: 140px repeat(6, 1fr);
                gap: 12px;
                margin-top: 24px;
                align-items: center;
            }
            .matrix-header {
                font-family: var(--font-tactical, monospace);
                font-size: 11px;
                font-weight: 900;
                letter-spacing: 0.08em;
                text-align: center;
                color: rgba(255, 255, 255, 0.75);
                text-transform: uppercase;
            }
            .matrix-tier-label {
                font-family: var(--font-tactical, monospace);
                font-size: 12px;
                font-weight: 700;
                text-align: right;
                padding-right: 16px;
                color: rgba(255, 255, 255, 0.85);
                text-transform: uppercase;
            }
            .matrix-card-cell {
                display: flex;
                justify-content: center;
                align-items: center;
                min-height: 340px;
            }
            .matrix-card-cell .card-scene {
                transform: scale(0.75);
            }
            .section-title {
                font-family: var(--font-display, sans-serif);
                font-size: 28px;
                font-weight: 900;
                text-transform: uppercase;
                margin: 48px 0 16px 0;
                color: #ff6b35;
                text-align: center;
                letter-spacing: 0.02em;
            }
            .section-note {
                text-align: center;
                font-size: 13px;
                color: rgba(255, 255, 255, 0.65);
                margin-bottom: 24px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">Premium Borders & Titles</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./rarities.html">RARITIES</a>
                    <a href="./borders-and-titles.html">BORDERS & TITLES</a>
                    <a href="./all.html">ALL</a>
                </div>
            </div>

            <p class="subtitle">
                Premium rarity borders with materials, complex gradients, and tier-based archetype title styles.
            </p>

            <div class="section-title">Rarity √ó Tier Matrix</div>
            <div class="section-note">Hover to see material effects and animations. Click to flip.</div>

            <div class="matrix-grid" id="matrix"></div>

            <div class="footer">
                <strong>Borders:</strong> CUB (Steel), SCOUT (Bio-Neon), HUNTER (Plasma), ALPHA (Laser), ELDER (Gold),
                SPIRIT (Hologram)<br />
                <strong>Titles:</strong> Tier 0 (Gray), Tier 1 (White Glow), Tier 2 (Molten), Tier 3 (Holographic Flow)
            </div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const RARITIES = [
                    { name: 'CUB', score: 10 },
                    { name: 'SCOUT', score: 35 },
                    { name: 'HUNTER', score: 55 },
                    { name: 'ALPHA', score: 70 },
                    { name: 'ELDER', score: 85 },
                    { name: 'SPIRIT', score: 97 }
                ];

                const TIERS = [
                    { name: 'Tier 0', badgeCount: 0 },
                    { name: 'Tier 1', badgeCount: 2 },
                    { name: 'Tier 2', badgeCount: 4 },
                    { name: 'Tier 3', badgeCount: 6 }
                ];

                const BADGE_NAMES = ['GENESIS', 'EVOLVE', 'PIONEER', 'PROVIDER', 'VETERAN', 'COLLECTOR'];

                function makeDna(rarity, tier) {
                    const badges = BADGE_NAMES.slice(0, tier.badgeCount).map(name => ({ name }));
                    return {
                        inscriptionNumber: `${rarity.name[0]}${tier.badgeCount}`,
                        archetype: { baseKey: 'DRIFTER', title: 'STORM SURFER' },
                        badges: badges,
                        metrics: {
                            activityScore: rarity.score,
                            daysAlive: 120,
                            txCount: 420,
                            netWorthUSD: 123.45,
                            lpValueUSD: tier.badgeCount >= 4 ? 60 : 12.34,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42,
                                lp: tier.badgeCount >= 4 ? 1 : 0
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('matrix');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    root.innerHTML = '<div></div>';
                    RARITIES.forEach(r => {
                        const header = document.createElement('div');
                        header.className = 'matrix-header';
                        header.textContent = r.name;
                        root.appendChild(header);
                    });

                    TIERS.forEach(tier => {
                        const label = document.createElement('div');
                        label.className = 'matrix-tier-label';
                        label.textContent = tier.name;
                        root.appendChild(label);

                        RARITIES.forEach(rarity => {
                            const cell = document.createElement('div');
                            cell.className = 'matrix-card-cell';
                            const scene = lib.createCard(makeDna(rarity, tier), config || undefined);
                            cell.appendChild(scene);
                            root.appendChild(cell);
                        });
                    });
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \preview\drifter.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ DRIFTER ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">DRIFTER</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'DRIFTER';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \preview\engineer.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ ENGINEER ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">ENGINEER</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'ENGINEER';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \preview\index.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ Class Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">Class Evolution Preview</div>
                <div class="nav">
                    <a href="./all.html">ALL</a>
                    <a href="./rarities.html">RARITIES</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render preview pages (uses <code>FennecIDLib.createCard()</code>).</p>

            <div class="footer">
                Tip: open <a href="./rarities.html">RARITIES</a> to compare frames, or open any class to compare Tier
                0-3.
            </div>
        </div>
    </body>
</html>

==================================================
FILE PATH: \preview\keeper.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ KEEPER ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">KEEPER</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'KEEPER';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \preview\lord.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ LORD ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">LORD</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'LORD';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \preview\merchant.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ MERCHANT ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">MERCHANT</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'MERCHANT';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \preview\prime.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ PRIME ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">PRIME</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render MAX only (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function makeDna(baseKey) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ MAX`,
                        archetype: { baseKey, title: baseKey },
                        badges: BADGES.slice(0, 6),
                        metrics: {
                            activityScore: 90,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'PRIME';
                    const tile = document.createElement('div');
                    tile.className = 'tile';
                    tile.innerHTML = `
                        <div class="tile-head">
                            <div class="tier-name">MAX</div>
                            <div class="tier-note">Tier 3</div>
                        </div>
                        <div class="card-host"></div>
                    `;
                    tile.querySelector('.card-host').appendChild(lib.createCard(makeDna(baseKey), config || undefined));
                    root.appendChild(tile);

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \preview\rarities.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ Rarity Frames Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
            .tile .card-host > .card-scene {
                transform: none;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">Rarity Frames</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./rarities.html">RARITIES</a>
                    <a href="./all.html">ALL</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Frame comparison preview. Click a card to flip. Hover to tilt.</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: compare corner clipping while tilting and flipping each rarity.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const RARITIES = [
                    { name: 'CUB', score: 10 },
                    { name: 'SCOUT', score: 35 },
                    { name: 'HUNTER', score: 55 },
                    { name: 'ALPHA', score: 70 },
                    { name: 'ELDER', score: 85 },
                    { name: 'SPIRIT', score: 97 }
                ];

                function makeDna(label, score) {
                    return {
                        inscriptionNumber: label,
                        archetype: { baseKey: 'DRIFTER', title: 'DRIFTER' },
                        badges: [],
                        metrics: {
                            activityScore: score,
                            daysAlive: 120,
                            txCount: 420,
                            netWorthUSD: 123.45,
                            lpValueUSD: 12.34,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42,
                                lp: 1
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    RARITIES.forEach(r => {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">${r.name}</div>
                                <div class="tier-note">Score ${r.score}</div>
                            </div>
                            <div class="card-host"></div>
                        `;

                        const host = tile.querySelector('.card-host');
                        const scene = lib.createCard(makeDna(r.name, r.score), config || undefined);
                        host.appendChild(scene);
                        root.appendChild(tile);
                    });
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \preview\shaman.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ SHAMAN ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">SHAMAN</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'SHAMAN';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \preview\singularity.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ SINGULARITY ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">SINGULARITY</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render MAX only (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function makeDna(baseKey) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ MAX`,
                        archetype: { baseKey, title: baseKey },
                        badges: BADGES.slice(0, 6),
                        metrics: {
                            activityScore: 90,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'SINGULARITY';
                    const tile = document.createElement('div');
                    tile.className = 'tile';
                    tile.innerHTML = `
                        <div class="tile-head">
                            <div class="tier-name">MAX</div>
                            <div class="tier-note">Tier 3</div>
                        </div>
                        <div class="card-host"></div>
                    `;
                    tile.querySelector('.card-host').appendChild(lib.createCard(makeDna(baseKey), config || undefined));
                    root.appendChild(tile);

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \preview\walker.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fennec ID ‚Ä¢ WALKER ‚Ä¢ Evolution Preview</title>
        <link rel="stylesheet" href="./_shared.css" />
        <style>
            html,
            body {
                overflow: auto;
                height: auto;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
                gap: 16px;
                align-items: start;
            }
            .tile .card-host {
                display: flex;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="topbar">
                <div class="title">WALKER</div>
                <div class="nav">
                    <a href="./index.html">INDEX</a>
                    <a href="./drifter.html">DRIFTER</a>
                    <a href="./walker.html">WALKER</a>
                    <a href="./merchant.html">MERCHANT</a>
                    <a href="./engineer.html">ENGINEER</a>
                    <a href="./shaman.html">SHAMAN</a>
                    <a href="./keeper.html">KEEPER</a>
                    <a href="./lord.html">LORD</a>
                    <a href="./prime.html">PRIME</a>
                    <a href="./singularity.html">SINGULARITY</a>
                </div>
            </div>

            <p class="subtitle">Live-render Tier 0 ‚Üí Tier 3 (generated via <code>FennecIDLib.createCard()</code>).</p>

            <div class="grid" id="grid"></div>

            <div class="footer">Tip: hover for tilt, click to flip.</div>
        </div>

        <script>
            (function () {
                const path = (location.pathname || '').toLowerCase();
                document.querySelectorAll('.nav a').forEach(a => {
                    const href = (a.getAttribute('href') || '').toLowerCase();
                    if (href && path.endsWith(href.replace('./', '/'))) a.classList.add('active');
                });
            })();
        </script>

        <script src="../recursive_inscriptions/fennec_lib_v2.js"></script>
        <script>
            (function () {
                const BADGES = [
                    'GENESIS',
                    'WHALE',
                    'PROVIDER',
                    'FENNEC MAXI',
                    'ARTIFACT HUNTER',
                    'RUNE KEEPER',
                    'MEMPOOL RIDER',
                    'SAND SWEEPER'
                ];

                function fixPage() {
                    try {
                        document.documentElement.style.setProperty('overflow', 'auto', 'important');
                        document.body.style.setProperty('overflow', 'auto', 'important');
                        document.documentElement.style.setProperty('height', 'auto', 'important');
                        document.body.style.setProperty('height', 'auto', 'important');
                        document.documentElement.style.setProperty('background', '#050505', 'important');
                        document.body.style.setProperty('background', '#050505', 'important');
                    } catch (_) {}
                }

                function tierBadges(tier) {
                    if (tier === 0) return [];
                    if (tier === 1) return BADGES.slice(0, 2);
                    if (tier === 2) return BADGES.slice(0, 4);
                    return BADGES.slice(0, 6);
                }

                function makeDna(baseKey, tier) {
                    return {
                        inscriptionNumber: `${baseKey} ‚Ä¢ T${tier}`,
                        archetype: { baseKey, title: baseKey },
                        badges: tierBadges(tier),
                        metrics: {
                            activityScore: 55,
                            daysAlive: 478,
                            txCount: 12988,
                            netWorthUSD: 123.45,
                            lpValueUSD: 157,
                            inscriptionStats: {
                                runes: 7,
                                brc20: 5,
                                ordinals: 99,
                                totalCollections: 42
                            }
                        }
                    };
                }

                async function init() {
                    const root = document.getElementById('grid');
                    if (!root) return;

                    const lib = window.FennecIDLib;
                    if (!lib || typeof lib.createCard !== 'function') {
                        root.innerHTML = '<div class="subtitle">FennecIDLib not available.</div>';
                        return;
                    }

                    let config = null;
                    try {
                        config = typeof lib.loadConfig === 'function' ? await lib.loadConfig() : null;
                    } catch (_) {}

                    const baseKey = 'WALKER';
                    for (let tier = 0; tier <= 3; tier++) {
                        const tile = document.createElement('div');
                        tile.className = 'tile';
                        tile.innerHTML = `
                            <div class="tile-head">
                                <div class="tier-name">Tier ${tier}</div>
                                <div class="tier-note">Badges: ${tierBadges(tier).length}</div>
                            </div>
                            <div class="card-host"></div>
                        `;
                        const host = tile.querySelector('.card-host');
                        host.appendChild(lib.createCard(makeDna(baseKey, tier), config || undefined));
                        root.appendChild(tile);
                    }

                    fixPage();
                }

                if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
                else init();
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \recursive_inscriptions\asset_prep_v1.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fennec ID - Asset Prep (Local)</title>
        <style>
            :root {
                --bg: #060607;
                --panel: rgba(255, 255, 255, 0.06);
                --line: rgba(255, 255, 255, 0.1);
                --text: rgba(255, 255, 255, 0.92);
                --muted: rgba(255, 255, 255, 0.65);
                --fennec: #ff6b35;
            }
            html,
            body {
                margin: 0;
                padding: 0;
                background:
                    radial-gradient(1200px 900px at 50% -20%, rgba(255, 107, 53, 0.2), transparent 60%),
                    radial-gradient(900px 700px at 30% 120%, rgba(59, 130, 246, 0.16), transparent 60%), var(--bg);
                color: var(--text);
                font-family:
                    system-ui,
                    -apple-system,
                    Segoe UI,
                    Roboto,
                    Arial,
                    sans-serif;
            }
            .wrap {
                max-width: 980px;
                margin: 0 auto;
                padding: 20px 16px 48px;
            }
            h1 {
                margin: 0;
                font-size: 16px;
                letter-spacing: 0.1em;
                text-transform: uppercase;
            }
            .sub {
                margin-top: 8px;
                color: var(--muted);
                font-size: 12px;
                line-height: 1.45;
            }
            .panel {
                margin-top: 14px;
                background: var(--panel);
                border: 1px solid var(--line);
                border-radius: 16px;
                padding: 12px;
            }
            .row {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                align-items: center;
            }
            label {
                display: flex;
                gap: 8px;
                align-items: center;
                font-size: 12px;
                color: var(--muted);
            }
            input[type='number'] {
                width: 92px;
                padding: 8px 10px;
                border-radius: 10px;
                border: 1px solid rgba(255, 255, 255, 0.14);
                background: rgba(0, 0, 0, 0.2);
                color: var(--text);
            }
            button {
                cursor: pointer;
                padding: 10px 12px;
                border-radius: 12px;
                border: 1px solid rgba(255, 255, 255, 0.14);
                background: rgba(0, 0, 0, 0.22);
                color: var(--text);
                font-weight: 900;
                letter-spacing: 0.08em;
                text-transform: uppercase;
            }
            button:hover {
                border-color: rgba(255, 107, 53, 0.35);
            }
            .log {
                margin-top: 10px;
                white-space: pre-wrap;
                font-size: 12px;
                color: rgba(255, 255, 255, 0.8);
                line-height: 1.4;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                gap: 12px;
                margin-top: 12px;
            }
            .card {
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 14px;
                padding: 10px;
                background: rgba(0, 0, 0, 0.18);
            }
            .card b {
                display: block;
                font-size: 12px;
                letter-spacing: 0.1em;
                text-transform: uppercase;
            }
            .card span {
                display: block;
                margin-top: 6px;
                color: var(--muted);
                font-size: 12px;
            }
            .thumb {
                margin-top: 10px;
                width: 100%;
                aspect-ratio: 1/1;
                border-radius: 12px;
                border: 1px solid rgba(255, 255, 255, 0.1);
                background: rgba(0, 0, 0, 0.2);
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
            }
            .thumb img {
                width: 100%;
                height: 100%;
                object-fit: contain;
            }
            code {
                color: rgba(255, 255, 255, 0.86);
            }
        </style>
    </head>
    <body>
        <div class="wrap">
            <h1>Fennec ID ‚Äî Asset Prep</h1>
            <div class="sub">
                Generates resized PNGs for inscription (backgrounds + badges) from your local
                <code>../img/</code> folder. It downloads files to your default Downloads folder; move them into a
                dedicated folder afterward.
            </div>

            <div class="panel">
                <div class="row">
                    <label>Background W <input id="bgW" type="number" value="720" min="128" step="1" /></label>
                    <label>Background H <input id="bgH" type="number" value="1040" min="128" step="1" /></label>
                    <label>Max KB <input id="maxKB" type="number" value="365" min="32" step="1" /></label>
                    <label
                        >BG format
                        <select
                            id="bgFmt"
                            style="
                                padding: 8px 10px;
                                border-radius: 10px;
                                border: 1px solid rgba(255, 255, 255, 0.14);
                                background: rgba(0, 0, 0, 0.2);
                                color: var(--text);
                            "
                        >
                            <option value="image/jpeg" selected>JPEG</option>
                            <option value="image/webp">WEBP</option>
                            <option value="image/png">PNG</option>
                        </select>
                    </label>
                    <label>BG q <input id="bgQ" type="number" value="0.82" min="0.3" max="0.98" step="0.01" /></label>
                    <label>Badge size <input id="bdS" type="number" value="128" min="32" step="1" /></label>
                    <label
                        >Badge format
                        <select
                            id="bdFmt"
                            style="
                                padding: 8px 10px;
                                border-radius: 10px;
                                border: 1px solid rgba(255, 255, 255, 0.14);
                                background: rgba(0, 0, 0, 0.2);
                                color: var(--text);
                            "
                        >
                            <option value="image/png" selected>PNG</option>
                            <option value="image/webp">WEBP</option>
                        </select>
                    </label>
                    <label
                        >Badge q <input id="bdQ" type="number" value="0.92" min="0.3" max="0.98" step="0.01"
                    /></label>
                </div>
                <div class="row" style="margin-top: 10px">
                    <label
                        >Pick img folder
                        <input id="pickDir" type="file" webkitdirectory directory multiple style="width: 280px" />
                    </label>
                </div>
                <div class="row" style="margin-top: 10px">
                    <button id="dlBg">Download backgrounds</button>
                    <button id="dlBd">Download badges</button>
                    <button id="dlAll">Download all</button>
                </div>
                <div id="log" class="log"></div>
            </div>

            <div class="panel">
                <b style="font-size: 12px; letter-spacing: 0.1em; text-transform: uppercase">Inputs detected</b>
                <div class="sub" style="margin-top: 6px">
                    This list is hard-coded so you don't have to search. Files must exist in <code>img/</code>.
                </div>
                <div id="list" class="grid"></div>
            </div>
        </div>

        <script>
            const BACKGROUNDS = [
                { key: 'DRIFTER', file: '../img/drifter.png' },
                { key: 'WALKER', file: '../img/walker.png' },
                { key: 'KEEPER', file: '../img/keeper.png' },
                { key: 'ENGINEER', file: '../img/engineer.png' },
                { key: 'MERCHANT', file: '../img/merchant.png' },
                { key: 'SHAMAN', file: '../img/shaman.png' },
                { key: 'LORD', file: '../img/oasis.png' },
                { key: 'PRIME', file: '../img/prime.png' },
                { key: 'SINGULARITY', file: '../img/singularity.png' }
            ];

            const BADGES = [
                { key: 'GENESIS', file: '../img/badge_genesis.png' },
                { key: 'WHALE', file: '../img/badge_whale.png' },
                { key: 'PROVIDER', file: '../img/badge_provider.png' },
                { key: 'FENNEC_MAXI', file: '../img/badge_maxi.png' },
                { key: 'ARTIFACT_HUNTER', file: '../img/badge_collector.png' },
                { key: 'RUNE_KEEPER', file: '../img/badge_rune.png' },
                { key: 'MEMPOOL_RIDER', file: '../img/badge_mempool_rider.png' },
                { key: 'SAND_SWEEPER', file: '../img/badge_sweeper.png' }
            ];

            let pickedFilesByName = null;
            let pickedThumbUrls = [];

            function baseName(path) {
                const s = String(path || '');
                const parts = s.split('/');
                return parts[parts.length - 1] || s;
            }

            function setPickedFiles(fileList) {
                pickedFilesByName = {};
                for (const f of Array.from(fileList || [])) {
                    if (!f || !f.name) continue;
                    pickedFilesByName[String(f.name).toLowerCase()] = f;
                }
            }

            function pickedFileForPath(path) {
                if (!pickedFilesByName) return null;
                const key = baseName(path).toLowerCase();
                return pickedFilesByName[key] || null;
            }

            function logLine(s) {
                const el = document.getElementById('log');
                el.textContent = (el.textContent ? el.textContent + '\n' : '') + s;
            }

            function clearLog() {
                document.getElementById('log').textContent = '';
            }

            async function loadImg(src) {
                const picked = pickedFileForPath(src);
                if (picked) {
                    const dataUrl = await new Promise((resolve, reject) => {
                        const reader = new FileReader();
                        reader.onload = () => resolve(String(reader.result || ''));
                        reader.onerror = () => reject(new Error('Failed to read file: ' + picked.name));
                        reader.readAsDataURL(picked);
                    });
                    return await new Promise((resolve, reject) => {
                        const img = new Image();
                        img.onload = () => resolve(img);
                        img.onerror = () => reject(new Error('Failed to decode image: ' + picked.name));
                        img.src = dataUrl;
                    });
                }
                try {
                    const res = await fetch(src, { cache: 'no-store' });
                    if (!res.ok) throw new Error(`HTTP ${res.status}`);
                    const blob = await res.blob();
                    const objUrl = URL.createObjectURL(blob);
                    return await new Promise((resolve, reject) => {
                        const img = new Image();
                        img.onload = () => {
                            try {
                                URL.revokeObjectURL(objUrl);
                            } catch (e) {}
                            resolve(img);
                        };
                        img.onerror = () => {
                            try {
                                URL.revokeObjectURL(objUrl);
                            } catch (e) {}
                            reject(new Error('Failed to decode image: ' + src));
                        };
                        img.src = objUrl;
                    });
                } catch (e) {
                    const hint =
                        window.location && window.location.protocol === 'file:'
                            ? ' (Pick img folder above, or open via a local server)'
                            : '';
                    throw new Error('Failed to load: ' + src + hint);
                }
            }

            function drawContainBottom(ctx, img, outW, outH) {
                ctx.clearRect(0, 0, outW, outH);
                const s = Math.min(outW / img.naturalWidth, outH / img.naturalHeight);
                const w = img.naturalWidth * s;
                const h = img.naturalHeight * s;
                const x = (outW - w) / 2;
                const y = outH - h;
                ctx.drawImage(img, x, y, w, h);
            }

            function drawContainCenter(ctx, img, outW, outH) {
                ctx.clearRect(0, 0, outW, outH);
                const s = Math.min(outW / img.naturalWidth, outH / img.naturalHeight);
                const w = img.naturalWidth * s;
                const h = img.naturalHeight * s;
                const x = (outW - w) / 2;
                const y = (outH - h) / 2;
                ctx.drawImage(img, x, y, w, h);
            }

            async function downloadBlob(blob, filename) {
                if (!blob) throw new Error('Encoding failed: ' + filename);
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                a.remove();
                setTimeout(() => URL.revokeObjectURL(url), 1000);
            }

            async function canvasToBlob(canvas, mimeType, quality) {
                const mt = String(mimeType || 'image/png');
                const q = typeof quality === 'number' ? quality : undefined;
                return await new Promise(resolve => canvas.toBlob(resolve, mt, q));
            }

            async function encodeCanvasUnderLimit(canvas, { mimeType, quality, maxBytes }) {
                const mt = String(mimeType || 'image/png');
                const limit = Number(maxBytes || 0) || 0;

                let q = typeof quality === 'number' ? quality : undefined;
                const minQ = 0.4;

                for (let i = 0; i < 16; i++) {
                    const blob = await canvasToBlob(canvas, mt, q);
                    if (!limit || (blob && blob.size <= limit)) return { blob, quality: q, scaled: 1 };
                    if (mt === 'image/png') return { blob, quality: q, scaled: 1 };
                    if (typeof q !== 'number') q = 0.86;
                    q = Math.max(minQ, q - 0.05);
                    if (q === minQ) break;
                }

                let scale = 0.92;
                for (let s = 0; s < 8; s++) {
                    const w = Math.max(64, Math.round(canvas.width * scale));
                    const h = Math.max(64, Math.round(canvas.height * scale));
                    const tmp = document.createElement('canvas');
                    tmp.width = w;
                    tmp.height = h;
                    const tctx = tmp.getContext('2d');
                    tctx.imageSmoothingEnabled = true;
                    tctx.imageSmoothingQuality = 'high';
                    tctx.drawImage(canvas, 0, 0, w, h);
                    const blob = await canvasToBlob(tmp, mt, q);
                    if (!limit || (blob && blob.size <= limit)) return { blob, quality: q, scaled: scale };
                    scale *= 0.92;
                }

                return { blob: await canvasToBlob(canvas, mt, q), quality: q, scaled: 1 };
            }

            async function downloadBackgrounds() {
                clearLog();
                const outW = Number(document.getElementById('bgW').value) || 720;
                const outH = Number(document.getElementById('bgH').value) || 1040;
                const maxKB = Number(document.getElementById('maxKB').value) || 365;
                const maxBytes = Math.max(16 * 1024, Math.floor(maxKB * 1024));
                const bgMimeType = String(document.getElementById('bgFmt')?.value || 'image/jpeg');
                const bgQ = Number(document.getElementById('bgQ').value);
                const bgQuality = Number.isFinite(bgQ) ? Math.max(0.01, Math.min(0.99, bgQ)) : undefined;

                const canvas = document.createElement('canvas');
                canvas.width = outW;
                canvas.height = outH;
                const ctx = canvas.getContext('2d');

                for (const it of BACKGROUNDS) {
                    logLine('BG ' + it.key + '‚Ä¶');
                    const img = await loadImg(it.file);
                    drawContainBottom(ctx, img, outW, outH);

                    const encoded = await encodeCanvasUnderLimit(canvas, {
                        mimeType: bgMimeType,
                        quality: bgMimeType === 'image/png' ? undefined : bgQuality,
                        maxBytes
                    });
                    const ext = bgMimeType === 'image/webp' ? 'webp' : bgMimeType === 'image/png' ? 'png' : 'jpg';
                    const kb = encoded.blob ? (encoded.blob.size / 1024).toFixed(1) : '0.0';
                    logLine(
                        `  -> ${kb} KB (${ext}${typeof encoded.quality === 'number' ? ` q=${encoded.quality.toFixed(2)}` : ''}${encoded.scaled !== 1 ? ` scale=${encoded.scaled.toFixed(2)}` : ''})`
                    );
                    await downloadBlob(encoded.blob, `bg_${it.key.toLowerCase()}_${outW}x${outH}.${ext}`);
                }

                logLine('Done.');
            }

            async function downloadBadges() {
                clearLog();
                const size = Number(document.getElementById('bdS').value) || 128;
                const maxKB = Number(document.getElementById('maxKB').value) || 365;
                const maxBytes = Math.max(16 * 1024, Math.floor(maxKB * 1024));
                const bdMimeType = String(document.getElementById('bdFmt')?.value || 'image/png');
                const bdQ = Number(document.getElementById('bdQ').value);
                const bdQuality = Number.isFinite(bdQ) ? Math.max(0.01, Math.min(0.99, bdQ)) : undefined;

                const canvas = document.createElement('canvas');
                canvas.width = size;
                canvas.height = size;
                const ctx = canvas.getContext('2d');

                for (const it of BADGES) {
                    logLine('BADGE ' + it.key + '‚Ä¶');
                    const img = await loadImg(it.file);
                    drawContainCenter(ctx, img, size, size);

                    const encoded = await encodeCanvasUnderLimit(canvas, {
                        mimeType: bdMimeType,
                        quality: bdMimeType === 'image/png' ? undefined : bdQuality,
                        maxBytes
                    });
                    const ext = bdMimeType === 'image/webp' ? 'webp' : 'png';
                    const kb = encoded.blob ? (encoded.blob.size / 1024).toFixed(1) : '0.0';
                    logLine(
                        `  -> ${kb} KB (${ext}${typeof encoded.quality === 'number' ? ` q=${encoded.quality.toFixed(2)}` : ''}${encoded.scaled !== 1 ? ` scale=${encoded.scaled.toFixed(2)}` : ''})`
                    );
                    await downloadBlob(encoded.blob, `badge_${it.key.toLowerCase()}_${size}x${size}.${ext}`);
                }

                logLine('Done.');
            }

            async function downloadAll() {
                await downloadBackgrounds();
                await downloadBadges();
            }

            function renderList() {
                const el = document.getElementById('list');
                el.innerHTML = '';

                for (const u of pickedThumbUrls) {
                    try {
                        URL.revokeObjectURL(u);
                    } catch (e) {}
                }
                pickedThumbUrls = [];

                const items = [
                    ...BACKGROUNDS.map(x => ({ type: 'background', ...x })),
                    ...BADGES.map(x => ({ type: 'badge', ...x }))
                ];

                for (const it of items) {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `<b>${it.type}: ${it.key}</b><span>${it.file}</span>`;

                    const thumb = document.createElement('div');
                    thumb.className = 'thumb';
                    const img = document.createElement('img');
                    const picked = pickedFileForPath(it.file);
                    if (picked) {
                        const u = URL.createObjectURL(picked);
                        pickedThumbUrls.push(u);
                        img.src = u;
                    } else {
                        img.src = it.file;
                    }
                    img.alt = it.key;
                    img.onerror = () => {
                        thumb.textContent = 'Missing file';
                    };

                    thumb.appendChild(img);
                    card.appendChild(thumb);
                    el.appendChild(card);
                }
            }

            document
                .getElementById('dlBg')
                .addEventListener('click', () => downloadBackgrounds().catch(e => logLine('ERROR: ' + e.message)));
            document
                .getElementById('dlBd')
                .addEventListener('click', () => downloadBadges().catch(e => logLine('ERROR: ' + e.message)));
            document
                .getElementById('dlAll')
                .addEventListener('click', () => downloadAll().catch(e => logLine('ERROR: ' + e.message)));

            const pickDirEl = document.getElementById('pickDir');
            if (pickDirEl) {
                pickDirEl.addEventListener('change', e => {
                    try {
                        const files = e && e.target && e.target.files ? e.target.files : [];
                        setPickedFiles(files);
                        renderList();
                        clearLog();
                        logLine('Folder selected. Ready.');
                    } catch (err) {
                        clearLog();
                        logLine('ERROR: ' + (err && err.message ? err.message : 'Failed to load folder'));
                    }
                });
            }

            renderList();
        </script>
    </body>
</html>

==================================================
FILE PATH: \recursive_inscriptions\assets_manifest_v1.json
==================================================

{
    "version": 1,
    "notes": "Mint each listed file as a separate inscription (each file must be <= 365 KB). Backgrounds/badges in img/ are currently source-resolution; first run recursive_inscriptions/asset_prep_v1.html to export resized/compressed versions, then inscribe those exported files and paste their inscription IDs into fennec_config_v1.json under assets.backgrounds/assets.badges/assets.misc.",
    "backgrounds": [
        { "key": "DRIFTER_T0", "file": "img/drifter_t0.png" },
        { "key": "DRIFTER_T1", "file": "img/drifter_t1.png" },
        { "key": "DRIFTER_T2", "file": "img/drifter_t2.png" },
        { "key": "DRIFTER_T3", "file": "img/drifter_t3.png" },

        { "key": "WALKER_T0", "file": "img/walker_t0.png" },
        { "key": "WALKER_T1", "file": "img/walker_t1.png" },
        { "key": "WALKER_T2", "file": "img/walker_t2.png" },
        { "key": "WALKER_T3", "file": "img/walker_t3.png" },

        { "key": "MERCHANT_T0", "file": "img/merchant_t0.png" },
        { "key": "MERCHANT_T1", "file": "img/merchant_t1.png" },
        { "key": "MERCHANT_T2", "file": "img/merchant_t2.png" },
        { "key": "MERCHANT_T3", "file": "img/merchant_t3.png" },

        { "key": "ENGINEER_T0", "file": "img/engineer_t0.png" },
        { "key": "ENGINEER_T1", "file": "img/engineer_t1.png" },
        { "key": "ENGINEER_T2", "file": "img/engineer_t2.png" },
        { "key": "ENGINEER_T3", "file": "img/engineer_t3.png" },

        { "key": "SHAMAN_T0", "file": "img/shaman_t0.png" },
        { "key": "SHAMAN_T1", "file": "img/shaman_t1.png" },
        { "key": "SHAMAN_T2", "file": "img/shaman_t2.png" },
        { "key": "SHAMAN_T3", "file": "img/shaman_t3.png" },

        { "key": "KEEPER_T0", "file": "img/keeper_t0.png" },
        { "key": "KEEPER_T1", "file": "img/keeper_t1.png" },
        { "key": "KEEPER_T2", "file": "img/keeper_t2.png" },
        { "key": "KEEPER_T3", "file": "img/keeper_t3.png" },

        { "key": "LORD_T0", "file": "img/lord_t0.png" },
        { "key": "LORD_T1", "file": "img/lord_t1.png" },
        { "key": "LORD_T2", "file": "img/lord_t2.png" },
        { "key": "LORD_T3", "file": "img/lord_t3.png" },

        { "key": "PRIME", "file": "img/prime.png" },
        { "key": "SINGULARITY", "file": "img/singularity.png" }
    ],
    "badges": [
        { "key": "GENESIS", "file": "img/badge_genesis.png" },
        { "key": "WHALE", "file": "img/badge_whale.png" },
        { "key": "PROVIDER", "file": "img/badge_provider.png" },
        { "key": "FENNEC MAXI", "file": "img/badge_maxi.png" },
        { "key": "ARTIFACT HUNTER", "file": "img/badge_collector.png" },
        { "key": "RUNE KEEPER", "file": "img/badge_rune.png" },
        { "key": "MEMPOOL RIDER", "file": "img/badge_mempool_rider.png" },
        { "key": "SAND SWEEPER", "file": "img/badge_sweeper.png" }
    ],
    "misc": [
        { "key": "LOGO", "file": "img/phav.png" },
        { "key": "WATERMARK", "file": "img/phav.png" }
    ],
    "recommended_optional": [{ "key": "PHAV", "file": "img/phav.png", "why": "favicon / small UI icon" }]
}

==================================================
FILE PATH: \recursive_inscriptions\fennec_child_template_v1.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <!-- Fill these after minting -->
        <meta name="fennec-lib" content="961a15289f9ec4fb594a7543a5bc4cd94ce6feed2c7df994e8bfa456ada28a5ai0" />
        <meta name="fennec-config" content="ffc50199c26d7037f82ef6a3d8406e6eb483c8a24a3dc396a39768e171f58225i0" />

        <meta name="fennec-manifest" content="9327b39aa5676ce0be200ce41e3eebe91569fddb0e6c92ec946f996618a54d45i0" />

        <!-- Optional: provenance parent id (if you want the child to know it at runtime) -->
        <meta name="fennec-parent" content="INSCRIPTION_ID_PARENT" />

        <title>Fennec ID</title>
    </head>
    <body>
        <div id="fennec-root"></div>

        <!-- Unique data for THIS user/card -->
        <script id="dna-data" type="application/json">
            {
                "address": "bc1q...",
                "archetype": {
                    "baseKey": "DRIFTER",
                    "title": "DRIFTER",
                    "tierLabel": "",
                    "tierLevel": 0,
                    "badges": []
                },
                "badges": [],
                "metrics": {
                    "rarityName": "CUB",
                    "wealth": "0.00",
                    "txCount": 0,
                    "hasFennecSoul": false
                }
            }
        </script>

        <!-- Recursive load: the LIB is a JS inscription. It will auto-render using dna-data. -->
        <script>
            (function () {
                var fallbackManifestId = '9327b39aa5676ce0be200ce41e3eebe91569fddb0e6c92ec946f996618a54d45i0';
                var getMeta = function (name) {
                    var el = document.querySelector('meta[name="' + name + '"]');
                    return el ? el.getAttribute('content') || '' : '';
                };

                var setMeta = function (name, value) {
                    var el = document.querySelector('meta[name="' + name + '"]');
                    if (!el) {
                        el = document.createElement('meta');
                        el.setAttribute('name', name);
                        document.head.appendChild(el);
                    }
                    el.setAttribute('content', String(value || ''));
                };

                var resolveRefToUrl = function (ref) {
                    var s = String(ref || '').trim();
                    if (!s) return '';
                    if (s.indexOf('http://') === 0 || s.indexOf('https://') === 0) return s;
                    if (s.indexOf('/') === 0) return s;
                    try {
                        var h =
                            typeof window !== 'undefined' &&
                            window.location &&
                            window.location.hostname &&
                            String(window.location.hostname).toLowerCase();
                        if (h === 'uniscan.cc' || (h && h.endsWith('.uniscan.cc'))) {
                            return '/fractal/content/' + s;
                        }
                    } catch (_) {}
                    return '/content/' + s;
                };

                var fetchJsonWithTimeout = function (url, timeoutMs) {
                    var ms = typeof timeoutMs === 'number' ? timeoutMs : 4500;
                    return new Promise(function (resolve, reject) {
                        var done = false;
                        var t = setTimeout(function () {
                            if (done) return;
                            done = true;
                            reject(new Error('timeout'));
                        }, ms);
                        fetch(url, { cache: 'no-store' })
                            .then(function (res) {
                                if (!res.ok) throw new Error('http ' + res.status);
                                return res.json();
                            })
                            .then(function (json) {
                                if (done) return;
                                done = true;
                                clearTimeout(t);
                                resolve(json);
                            })
                            .catch(function (err) {
                                if (done) return;
                                done = true;
                                clearTimeout(t);
                                reject(err);
                            });
                    });
                };

                var pinnedLib = getMeta('fennec-lib');
                var pinnedConfig = getMeta('fennec-config');
                var manifestRef = getMeta('fennec-manifest');

                var resolved = {
                    lib: pinnedLib,
                    config: pinnedConfig
                };

                var applyManifest = function (m) {
                    if (!m || typeof m !== 'object') return;
                    var latest = m.latest && typeof m.latest === 'object' ? m.latest : m;
                    var lib =
                        latest.lib || latest.libId || latest.library || latest.libraryId || latest.fennecLib || '';
                    var cfg =
                        latest.config ||
                        latest.configId ||
                        latest.configuration ||
                        latest.configurationId ||
                        latest.fennecConfig ||
                        '';
                    if (typeof lib === 'string' && lib.trim()) resolved.lib = lib.trim();
                    if (typeof cfg === 'string' && cfg.trim()) resolved.config = cfg.trim();
                };

                var loadLib = function () {
                    if (!resolved.lib) {
                        document.body.innerText = 'Missing fennec-lib meta';
                        return;
                    }
                    if (resolved.config) setMeta('fennec-config', resolved.config);

                    var s = document.createElement('script');
                    s.src = resolveRefToUrl(resolved.lib);
                    s.onload = function () {
                        if (typeof window.initFennecID === 'function') window.initFennecID();
                    };
                    s.onerror = function () {
                        document.body.innerText = 'Failed to load library inscription';
                    };
                    document.head.appendChild(s);
                };

                var skipManifestFetch = false;

                if (manifestRef && String(manifestRef).trim()) {
                    var manifestUrl = resolveRefToUrl(manifestRef);
                    fetchJsonWithTimeout(manifestUrl, 4500)
                        .then(function (m) {
                            applyManifest(m);
                            loadLib();
                        })
                        .catch(function () {
                            try {
                                if (
                                    fallbackManifestId &&
                                    String(fallbackManifestId).trim() &&
                                    fallbackManifestId !== manifestRef &&
                                    typeof resolveRefToUrl === 'function'
                                ) {
                                    var fbUrl = resolveRefToUrl(fallbackManifestId);
                                    fetchJsonWithTimeout(fbUrl, 4500)
                                        .then(function (m2) {
                                            applyManifest(m2);
                                            loadLib();
                                        })
                                        .catch(function () {
                                            loadLib();
                                        });
                                    return;
                                }
                            } catch (_) {}
                            loadLib();
                        });
                } else {
                    loadLib();
                }
            })();
        </script>
    </body>
</html>

==================================================
FILE PATH: \recursive_inscriptions\fennec_config_v1.json
==================================================

{
    "version": 1,
    "theme": "default",
    "features": {
        "enableFlip": true,
        "enableTilt": true
    },
    "scoring": {
        "launchDate": 1725840000,
        "genesisWindowSec": 86400,
        "points": {
            "activityMax": 25,
            "wealthMax": 25,
            "timeMax": 15,
            "badgesMax": 35
        },
        "activity": {
            "curve": "log",
            "maxTx": 10000
        },
        "wealth": {
            "curve": "sqrt",
            "maxNetWorthUSD": 1000
        },
        "time": {
            "maxDays": 365
        },
        "maxi": {
            "multiplier": 1.15,
            "rules": {
                "any": [
                    { "field": "fennecTotal", "op": ">=", "value": 10000 },
                    { "field": "hasFennecInLP", "op": "==", "value": true }
                ]
            }
        },
        "rarityThresholds": [
            { "name": "SPIRIT", "min": 95 },
            { "name": "ELDER", "min": 80 },
            { "name": "ALPHA", "min": 65 },
            { "name": "HUNTER", "min": 50 },
            { "name": "SCOUT", "min": 30 },
            { "name": "CUB", "min": 0 }
        ],
        "badgeDefinitions": [
            {
                "name": "GENESIS",
                "icon": "",
                "desc": "You witnessed the first sunrise over the Fractal dunes.",
                "weight": 15,
                "rules": {
                    "all": [
                        { "field": "firstTxTs", "op": ">=", "valueRef": "launchDate" },
                        {
                            "field": "firstTxTs",
                            "op": "<",
                            "valueExpr": { "add": [{ "ref": "launchDate" }, { "ref": "genesisWindowSec" }] }
                        }
                    ]
                }
            },
            {
                "name": "WHALE",
                "icon": "",
                "desc": "When you move, the sands shift beneath you.",
                "weight": 10,
                "rules": { "field": "netWorthUSD", "op": ">=", "value": 1000 }
            },
            {
                "name": "PROVIDER",
                "icon": "",
                "desc": "The desert is thirsty, but your well runs deep.",
                "weight": 8,
                "rules": { "field": "lpValueUSD", "op": ">=", "value": 100 }
            },
            {
                "name": "FENNEC MAXI",
                "icon": "",
                "desc": "The Spirit of the Fox guides your path.",
                "weight": 0,
                "rules": {
                    "any": [
                        { "field": "fennecTotal", "op": ">=", "value": 10000 },
                        { "field": "hasFennecInLP", "op": "==", "value": true }
                    ]
                }
            },
            {
                "name": "ARTIFACT HUNTER",
                "icon": "",
                "desc": "Your pockets are heavy with echoes of the chain.",
                "weight": 3,
                "rules": { "field": "inscriptionsTotal", "op": ">=", "value": 50 }
            },
            {
                "name": "RUNE KEEPER",
                "icon": "",
                "desc": "You decipher the glyphs. The stones speak to you.",
                "weight": 3,
                "rules": { "field": "runesCount", "op": ">=", "value": 20 }
            },
            {
                "name": "MEMPOOL RIDER",
                "icon": "",
                "desc": "Surfing the chaos of the 30-second block waves.",
                "weight": 7,
                "rules": { "field": "txCount", "op": ">=", "value": 10000 }
            },
            {
                "name": "SAND SWEEPER",
                "icon": "",
                "desc": "Your UTXO set is clean. No trash left in the dunes.",
                "weight": 3,
                "rules": { "field": "abandonedUtxoCount", "op": "<", "value": 50 }
            }
        ]
    },
    "oracle": {
        "enabled": true,
        "endpoint": "https://fennec-api.warninghejo.workers.dev",
        "action": "fractal_audit",
        "timeoutMs": 8000,
        "showSyncFx": true
    },
    "assets": {
        "backgrounds": {
            "*": "c483c2cc881f9dd87a7f11b3f3cef44c760d4371ed680fd7000bbc6fd27eb38di0",

            "DRIFTER": "93fd82caf93eb4801196a68adea2af1eb1e58247504f6f06a3f6aede5ad0456bi0",
            "DRIFTER_T0": "93fd82caf93eb4801196a68adea2af1eb1e58247504f6f06a3f6aede5ad0456bi0",
            "DRIFTER_T1": "e87d18c1aa25a870506eb88119199af31360a3bf3820dff0d152d1f7c22eae93i0",
            "DRIFTER_T2": "ca8a00b5085ab89132395b55ae9eca35510ec7a55e1eec0ef4159dbe8501a034i0",
            "DRIFTER_T3": "2b9e6efb4d45b7752341683bc85976d8c48227e3b77d64b7e9db812920629cdai0",

            "WALKER": "c16da3c7178297215183f9b3ad048be2af0e14eb90498a54f949018513b46bc8i0",
            "WALKER_T0": "c16da3c7178297215183f9b3ad048be2af0e14eb90498a54f949018513b46bc8i0",
            "WALKER_T1": "9e600974c5b171437b6b2852ce7256cd9b72ff2e60b34cbd6ba0fe15e6603b8ci0",
            "WALKER_T2": "f7486257f765e39efa8882226052efdfd7511f987ef0a405b9c7a27def95b17bi0",
            "WALKER_T3": "52fdb4ba5dcf86513647f6f7f0c6e0abb4dba47c6b012f598c5c0e4d45d2896ai0",

            "MERCHANT": "d84ffcf97676e75a55f4c3de061491422d278a92101babe0191fb252665298e1i0",
            "MERCHANT_T0": "d84ffcf97676e75a55f4c3de061491422d278a92101babe0191fb252665298e1i0",
            "MERCHANT_T1": "92088d1f387d690bfbfb4cd710fc19b763455804653c028385f7e5bbedb3a8f4i0",
            "MERCHANT_T2": "9dd19bef9ea5c22a59e59bc3f6e76dddc7e993643bd39769b63c64f27992ef12i0",
            "MERCHANT_T3": "e34738614b5aadc959797640b730d8914efec32029fe6ea7130a5c7fa0fad6c3i0",

            "ENGINEER": "6f5db7869fb4822ce18330cf7c8d90a34885f7cb7cafbec8cf74625b2a2c33fbi0",
            "ENGINEER_T0": "6f5db7869fb4822ce18330cf7c8d90a34885f7cb7cafbec8cf74625b2a2c33fbi0",
            "ENGINEER_T1": "adc4ea27665304244abfbe3d59dfbeb604d0722c2d7f3a9f3f09214ab40a23aci0",
            "ENGINEER_T2": "948eda99846d127a0fe7c4cf81e346cd523b5dbb21d61c69fd7a41ca41d221e1i0",
            "ENGINEER_T3": "b09d79aba79ce14ff023a39f24fd446e6f29ae3577491cff0f294a0d36535782i0",

            "SHAMAN": "eb676b7d97336923b9c4d5c834e627aa5b4ba518fbdcdd4253dd53da49bd069ei0",
            "SHAMAN_T0": "eb676b7d97336923b9c4d5c834e627aa5b4ba518fbdcdd4253dd53da49bd069ei0",
            "SHAMAN_T1": "ad65a2d63dbe42a1ad9f0bdc653c15588ddd33291c3f4277e5689b8ed1461c38i0",
            "SHAMAN_T2": "83d632380a52d1ac978d281de74282efbaa18eab0fa42922a3b62d215b94ec73i0",
            "SHAMAN_T3": "fb2089230f00ab2d019456d48529cfbd06623cc347a470b806f43f668475f16di0",

            "KEEPER": "863c3deb6942de491c9aa25d352e65499ed8f3ac9b56204ca1c13ccddd9df463i0",
            "KEEPER_T0": "863c3deb6942de491c9aa25d352e65499ed8f3ac9b56204ca1c13ccddd9df463i0",
            "KEEPER_T1": "0d19e68ce783600e1569aa0b572d25e0bfa7808dce85f302891aa778e4309338i0",
            "KEEPER_T2": "10d599f4e5ed54824aff1785c195a7c29383315e34d20b250235a60edcd3d3c4i0",
            "KEEPER_T3": "c49bdafe2d5f9a39ae24e2584b3eefae5e4eec03d4ec7065ddff1e9c1154d0d6i0",

            "LORD": "7d14445c78cc369125905be43e2fe927e4b072b977508296b780a4c4122c2c5di0",
            "LORD_T0": "7d14445c78cc369125905be43e2fe927e4b072b977508296b780a4c4122c2c5di0",
            "LORD_T1": "8035fd69c194f8bc3bdf99ed857400288dd1d7e422c8cc491d7504f107773e23i0",
            "LORD_T2": "689265190a0225959c1c7e0a099e0cb6364ac205d2d11d6fb26a18ec90b17211i0",
            "LORD_T3": "dc8ed5fbf0e73000864ae727f91febdde60dfaf2cc62b3f26d881be6484f4eeci0",

            "PRIME": "bc3094e99505e7cca912e8a26bc5d04ebce528857439fdaadada6c813a7a3e90i0",
            "SINGULARITY": "6944bf8680117a1edbd59b1c423eddba37e9b5ea7e0fe39e50fd97956a340919i0"
        },
        "badges": {
            "GENESIS": "00a00f50484b94ddae3fbb69475d53ed24a4cbeb9f02eae5ab1846d296e988cbi0",
            "WHALE": "8f6a0a32f4c98ba0de866ab9df080863d97b6bdc81f112423daf6d0688ffddbfi0",
            "PROVIDER": "6160f7e5155547f69347fa2cebba9df8ec4b43bdbf0d616185760996cf0c60eai0",
            "FENNEC MAXI": "5499d69c4b0eb3525ef75ec5eadb77228453c614f6d9f83871232e9301198173i0",
            "ARTIFACT HUNTER": "19e5faad29d7c86719d0093357db1fa6fbff9495b7be8f1b5571eb2952d311f9i0",
            "RUNE KEEPER": "9e86f2f37c041917cb03b4e37a61180a3ead973631331130455a4aa60936b32di0",
            "MEMPOOL RIDER": "8c873e498eb13dacb37bedce3502c1fc7a7b13f3ed5e3f178d353a30df89b690i0",
            "SAND SWEEPER": "fe95fe52f2e57d426dd587a3f35839fdc4d2c805420c2e46387817a8747cdc73i0"
        },
        "misc": {
            "LOGO": "2e0185f2bdcc068289680574c98982d24e4bc3e3ae9d048ce160c7978ad8b44bi0",
            "WATERMARK": "4d94e7ef01d8b40c58d02a83d232494bc4cc856b98b27a18f81a45bf6c670923i0",
            "HEART": "f58cdcb410c17074019380f13c4bad10bbeacb79e5e1be78a0f8213c127a4e1fi0",
            "PHAV": "cdcf7ec0fbe5a5ef8631453743f4f23a4af154b7251fa94ac4e4e8bb82c693fdi0",
            "FBSYM": "8f4b941f8257128e678082e9753eb13cd478a4bce4cf07cb6675805c899dbb01i0"
        }
    }
}

==================================================
FILE PATH: \recursive_inscriptions\fennec_lib_v2.js
==================================================

(function () {
    'use strict';

    const isPreview =
        typeof window !== 'undefined' &&
        (window.location.pathname.includes('/preview/') ||
            window.location.hostname === 'localhost' ||
            window.location.hostname === '127.0.0.1');

    // –ì–õ–û–ë–ê–õ–¨–ù–´–ô –®–ò–ú STORAGE
    (function () {
        function makeShim() {
            let mem = {};
            return {
                getItem: k => (Object.prototype.hasOwnProperty.call(mem, k) ? mem[k] : null),
                setItem: (k, v) => {
                    mem[k] = String(v);
                },
                removeItem: k => {
                    delete mem[k];
                },
                clear: () => {
                    mem = {};
                },
                key: i => Object.keys(mem)[i] || null,
                get length() {
                    return Object.keys(mem).length;
                }
            };
        }
        try {
            const t = window.localStorage;
            if (!t) throw 1;
            t.setItem('__t', '1');
            t.removeItem('__t');
        } catch (e) {
            try {
                Object.defineProperty(window, 'localStorage', { value: makeShim(), configurable: true });
            } catch (e2) {
                window.localStorage = makeShim();
            }
        }
        try {
            const t2 = window.sessionStorage;
            if (!t2) throw 1;
            t2.setItem('__t', '1');
            t2.removeItem('__t');
        } catch (e) {
            try {
                Object.defineProperty(window, 'sessionStorage', { value: makeShim(), configurable: true });
            } catch (e2) {
                window.sessionStorage = makeShim();
            }
        }
    })();

    const DEFAULT_CONFIG = {
        version: 2,
        theme: 'cyberpunk',
        features: { enableFlip: true, enableTilt: true },
        scoring: {
            launchDate: 1725840000,
            genesisWindowSec: 86400,
            points: { activityMax: 25, wealthMax: 25, timeMax: 15, badgesMax: 35 },
            activity: { curve: 'log', maxTx: 10000 },
            wealth: { curve: 'sqrt', maxNetWorthUSD: 1000 },
            time: { maxDays: 365 },
            maxi: {
                multiplier: 1.15,
                rules: {
                    any: [
                        { field: 'fennecTotal', op: '>=', value: 10000 },
                        { field: 'hasFennecInLP', op: '==', value: true }
                    ]
                }
            },
            rarityThresholds: [
                { name: 'SPIRIT', min: 95 },
                { name: 'ELDER', min: 80 },
                { name: 'ALPHA', min: 65 },
                { name: 'HUNTER', min: 50 },
                { name: 'SCOUT', min: 30 },
                { name: 'CUB', min: 0 }
            ],
            badgeDefinitions: []
        },
        oracle: {
            enabled: false,
            endpoint: 'https://fennec-api.warninghejo.workers.dev',
            action: 'fractal_audit',
            timeoutMs: 8000,
            badgeDefinitions: []
        },
        assets: {
            backgrounds: {
                DRIFTER: '/img/drifter.png',
                WALKER: '/img/walker.png',
                MERCHANT: '/img/merchant.png',
                ENGINEER: '/img/engineer.png',
                SHAMAN: '/img/shaman.png',
                KEEPER: '/img/keeper.png',
                LORD: '/img/guard.png',
                PRIME: '/img/prime.png',
                SINGULARITY: '/img/singularity.png'
            },
            badges: {
                GENESIS: '/img/badge_genesis.png',
                WHALE: '/img/badge_whale.png',
                PROVIDER: '/img/badge_provider.png',
                'FENNEC MAXI': '/img/badge_maxi.png',
                'ARTIFACT HUNTER': '/img/badge_collector.png',
                'RUNE KEEPER': '/img/badge_rune.png',
                'MEMPOOL RIDER': '/img/badge_mempool_rider.png',
                'SAND SWEEPER': '/img/badge_sweeper.png'
            },
            misc: {}
        }
    };

    const LIB_VERSION = 'v2.1.0';

    function safeJsonParse(text) {
        try {
            return JSON.parse(text);
        } catch (_) {
            return null;
        }
    }

    function getContentBase() {
        try {
            const m = (getMeta('fennec-content-base') || '').trim();
            if (m) return m;
        } catch (_) {
            void _;
        }

        try {
            const h = (
                window.location && window.location.hostname ? String(window.location.hostname) : ''
            ).toLowerCase();
            if (h === 'uniscan.cc' || h.endsWith('.uniscan.cc')) return 'https://uniscan.cc/fractal/content/';
        } catch (_) {
            void _;
        }

        try {
            const o =
                window.location && typeof window.location.origin === 'string' ? String(window.location.origin) : '';
            if (!o || o === 'null') return 'https://uniscan.cc/fractal/content/';
            const p = window.location && window.location.pathname ? String(window.location.pathname) : '';
            const host = (
                window.location && window.location.hostname ? String(window.location.hostname) : ''
            ).toLowerCase();
            if (host.indexOf('fractal-static.unisat.') === 0 && p.indexOf('/fractal/content/') !== -1)
                return o + '/content/';
            if (p.indexOf('/fractal/content/') !== -1) return o + '/fractal/content/';
            if (p.indexOf('/content/') !== -1) return o + '/content/';
        } catch (_) {
            void _;
        }

        return '';
    }

    function resolveContentRef(ref) {
        const s = String(ref || '').trim();
        if (!s) return '';
        const baseRaw = getContentBase();
        const base = baseRaw ? baseRaw.replace(/\/+$/, '') : '';

        const absMatch =
            s.match(/^https?:\/\/fractal-static\.unisat\.(?:space|io)\/content\/([^/?#]+)/i) ||
            s.match(/^https?:\/\/fractal-static\.unisat\.(?:space|io)\/fractal\/content\/([^/?#]+)/i);
        if (absMatch) {
            const id = absMatch[1];
            if (base) return `${base}/${id}`;
            return `https://uniscan.cc/fractal/content/${id}`;
        }

        if (s.startsWith('/content/')) {
            const id = s.slice('/content/'.length).split(/[?#/]/)[0];
            if (base && id) return `${base}/${id}`;
            return s;
        }

        if (s.startsWith('/fractal/content/')) {
            const id = s.slice('/fractal/content/'.length).split(/[?#/]/)[0];
            if (base && id) return `${base}/${id}`;
            return s;
        }

        if (s.startsWith('http://') || s.startsWith('https://')) return s;
        if (s.startsWith('/')) return s;
        if (base) return `${base}/${s}`;
        return `/content/${s}`;
    }

    async function fetchJsonWithTimeout(url, timeoutMs) {
        const ms = typeof timeoutMs === 'number' ? timeoutMs : 4500;
        const controller = new AbortController();
        const timer = setTimeout(() => controller.abort(), ms);
        try {
            const res = await fetch(url, { cache: 'no-store', signal: controller.signal });
            if (!res.ok) throw new Error(`fetch failed: ${res.status}`);
            return await res.json();
        } finally {
            clearTimeout(timer);
        }
    }

    function deepMerge(base, patch) {
        if (!patch || typeof patch !== 'object') return base;
        const out = Array.isArray(base) ? [...base] : { ...(base || {}) };
        for (const [k, v] of Object.entries(patch)) {
            if (
                v &&
                typeof v === 'object' &&
                !Array.isArray(v) &&
                base &&
                typeof base[k] === 'object' &&
                !Array.isArray(base[k])
            ) {
                out[k] = deepMerge(base[k], v);
            } else {
                out[k] = v;
            }
        }
        return out;
    }

    function getMeta(name) {
        const el = document.querySelector(`meta[name="${name}"]`);
        return el ? (el.getAttribute('content') || '').trim() : '';
    }

    function getTextFromScriptTag(id) {
        const el = document.getElementById(id);
        if (!el) return '';
        return (el.textContent || '').trim();
    }

    function resolveAssetRef(ref) {
        const v = (ref || '').trim();
        if (!v) return '';
        const baseRaw = getContentBase();
        const base = baseRaw ? baseRaw.replace(/\/+$/, '') : '';

        const tier3VFX = isPreview
            ? `
/* ===== Tier 3 Archetype Overlays (Preview Only) ===== */
.overlay-DRIFTER::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(120deg, transparent 0%, rgba(194, 178, 128, 0.12) 30%, transparent 40%, rgba(218, 165, 32, 0.1) 60%, transparent 70%);
    background-size: 200% 200%;
    animation: sandDrift 8s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}
@keyframes sandDrift {
    0%, 100% { background-position: 0% 50%; opacity: 0.5; }
    50% { background-position: 100% 50%; opacity: 0.8; }
}
.overlay-WALKER::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        radial-gradient(circle at 20% 30%, rgba(255, 218, 185, 0.15) 2px, transparent 2px),
        radial-gradient(circle at 60% 70%, rgba(255, 218, 185, 0.12) 1.5px, transparent 1.5px),
        radial-gradient(circle at 80% 20%, rgba(255, 218, 185, 0.1) 1px, transparent 1px);
    animation: windParticles 6s linear infinite;
    pointer-events: none;
    z-index: 1;
}
@keyframes windParticles {
    0% { transform: translateX(0) translateY(0); opacity: 0.4; }
    100% { transform: translateX(-20px) translateY(10px); opacity: 0.7; }
}
.overlay-MERCHANT::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 80px;
    height: 100%;
    background: linear-gradient(90deg, transparent 0%, rgba(255, 215, 0, 0.35) 50%, transparent 100%);
    animation: goldShine 6s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
    transform: skewX(-20deg);
}
@keyframes goldShine {
    0% { left: -100%; opacity: 0; }
    50% { opacity: 1; }
    100% { left: 100%; opacity: 0; }
}
.overlay-ENGINEER::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 255, 255, 0.05) 2px, rgba(0, 255, 255, 0.05) 4px),
        repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(0, 255, 255, 0.05) 2px, rgba(0, 255, 255, 0.05) 4px);
    animation: circuitPulse 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}
@keyframes circuitPulse {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.6; }
}
.overlay-SHAMAN::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 50%, rgba(138, 43, 226, 0.15) 0%, transparent 50%);
    animation: waterRipple 5s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}
.overlay-SHAMAN::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 50%, rgba(147, 112, 219, 0.1) 0%, transparent 60%);
    animation: waterRipple 5s ease-in-out infinite 0.5s;
    pointer-events: none;
    z-index: 1;
}
@keyframes waterRipple {
    0% { transform: scale(0.8); opacity: 0; }
    50% { opacity: 0.7; }
    100% { transform: scale(1.3); opacity: 0; }
}
.overlay-KEEPER::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at 30% 40%, rgba(186, 85, 211, 0.18) 0%, transparent 40%),
        radial-gradient(circle at 70% 60%, rgba(138, 43, 226, 0.15) 0%, transparent 35%);
    animation: runeGlow 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}
@keyframes runeGlow {
    0%, 100% { opacity: 0.4; filter: hue-rotate(0deg); }
    50% { opacity: 0.7; filter: hue-rotate(15deg); }
}
.overlay-LORD::before {
    content: '';
    position: absolute;
    inset: 0;
    background: conic-gradient(from 0deg at 50% 50%, transparent 0deg, rgba(255, 215, 0, 0.15) 45deg, transparent 90deg, rgba(255, 215, 0, 0.15) 135deg, transparent 180deg, rgba(255, 215, 0, 0.15) 225deg, transparent 270deg, rgba(255, 215, 0, 0.15) 315deg, transparent 360deg);
    animation: sunRotate 12s linear infinite;
    pointer-events: none;
    z-index: 1;
}
@keyframes sunRotate {
    0% { transform: rotate(0deg); opacity: 0.4; }
    50% { opacity: 0.6; }
    100% { transform: rotate(360deg); opacity: 0.4; }
}
.overlay-PRIME::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.25) 2px, transparent 2px),
        radial-gradient(circle at 80% 30%, rgba(138, 43, 226, 0.25) 2px, transparent 2px),
        radial-gradient(circle at 60% 80%, rgba(0, 255, 255, 0.25) 2px, transparent 2px),
        radial-gradient(circle at 30% 70%, rgba(255, 215, 0, 0.25) 2px, transparent 2px);
    animation: starTwinkle 3s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}
@keyframes starTwinkle {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 0.9; }
}
.overlay-SINGULARITY::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 50%, rgba(138, 43, 226, 0.18) 0%, rgba(0, 255, 255, 0.12) 30%, rgba(255, 215, 0, 0.1) 60%, transparent 80%);
    animation: vortexSpin 10s linear infinite;
    pointer-events: none;
    z-index: 1;
}
.overlay-SINGULARITY::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 50%, transparent 30%, rgba(255, 255, 255, 0.12) 40%, transparent 50%);
    animation: cosmicPulse 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 2;
}
@keyframes vortexSpin {
    0% { transform: rotate(0deg) scale(1); opacity: 0.5; }
    50% { opacity: 0.7; }
    100% { transform: rotate(360deg) scale(1.05); opacity: 0.5; }
}
@keyframes cosmicPulse {
    0%, 100% { transform: scale(0.9); opacity: 0.4; }
    50% { transform: scale(1.1); opacity: 0.8; }
}
`
            : '';

        const absMatch =
            v.match(/^https?:\/\/fractal-static\.unisat\.(?:space|io)\/content\/([^/?#]+)/i) ||
            v.match(/^https?:\/\/fractal-static\.unisat\.(?:space|io)\/fractal\/content\/([^/?#]+)/i);
        if (absMatch) {
            const id = absMatch[1];
            if (isPreview) return `../img/${id}`;
            if (base) return `${base}/${id}`;
            return `https://uniscan.cc/fractal/content/${id}`;
        }

        if (v.startsWith('/content/')) {
            const id = v.slice('/content/'.length).split(/[?#/]/)[0];
            if (isPreview) return `../img/${id}`;
            if (base && id) return `${base}/${id}`;
            return v;
        }

        if (v.startsWith('/fractal/content/')) {
            const id = v.slice('/fractal/content/'.length).split(/[?#/]/)[0];
            if (isPreview) return `../img/${id}`;
            if (base && id) return `${base}/${id}`;
            return v;
        }

        if (v.startsWith('http://') || v.startsWith('https://') || v.startsWith('data:')) return v;
        if (isPreview && v.startsWith('/img/')) return `..${v}`;
        if (v.startsWith('/') || v.startsWith('./') || v.startsWith('../') || v.includes('/')) return v;
        if (isPreview) return `../img/${v}`;
        if (base) return `${base}/${v}`;
        return `https://ordinals.com/content/${v}`;
    }

    function getDna() {
        const raw = getTextFromScriptTag('dna-data') || getTextFromScriptTag('user-data');
        const dna = safeJsonParse(raw);
        return dna && typeof dna === 'object' ? dna : {};
    }

    async function loadConfig() {
        const inline = safeJsonParse(getTextFromScriptTag('fennec-config-inline'));
        if (inline && typeof inline === 'object') return deepMerge(DEFAULT_CONFIG, inline);

        let configId = (getMeta('fennec-config') || '').trim();
        const manifestId = (getMeta('fennec-manifest') || '').trim();
        const isFramed = (() => {
            try {
                return window.self !== window.top || window.self !== window.parent;
            } catch (_) {
                return true;
            }
        })();
        const isContent = (() => {
            try {
                return !!(window.location && String(window.location.pathname || '').indexOf('/content/') === 0);
            } catch (_) {
                return false;
            }
        })();
        const allowManifestFetch = !isFramed && !isContent;

        if (allowManifestFetch && manifestId && manifestId !== 'inline') {
            try {
                const m = await fetchJsonWithTimeout(resolveContentRef(manifestId), 4500);
                const latest = m.latest && typeof m.latest === 'object' ? m.latest : m;
                const cfg =
                    latest.config ||
                    latest.configId ||
                    latest.configuration ||
                    latest.configurationId ||
                    latest.fennecConfig ||
                    '';
                if (typeof cfg === 'string' && cfg.trim()) configId = cfg.trim();
            } catch (_) {
                /* fallback */
            }
        }

        if (!configId) return DEFAULT_CONFIG;

        try {
            const oracleEndpoint = (getMeta('fennec-oracle-endpoint') || '').trim();
            const isInscriptionId = /^[a-f0-9]{64}i\d+$/i.test(String(configId || '').trim());
            const oracleUrl =
                oracleEndpoint && isInscriptionId
                    ? `${oracleEndpoint}${oracleEndpoint.indexOf('?') === -1 ? '?' : '&'}action=inscription_content&raw=1&inscriptionId=${encodeURIComponent(String(configId || '').trim())}`
                    : '';

            const res = await fetch(oracleUrl || resolveContentRef(configId), { cache: 'force-cache' });
            if (!res.ok) throw new Error(`config fetch failed: ${res.status}`);
            const json = await res.json();
            const merged = deepMerge(DEFAULT_CONFIG, json);
            const metaEndpoint = (getMeta('fennec-oracle-endpoint') || '').trim();
            const metaAction = (getMeta('fennec-oracle-action') || '').trim();
            if (metaEndpoint) {
                merged.oracle = merged.oracle && typeof merged.oracle === 'object' ? merged.oracle : {};
                merged.oracle.enabled = true;
                merged.oracle.endpoint = metaEndpoint;
                if (metaAction) merged.oracle.action = metaAction;
            }
            if (merged.oracle && typeof merged.oracle === 'object' && merged.oracle.enabled) {
                if (!('refreshMs' in merged.oracle)) merged.oracle.refreshMs = 0;
            }
            return merged;
        } catch (_) {
            return DEFAULT_CONFIG;
        }
    }

    function injectStyles() {
        if (document.getElementById('fennec-lib-style-v2')) return;

        try {
            const meta = document.querySelector('meta[name="fennec-embed"]');
            const isEmbed = meta && String(meta.getAttribute('content') || '').trim() === '1';
            if (isEmbed) {
                document.documentElement.setAttribute('data-fennec-embed', '1');
                if (document.body) document.body.setAttribute('data-fennec-embed', '1');
            }
        } catch (_) {
            void _;
        }

        try {
            const isFramed = (() => {
                try {
                    return window.self !== window.top || window.self !== window.parent;
                } catch (_) {
                    return true;
                }
            })();
            if (isFramed) {
                document.documentElement.setAttribute('data-fennec-embed', '1');
                if (document.body) document.body.setAttribute('data-fennec-embed', '1');
            }
        } catch (_) {
            void _;
        }

        try {
            const isContent = !!(window.location && String(window.location.pathname || '').indexOf('/content/') === 0);
            if (isContent) {
                document.documentElement.setAttribute('data-fennec-content', '1');
                if (document.body) document.body.setAttribute('data-fennec-content', '1');
            }
        } catch (_) {
            void _;
        }

        const style = document.createElement('style');
        style.id = 'fennec-lib-style-v2';
        style.textContent = `
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap');

:root {
    --background: 20 10% 4%;
    --foreground: 0 0% 95%;
    --card: 20 8% 8%;
    --card-foreground: 0 0% 95%;
    --primary: 18 100% 60%;
    --primary-foreground: 20 10% 4%;
    --secondary: 20 6% 12%;
    --secondary-foreground: 0 0% 85%;
    --muted: 20 6% 15%;
    --muted-foreground: 0 0% 55%;
    --accent: 270 91% 65%;
    --accent-foreground: 0 0% 98%;
    --border: 20 10% 18%;
    --radius: 0.75rem;

    --fennec-orange: 18 100% 60%;
    --fennec-glow: 18 100% 70%;
    --obsidian: 20 10% 6%;
    --obsidian-light: 20 8% 12%;
    --holo-purple: 270 91% 65%;
    --holo-cyan: 187 94% 43%;
    --holo-blue: 217 91% 60%;
    --glass-white: 0 0% 100%;
    --laser-edge: 18 100% 55%;

    --card-accent: var(--fennec-orange);
    --card-accent2: var(--holo-purple);

    --gradient-obsidian: linear-gradient(145deg, hsl(20 10% 8%) 0%, hsl(20 15% 4%) 50%, hsl(0 0% 2%) 100%);

    --font-display: 'Space Grotesk', system-ui, sans-serif;
    --font-tactical: 'JetBrains Mono', monospace;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html, body {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: transparent !important;
}

[data-fennec-embed] html, [data-fennec-embed] body {
    background: transparent !important;
}

body {
    color: hsl(var(--foreground));
    font-family: var(--font-display);
    -webkit-font-smoothing: antialiased;
}

     #fennec-root {
         width: 100%;
         height: 100%;
         display: flex;
         align-items: center;
         justify-content: center;
         padding: 0;
         margin: 0;
         overflow: visible !important;
         background: transparent !important;
     }

     .card-scene {
        perspective: 1200px;
        width: min(420px, 100vw, calc(100vh * 336 / 490));
        height: calc(min(420px, 100vw, calc(100vh * 336 / 490)) * 490 / 336);
        position: relative;
        margin: 0;
        padding: 0;
        overflow: visible !important;
    }

    @media (max-width: 480px) {
         .card-scene {
             width: min(336px, 100vw, calc(100vh * 336 / 490));
             height: calc(min(336px, 100vw, calc(100vh * 336 / 490)) * 490 / 336);
             padding: 0;
         }
     }

    .card-object {
        width: 100%;
        height: 100%;
        position: relative;
        transform-style: preserve-3d;
        cursor: pointer;
        border-radius: 32px;
        box-shadow: none;
        will-change: transform;
        overflow: visible !important;
        --card-glow-hsl: var(--card-accent);
        --title-accent: var(--card-accent);
        --title-accent2: var(--card-accent2);
        --tiltX: 0deg;
        --tiltY: 0deg;
        --flipY: 0deg;
        transition: transform 0ms linear;
        transform: rotateX(var(--tiltX)) rotateY(calc(var(--tiltY) + var(--flipY)));
    }

    .card-scene.is-flipping .card-object {
        transition: transform 720ms cubic-bezier(0.2, 0.9, 0.2, 1);
    }

    .card-scene.is-flipped .card-object {
        --flipY: 180deg;
    }

    .card-face {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        border-radius: 32px;
        overflow: hidden;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        transform-style: preserve-3d;
        z-index: 1;
        isolation: isolate;
    }

    .face-front {
        transform: rotateY(0deg);
        z-index: 2;
        display: flex;
        flex-direction: column;
    }

    .face-front > img {
        filter: none !important;
        transform: none !important;
        animation: none !important;
        border-radius: 0 !important;
    }

    .face-back {
        transform: rotateY(180deg);
        z-index: 1;
        display: flex;
        flex-direction: column;
        min-height: 0;
    }

    .face-back #card-back-scroll {
        flex: 1 1 auto;
        min-height: 0;
        padding: 4px 8px 24px 8px;
    }

    .face-back #card-back-content {
        height: 100%;
        overflow-y: auto;
        overflow-x: hidden;
        padding: 0;
        padding-right: 0px;
        padding-left: var(--fid-scrollbar-pad, 0px);
        border-radius: 0;
        border: none;
        background: transparent;
        scrollbar-gutter: stable;
    }

    @keyframes card-glow-beat {
        0% {
            box-shadow:
                0 20px 50px -12px rgba(0, 0, 0, 0.8),
                0 0 0 1px hsl(var(--card-glow-hsl) / 0.22),
                0 0 34px hsl(var(--card-glow-hsl) / 0.16),
                0 0 68px hsl(var(--card-glow-hsl) / 0.10);
        }
        15% {
            box-shadow:
                0 30px 70px -10px rgba(0, 0, 0, 0.92),
                0 0 0 1px hsl(var(--card-glow-hsl) / 0.60),
                0 0 95px hsl(var(--card-glow-hsl) / 0.48),
                0 0 160px hsl(var(--card-glow-hsl) / 0.34);
        }
        100% {
            box-shadow:
                0 20px 50px -12px rgba(0, 0, 0, 0.8),
                0 0 0 1px hsl(var(--card-glow-hsl) / 0.22),
                0 0 34px hsl(var(--card-glow-hsl) / 0.16),
                0 0 68px hsl(var(--card-glow-hsl) / 0.10);
        }
    }

    .heartbeat-sync {
        animation: none;
    }

    .card-object::after {
        content: '';
        position: absolute;
        inset: 0;
        display: none;
    }

    .card-object.card-heart::after {
        content: '';
        position: absolute;
        inset: -28px;
        border-radius: 60px;
        pointer-events: none;
        z-index: -1;
        opacity: 0;
        background: none;
        filter: none;
        display: none;
    }

    .card-object::before {
        content: '';
        position: absolute;
        inset: -2px;
        border-radius: calc(32px + 2px);
        padding: 2px;
        box-sizing: border-box;
        background: var(
            --fennec-border-bg,
            linear-gradient(135deg, hsl(var(--card-accent)), hsl(var(--card-accent2)), hsl(var(--card-accent)))
        );
        background-size: var(--fennec-border-size, 300% 300%);
        background-position: 0% 50%;
        background-repeat: no-repeat;
        animation:
            borderFlow var(--border-flow-dur, 32s) ease-in-out infinite,
            borderPulse var(--border-pulse-dur, 9s) ease-in-out infinite;
        pointer-events: none;
        z-index: 60;
        opacity: 1;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        mask-composite: exclude;
        box-shadow:
            inset 0 0 24px hsl(var(--card-accent) / 0.16),
            0 0 22px hsl(var(--card-accent) / 0.22),
            0 4px 16px hsl(var(--card-accent) / 0.12);
        filter: brightness(1.08) saturate(1.10);
        display: none;
    }

    .card-outer-border {
        position: absolute;
        inset: -2px;
        border-radius: calc(32px + 2px);
        padding: 2px;
        box-sizing: border-box;
        pointer-events: none;
        z-index: 50;
        opacity: 1;
        backface-visibility: visible;
        -webkit-backface-visibility: visible;
        border: 2px solid transparent;
        -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        mask-composite: exclude;
        will-change: background, filter;
    }

    .card-border-glow {
        position: absolute;
        inset: -2px;
        border-radius: calc(32px + 2px);
        pointer-events: none;
        z-index: 49;
        opacity: 0.96;
        backface-visibility: visible;
        -webkit-backface-visibility: visible;
        transform-style: preserve-3d;
        will-change: box-shadow, filter;
    }

    .soul-divider-enhanced {
        height: 2px;
        background: linear-gradient(
            90deg,
            hsl(var(--card-accent) / 0.10) 0%,
            hsl(var(--card-accent) / 0.35) 18%,
            hsl(var(--card-accent2) / 0.95) 50%,
            hsl(var(--card-accent) / 0.35) 82%,
            hsl(var(--card-accent) / 0.10) 100%
        );
        box-shadow: none;
        border-radius: 999px;
        -webkit-mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        clip-path: polygon(0 50%, 3% 0, 97% 0, 100% 50%, 97% 100%, 3% 100%);
    }

    @property --border-angle {
        syntax: '<angle>';
        inherits: false;
        initial-value: 0deg;
    }

    @property --scout-angle {
        syntax: '<angle>';
        initial-value: 0deg;
        inherits: false;
    }

    @property --hunter-angle {
        syntax: '<angle>';
        initial-value: 0deg;
        inherits: false;
    }

    @property --spirit-angle {
        syntax: '<angle>';
        initial-value: 0deg;
        inherits: false;
    }

    @property --alpha-angle {
        syntax: '<angle>';
        inherits: false;
        initial-value: 0deg;
    }

    .card-object[data-rarity='cub'] > .card-outer-border {
        background: linear-gradient(135deg, #3a3a3a, #5a5a5a, #6a6a6a, #5a5a5a, #3a3a3a);
        animation: none;
        filter: blur(0px);
        inset: -2px;
        padding: 2px;
        box-shadow: 0 0 15px rgba(90, 90, 90, 0.5);
        background-origin: border-box;
    }

    .card-object[data-rarity='cub'] > .card-border-glow {
        display: none;
        animation: none;
        box-shadow: none;
        filter: none;
    }

    @keyframes steelSheen {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
    }

    .card-object[data-rarity='scout'] > .card-outer-border {
        background: conic-gradient(
            from var(--scout-angle),
            rgba(34, 197, 94, 0.6) 0%,
            rgba(34, 197, 94, 0.6) 70%,
            rgba(34, 197, 94, 1) 85%,
            #22c55e 100%
        );
        animation: scoutBeam 4s linear infinite;
        filter: blur(0px);
        inset: -2px;
        padding: 2px;
        box-shadow: 0 0 15px rgba(34, 197, 94, 0.5), inset 0 0 10px rgba(34, 197, 94, 0.3);
        background-origin: border-box;
    }

    .card-object[data-rarity='scout'] > .card-border-glow {
        display: none;
        animation: none;
        box-shadow: none;
        filter: none;
    }

    @keyframes scoutBeam {
        0% { --scout-angle: 0deg; }
        100% { --scout-angle: 360deg; }
    }


    @keyframes borderAngleSpin {
        0% { --border-angle: 0deg; }
        100% { --border-angle: 360deg; }
    }

    @keyframes bioNeonPulse {
        0%, 100% {
            background-position: 0% 50%;
            filter: brightness(1.18) saturate(1.22);
            box-shadow:
                inset 0 0 18px rgba(57, 255, 20, 0.18),
                0 0 24px rgba(57, 255, 20, 0.32),
                0 4px 16px rgba(5, 150, 105, 0.26);
        }
        50% {
            background-position: 100% 50%;
            filter: brightness(1.32) saturate(1.38);
            box-shadow:
                inset 0 0 26px rgba(57, 255, 20, 0.30),
                0 0 36px rgba(57, 255, 20, 0.48),
                0 4px 20px rgba(5, 150, 105, 0.38);
        }
    }

    .card-object[data-rarity='hunter'] > .card-outer-border {
        background: conic-gradient(
            from var(--hunter-angle),
            rgba(14, 165, 233, 0.6) 0%,
            rgba(14, 165, 233, 0.6) 70%,
            rgba(14, 165, 233, 1) 85%,
            #0ea5e9 100%
        );
        animation: hunterBeam 4s linear infinite;
        filter: blur(0px);
        inset: -2px;
        padding: 2px;
        box-shadow: 0 0 15px rgba(14, 165, 233, 0.5), inset 0 0 10px rgba(14, 165, 233, 0.3);
        background-origin: border-box;
    }

    .card-object[data-rarity='hunter'] > .card-border-glow {
        display: none;
        animation: none;
        box-shadow: none;
        filter: none;
    }

    @keyframes hunterBeam {
        0% { --hunter-angle: 0deg; }
        100% { --hunter-angle: 360deg; }
    }

    .card-object[data-rarity='alpha'] > .card-outer-border {
        background: conic-gradient(
            from var(--alpha-angle),
            #ffeda0 0deg,
            #ff4500 90deg,
            #8b0000 180deg,
            #ff4500 270deg,
            #ffeda0 360deg
        );
        animation: alphaLavaSpin 8s linear infinite;
        filter: blur(0px);
        inset: -2px;
        padding: 2px;
        box-shadow:
            0 0 2px #ff6347,
            0 0 5px rgba(255, 69, 0, 0.9),
            0 0 10px rgba(139, 0, 0, 0.6);
        background-origin: border-box;
    }

    .card-object[data-rarity='alpha'] > .card-border-glow {
        animation: alphaMagmaBreathing 3s ease-in-out infinite;
        inset: -2px;
    }

    @keyframes alphaLavaSpin {
        0% { --alpha-angle: 0deg; }
        100% { --alpha-angle: 360deg; }
    }

    @keyframes alphaMagmaBreathing {
        0%, 100% {
            opacity: 0.8;
            box-shadow:
                0 0 2px #ff6347,
                0 0 5px rgba(255, 69, 0, 0.9),
                0 0 10px rgba(139, 0, 0, 0.6);
            filter: blur(0.5px);
        }
        50% {
            opacity: 1;
            box-shadow:
                0 0 3px #ff4500,
                0 0 6px rgba(255, 69, 0, 1),
                0 0 10px rgba(139, 0, 0, 0.75);
            filter: blur(0.5px);
        }
    }

    .card-object[data-rarity='elder'] > .card-outer-border {
        background: linear-gradient(135deg, #a47e1b 0%, #f9d976 25%, #ffffff 50%, #f9d976 75%, #a47e1b 100%);
        background-size: 200% 200%;
        animation: goldShimmer 5s ease-in-out infinite;
        filter: blur(0px);
        inset: -2px;
        padding: 2px;
        box-shadow: 0 0 30px rgba(255, 215, 0, 0.7);
        background-origin: border-box;
    }

    .card-object[data-rarity='elder'] > .card-border-glow {
        animation: elderHaloBreathing 3s ease-in-out infinite;
        inset: -2px;
    }

    @keyframes goldShimmer {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
    }

    @keyframes elderHaloBreathing {
        0%, 100% {
            opacity: 0.8;
            box-shadow:
                0 0 2px #ffeaa7,
                0 0 5px rgba(212, 175, 55, 0.9),
                0 0 10px rgba(184, 134, 11, 0.6);
            filter: blur(0.5px);
        }
        50% {
            opacity: 1;
            box-shadow:
                0 0 3px #ffffff,
                0 0 6px rgba(255, 215, 0, 1),
                0 0 10px rgba(184, 134, 11, 0.75);
            filter: blur(0.5px);
        }
    }



    @keyframes borderFlow {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    @keyframes borderPulse {
        0%, 100% { filter: brightness(1.12) saturate(1.16); opacity: 0.98; }
        50% { filter: brightness(1.24) saturate(1.28); opacity: 1; }
    }

    .card-object[data-tier='0']::before { --border-flow-dur: 54s; --border-pulse-dur: 14s; }
    .card-object[data-tier='1']::before { --border-flow-dur: 46s; --border-pulse-dur: 12s; }
    .card-object[data-tier='2']::before { --border-flow-dur: 34s; --border-pulse-dur: 10s; }
    .card-object[data-tier='3']::before { --border-flow-dur: 24s; --border-pulse-dur: 8s; }

    @property --spirit-shift {
        syntax: '<percentage>';
        inherits: true;
        initial-value: 0%;
    }

    @property --prism-angle {
        syntax: '<angle>';
        inherits: true;
        initial-value: 0deg;
    }

    @keyframes spiritSweep {
        0% {
            --spirit-shift: -100%;
        }
        100% {
            --spirit-shift: 200%;
        }
    }

    @keyframes spiritBorderSweep {
        0% {
            background-position: -100% 0;
        }
        100% {
            background-position: 200% 0;
        }
    }

    .card-object[data-rarity='spirit'] {
        --spirit-shift: 0%;
        --spirit-rainbow: linear-gradient(
            90deg,
            #ff0000 0%,
            #ff7f00 14%,
            #ffff00 28%,
            #00ff00 42%,
            #00ffff 57%,
            #0000ff 71%,
            #8b00ff 85%,
            #ff0000 100%
        );
    }

    .card-object[data-rarity='spirit']:not(.heartbeat-sync) {
        animation: spiritSweep 12s linear infinite;
    }

    .card-object[data-rarity='spirit'].heartbeat-sync {
        animation: spiritSweep 12s linear infinite;
    }

    .card-object[data-rarity='spirit'] > .card-outer-border {
        background: conic-gradient(
            from var(--spirit-angle),
            #ff0000 0deg,
            #ff7f00 51deg,
            #ffff00 102deg,
            #00ff00 153deg,
            #00ffff 204deg,
            #0000ff 255deg,
            #8b00ff 306deg,
            #ff0000 360deg
        );
        animation: spiritSpinGradient 6s linear infinite;
        filter: blur(0px);
        inset: -2px;
        padding: 2px;
        box-shadow:
            0 0 2px #da70d6,
            0 0 5px rgba(138, 43, 226, 0.9),
            0 0 10px rgba(75, 0, 130, 0.6);
        background-origin: border-box;
    }

    .card-object[data-rarity='spirit'] > .card-border-glow {
        animation: spiritRainbowBreathing 3s ease-in-out infinite;
        inset: -2px;
    }

    @keyframes spiritSpinGradient {
        0% { --spirit-angle: 0deg; }
        100% { --spirit-angle: 360deg; }
    }

    @keyframes spiritRainbowBreathing {
        0%, 100% {
            opacity: 0.8;
            box-shadow:
                0 0 2px #da70d6,
                0 0 5px rgba(138, 43, 226, 0.9),
                0 0 10px rgba(75, 0, 130, 0.6);
            filter: blur(0.5px);
        }
        50% {
            opacity: 1;
            box-shadow:
                0 0 3px #ffffff,
                0 0 6px rgba(138, 43, 226, 1),
                0 0 10px rgba(75, 0, 130, 0.75);
            filter: blur(0.5px);
        }
    }

    @keyframes premiumBorderFlash {
        0%, 100% {
            filter: blur(var(--border-soft-blur, 1.2px)) brightness(1.06) saturate(1.08);
        }
        50% {
            filter: blur(calc(var(--border-soft-blur, 1.2px) + 0.4px)) brightness(1.22) saturate(1.20);
        }
    }

    @keyframes soulDividerBeat {
        0%, 8%, 100% {
            opacity: 0.38;
            box-shadow: none;
        }
        10% {
            opacity: 1;
            box-shadow: none;
        }
        14% {
            opacity: 0.52;
            box-shadow: none;
        }
        20% {
            opacity: 0.38;
            box-shadow: none;
        }
        30% {
            opacity: 0.88;
            box-shadow: none;
        }
        34% {
            opacity: 0.48;
            box-shadow: none;
        }
        45% {
            opacity: 0.38;
            box-shadow: none;
        }
    }

    @keyframes spiritPrismSpin {
        0% { --prism-angle: 0deg; }
        100% { --prism-angle: 360deg; }
    }

    .soul-divider {
        transition: all 0.3s ease;
        background: linear-gradient(
            90deg,
            hsl(var(--card-accent) / 0.08) 0%,
            hsl(var(--card-accent) / 0.18) 20%,
            hsl(var(--card-accent2) / 0.55) 50%,
            hsl(var(--card-accent) / 0.18) 80%,
            hsl(var(--card-accent) / 0.08) 100%
        );
        box-shadow: none;
        border-radius: 999px;
        -webkit-mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        clip-path: polygon(0 50%, 3% 0, 97% 0, 100% 50%, 97% 100%, 3% 100%);
    }

    .soul-divider-pulse {
        background: linear-gradient(
            90deg,
            hsl(var(--card-accent) / 0.10) 0%,
            hsl(var(--card-accent) / 0.35) 18%,
            hsl(var(--card-accent2) / 0.95) 50%,
            hsl(var(--card-accent) / 0.35) 82%,
            hsl(var(--card-accent) / 0.10) 100%
        );
        box-shadow: none;
        animation: soulDividerBeat 1.8s ease-in-out infinite;
        -webkit-mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        clip-path: polygon(0 50%, 3% 0, 97% 0, 100% 50%, 97% 100%, 3% 100%);
    }

    .card-object[data-rarity='spirit'] .soul-divider,
    .card-object[data-rarity='spirit'] .soul-divider-enhanced,
    .card-object[data-rarity='spirit'] .soul-divider-pulse {
        background: var(--spirit-rainbow);
        background-size: 300% 100%;
        background-position: var(--spirit-shift) 50%;
        -webkit-mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        mask-image: linear-gradient(90deg, transparent 0%, #fff 14%, #fff 86%, transparent 100%);
        animation: borderPulse 8s ease-in-out infinite;
        box-shadow: none;
        clip-path: polygon(0 50%, 3% 0, 97% 0, 100% 50%, 97% 100%, 3% 100%);
    }

    .card-object[data-tier='0'] { --tier-shine-opacity: 0; --tier-shine-dur: 999s; }
    .card-object[data-tier='1'] { --tier-shine-opacity: 0.28; --tier-shine-dur: 12s; }
    .card-object[data-tier='2'] { --tier-shine-opacity: 0.40; --tier-shine-dur: 9s; }
    .card-object[data-tier='3'] { --tier-shine-opacity: 0.52; --tier-shine-dur: 7.5s; }

    .card-object[data-rarity='cub'] { --tier-shine-rgb: 190, 190, 200; --card-accent: 0 0% 55%; --card-accent2: 0 0% 78%; }
    .card-object[data-rarity='scout'] { --tier-shine-rgb: 100, 240, 140; --card-accent: 142 70% 45%; --card-accent2: 142 70% 58%; }
    .card-object[data-rarity='hunter'] { --tier-shine-rgb: 30, 240, 255; --card-accent: 199 90% 52%; --card-accent2: 185 95% 58%; }
    .card-object[data-rarity='alpha'] { --tier-shine-rgb: 255, 90, 90; --card-accent: 0 84% 62%; --card-accent2: 42 100% 60%; }
    .card-object[data-rarity='elder'] { --tier-shine-rgb: 212, 175, 55; --card-accent: 45 92% 55%; --card-accent2: 48 100% 85%; }
    .card-object[data-rarity='spirit'] { --tier-shine-rgb: 255, 255, 255; --card-accent: 0 0% 100%; --card-accent2: 280 100% 70%; }

.card-object[data-tier='0'] .face-front {
}

.card-object[data-tier='0'] .holo-sheen::after {
    opacity: 0;
}

.card-object[data-tier='1'] .face-front {
    animation: none;
}

@keyframes holoSheenDrift {
    0% { background-position: 0% 50%; }
    100% { background-position: 200% 50%; }
}

.card-object[data-tier='2'] .holo-sheen::after,
.card-object[data-tier='3'] .holo-sheen::after {
    background-size: 250% 250%;
}

@keyframes tier3TitleShimmer {
    0% { background-position: 0% 50%; }
    100% { background-position: 220% 50%; }
}

@keyframes tier3Sweep {
    0% { background-position: 0% 50%; }
    100% { background-position: 400% 50%; }
}

.tier3-title {
    background: linear-gradient(90deg,
        hsl(var(--title-accent)) 0%,
        hsl(var(--title-accent2)) 25%,
        hsl(var(--title-accent)) 50%,
        hsl(var(--title-accent2)) 75%,
        hsl(var(--title-accent)) 100%
    );
    background-size: 400% 100%;
    animation: tier3Sweep 36s linear infinite;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;
}

.archetype-title {
    color: rgba(255, 255, 255, 0.96);
}

.card-object[data-tier='0'] .archetype-title {
    color: rgba(255, 255, 255, 0.92);
    text-shadow: 0 0 28px hsl(var(--title-accent) / 0.25), 0 10px 30px rgba(0, 0, 0, 0.82);
}

.card-object[data-tier='1'] .archetype-title {
    color: rgba(255, 255, 255, 0.98);
    text-shadow: 0 0 40px hsl(var(--title-accent) / 0.55), 0 10px 30px rgba(0, 0, 0, 0.82);
}

.card-object[data-tier='2'] .archetype-title {
    background: linear-gradient(
        90deg,
        rgba(255, 255, 255, 0.98) 0%,
        hsl(var(--title-accent)) 55%,
        hsl(var(--title-accent2)) 100%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;
    filter: drop-shadow(0 0 10px hsl(var(--title-accent) / 0.30)) drop-shadow(0 10px 30px rgba(0, 0, 0, 0.82));
}

.archetype-overlay {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 11;
    opacity: 0;
}

.card-object[data-tier='1'] .archetype-overlay { opacity: 0.18; }
.card-object[data-tier='2'] .archetype-overlay { opacity: 0.30; }
.card-object[data-tier='3'] .archetype-overlay { opacity: 0.52; }

.archetype-overlay[class*='overlay-'] {
    border-radius: 32px;
    overflow: hidden;
}

@keyframes imgTierBreathe {
    0% { transform: scale(1); }
    100% { transform: scale(1.004); }
}

.anim-tier-1 {
    animation: imgTierBreathe 18s ease-in-out infinite alternate;
}

.img-tier-0 {
    transform: scale(1);
}

@keyframes imgTierHeatLow {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-tier-2-heat {
    animation: imgTierHeatLow 10s ease-in-out infinite alternate;
}

@keyframes imgTierShineLow {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-tier-2-shine {
    animation: imgTierShineLow 8s ease-in-out infinite alternate;
}

@keyframes imgTierGlitchLow {
    0%, 92% { transform: translate3d(0,0,0); }
    93% { transform: translate3d(1px,0,0); }
    94% { transform: translate3d(-1px,0,0); }
    100% { transform: translate3d(0,0,0); }
}

.anim-tier-2-glitch {
    animation: imgTierGlitchLow 6s linear infinite;
}

@keyframes imgTierMagicLow {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-tier-2-magic {
    animation: imgTierMagicLow 8s ease-in-out infinite alternate;
}

@keyframes imgTierTimeFlow {
    0% { transform: scale(1) skewX(0deg); }
    50% { transform: scale(1.006) skewX(-0.6deg); }
    100% { transform: scale(1) skewX(0deg); }
}

.anim-tier-2-time {
    animation: imgTierTimeFlow 10.4s ease-in-out infinite;
}

@keyframes imgTierRunes {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-tier-2-runes {
    animation: imgTierRunes 9.2s ease-in-out infinite alternate;
}

@keyframes imgTierSmoke {
    0% { transform: translate3d(0,0,0) scale(1); }
    50% { transform: translate3d(-1px,0,0) scale(1.005); }
    100% { transform: translate3d(0,0,0) scale(1); }
}

.anim-tier-2-smoke {
    animation: imgTierSmoke 11.2s ease-in-out infinite;
}

@keyframes imgTierCrownTide {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-tier-2-crown {
    animation: imgTierCrownTide 8.4s ease-in-out infinite alternate;
}

@keyframes imgTierRadiance {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-tier-2-radiance {
    animation: imgTierRadiance 7.6s ease-in-out infinite alternate;
}

@keyframes imgTierDeepChaos {
    0% { transform: scale(1); }
    50% { transform: scale(1.006); }
    100% { transform: scale(1); }
}

.anim-tier-2-chaos {
    animation: imgTierDeepChaos 13.6s linear infinite;
}

@keyframes drifterHeat {
    0% { transform: translate3d(0, 0, 0); }
    50% { transform: translate3d(-1px, 0, 0); }
    100% { transform: translate3d(0, 0, 0); }
}

.anim-DRIFTER { animation: drifterHeat 16s ease-in-out infinite; }

@keyframes merchantShine {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.005); }
}

.anim-MERCHANT { animation: merchantShine 10s ease-in-out infinite; }

@keyframes engineerGlitch {
    0%, 92% { transform: translate3d(0,0,0); }
    94% { transform: translate3d(2px,0,0); }
    96% { transform: translate3d(-2px,0,0); }
    100% { transform: translate3d(0,0,0); }
}

.anim-ENGINEER { animation: engineerGlitch 8s linear infinite; }

@keyframes shamanPulse {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-SHAMAN { animation: shamanPulse 12s ease-in-out infinite alternate; }

@keyframes keeperEternal {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-KEEPER { animation: keeperEternal 16s ease-in-out infinite alternate; }

@keyframes walkerShift {
    0%, 100% { transform: translate3d(0,0,0); }
    50% { transform: translate3d(0,-1px,0); }
}

.anim-WALKER { animation: walkerShift 12s ease-in-out infinite; }

@keyframes lordTide {
    0% { transform: scale(1); }
    100% { transform: scale(1.005); }
}

.anim-LORD { animation: lordTide 18s ease-in-out infinite alternate; }

@keyframes primeRadiance {
    0% { transform: scale(1); }
    100% { transform: scale(1.006); }
}

.anim-PRIME { animation: primeRadiance 10s ease-in-out infinite alternate; }

@keyframes singularityChaos {
    0% { transform: scale(1); }
    50% { transform: scale(1.006); }
    100% { transform: scale(1); }
}

.anim-SINGULARITY { animation: singularityChaos 20s linear infinite; }

.overlay-DRIFTER,
.overlay-WALKER,
.overlay-MERCHANT,
.overlay-ENGINEER,
.overlay-SHAMAN,
.overlay-KEEPER,
.overlay-LORD,
.overlay-PRIME,
.overlay-SINGULARITY {
    position: absolute;
    inset: 0;
    pointer-events: none;
    border-radius: 32px;
}

.overlay-DRIFTER::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(ellipse at 50% 20%, rgba(255, 160, 0, 0.12) 0%, transparent 55%),
        linear-gradient(120deg, transparent 0%, rgba(255, 200, 120, 0.12) 30%, transparent 45%, rgba(255, 160, 0, 0.10) 60%, transparent 75%);
    background-size: 100% 100%, 220% 220%;
    animation: sandDrift 14.4s ease-in-out infinite;
    mix-blend-mode: overlay;
}

.overlay-DRIFTER::after {
    content: '';
    position: absolute;
    inset: -10%;
    background-image:
        radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.12) 1px, transparent 1px),
        radial-gradient(circle at 70% 60%, rgba(255, 255, 255, 0.10) 1px, transparent 1px),
        radial-gradient(circle at 40% 80%, rgba(255, 255, 255, 0.08) 1px, transparent 1px);
    background-size: 160px 160px;
    animation: sandParticles 11.6s linear infinite;
    opacity: 0.45;
    mix-blend-mode: screen;
    filter: blur(0.2px);
}

@keyframes sandDrift {
    0%, 100% { background-position: 0% 50%; opacity: 0.5; }
    50% { background-position: 100% 50%; opacity: 0.8; }
}

@keyframes sandParticles {
    0% { transform: translate3d(0, 0, 0) rotate(0deg); }
    100% { transform: translate3d(-22px, 14px, 0) rotate(2deg); }
}

.overlay-WALKER::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(ellipse at 50% 50%, rgba(0, 229, 255, 0.16) 0%, transparent 60%),
        radial-gradient(ellipse at 20% 30%, rgba(138, 43, 226, 0.10) 0%, transparent 62%),
        linear-gradient(135deg, rgba(0, 229, 255, 0.10), transparent 62%);
    background-size: 140% 140%, 160% 160%, 220% 220%;
    animation: timeFlow 12.4s ease-in-out infinite;
    mix-blend-mode: screen;
}

.overlay-WALKER::after {
    content: '';
    position: absolute;
    inset: -30%;
    background:
        conic-gradient(from 0deg at 50% 50%, transparent 0deg, rgba(138, 43, 226, 0.14) 90deg, transparent 180deg, rgba(0, 229, 255, 0.12) 270deg, transparent 360deg);
    animation: timeWheel 22s linear infinite;
    mix-blend-mode: overlay;
    filter: blur(1.2px);
    opacity: 0.35;
}

@keyframes timeFlow {
    0%, 100% { transform: translate3d(0, 0, 0); opacity: 0.45; }
    50% { transform: translate3d(-18px, 6px, 0); opacity: 0.75; }
}

@keyframes timeWheel {
    0% { transform: rotate(0deg) scale(1); }
    100% { transform: rotate(360deg) scale(1.02); }
}

.overlay-MERCHANT::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 80px;
    height: 100%;
    background: linear-gradient(90deg, transparent 0%, rgba(255, 215, 0, 0.40) 50%, transparent 100%);
    animation: goldShine 11.2s ease-in-out infinite;
    transform: skewX(-20deg);
    mix-blend-mode: screen;
}

.overlay-MERCHANT::after {
    content: '';
    position: absolute;
    inset: -12%;
    background-image:
        radial-gradient(circle at 25% 25%, rgba(255, 215, 0, 0.25) 1px, transparent 1px),
        radial-gradient(circle at 70% 40%, rgba(255, 255, 255, 0.18) 1px, transparent 1px),
        radial-gradient(circle at 55% 75%, rgba(255, 215, 0, 0.20) 1px, transparent 1px);
    background-size: 140px 140px;
    animation: merchantSparks 8.4s linear infinite;
    opacity: 0.65;
    mix-blend-mode: screen;
}

@keyframes goldShine {
    0% { left: -100%; opacity: 0; }
    50% { opacity: 1; }
    100% { left: 100%; opacity: 0; }
}

@keyframes merchantSparks {
    0% { transform: translate3d(0, 0, 0) rotate(0deg); }
    100% { transform: translate3d(-18px, 12px, 0) rotate(6deg); }
}

.overlay-ENGINEER::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 255, 170, 0.08) 2px, rgba(0, 255, 170, 0.08) 4px),
        repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255, 0, 80, 0.07) 2px, rgba(255, 0, 80, 0.07) 4px);
    animation: circuitPulse 7.2s ease-in-out infinite, glitchShift 10.4s ease-in-out infinite;
    mix-blend-mode: overlay;
}

.overlay-ENGINEER::after {
    content: '';
    position: absolute;
    inset: 0;
    background:
        repeating-linear-gradient(180deg, transparent 0px, rgba(0, 255, 170, 0.12) 1px, transparent 2px, transparent 8px),
        linear-gradient(180deg, rgba(0, 255, 170, 0.0), rgba(0, 255, 170, 0.10), rgba(255, 0, 80, 0.0));
    opacity: 0.60;
    mix-blend-mode: screen;
    animation: scanLines 17s linear infinite;
}

@keyframes circuitPulse {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.6; }
}

@keyframes glitchShift {
    0%, 90%, 100% { transform: translate(0, 0); filter: hue-rotate(0deg); }
    91% { transform: translate(-2px, 1px); filter: hue-rotate(5deg); }
    93% { transform: translate(2px, -1px); filter: hue-rotate(-5deg); }
    95% { transform: translate(-1px, 2px); filter: hue-rotate(3deg); }
}

@keyframes scanLines {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

.overlay-SHAMAN::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 35% 65%, rgba(138, 43, 226, 0.26) 0%, rgba(138, 43, 226, 0.0) 55%);
    animation: spiritSmoke 13.6s ease-in-out infinite;
    mix-blend-mode: screen;
}

.overlay-SHAMAN::after {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(ellipse at 70% 30%, rgba(147, 112, 219, 0.22) 0%, rgba(147, 112, 219, 0.0) 60%),
        radial-gradient(circle at 50% 50%, rgba(0, 229, 255, 0.08) 0%, transparent 55%);
    animation: spiritSmoke 13.6s ease-in-out infinite 0.7s;
    mix-blend-mode: overlay;
    filter: blur(0.4px);
}

@keyframes spiritSmoke {
    0% { transform: translate3d(0, 0, 0) scale(1); opacity: 0.35; }
    50% { transform: translate3d(-10px, -6px, 0) scale(1.06); opacity: 0.75; }
    100% { transform: translate3d(0, 0, 0) scale(1); opacity: 0.35; }
}

.overlay-KEEPER::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at 30% 40%, rgba(186, 85, 211, 0.22) 0%, transparent 42%),
        radial-gradient(circle at 70% 60%, rgba(138, 43, 226, 0.18) 0%, transparent 38%),
        repeating-linear-gradient(45deg, rgba(255, 255, 255, 0.0) 0px, rgba(255, 255, 255, 0.06) 24px, rgba(255, 255, 255, 0.0) 48px);
    animation: runeGlow 9.2s ease-in-out infinite;
    mix-blend-mode: screen;
}

.overlay-KEEPER::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        radial-gradient(circle at 18% 30%, rgba(255, 255, 255, 0.16) 2px, transparent 2px),
        radial-gradient(circle at 48% 42%, rgba(255, 255, 255, 0.14) 2px, transparent 2px),
        radial-gradient(circle at 76% 28%, rgba(255, 255, 255, 0.12) 2px, transparent 2px),
        radial-gradient(circle at 64% 72%, rgba(255, 255, 255, 0.14) 2px, transparent 2px);
    background-size: 180px 180px;
    animation: runeFloat 13s ease-in-out infinite;
    opacity: 0.55;
    mix-blend-mode: overlay;
}

@keyframes runeGlow {
    0%, 100% { opacity: 0.4; filter: hue-rotate(0deg); }
    50% { opacity: 0.7; filter: hue-rotate(15deg); }
}

@keyframes runeFloat {
    0% { transform: translate3d(0, 0, 0); }
    50% { transform: translate3d(-8px, 10px, 0); }
    100% { transform: translate3d(0, 0, 0); }
}

.overlay-LORD::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        linear-gradient(0deg, rgba(255, 215, 0, 0.35) 0%, rgba(255, 215, 0, 0.0) 60%),
        repeating-linear-gradient(0deg, transparent 0%, rgba(255, 215, 0, 0.0) 45%, rgba(255, 215, 0, 0.20) 50%, rgba(255, 215, 0, 0.0) 55%, transparent 100%),
        conic-gradient(from 0deg at 50% 85%, transparent 0deg, rgba(255, 215, 0, 0.22) 30deg, transparent 60deg, rgba(255, 215, 0, 0.22) 120deg, transparent 150deg, rgba(255, 215, 0, 0.22) 210deg, transparent 240deg, rgba(255, 215, 0, 0.22) 300deg, transparent 330deg);
    animation: crownTide 18.8s ease-in-out infinite;
    mix-blend-mode: screen;
}

.overlay-LORD::after {
    content: '';
    position: absolute;
    inset: -18%;
    background: radial-gradient(ellipse at 50% 100%, rgba(255, 215, 0, 0.22) 0%, transparent 60%);
    animation: crownAura 11.2s ease-in-out infinite;
    mix-blend-mode: overlay;
    filter: blur(0.6px);
}

@keyframes crownTide {
    0%, 100% { transform: translate3d(0, 0, 0) rotate(0deg); opacity: 0.42; }
    50% { transform: translate3d(0, -6px, 0) rotate(10deg); opacity: 0.74; }
}

@keyframes crownAura {
    0%, 100% { opacity: 0.35; transform: scale(0.95); }
    50% { opacity: 0.75; transform: scale(1.05); }
}

.overlay-PRIME::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at 50% 40%, rgba(255, 255, 255, 0.24) 0%, transparent 55%),
        conic-gradient(from 0deg at 50% 50%, rgba(255, 255, 255, 0.0), rgba(255, 255, 255, 0.18), rgba(255, 215, 0, 0.12), rgba(0, 229, 255, 0.14), rgba(255, 255, 255, 0.0));
    animation: godRays 16s linear infinite;
    mix-blend-mode: screen;
}

.overlay-PRIME::after {
    content: '';
    position: absolute;
    inset: -30%;
    background: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.20) 0%, transparent 55%);
    animation: radiancePulse 7.2s ease-in-out infinite;
    mix-blend-mode: overlay;
    filter: blur(0.8px);
}

@keyframes godRays {
    0% { transform: rotate(0deg) scale(1); opacity: 0.55; }
    50% { opacity: 0.78; }
    100% { transform: rotate(360deg) scale(1.02); opacity: 0.55; }
}

@keyframes radiancePulse {
    0%, 100% { opacity: 0.35; transform: scale(0.92); }
    50% { opacity: 0.80; transform: scale(1.08); }
}

.overlay-SINGULARITY::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        conic-gradient(from 0deg at 50% 50%, rgba(138, 43, 226, 0.0), rgba(138, 43, 226, 0.28), rgba(0, 229, 255, 0.22), rgba(255, 215, 0, 0.18), rgba(255, 0, 170, 0.20), rgba(138, 43, 226, 0.0));
    animation: none;
    mix-blend-mode: screen;
    filter: invert(0.15) hue-rotate(180deg);
}

.overlay-SINGULARITY::after {
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at 50% 50%, rgba(0, 0, 0, 0.25) 0%, transparent 30%, rgba(255, 255, 255, 0.18) 42%, transparent 56%),
        repeating-radial-gradient(circle at 50% 50%, transparent 0%, rgba(255, 255, 255, 0.06) 15%, transparent 30%);
    animation: cosmicPulse 14s ease-in-out infinite;
    mix-blend-mode: difference;
    filter: hue-rotate(90deg);
}

@keyframes cosmicPulse {
    0%, 100% { transform: scale(0.9); opacity: 0.4; }
    50% { transform: scale(1.1); opacity: 0.8; }
}

.card-object[data-tier='3'] .overlay-SINGULARITY::after {
    filter: hue-rotate(180deg);
}

.glass-module {
    background: linear-gradient(180deg, hsl(var(--glass-white) / 0.08) 0%, hsl(var(--glass-white) / 0.03) 100%);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 1px solid hsl(var(--glass-white) / 0.12);
    border-radius: calc(var(--radius) * 0.8);
}

.inner-glow {
    box-shadow: inset 0 0 80px hsl(var(--card-accent) / 0.08), inset 0 1px 0 hsl(var(--glass-white) / 0.1), 0 25px 60px -15px hsl(0 0% 0% / 0.8);
}

@keyframes soulDividerBeat {
    0%, 100% {
        opacity: 0.8;
        box-shadow: none;
    }
    50% {
        opacity: 1;
        box-shadow: none;
    }
}

@keyframes laser-flow {
    0% { background-position: 0% 50%; }
    100% { background-position: 300% 50%; }
}

@keyframes holo-shimmer {
    0% { background-position: 0% 50%; }
    100% { background-position: 200% 50%; }
}

@keyframes pulse-glow {
    0%, 100% { opacity: 0.5; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.1); }
}
.animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }

@keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.55; transform: scale(1.12); }
}
.animate-pulse { animation: pulse 1.6s ease-in-out infinite; }

.neon-text {
    text-shadow: 0 0 12px hsl(var(--fennec-orange) / 0.9), 0 0 35px hsl(var(--fennec-orange) / 0.6);
}
.neon-text-subtle {
    text-shadow: 0 0 10px hsl(var(--fennec-orange) / 0.6);
}

.holo-text {
    background: linear-gradient(90deg, hsl(var(--holo-cyan)), hsl(var(--holo-purple)), hsl(var(--fennec-orange)), hsl(var(--holo-cyan)));
    background-size: 200% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: holo-shimmer 3s linear infinite;
}

.text-fennec { color: hsl(var(--fennec-orange)); }
.font-tactical { font-family: var(--font-tactical); letter-spacing: 0.05em; }
.font-display { font-family: var(--font-display); }

.stat-glow {
    color: hsl(var(--foreground));
    text-shadow: 0 0 22px hsl(var(--fennec-orange) / 0.5);
}

.net-worth-display {
    font-size: clamp(2.2rem, 4.6vw, 3.2rem);
    font-weight: 900;
    letter-spacing: -0.02em;
    color: hsl(var(--foreground));
    text-shadow: 0 0 48px hsl(var(--card-accent) / 0.45);
}

.laser-track {
    height: 8px;
    border-radius: 999px;
    overflow: hidden;
    background: hsl(var(--secondary) / 0.35);
    border: 1px solid hsl(var(--glass-white) / 0.10);
}

.laser-fill {
    height: 100%;
    background: linear-gradient(90deg, hsl(var(--card-accent)), hsl(var(--card-accent2)), hsl(var(--card-accent)));
    background-size: 300% 100%;
    animation: laser-flow 2.4s linear infinite;
    box-shadow: 0 0 18px hsl(var(--card-accent) / 0.45);
}

.badge-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
}

.custom-scroll { scrollbar-width: thin; scrollbar-color: hsl(var(--fennec-orange) / 0.9) transparent; }
.custom-scroll::-webkit-scrollbar { width: 4px; }
.custom-scroll::-webkit-scrollbar-thumb {
    background: hsl(var(--fennec-orange) / 0.85);
    border-radius: 999px;
}
.custom-scroll::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--fennec-orange) / 1);
}
.custom-scroll::-webkit-scrollbar-track {
    background: transparent;
    margin: 14px 0;
}

.badge-hover-container:hover {
    transform: translateY(-2px);
    border-color: hsl(var(--fennec-orange) / 0.5) !important;
    box-shadow: 0 4px 12px hsl(var(--fennec-orange) / 0.3);
}

.badge-hover-container {
    background: transparent !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
}


.badge-hover-container:hover .badge-hover-name {
    opacity: 1;
}

.badge-slot {
    width: 30px;
    height: 30px;
    border-radius: 8px;
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 4px 8px rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    transform: translateZ(0);
    transition: transform 0.18s ease, border-color 0.18s ease, background 0.18s ease, box-shadow 0.18s ease;
}

.badge-slot::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.18), rgba(255, 255, 255, 0.02) 35%, transparent 70%);
    opacity: 0.75;
}

.badge-slot::after {
    content: '';
    position: absolute;
    inset: 1px;
    border-radius: 7px;
    pointer-events: none;
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.06);
    opacity: 0.9;
}

.badge-icon {
    width: 78%;
    height: 78%;
    object-fit: contain;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.6));
    position: relative;
    z-index: 1;
}

.badge-slot:hover {
    transform: translateY(-2px);
    border-color: #FF6B35;
    background: rgba(0, 0, 0, 0.52);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.22), 0 8px 18px rgba(0, 0, 0, 0.38), 0 0 18px rgba(255, 107, 53, 0.22);
}

.badge-slot:hover .badge-icon {
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.65)) drop-shadow(0 0 10px rgba(255, 107, 53, 0.35));
}

.badge-slot:hover .badge-hover-name {
    opacity: 1;
}

.absolute { position: absolute; }
.relative { position: relative; }
.inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
.z-0 { z-index: 0; }
.z-10 { z-index: 10; }
.z-20 { z-index: 20; }
.z-\\[100\\] { z-index: 100; }

.flex { display: flex; }
.flex-1 { flex: 1 1 0%; }
.flex-col { flex-direction: column; }
.items-center { align-items: center; }
.items-start { align-items: flex-start; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.gap-1 { gap: 0.25rem; }
.gap-1\\.5 { gap: 0.375rem; }
.gap-2 { gap: 0.5rem; }
.space-y-3 > * + * { margin-top: 0.75rem; }

.w-full { width: 100%; }
.w-2 { width: 0.5rem; }
.h-2 { height: 0.5rem; }
.w-10 { width: 2.5rem; }
.h-10 { height: 2.5rem; }
.w-48 { width: 12rem; }
.h-48 { height: 12rem; }
.h-px { height: 1px; }

.rounded-full { border-radius: 9999px; }
.rounded-lg { border-radius: 0.5rem; }
.rounded-xl { border-radius: 0.75rem; }
.rounded-\\[22px\\] { border-radius: 22px; }

.p-1 { padding: 0.25rem; }
.p-3 { padding: 0.75rem; }
.p-4 { padding: 1rem; }
.p-5 { padding: 1.25rem; }
.p-6 { padding: 1.5rem; }
.px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
.px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
.px-4 { padding-left: 1rem; padding-right: 1rem; }
.px-5 { padding-left: 1.25rem; padding-right: 1.25rem; }
.py-1 { padding-top: 0.25rem; padding-bottom: 0.25rem; }
.py-1\\.5 { padding-top: 0.375rem; padding-bottom: 0.375rem; }
.py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
.pb-6 { padding-bottom: 1.5rem; }
.pb-8 { padding-bottom: 2rem; }

.mt-auto { margin-top: auto; }
.mt-3 { margin-top: 0.75rem; }
.mt-4 { margin-top: 1rem; }
.mb-0\\.5 { margin-bottom: 0.125rem; }
.mb-1 { margin-bottom: 0.25rem; }
.mb-1\\.5 { margin-bottom: 0.375rem; }
.mb-2 { margin-bottom: 0.5rem; }
.mb-3 { margin-bottom: 0.75rem; }
.mb-4 { margin-bottom: 1rem; }
.ml-auto { margin-left: auto; }
.mx-auto { margin-left: auto; margin-right: auto; }

.text-center { text-align: center; }
.text-right { text-align: right; }
.uppercase { text-transform: uppercase; }
.italic { font-style: italic; }
.font-black { font-weight: 900; }
.font-bold { font-weight: 700; }

.text-7xl { font-size: 4.5rem; line-height: 1; }
.text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
.text-2xl { font-size: 1.5rem; line-height: 2rem; }
.text-xl { font-size: 1.25rem; line-height: 1.75rem; }
.text-lg { font-size: 1.125rem; line-height: 1.75rem; }
.text-sm { font-size: 0.875rem; line-height: 1.25rem; }
.text-xs { font-size: 0.75rem; line-height: 1rem; }
.text-\\[11px\\] { font-size: 11px; line-height: 1.3; }
.text-\\[10px\\] { font-size: 10px; line-height: 1.3; }
.text-\\[9px\\] { font-size: 9px; line-height: 1.2; }
.text-\\[8px\\] { font-size: 8px; line-height: 1.2; }

.tracking-\\[0\\.25em\\] { letter-spacing: 0.25em; }
.tracking-\\[0\\.2em\\] { letter-spacing: 0.2em; }
.tracking-\\[0\\.15em\\] { letter-spacing: 0.15em; }
.tracking-wider { letter-spacing: 0.08em; }
.tracking-widest { letter-spacing: 0.12em; }
.tracking-tight { letter-spacing: -0.025em; }
.leading-none { line-height: 1; }

.overflow-hidden { overflow: hidden; }
.overflow-y-auto { overflow-y: auto; }
.pointer-events-none { pointer-events: none; }
.select-none { user-select: none; }
.object-contain { object-fit: contain; }

.text-muted-foreground { color: hsl(var(--muted-foreground)); }
.text-foreground\\/80 { color: hsl(var(--foreground) / 0.8); }
.text-foreground\\/70 { color: hsl(var(--foreground) / 0.7); }
.opacity-40 { opacity: 0.4; }
.opacity-60 { opacity: 0.6; }
.opacity-\\[0\\.03\\] { opacity: 0.03; }

.border { border-width: 1px; border-style: solid; }
.border-b { border-bottom-width: 1px; }
.border-border\\/30 { border-color: hsl(var(--border) / 0.3); }
.border-fennec\\/20 { border-color: hsl(var(--fennec-orange) / 0.2); }
.border-fennec\\/30 { border-color: hsl(var(--fennec-orange) / 0.3); }
.border-fennec\\/40 { border-color: hsl(var(--fennec-orange) / 0.4); }

.bg-black\\/60 { background: rgba(0,0,0,0.6); }
.bg-fennec { background: hsl(var(--fennec-orange)); }
.bg-fennec\\/10 { background: hsl(var(--fennec-orange) / 0.1); }
.bg-fennec\\/20 { background: hsl(var(--fennec-orange) / 0.2); }
.bg-secondary\\/30 { background: hsl(var(--secondary) / 0.3); }

.bg-gradient-to-br { background-image: linear-gradient(to bottom right, var(--tw-gradient-from), var(--tw-gradient-to)); }
.bg-gradient-to-b { background-image: linear-gradient(to bottom, var(--tw-gradient-from), var(--tw-gradient-to)); }
.bg-gradient-to-r { background-image: linear-gradient(to right, var(--tw-gradient-from), var(--tw-gradient-to)); }
.bg-gradient-radial { background-image: radial-gradient(circle at center, var(--tw-gradient-from), var(--tw-gradient-to)); }

.from-transparent { --tw-gradient-from: transparent; }
.to-transparent { --tw-gradient-to: transparent; }
.from-obsidian-light\\/50 { --tw-gradient-from: hsl(var(--obsidian-light) / 0.5); }
.from-obsidian-light\\/80 { --tw-gradient-from: hsl(var(--obsidian-light) / 0.8); }
.to-background { --tw-gradient-to: hsl(var(--background)); }
.to-background\\/90 { --tw-gradient-to: hsl(var(--background) / 0.9); }
.from-fennec\\/20 { --tw-gradient-from: hsl(var(--fennec-orange) / 0.2); }
.via-fennec\\/5 { --tw-gradient-via: hsl(var(--fennec-orange) / 0.05); }
.to-fennec\\/5 { --tw-gradient-to: hsl(var(--fennec-orange) / 0.05); }
.via-fennec\\/50 { --tw-gradient-via: hsl(var(--fennec-orange) / 0.5); }
.from-fennec { --tw-gradient-from: hsl(var(--fennec-orange)); }
.to-holo-purple { --tw-gradient-to: hsl(var(--holo-purple)); }
`;
        document.head.appendChild(style);
    }

    function clamp(n, a, b) {
        const x = Number(n);
        if (!Number.isFinite(x)) return a;
        return Math.max(a, Math.min(b, x));
    }

    function rarityFromScore(score) {
        const s = clamp(Number(score) || 0, 0, 100);
        if (s >= 95) return { name: 'SPIRIT', key: 'spirit', text: 'text-spirit' };
        if (s >= 80) return { name: 'ELDER', key: 'elder', text: 'text-elder' };
        if (s >= 65) return { name: 'ALPHA', key: 'alpha', text: 'text-alpha' };
        if (s >= 50) return { name: 'HUNTER', key: 'hunter', text: 'text-hunter' };
        if (s >= 30) return { name: 'SCOUT', key: 'scout', text: 'text-scout' };
        return { name: 'CUB', key: 'cub', text: 'text-cub' };
    }

    function rarityFromName(name) {
        const n = String(name || '')
            .trim()
            .toUpperCase();
        if (!n) return null;
        if (n === 'SPIRIT') return { name: 'SPIRIT', key: 'spirit', text: 'text-spirit' };
        if (n === 'ELDER') return { name: 'ELDER', key: 'elder', text: 'text-elder' };
        if (n === 'ALPHA') return { name: 'ALPHA', key: 'alpha', text: 'text-alpha' };
        if (n === 'HUNTER') return { name: 'HUNTER', key: 'hunter', text: 'text-hunter' };
        if (n === 'SCOUT') return { name: 'SCOUT', key: 'scout', text: 'text-scout' };
        if (n === 'CUB') return { name: 'CUB', key: 'cub', text: 'text-cub' };
        return null;
    }

    function resolveRarity(metrics, activityScore) {
        const m = metrics && typeof metrics === 'object' ? metrics : {};
        const fromMetrics = rarityFromName(m.rarityName ?? m.rarity ?? m.rarity_name ?? m.rarityKey ?? m.rarity_key);
        return fromMetrics || rarityFromScore(activityScore);
    }

    function inferArchetypeFromConditions(badges, metrics) {
        const badgeSet = new Set(
            (Array.isArray(badges) ? badges : [])
                .map(b =>
                    String((b && b.name) || '')
                        .trim()
                        .toUpperCase()
                )
                .filter(Boolean)
        );

        const safeNum = v => {
            const n = Number(v);
            return Number.isFinite(n) ? n : 0;
        };

        const m = metrics && typeof metrics === 'object' ? metrics : {};
        const txCount = safeNum(m.txCount ?? m.txs ?? m.transactions ?? m.transactionCount);
        const netWorthUSD = safeNum(m.netWorthUSD ?? m.wealth ?? m.netWorth ?? m.netWorthUsd);
        const lpValueUSD = safeNum(m.lpValueUSD ?? m.lpValueUsd);

        let stats = {};
        if (m.inscriptionStats && typeof m.inscriptionStats === 'object') stats = m.inscriptionStats;
        else if (m.stats && typeof m.stats === 'object') stats = m.stats;
        const runesCount = safeNum(stats.runes ?? stats.runesCount ?? m.runesCount ?? m.runes);

        const badgeCount = badgeSet.size;

        if (badgeCount >= 7) return 'SINGULARITY';
        if (badgeSet.has('GENESIS') && badgeSet.has('WHALE') && badgeSet.has('PROVIDER')) return 'PRIME';
        if (badgeSet.has('PROVIDER') && lpValueUSD >= 200) return 'LORD';
        if (badgeSet.has('GENESIS')) return 'WALKER';
        if (badgeSet.has('ARTIFACT HUNTER') && badgeSet.has('RUNE KEEPER')) return 'KEEPER';
        if (netWorthUSD >= 100) return 'MERCHANT';
        if (txCount > 1000) return 'ENGINEER';
        if (runesCount >= 20) return 'SHAMAN';
        return 'DRIFTER';
    }

    function pickArchetype(dna, ctx) {
        const a = dna && typeof dna === 'object' ? dna.archetype : null;
        const hasExplicit = !!(a && (a.baseKey || a.key));

        const inferredKey = hasExplicit
            ? String(a.baseKey || a.key || 'DRIFTER').toUpperCase()
            : inferArchetypeFromConditions(ctx && ctx.badges, ctx && ctx.metrics);

        const baseKey = inferredKey || 'DRIFTER';
        const title = (hasExplicit && (a.title || a.name)) || baseKey;
        const tierLabel = (hasExplicit && (a.tierLabel || a.tier)) || (dna && dna.tier) || '';
        const tierLevel = (hasExplicit && (a.tierLevel || a.level)) || (dna && dna.tierLevel) || 0;
        return {
            baseKey: String(baseKey || 'DRIFTER').toUpperCase(),
            title: String(title || 'DRIFTER'),
            tierLabel: String(tierLabel || ''),
            tierLevel: clamp(tierLevel, 0, 3)
        };
    }

    const BADGE_DEFS = {
        GENESIS: { name: 'GENESIS', icon: '', desc: 'You witnessed the first sunrise over the Fractal dunes.' },
        WHALE: { name: 'WHALE', icon: '', desc: 'When you move, the sands shift beneath you.' },
        PROVIDER: { name: 'PROVIDER', icon: '', desc: 'The desert is thirsty, but your well runs deep.' },
        'LIQUIDITY PROVIDER': { name: 'PROVIDER', icon: '', desc: 'The desert is thirsty, but your well runs deep.' },
        LIQUIDITY_PROVIDER: { name: 'PROVIDER', icon: '', desc: 'The desert is thirsty, but your well runs deep.' },
        'FENNEC MAXI': { name: 'FENNEC MAXI', icon: '', desc: 'The Spirit of the Fox guides your path.' },
        'ARTIFACT HUNTER': {
            name: 'ARTIFACT HUNTER',
            icon: '',
            desc: 'Your pockets are heavy with echoes of the chain.'
        },
        'RUNE KEEPER': { name: 'RUNE KEEPER', icon: '', desc: 'You decipher the glyphs. The stones speak to you.' },
        'MEMPOOL RIDER': { name: 'MEMPOOL RIDER', icon: '', desc: 'Surfing the chaos of the 30-second block waves.' },
        'SAND SWEEPER': {
            name: 'SAND SWEEPER',
            icon: '',
            desc: 'Your UTXO set is clean. No trash left in the dunes.'
        }
    };

    const BADGE_ORDER = [
        'GENESIS',
        'WHALE',
        'PROVIDER',
        'FENNEC MAXI',
        'ARTIFACT HUNTER',
        'RUNE KEEPER',
        'MEMPOOL RIDER',
        'SAND SWEEPER'
    ];

    function normalizeBadges(dna) {
        const arr = (dna && dna.badges) || (dna && dna.archetype && dna.archetype.badges) || [];
        if (!Array.isArray(arr)) return [];
        return arr
            .map(b => {
                if (!b) return null;
                if (typeof b === 'string') {
                    const key = String(b || '')
                        .trim()
                        .toUpperCase();
                    const def = BADGE_DEFS[key] || null;
                    return {
                        name: def ? def.name : String(b || '').trim(),
                        desc: def ? def.desc : '',
                        icon: '',
                        img: ''
                    };
                }
                const rawName = String(b.name || '').trim();
                const key = rawName.toUpperCase();
                const def = BADGE_DEFS[key] || null;
                const desc = String(b.desc || '').trim() || (def ? def.desc : '');
                return { name: def ? def.name : rawName, desc, icon: '', img: b.img ? String(b.img) : '' };
            })
            .filter(Boolean)
            .filter(b => b.name);
    }

    function computeScoreBreakdown(metrics, badges, config) {
        const safeNum = v => {
            const n = Number(v);
            return Number.isFinite(n) ? n : 0;
        };

        const scoring = config && config.scoring && typeof config.scoring === 'object' ? config.scoring : {};
        const pointsCfg = scoring.points && typeof scoring.points === 'object' ? scoring.points : {};

        const activityMax = safeNum(pointsCfg.activityMax ?? 30) || 30;
        const wealthMax = safeNum(pointsCfg.wealthMax ?? 20) || 20;
        const timeMax = safeNum(pointsCfg.timeMax ?? 15) || 15;
        const badgesMax = safeNum(pointsCfg.badgesMax ?? 35) || 35;

        const activityCfg = scoring.activity && typeof scoring.activity === 'object' ? scoring.activity : {};
        const wealthCfg = scoring.wealth && typeof scoring.wealth === 'object' ? scoring.wealth : {};
        const timeCfg = scoring.time && typeof scoring.time === 'object' ? scoring.time : {};

        const maxTx = safeNum(activityCfg.maxTx ?? 10000) || 10000;
        const maxNetWorthUSD = safeNum(wealthCfg.maxNetWorthUSD ?? 500) || 500;
        const maxDays = safeNum(timeCfg.maxDays ?? 365) || 365;

        const txCount = safeNum(metrics && metrics.txCount);
        const daysAlive = safeNum(metrics && metrics.daysAlive);
        const netWorthUSD = safeNum(
            metrics && (metrics.netWorthUSD ?? metrics.wealth ?? metrics.netWorth ?? metrics.netWorthUsd)
        );

        const txClamped = Math.min(txCount, maxTx);
        const activityPoints = Math.round(activityMax * (Math.log10(1 + txClamped) / Math.log10(1 + maxTx)));

        const nwClamped = Math.min(netWorthUSD, maxNetWorthUSD);
        const wealthPoints = Math.round(wealthMax * Math.sqrt(maxNetWorthUSD ? nwClamped / maxNetWorthUSD : 0));

        const daysClamped = Math.min(daysAlive, maxDays);
        const timePoints = Math.round(timeMax * (maxDays ? daysClamped / maxDays : 0));

        const badgeDefs = Array.isArray(scoring.badgeDefinitions) ? scoring.badgeDefinitions : [];
        const weightMap = {};
        badgeDefs.forEach(def => {
            if (!def || typeof def !== 'object') return;
            const name = String(def.name || '').trim();
            if (!name) return;
            weightMap[name.toUpperCase()] = safeNum(def.weight);
        });

        const badgesArr = Array.isArray(badges) ? badges : [];
        const badgesPointsRaw = badgesArr.reduce((sum, b) => {
            const key = String((b && b.name) || '')
                .trim()
                .toUpperCase();
            return sum + (weightMap[key] || 0);
        }, 0);
        const badgesPoints = Math.min(badgesMax, badgesPointsRaw);

        const baseScoreRaw = activityPoints + wealthPoints + timePoints + badgesPoints;
        const baseScore = Math.min(100, baseScoreRaw);

        const hasMaxi = badgesArr.some(
            b =>
                String((b && b.name) || '')
                    .trim()
                    .toUpperCase() === 'FENNEC MAXI'
        );
        const multiplier = hasMaxi ? 1.15 : 1;
        const scoreAfterMultiplier = baseScore * multiplier;
        const activityScore = Math.min(100, Math.round(scoreAfterMultiplier));

        return {
            activityPoints,
            wealthPoints,
            timePoints,
            badgesPoints,
            baseScore,
            multiplier,
            scoreAfterMultiplier,
            activityScore,
            max: { activityMax, wealthMax, timeMax, badgesMax }
        };
    }

    function safeText(s) {
        return String(s || '').replace(/[<>&]/g, c => (c === '<' ? '&lt;' : c === '>' ? '&gt;' : '&amp;'));
    }

    function miscAssetRef(config, key, fallbackPath) {
        const map = config && config.assets && config.assets.misc ? config.assets.misc : {};
        const ref = (map && map[key]) || '';
        return resolveAssetRef(ref || fallbackPath || '');
    }

    function backgroundFor(archetypeKey, tier, config) {
        const key = String(archetypeKey || 'DRIFTER').toUpperCase();
        const map = config && config.assets && config.assets.backgrounds ? config.assets.backgrounds : {};
        const t = typeof tier === 'number' && Number.isFinite(tier) ? clamp(tier, 0, 3) : null;
        const tierKey = t === null ? '' : `${key}_T${t}`;
        const idOrUrl = (tierKey && map[tierKey]) || map[key] || map['*'] || '';
        return idOrUrl ? String(idOrUrl) : '';
    }

    function createCard(dna, config) {
        injectStyles();

        const metrics = dna && dna.metrics && typeof dna.metrics === 'object' ? dna.metrics : {};

        const badges = normalizeBadges(dna);
        try {
            const safeNum = v => {
                const n = Number(v);
                return Number.isFinite(n) ? n : 0;
            };
            const lpValueUSD = safeNum(metrics && (metrics.lpValueUSD ?? metrics.lpValueUsd));
            const badgeKeys = new Set(
                badges
                    .map(b =>
                        String((b && b.name) || '')
                            .trim()
                            .toUpperCase()
                    )
                    .filter(Boolean)
            );
            if (lpValueUSD >= 50 && !badgeKeys.has('PROVIDER')) {
                badges.push({
                    name: 'PROVIDER',
                    desc: (BADGE_DEFS.PROVIDER && BADGE_DEFS.PROVIDER.desc) || '',
                    icon: '',
                    img: ''
                });
            }
        } catch (_) {
            void _;
        }
        const earnedBadgeCount = new Set(
            badges
                .map(b =>
                    String((b && b.name) || '')
                        .trim()
                        .toUpperCase()
                )
                .filter(Boolean)
        ).size;
        const archetype = pickArchetype(dna, { badges, metrics });
        const computedBreakdown = computeScoreBreakdown(metrics, badges, config);
        const activityScore =
            Number(metrics.activityScore ?? metrics.score ?? computedBreakdown.activityScore ?? 0) || 0;
        const rarity = resolveRarity(metrics, activityScore);

        let tier =
            typeof archetype.tierLevel === 'number' && Number.isFinite(archetype.tierLevel) ? archetype.tierLevel : 0;
        tier = clamp(tier, 0, 3);
        if (
            String(archetype.baseKey || '').toUpperCase() === 'PRIME' ||
            String(archetype.baseKey || '').toUpperCase() === 'SINGULARITY'
        ) {
            tier = 3;
        } else {
            tier = earnedBadgeCount >= 6 ? 3 : earnedBadgeCount >= 4 ? 2 : earnedBadgeCount >= 2 ? 1 : tier;
        }

        const bgRef = backgroundFor(archetype.baseKey, tier, config);
        const bgUrl = bgRef ? resolveAssetRef(bgRef) : '';

        const scene = document.createElement('div');
        scene.className = 'card-scene';
        scene.setAttribute('data-fennec-lib-root', '1');

        const cardObject = document.createElement('div');
        cardObject.className = 'card-object';
        if (metrics.hasFennecSoul) cardObject.classList.add('card-soul');

        let tierColor = 'hsl(240 4% 46%)';
        if (rarity.key === 'spirit') tierColor = 'hsl(var(--holo-purple))';
        else if (rarity.key === 'elder') tierColor = 'hsl(var(--fennec-orange))';
        else if (rarity.key === 'hunter') tierColor = 'hsl(var(--holo-blue))';

        cardObject.style.border = 'none';

        cardObject.setAttribute('data-tier', String(tier));

        cardObject.setAttribute('data-archetype', String(archetype.baseKey || ''));

        cardObject.setAttribute('data-rarity', String(rarity.key || ''));
        cardObject.classList.add(`card-${rarity.key}`);

        const outerBorder = document.createElement('div');
        outerBorder.className = 'card-outer-border';
        cardObject.appendChild(outerBorder);

        const borderGlow = document.createElement('div');
        borderGlow.className = 'card-border-glow';
        cardObject.appendChild(borderGlow);

        let accentVar = '240 5% 62%';
        let accent2Var = '240 5% 70%';
        if (rarity.key === 'spirit') {
            accentVar = 'var(--holo-cyan)';
            accent2Var = 'var(--holo-purple)';
        } else if (rarity.key === 'elder') {
            accentVar = '43 74% 52%';
            accent2Var = '38 88% 60%';
        } else if (rarity.key === 'alpha') {
            accentVar = '0 100% 55%';
            accent2Var = '8 100% 62%';
        } else if (rarity.key === 'hunter') {
            accentVar = '196 100% 55%';
            accent2Var = '210 100% 60%';
        } else if (rarity.key === 'scout') {
            accentVar = '142 100% 50%';
            accent2Var = '150 100% 56%';
        }
        try {
            cardObject.style.setProperty('--card-accent', accentVar);
            cardObject.style.setProperty('--card-accent2', accent2Var);
        } catch (_) {
            void _;
        }

        let titleAccentVar = '240 5% 62%';
        if (tier >= 3) titleAccentVar = 'var(--fennec-orange)';
        else if (tier === 2) titleAccentVar = 'var(--holo-cyan)';
        else if (tier === 1) titleAccentVar = '142 100% 50%';

        let titleAccent2Var = '240 5% 70%';
        if (tier >= 3) titleAccent2Var = 'var(--holo-purple)';
        else if (tier === 2) titleAccent2Var = 'var(--holo-blue)';
        else if (tier === 1) titleAccent2Var = '150 100% 56%';
        try {
            cardObject.style.setProperty('--title-accent', titleAccentVar);
            cardObject.style.setProperty('--title-accent2', titleAccent2Var);
        } catch (_) {
            void _;
        }

        const front = document.createElement('div');
        front.className = 'card-face face-front bg-obsidian';

        // 8 badges max on front - Only earned
        const earnedFront = new Set(badges.map(b => b.name));
        const frontOrder = BADGE_ORDER.slice(0, 8).filter(name => earnedFront.has(name));
        const badgesFrontHtml = frontOrder
            .map(name => {
                const mapped =
                    config && config.assets && config.assets.badges && name ? config.assets.badges[name] : '';
                const imgRef = mapped ? resolveAssetRef(mapped) : '';
                const def = BADGE_DEFS[name] || { name, desc: '' };
                const displayName = name === 'PROVIDER' ? 'LIQUIDITY PROVIDER' : def.name;
                return `
                <div class="badge-slot group">
                    ${imgRef ? `<img src="${safeText(imgRef)}" class="badge-icon" onerror="this.style.display='none'">` : ''}
                    <div class="badge-hover-name" style="position:absolute;bottom:calc(100% + 10px);left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.92);color:white;padding:6px 10px;border-radius:10px;font-size:9px;font-family:var(--font-tactical);font-weight:900;letter-spacing:0.12em;text-transform:uppercase;white-space:nowrap;pointer-events:none;opacity:0;transition:opacity 0.18s ease;border:1px solid rgba(255,107,53,0.35);box-shadow:0 10px 28px rgba(0,0,0,0.55);">${safeText(displayName)}</div>
                </div>
                `;
            })
            .join('');

        const heartRef = miscAssetRef(config, 'HEART', '');
        const soulBadge = '';
        const imgTierClass = (() => {
            const baseKey = String(archetype.baseKey || 'DRIFTER').toUpperCase();
            if (tier === 3 && isPreview) {
                if (baseKey === 'DRIFTER') return 'anim-drifter';
                if (baseKey === 'ENGINEER') return 'anim-engineer';
                if (baseKey === 'SHAMAN') return 'anim-shaman';
                if (baseKey === 'KEEPER') return 'anim-keeper';
                if (baseKey === 'MERCHANT') return 'anim-merchant';
                if (baseKey === 'LORD') return 'anim-lord';
                if (baseKey === 'WALKER') return 'anim-walker';
                if (baseKey === 'PRIME') return 'anim-prime';
                if (baseKey === 'SINGULARITY') return 'anim-singularity';
                return 'anim-drifter';
            }
            return '';
        })();

        const archetypeOverlay =
            tier >= 3 && isPreview
                ? `<div class="archetype-overlay overlay-${safeText(String(archetype.baseKey || 'DRIFTER').toUpperCase())}"></div>`
                : '';

        let loreText = 'SYSTEM INITIALIZED';
        try {
            if (typeof window.getSmartLore === 'function') {
                loreText = window.getSmartLore({ metrics, archetype, badges });
            } else {
                const IDENTITY_DB = {
                    DRIFTER: {
                        prefixes: [
                            'Silent',
                            'Nomadic',
                            'Dust-covered',
                            'Wandering',
                            'High-speed',
                            'Lonely',
                            'Wind-borne'
                        ],
                        nouns: ['Strider', 'Runner', 'Ghost', 'Vagrant', 'Scout', 'Pathfinder', 'Traveler']
                    },
                    MERCHANT: {
                        prefixes: ['Golden', 'Calculating', 'Wealthy', 'Neon', 'Licensed', 'Digital', 'Arbitrage'],
                        nouns: ['Broker', 'Tycoon', 'Dealer', 'Baron', 'Architect', 'Vendor', 'Executive']
                    },
                    ENGINEER: {
                        prefixes: [
                            'Optimized',
                            'Overclocked',
                            'Neural',
                            'Cybernetic',
                            'Rooted',
                            'Encrypted',
                            'Compiled'
                        ],
                        nouns: ['Architect', 'Coder', 'Operator', 'Hacker', 'Builder', 'Technomancer', 'Unit']
                    },
                    SHAMAN: {
                        prefixes: ['Mystic', 'Ancient', 'Glowing', 'Ethereal', 'Chanting', 'Prophetic', 'Ritual'],
                        nouns: ['Seer', 'Oracle', 'Medium', 'Spirit', 'Summoner', 'Sage', 'Visionary']
                    },
                    KEEPER: {
                        prefixes: ['Eternal', 'Remembering', 'Archived', 'Immutable', 'Silent', 'Watchful', 'Recorded'],
                        nouns: ['Librarian', 'Observer', 'Guardian', 'Scribe', 'Witness', 'Custodian', 'Sentinel']
                    },
                    WALKER: {
                        prefixes: ['Timeless', 'Steady', 'Ancient', 'Unstoppable'],
                        nouns: ['Pilgrim', 'Walker', 'Monk', 'Entity']
                    },
                    LORD: {
                        prefixes: ['Sovereign', 'Imperial', 'Grand', 'Crowned', 'Absolute', 'Dominant', 'Royal'],
                        nouns: ['Ruler', 'Monarch', 'Emperor', 'Regent', 'Overlord', 'Commander', 'King']
                    },
                    PRIME: {
                        prefixes: ['Apex', 'Prime', 'Luminous', 'Perfect', 'Ascended', 'Radiant', 'Supreme'],
                        nouns: ['Being', 'Core', 'Form', 'Standard', 'Alpha', 'Source', 'Light']
                    },
                    SINGULARITY: {
                        prefixes: ['Void', 'Infinite', 'Null', 'Event', 'Collapsed', 'Final', 'Undefined'],
                        nouns: ['Anomaly', 'Point', 'Horizon', 'Error', 'God', 'Variable', 'Entropy']
                    }
                };

                const SUFFIX_DB = {
                    GENESIS: [
                        'forged in the first block.',
                        'present since Day Zero.',
                        'carrying the Genesis spark.',
                        'witnessing the creation.',
                        'awakened at the beginning.'
                    ],
                    WHALE: [
                        'manipulating gravity wells.',
                        'controlling market tides.',
                        'with massive capital allocation.',
                        'displacing the mempool.',
                        'commanding heavy liquidity.'
                    ],
                    PROVIDER: [
                        'fueling the ecosystem.',
                        'stabilizing the flow.',
                        'keeping the oasis alive.',
                        'bridging the void.',
                        'generating yield in silence.'
                    ],
                    'FENNEC MAXI': [
                        'loyal to the Pack.',
                        'bleeding orange neon.',
                        'guided by the Fox Spirit.',
                        'following the True Path.',
                        'fully synchronized with Fennec.'
                    ],
                    'ARTIFACT HUNTER': [
                        'collecting digital relics.',
                        'archiving rare data.',
                        'hunting for inscriptions.',
                        'preserving lost history.',
                        'with a trove of artifacts.'
                    ],
                    'RUNE KEEPER': [
                        'deciphering ancient glyphs.',
                        'reading the rune stream.',
                        'etched with protocol magic.',
                        'holding runic power.',
                        'speaking the old tongue.'
                    ],
                    'MEMPOOL RIDER': [
                        'surfing the zero-block.',
                        'faster than confirmation.',
                        'living between blocks.',
                        'riding the lightning.',
                        'bypassing the queue.'
                    ],
                    RICH: [
                        'accumulating vast resources.',
                        'building a digital empire.',
                        'shining with gold.',
                        'holding the keys to power.'
                    ],
                    OLD: [
                        'surviving every cycle.',
                        'eroded by digital winds.',
                        'standing the test of time.',
                        'watching tokens rise and fall.'
                    ],
                    NEW: [
                        'just entering the simulation.',
                        'initializing connection.',
                        'scanning for signals.',
                        'ready to evolve.'
                    ],
                    DEFAULT: [
                        'exploring the fractal depths.',
                        'searching for a signal.',
                        'navigating the noise.',
                        'waiting for the next block.',
                        'connected to the grid.'
                    ]
                };

                const addr = String(metrics.address || metrics.addr || '0x00');
                const getHash = seed => {
                    let h = seed;
                    for (let i = 0; i < addr.length; i++) h = (h << 5) - h + addr.charCodeAt(i);
                    return Math.abs(h);
                };

                const archKey = String(archetype.baseKey || 'DRIFTER').toUpperCase();
                const identitySource = IDENTITY_DB[archKey] || IDENTITY_DB.DRIFTER;
                const pIdx = getHash(1) % identitySource.prefixes.length;
                const nIdx = getHash(2) % identitySource.nouns.length;
                const prefix = identitySource.prefixes[pIdx];
                const noun = identitySource.nouns[nIdx];

                const badgeNames = (Array.isArray(badges) ? badges : [])
                    .map(b =>
                        String((b && b.name) || '')
                            .trim()
                            .toUpperCase()
                    )
                    .filter(Boolean);

                let possibleSuffixes = [];
                badgeNames.forEach(badge => {
                    let key = '';
                    if (badge.includes('GENESIS')) key = 'GENESIS';
                    else if (badge.includes('WHALE')) key = 'WHALE';
                    else if (badge.includes('PROVIDER') || badge.includes('LIQUIDITY')) key = 'PROVIDER';
                    else if (badge.includes('MAXI')) key = 'FENNEC MAXI';
                    else if (badge.includes('ARTIFACT') || badge.includes('COLLECTOR')) key = 'ARTIFACT HUNTER';
                    else if (badge.includes('RUNE')) key = 'RUNE KEEPER';
                    else if (badge.includes('MEMPOOL')) key = 'MEMPOOL RIDER';

                    if (key && SUFFIX_DB[key]) {
                        possibleSuffixes.push(...SUFFIX_DB[key]);
                        possibleSuffixes.push(...SUFFIX_DB[key]);
                        possibleSuffixes.push(...SUFFIX_DB[key]);
                    }
                });

                const wealth = parseFloat(metrics.wealth || metrics.netWorth || metrics.netWorthUSD || 0);
                const days = parseInt(metrics.daysAlive || metrics.days || 0);
                if (wealth > 500) possibleSuffixes.push(...SUFFIX_DB.RICH);
                if (days > 60) possibleSuffixes.push(...SUFFIX_DB.OLD);
                if (days >= 0 && days < 10) possibleSuffixes.push(...SUFFIX_DB.NEW);
                if (possibleSuffixes.length === 0) possibleSuffixes = SUFFIX_DB.DEFAULT;

                const sIdx = getHash(3 + badgeNames.length) % possibleSuffixes.length;
                const suffix = possibleSuffixes[sIdx];
                loreText = `${prefix} ${noun} // ${suffix}`;
            }
        } catch (_) {}

        const frontContent = `
            ${bgUrl ? `<img src="${safeText(bgUrl)}" style="position:absolute;inset:-8%;width:116%;height:116%;object-fit:cover;object-position:center;opacity:0.70;filter:blur(14px) saturate(1.1);transform:translateZ(0);pointer-events:none;" onerror="this.style.display='none'"><img src="${safeText(bgUrl)}" class="${imgTierClass}" style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;pointer-events:none;" onerror="this.style.display='none'">` : ''}
            ${archetypeOverlay}
            <div class="card-glare" style="position:absolute;left:50%;top:50%;width:200%;height:200%;transform:translate(-50%,-50%) translate(calc(var(--glare-x, 0) * 1px), calc(var(--glare-y, 0) * 1px));z-index:100;pointer-events:none;opacity:var(--glare-opacity,0);mix-blend-mode:overlay;background:linear-gradient(115deg, transparent 0%, rgba(255,255,255,0.00) 47%, rgba(255,255,255,0.40) 50%, rgba(255,255,255,0.00) 53%, transparent 100%);filter:contrast(1.15) saturate(1.05);will-change:transform,opacity;"></div>

            <div style="position:relative;z-index:20;padding:20px;">
                <div style="position:absolute;right:20px;top:20px;font-size:11px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.5);letter-spacing:0.05em;">${safeText(String(dna.inscriptionNumber || ''))}</div>
                <div style="display:flex;flex-wrap:wrap;gap:7px;justify-content:center;align-items:center;margin-top:2px;transform:translateY(-6px);">${badgesFrontHtml}</div>
            </div>

            <div style="position:relative;z-index:20;margin-top:auto;padding:34px 28px 28px;">
                <div style="text-align:center;margin-bottom:16px;">
                    <h2 class="archetype-title ${tier >= 3 ? 'tier3-title' : ''}" style="font-family:var(--font-display);font-weight:900;text-transform:uppercase;font-style:italic;line-height:0.95;letter-spacing:-0.04em;font-size:clamp(1.6rem, 6.0vw, 2.25rem);white-space:nowrap;overflow:hidden;text-overflow:clip;max-width:100%;transform:translateY(0px);margin:0;">${safeText(archetype.title)}</h2>
                </div>

                <div class="${metrics.hasFennecSoul ? 'soul-divider-enhanced' : 'soul-divider'}" style="height:${metrics.hasFennecSoul ? '2px' : '1px'};margin:0 auto 14px;width:100%;"></div>

                <div style="position: relative; z-index: 25; margin-top: 8px; text-align: center; width: 100%;">
                    <div style="display: inline-block; background: linear-gradient(90deg, transparent, rgba(0,0,0,0.6), transparent); padding: 4px 16px; border-top: 1px solid rgba(255,255,255,0.05); border-bottom: 1px solid rgba(255,255,255,0.05);">
                        <p style="font-family: var(--font-tactical); font-size: 8.5px; line-height: 1.4; color: rgba(255, 255, 255, 0.75); text-transform: uppercase; letter-spacing: 0.1em; margin: 0; white-space: nowrap; text-shadow: 0 2px 4px rgba(0,0,0,1);">
                            ${safeText(loreText)}
                        </p>
                    </div>
                </div>
            </div>
        `;
        front.innerHTML = frontContent;

        const back = document.createElement('div');
        back.className = 'card-face face-back bg-obsidian';

        const watermarkRef = miscAssetRef(config, 'WATERMARK', '');
        const phavRef = miscAssetRef(config, 'PHAV', '');
        const fbsymRef = miscAssetRef(config, 'FBSYM', phavRef || '');
        const backContent = `
            <div class="absolute inset-0" style="background: radial-gradient(circle at 25% 20%, rgba(255, 107, 53, 0.12) 0%, transparent 55%), radial-gradient(circle at 70% 80%, rgba(255, 180, 120, 0.08) 0%, transparent 60%), radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.03) 0%, transparent 70%), #090706;"></div>
            ${watermarkRef ? `<div class="absolute inset-0 flex items-center justify-center pointer-events-none z-0" style="opacity:0.14;transform:translateZ(0.2px);backface-visibility:hidden;-webkit-backface-visibility:hidden;will-change:transform;"><img src="${safeText(watermarkRef)}" style="width:60%;height:60%;object-fit:contain;transform:translateZ(0.2px);backface-visibility:hidden;-webkit-backface-visibility:hidden;will-change:transform;filter:none;" onerror="this.style.display='none'"></div>` : ''}

            <div class="relative z-10 px-4 pt-7 pb-3 border-b border-white/5" style="padding-top:12px;padding-bottom:14px;">
                <div class="flex flex-col gap-2" style="align-items:center;">
                    <div class="flex justify-center items-center gap-3">
                        <div class="w-1.5 h-1.5 rounded-full bg-fennec animate-pulse"></div>
                        <span class="text-[9px] font-tactical font-bold text-white/40 tracking-[0.3em] uppercase" style="display:inline-flex;align-items:center;gap:8px;"><img src="${safeText(phavRef)}" style="width:21px;height:21px;object-fit:contain;opacity:0.9;" onerror="this.style.display='none'">Fennec ID System</span>
                        <div class="w-1.5 h-1.5 rounded-full bg-fennec animate-pulse"></div>
                    </div>
                    <div class="flex gap-2" style="margin-top:12px;margin-bottom:4px;width:100%;">
                        <button class="fid-tab-btn active flex-1 py-2 rounded-lg text-[10px] font-tactical font-bold tracking-widest transition-all bg-fennec/20 text-fennec border border-fennec/40 neon-text-subtle" style="flex:1;min-width:0;" data-tab="stats">STATS</button>
                        <button class="fid-tab-btn flex-1 py-2 rounded-lg text-[10px] font-tactical font-bold tracking-widest transition-all glass-module text-muted-foreground" style="flex:1;min-width:0;" data-tab="badges">BADGES</button>
                    </div>
                </div>
            </div>

            <div class="relative z-10" id="card-back-scroll">
                <div class="custom-scroll" id="card-back-content"></div>
            </div>
        `;
        back.innerHTML = backContent;

        const backContentArea = back.querySelector('#card-back-content');
        const updateBackScrollbarWidth = () => {
            try {
                if (!backContentArea) return;
                const sbw = Math.max(0, backContentArea.offsetWidth - backContentArea.clientWidth);
                backContentArea.style.setProperty('--fid-scrollbar-pad', `${sbw}px`);
            } catch (_) {
                void _;
            }
        };

        const scoreData = () => {
            const sb = metrics && metrics.scoreBreakdown ? metrics.scoreBreakdown : computedBreakdown;
            const maxes = computedBreakdown.max || { activityMax: 30, wealthMax: 20, timeMax: 15, badgesMax: 35 };
            return {
                breakdown: sb,
                maxes,
                totalScore: activityScore
            };
        };

        const renderStats = () => {
            const d = scoreData();
            const { breakdown, maxes, totalScore } = d;

            const pct = (val, max) => Math.round(Math.max(0, Math.min(100, (Number(val) / Number(max)) * 100)));

            const fmtInt = n => {
                const x = Number(n);
                if (!Number.isFinite(x)) return '0';
                return Math.round(x).toLocaleString('en-US').replace(/,/g, ' ');
            };

            const fmtDec = (n, d2) => {
                const x = Number(n);
                if (!Number.isFinite(x)) return (0).toFixed(d2);
                return x.toFixed(d2);
            };

            const safeNum = v => {
                const n = Number(v);
                return Number.isFinite(n) ? n : 0;
            };

            let insStatsRaw = {};
            if (metrics && typeof metrics === 'object') {
                if (metrics.inscriptionStats && typeof metrics.inscriptionStats === 'object') {
                    insStatsRaw = metrics.inscriptionStats;
                } else if (metrics.stats && typeof metrics.stats === 'object') {
                    insStatsRaw = metrics.stats;
                }
            }
            const runesCount = safeNum(insStatsRaw.runes);
            const brc20Count = safeNum(insStatsRaw.brc20);
            const ordinalsCount = safeNum(insStatsRaw.ordinals);
            const lpCount = safeNum(insStatsRaw.lp);
            const inscriptionsTotal = safeNum(insStatsRaw.total) || safeNum(runesCount + brc20Count + ordinalsCount);

            const collectionsArr = (() => {
                if (Array.isArray(insStatsRaw.collections)) return insStatsRaw.collections;
                if (Array.isArray(insStatsRaw.collection)) return insStatsRaw.collection;
                if (metrics && Array.isArray(metrics.collections)) return metrics.collections;
                if (metrics && Array.isArray(metrics.collection)) return metrics.collection;
                if (metrics && metrics.summary && Array.isArray(metrics.summary.collections))
                    return metrics.summary.collections;
                if (metrics && metrics.summary && Array.isArray(metrics.summary.collection))
                    return metrics.summary.collection;
                return null;
            })();

            const ordinalsFromCollections = collectionsArr
                ? collectionsArr.reduce((acc, c) => acc + safeNum(c && c.total), 0)
                : 0;

            const ordinalsShown = Math.max(0, Math.floor(ordinalsCount || ordinalsFromCollections));

            const fbWallet = safeNum(metrics && metrics.nativeBalance);
            const fbSwap = safeNum(metrics && metrics.fbSwapBalance);
            const fbStaked = safeNum(metrics && metrics.stakedFB);
            const fbLp = safeNum(metrics && (metrics.lpValueFB ?? metrics.lpValue));
            const fbTotal = safeNum(metrics && metrics.fbTotal) || safeNum(fbWallet + fbSwap + fbStaked);
            const fbHoldings = safeNum(fbWallet + fbSwap + fbStaked);
            const lpValueUSD = safeNum(metrics && metrics.lpValueUSD);

            const netWorthUSD = safeNum(
                metrics && (metrics.netWorthUSD ?? metrics.wealth ?? metrics.netWorth ?? metrics.netWorthUsd)
            );

            const fennecWallet = safeNum(metrics && (metrics.fennecWalletBalance ?? metrics.fennec_wallet_balance));
            const fennecInSwap = safeNum(metrics && (metrics.fennecInSwapBalance ?? metrics.fennec_inswap_balance));
            const fennecNative = safeNum(metrics && (metrics.fennecNativeBalance ?? metrics.fennec_native_balance));
            const fennecTotal =
                safeNum(metrics && metrics.fennecBalance) || safeNum(fennecWallet + fennecInSwap + fennecNative);
            const fennecLpValueUSD = safeNum(metrics && metrics.fennecLpValueUSD);
            const fennecLpSuffix = fennecLpValueUSD > 0 ? ' (FENNEC: ' + fennecLpValueUSD.toFixed(2) + ')' : '';
            void fennecLpSuffix;

            const rows = [
                {
                    label: 'ACTIVITY',
                    val: (breakdown && breakdown.activityPoints) || 0,
                    max: (maxes && maxes.activityMax) || 30
                },
                {
                    label: 'WEALTH',
                    val: (breakdown && breakdown.wealthPoints) || 0,
                    max: (maxes && maxes.wealthMax) || 20
                },
                { label: 'TIME', val: (breakdown && breakdown.timePoints) || 0, max: (maxes && maxes.timeMax) || 15 },
                {
                    label: 'BADGES',
                    val: (breakdown && breakdown.badgesPoints) || 0,
                    max: (maxes && maxes.badgesMax) || 35
                }
            ];

            const maxiBoostActive = !!(breakdown && breakdown.multiplier && breakdown.multiplier > 1);

            const daysAlive = safeNum(metrics && (metrics.daysAlive ?? metrics.walletAgeDays ?? metrics.ageDays));
            const txCount = safeNum(
                metrics && (metrics.txCount ?? metrics.txs ?? metrics.transactions ?? metrics.transactionCount)
            );
            const pooledLiquidityUsd = safeNum(metrics && (metrics.lpValueUSD ?? metrics.lpValueUsd));

            const earnedSet = new Set(
                badges
                    .map(b =>
                        String((b && b.name) || '')
                            .trim()
                            .toUpperCase()
                    )
                    .filter(Boolean)
            );
            const isOptimized = earnedSet.has('SAND SWEEPER') || safeNum(metrics && metrics.abandonedUtxoCount) < 50;

            const rowsHtml = rows
                .map(r => {
                    const p = pct(r.val, r.max);
                    return `
                                <div style="display:flex;flex-direction:column;gap:6px;">
                                    <div style="display:flex;justify-content:space-between;align-items:center;">
                                        <div style="font-size:9px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.55);letter-spacing:0.16em;text-transform:uppercase;">${safeText(r.label)}</div>
                                        <div style="font-size:11px;font-family:var(--font-tactical);font-weight:900;color:white;">${p}%</div>
                                    </div>
                                    <div style="height:8px;background:rgba(255,255,255,0.06);border-radius:999px;overflow:hidden;border:1px solid rgba(255,255,255,0.03);">
                                        <div style="height:100%;background:linear-gradient(90deg, #ff6b35, #ff8c35);border-radius:999px;width:${p}%;"></div>
                                    </div>
                                </div>`;
                })
                .join('');

            const evolutionHtml = rarity
                ? `
                        <div style="margin-top:14px;padding-top:14px;border-top:1px solid rgba(255,255,255,0.08);position:relative;">
                            <div style="position:relative;display:flex;justify-content:space-between;align-items:baseline;gap:10px;white-space:nowrap;">
                                <span data-fit data-fit-min="12" style="display:inline-block;max-width:50%;font-size:15px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.75);letter-spacing:0.16em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">EVOLUTION</span>
                                <span data-fit data-fit-min="14" class="evolution-value${rarity.key === 'spirit' ? ' spirit-evolution' : ''}" style="display:inline-block;max-width:100%;font-size:20px;font-family:var(--font-tactical);font-weight:900;letter-spacing:0.12em;text-transform:uppercase;white-space:nowrap;overflow:hidden;color:rgba(255,255,255,0.95);">${safeText(rarity.name)}</span>
                            </div>
                        </div>
                        `
                : '';

            return `
                <div style="display:flex;flex-direction:column;gap:14px;">
                    <div style="display:flex;justify-content:center;align-items:center;margin-bottom:6px;">
                        <span style="font-size:15px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.65);letter-spacing:0.16em;text-transform:uppercase;">SCORE BREAKDOWN</span>
                    </div>

                    <div class="glass-module" style="padding:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);border-radius:16px;">
                        <div style="display:flex;flex-direction:column;gap:10px;">
                            ${rowsHtml}
                        </div>

                        <div style="display:flex;justify-content:space-between;align-items:center;padding-top:12px;margin-top:12px;border-top:1px solid rgba(255,255,255,0.04);">
                            <span style="font-size:10px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.55);letter-spacing:0.14em;text-transform:uppercase;">MAXI BOOST</span>
                            <div style="display:flex;align-items:center;gap:6px;">
                                <div style="width:6px;height:6px;border-radius:999px;background:${maxiBoostActive ? 'hsl(var(--fennec-orange))' : 'rgba(255,255,255,0.25)'};${maxiBoostActive ? 'box-shadow:0 0 8px hsl(var(--fennec-orange) / 0.5);' : ''}"></div>
                                <span style="font-size:11px;font-family:var(--font-tactical);font-weight:900;color:${maxiBoostActive ? 'hsl(var(--fennec-orange))' : 'rgba(255,255,255,0.55)'};letter-spacing:0.08em;">${maxiBoostActive ? 'ACTIVE' : 'INACTIVE'}</span>
                            </div>
                        </div>

                        <div style="padding-top:14px;margin-top:14px;border-top:1px solid rgba(255,255,255,0.04);display:flex;justify-content:space-between;align-items:baseline;gap:10px;white-space:nowrap;">
                            <span data-fit data-fit-min="11" style="display:inline-block;max-width:60%;font-size:14px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.55);letter-spacing:0.14em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">FINAL SCORE</span>
                            <div style="display:flex;align-items:baseline;gap:6px;justify-content:flex-end;white-space:nowrap;min-width:0;">
                                <span data-fit data-fit-min="18" style="display:inline-block;max-width:100%;font-size:26px;font-weight:900;color:hsl(var(--fennec-orange));font-family:var(--font-tactical);line-height:1;white-space:nowrap;overflow:hidden;">${Math.round(totalScore)}</span>
                                <span data-fit data-fit-min="10" style="display:inline-block;max-width:100%;font-size:12px;font-weight:800;color:rgba(255,255,255,0.22);font-family:var(--font-tactical);white-space:nowrap;overflow:hidden;">/100</span>
                            </div>
                        </div>

                        ${evolutionHtml}
                    </div>

                    <div style="display:block;width:100%;text-align:center;padding-top:12px;padding-bottom:8px;">
                        <div style="display:inline-block;font-size:14px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.65);letter-spacing:0.16em;text-transform:uppercase;">CORE MODULES</div>
                    </div>
                    <div class="glass-module" style="padding:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);border-radius:16px;position:relative;overflow:hidden;">
                        <div style="position:relative;z-index:2;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;justify-content:center;">
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;display:flex;flex-direction:column;gap:2px;min-width:0;">
                                <div data-fit data-fit-min="7" style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">OPERATIONS</div>
                                <div data-fit data-fit-min="12" style="margin-top:2px;font-size:20px;font-family:var(--font-tactical);font-weight:900;color:white;white-space:nowrap;overflow:hidden;">${fmtInt(txCount)}</div>
                                <div data-fit data-fit-min="8" style="margin-top:1px;font-size:9px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.32);letter-spacing:0.12em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">TXS</div>
                            </div>
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;display:flex;flex-direction:column;gap:2px;min-width:0;">
                                <div data-fit data-fit-min="7" style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">WALLET AGE</div>
                                <div data-fit data-fit-min="12" style="margin-top:2px;font-size:20px;font-family:var(--font-tactical);font-weight:900;color:white;white-space:nowrap;overflow:hidden;">${fmtInt(daysAlive)}</div>
                                <div data-fit data-fit-min="8" style="margin-top:1px;font-size:9px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.32);letter-spacing:0.12em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">DAYS</div>
                            </div>
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:4px;min-width:0;">
                                <div data-fit data-fit-min="7" style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">NET WORTH</div>
                                <div data-fit data-fit-min="12" style="font-size:20px;font-family:var(--font-tactical);font-weight:900;color:white;white-space:nowrap;overflow:hidden;line-height:1;">$${fmtDec(netWorthUSD, 2)}</div>
                            </div>
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:4px;min-width:0;">
                                <div data-fit data-fit-min="7" style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;white-space:nowrap;overflow:hidden;">STORAGE</div>
                                <div data-fit data-fit-min="9" style="font-size:12px;font-family:var(--font-tactical);font-weight:900;letter-spacing:0.14em;text-transform:uppercase;white-space:nowrap;overflow:hidden;line-height:1;color:${isOptimized ? 'rgb(34 197 94)' : 'rgba(255,255,255,0.45)'};">${isOptimized ? 'OPTIMIZED' : 'FRAGMENTED'}</div>
                            </div>
                        </div>
                    </div>

                    <div style="display:block;width:100%;text-align:center;padding-top:12px;padding-bottom:8px;">
                        <div style="display:inline-block;font-size:14px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.65);letter-spacing:0.16em;text-transform:uppercase;">VAULT</div>
                    </div>
                    <div class="glass-module" style="padding:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);border-radius:16px;position:relative;overflow:hidden;">
                        <div style="position:absolute;inset:0;pointer-events:none;opacity:0.08;background:radial-gradient(circle at 50% 50%, rgba(255,107,53,0.35), transparent 70%),linear-gradient(135deg, rgba(255,255,255,0.03), transparent);"></div>
                        <div style="position:relative;z-index:2;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;justify-content:center;">
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;">
                                <div style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;">RUNES</div>
                                <div style="margin-top:6px;font-size:18px;font-family:var(--font-tactical);font-weight:900;color:white;">${fmtInt(runesCount)}</div>
                            </div>
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;">
                                <div style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;">BRC-20</div>
                                <div style="margin-top:6px;font-size:18px;font-family:var(--font-tactical);font-weight:900;color:white;">${fmtInt(brc20Count)}</div>
                            </div>
                            <div style="padding:12px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);text-align:center;">
                                <div style="font-size:8px;font-family:var(--font-tactical);font-weight:800;color:rgba(255,255,255,0.42);letter-spacing:0.14em;text-transform:uppercase;">ORDINALS</div>
                                <div style="margin-top:6px;font-size:18px;font-family:var(--font-tactical);font-weight:900;color:white;">${fmtInt(ordinalsShown)}</div>
                            </div>
                        </div>
                    </div>

                    <div style="display:block;width:100%;text-align:center;padding-top:12px;padding-bottom:8px;">
                        <div style="display:inline-block;font-size:14px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.65);letter-spacing:0.16em;text-transform:uppercase;">HOLDINGS</div>
                    </div>
                    <div class="glass-module" style="padding:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);border-radius:16px;position:relative;overflow:hidden;">
                        <div style="position:relative;z-index:2;display:flex;flex-direction:column;gap:12px;">
                            <div style="display:flex;justify-content:space-between;align-items:center;">
                                <div style="display:flex;align-items:center;gap:10px;min-width:0;">
                                    <div style="width:18px;height:18px;border-radius:6px;background:linear-gradient(180deg, rgba(255,107,53,0.22), rgba(0,0,0,0.35));border:1px solid rgba(255,107,53,0.35);display:flex;align-items:center;justify-content:center;overflow:hidden;box-shadow:0 8px 18px rgba(0,0,0,0.35);">
                                        <img src="${safeText(phavRef)}" style="width:14px;height:14px;object-fit:contain;filter:drop-shadow(0 0 8px rgba(0,0,0,0.5));" onerror="this.style.display='none'">
                                    </div>
                                    <div style="font-size:11px;font-family:var(--font-tactical);font-weight:900;letter-spacing:0.12em;text-transform:uppercase;color:rgba(255,255,255,0.92);">FENNEC</div>
                                </div>
                                <div style="font-size:12px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.92);">${fmtDec(fennecTotal, 2)}</div>
                            </div>

                            <div style="display:flex;justify-content:space-between;align-items:center;">
                                <div style="display:flex;align-items:center;gap:10px;min-width:0;">
                                    <div style="width:18px;height:18px;border-radius:6px;background:linear-gradient(180deg, rgba(255,255,255,0.12), rgba(0,0,0,0.35));border:1px solid rgba(255,255,255,0.22);display:flex;align-items:center;justify-content:center;overflow:hidden;box-shadow:0 8px 18px rgba(0,0,0,0.35);">
                                        <img src="${safeText(fbsymRef)}" style="width:14px;height:14px;object-fit:contain;filter:drop-shadow(0 0 8px rgba(0,0,0,0.55));" onerror="this.style.display='none'">
                                    </div>
                                    <div style="font-size:11px;font-family:var(--font-tactical);font-weight:900;letter-spacing:0.12em;text-transform:uppercase;color:rgba(255,255,255,0.92);">FB</div>
                                </div>
                                <div style="font-size:12px;font-family:var(--font-tactical);font-weight:900;color:rgba(255,255,255,0.92);">${fmtDec(fbHoldings, 2)}</div>
                            </div>
                        </div>

                    </div>
                </div>
            `;
        };

        const renderBadges = () => {
            const earnedSet = new Set(badges.map(b => b.name));
            const badgeNames = BADGE_ORDER.slice().sort((a, b) => {
                const ea = earnedSet.has(a);
                const eb = earnedSet.has(b);
                if (ea === eb) return 0;
                return ea ? -1 : 1;
            });

            const badgesHtml = badgeNames
                .map(name => {
                    const isEarned = earnedSet.has(name);
                    const def = BADGE_DEFS[name] || { name, icon: '', desc: '' };
                    const displayName = name === 'PROVIDER' ? 'LIQUIDITY PROVIDER' : def.name;
                    const mapped =
                        config && config.assets && config.assets.badges && name ? config.assets.badges[name] : '';
                    const ref = resolveAssetRef(mapped || '');
                    const borderStyle = isEarned
                        ? '1px solid hsl(var(--fennec-orange) / 0.25)'
                        : '1px solid rgba(255,255,255,0.08)';
                    const opacityStyle = isEarned ? '1' : '0.50';
                    const iconFilter = isEarned
                        ? 'drop-shadow(0 0 12px hsl(var(--fennec-orange) / 0.40))'
                        : 'drop-shadow(0 0 8px rgba(255,255,255,0.10))';
                    const titleColor = isEarned ? 'hsl(var(--foreground))' : 'rgba(255,255,255,0.75)';
                    const imgHtml = ref
                        ? `<img src="${safeText(ref)}" style="width:30px;height:30px;object-fit:contain;filter:${iconFilter}" onerror="this.style.display='none'">`
                        : '';
                    return `
                            <div class="glass-module" style="display:flex;gap:12px;align-items:flex-start;padding:12px;border:${borderStyle};opacity:${opacityStyle};">
                                <div style="width:44px;height:44px;flex:0 0 44px;display:flex;align-items:center;justify-content:center;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.10);">
                                    ${imgHtml}
                                </div>
                                <div style="flex:1;min-width:0;">
                                    <div style="display:flex;align-items:center;justify-content:center;">
                                        <div style="font-size:10px;font-family:var(--font-tactical);font-weight:900;letter-spacing:0.10em;text-transform:uppercase;color:${titleColor};text-align:center;">${safeText(displayName)}</div>
                                    </div>
                                    <div style="margin-top:4px;font-size:11px;line-height:1.25;color:rgba(255,255,255,0.60);text-align:center;">${safeText(def.desc)}</div>
                                </div>
                            </div>
                        `;
                })
                .join('');
            return `
                <div style="display:flex;flex-direction:column;gap:10px;">
                    ${badgesHtml}
                </div>
            `;
        };

        const applyAutoFit = rootEl => {
            try {
                const scope = rootEl || back;
                if (!scope) return;
                scope.querySelectorAll('[data-fit]').forEach(el => {
                    if (!el) return;
                    const minPx = Number(el.getAttribute('data-fit-min') || 10) || 10;
                    const cs = window.getComputedStyle(el);
                    let fs = parseFloat(cs.fontSize) || 12;
                    let guard = 0;
                    while (guard < 18 && fs > minPx && el.scrollWidth > el.clientWidth + 1) {
                        fs -= 1;
                        el.style.fontSize = fs + 'px';
                        guard += 1;
                    }
                });
            } catch (_) {
                /* fallback */
            }
        };

        if (backContentArea) {
            backContentArea.innerHTML = renderStats();
            applyAutoFit(backContentArea);
            requestAnimationFrame(updateBackScrollbarWidth);
        }

        back.querySelectorAll('.fid-tab-btn').forEach(btn => {
            btn.addEventListener('click', e => {
                e.stopPropagation();
                const tab = btn.getAttribute('data-tab');
                back.querySelectorAll('.fid-tab-btn').forEach(b => {
                    b.classList.remove(
                        'active',
                        'bg-fennec/10',
                        'bg-fennec/20',
                        'text-fennec',
                        'border-fennec/30',
                        'border-fennec/40',
                        'neon-text-subtle'
                    );
                    b.classList.add('glass-module', 'text-muted-foreground');
                });
                btn.classList.add('active', 'bg-fennec/20', 'text-fennec', 'border-fennec/40', 'neon-text-subtle');
                btn.classList.remove('glass-module', 'text-muted-foreground');

                if (!backContentArea) return;
                if (tab === 'stats') {
                    backContentArea.innerHTML = renderStats();
                    applyAutoFit(backContentArea);
                    requestAnimationFrame(updateBackScrollbarWidth);
                } else {
                    backContentArea.innerHTML = renderBadges();
                    requestAnimationFrame(updateBackScrollbarWidth);
                }
            });
        });

        cardObject.appendChild(front);
        cardObject.appendChild(back);
        scene.appendChild(cardObject);

        let isFlipped = false;
        let tiltTargetX = 0;
        let tiltTargetY = 0;
        let tiltCurX = 0;
        let tiltCurY = 0;
        let tiltRaf = 0;

        const updateSheenFromTilt = (xDeg, yDeg) => {
            if (isFlipped) {
                cardObject.style.setProperty('--glare-opacity', '0');
                cardObject.style.setProperty('--glare-x', '0');
                cardObject.style.setProperty('--glare-y', '0');
                return;
            }
            const tiltMax = 12;
            const nx = Math.max(-1, Math.min(1, Number(yDeg) / tiltMax));
            const ny = Math.max(-1, Math.min(1, -Number(xDeg) / tiltMax));
            const dist = Math.sqrt(nx * nx + ny * ny);
            const intensity = dist < 0.02 ? 0 : Math.pow(Math.min(1, dist), 1.25);
            const alpha = intensity <= 0 ? 0 : Math.min(0.55, intensity * 0.55);

            // –¥–≤–∏–∂–µ–Ω–∏–µ –±–ª–∏–∫–∞ –≤ –ø—Ä–æ—Ç–∏–≤–æ—Ö–æ–¥ –Ω–∞–∫–ª–æ–Ω—É
            const posX = -nx * 120;
            const posY = -ny * 120;

            cardObject.style.setProperty('--glare-opacity', alpha.toFixed(3));
            cardObject.style.setProperty('--glare-x', posX.toFixed(1));
            cardObject.style.setProperty('--glare-y', posY.toFixed(1));
        };

        const applyTiltNow = (xDeg, yDeg) => {
            tiltCurX = xDeg;
            tiltCurY = yDeg;
            tiltTargetX = xDeg;
            tiltTargetY = yDeg;
            cardObject.style.setProperty('--tiltX', `${xDeg}deg`);
            cardObject.style.setProperty('--tiltY', `${yDeg}deg`);
            updateSheenFromTilt(xDeg, yDeg);
        };

        const tiltStep = () => {
            tiltRaf = 0;
            const ease = 0.14;
            tiltCurX += (tiltTargetX - tiltCurX) * ease;
            tiltCurY += (tiltTargetY - tiltCurY) * ease;
            cardObject.style.setProperty('--tiltX', `${tiltCurX.toFixed(2)}deg`);
            cardObject.style.setProperty('--tiltY', `${tiltCurY.toFixed(2)}deg`);
            updateSheenFromTilt(tiltCurX, tiltCurY);
            if (Math.abs(tiltTargetX - tiltCurX) > 0.01 || Math.abs(tiltTargetY - tiltCurY) > 0.01) {
                tiltRaf = requestAnimationFrame(tiltStep);
            }
        };

        const setTiltTarget = (xDeg, yDeg) => {
            tiltTargetX = xDeg;
            tiltTargetY = yDeg;
            if (!tiltRaf) tiltRaf = requestAnimationFrame(tiltStep);
        };

        scene.addEventListener('click', e => {
            if (e.target.closest('button')) return;
            isFlipped = !isFlipped;
            try {
                scene.classList.add('is-flipping');
            } catch (_) {
                /* fallback */
            }
            scene.classList.toggle('is-flipped', isFlipped);

            try {
                applyTiltNow(0, 0);
                setTiltTarget(0, 0);
            } catch (_) {
                /* fallback */
            }

            const onFlipEnd = () => {
                try {
                    scene.classList.remove('is-flipping');
                } catch (_) {
                    /* fallback */
                }
                try {
                    cardObject.removeEventListener('transitionend', onFlipEnd);
                } catch (_) {
                    /* fallback */
                }
            };

            try {
                cardObject.addEventListener('transitionend', onFlipEnd);
            } catch (_) {
                /* fallback */
            }

            setTimeout(() => {
                try {
                    scene.classList.remove('is-flipping');
                    cardObject.removeEventListener('transitionend', onFlipEnd);
                } catch (_) {
                    /* fallback */
                }
            }, 900);
        });

        scene.addEventListener('mousemove', e => {
            if (isFlipped) return;
            const rect = scene.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            const tiltMax = tier >= 3 ? 14 : tier === 2 ? 12 : tier === 1 ? 10 : 8;
            const rotateX = ((y - centerY) / centerY) * -tiltMax;
            const rotateY = ((x - centerX) / centerX) * tiltMax;
            setTiltTarget(rotateX, rotateY);
        });

        scene.addEventListener(
            'touchmove',
            e => {
                if (isFlipped) return;
                const t = e && e.touches && e.touches[0] ? e.touches[0] : null;
                if (!t) return;
                const rect = scene.getBoundingClientRect();
                const x = t.clientX - rect.left;
                const y = t.clientY - rect.top;
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const tiltMax = tier >= 3 ? 14 : tier === 2 ? 12 : tier === 1 ? 10 : 8;
                const rotateX = ((y - centerY) / centerY) * -tiltMax;
                const rotateY = ((x - centerX) / centerX) * tiltMax;
                setTiltTarget(rotateX, rotateY);
            },
            { passive: true }
        );

        scene.addEventListener('mouseleave', () => {
            if (isFlipped) return;
            setTiltTarget(0, 0);
        });

        scene.addEventListener(
            'touchend',
            () => {
                if (isFlipped) return;
                setTiltTarget(0, 0);
            },
            { passive: true }
        );

        scene.addEventListener(
            'touchcancel',
            () => {
                if (isFlipped) return;
                setTiltTarget(0, 0);
            },
            { passive: true }
        );

        scene.addEventListener('pointercancel', () => {
            if (isFlipped) return;
            setTiltTarget(0, 0);
        });

        try {
            if (!window.__fennecTiltScenes) window.__fennecTiltScenes = new Set();
            window.__fennecTiltScenes.add(scene);
            scene.__fennecTiltReset = () => {
                try {
                    applyTiltNow(0, 0);
                } catch (_) {
                    /* fallback */
                }
                try {
                    setTiltTarget(0, 0);
                } catch (_) {
                    /* fallback */
                }
            };

            if (!window.__fennecTiltGlobalHandlersInstalled) {
                window.__fennecTiltGlobalHandlersInstalled = true;
                window.__fennecTiltGlobalResetAll = () => {
                    try {
                        const scenes = window.__fennecTiltScenes;
                        if (!scenes) return;
                        for (const s of Array.from(scenes)) {
                            try {
                                if (!s || !s.isConnected) {
                                    scenes.delete(s);
                                    continue;
                                }
                                if (typeof s.__fennecTiltReset === 'function') s.__fennecTiltReset();
                            } catch (_) {
                                /* fallback */
                            }
                        }
                    } catch (_) {
                        /* fallback */
                    }
                };

                document.addEventListener('visibilitychange', () => {
                    try {
                        if (window.__fennecTiltGlobalResetAll) window.__fennecTiltGlobalResetAll();
                    } catch (_) {
                        /* fallback */
                    }
                });
                window.addEventListener('blur', () => {
                    try {
                        if (window.__fennecTiltGlobalResetAll) window.__fennecTiltGlobalResetAll();
                    } catch (_) {
                        /* fallback */
                    }
                });
                window.addEventListener('focus', () => {
                    try {
                        if (window.__fennecTiltGlobalResetAll) window.__fennecTiltGlobalResetAll();
                    } catch (_) {
                        /* fallback */
                    }
                });
            }
        } catch (_) {
            void _;
        }

        return scene;
    }

    function renderInto(container, dna, config) {
        const target = container || document.body;
        target.innerHTML = '';
        target.appendChild(createCard(dna, config));

        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ó–∞–ø—É—Å–∫ 3D —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ DOM
        // –ë–µ–∑ —ç—Ç–æ–≥–æ –≤—ã–∑–æ–≤–∞ —ç–∫—Ä–∞–Ω —á–µ—Ä–Ω—ã–π –∏–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–ª–æ—Å–∫–∞—è
        setTimeout(() => {
            try {
                if (window.__fennecTiltGlobalResetAll) window.__fennecTiltGlobalResetAll();
            } catch (_) {
                void _;
            }
        }, 0);
    }

    async function init() {
        try {
            const now = Date.now();
            const last = Number(window.__fennec_id_init_last_at || 0) || 0;
            if (now - last < 1000) return;
            window.__fennec_id_init_last_at = now;
        } catch (_) {
            void _;
        }
        const dna = getDna();
        const config = await loadConfig();
        injectStyles();
        let root = document.getElementById('fennec-root');
        if (!root) {
            root = document.createElement('div');
            root.id = 'fennec-root';
            document.body.appendChild(root);
        }
        renderInto(root, dna, config);
    }

    window.initFennecID = init;

    window.FennecIDLib = {
        loadConfig,
        createCard,
        renderInto
    };

    if (document.readyState === 'complete' || document.readyState === 'interactive') {
        setTimeout(() => {
            try {
                const meta = document.querySelector('meta[name="fennec-embed"]');
                const isEmbed = meta && String(meta.getAttribute('content') || '').trim() === '1';
                if (isEmbed) return;
            } catch (_) {
                /* fallback */
            }
            if (document.getElementById('dna-data') || document.getElementById('user-data')) {
                init();
            }
        }, 0);
    }
})();

==================================================
FILE PATH: \recursive_inscriptions\fennec_manifest_live.json
==================================================

{
    "schema": "fennec.manifest.v1",
    "version": 3,
    "updated_at": "2025-12-30T13:41:00.0000000Z",
    "latest": {
        "lib": "961a15289f9ec4fb594a7543a5bc4cd94ce6feed2c7df994e8bfa456ada28a5ai0",
        "config": "ffc50199c26d7037f82ef6a3d8406e6eb483c8a24a3dc396a39768e171f58225i0"
    },
    "inscriptions": [
        {
            "inscriptionId": "961a15289f9ec4fb594a7543a5bc4cd94ce6feed2c7df994e8bfa456ada28a5ai0",
            "address": "bc1pnfcj0e6u6ca9x7lxxakezmp6322uupp374agwruus58ezvf6u4wsvlyvd5",
            "filename": "fennec_lib_v2.js"
        },
        {
            "inscriptionId": "4b53ad92c9d98ee7d6c053461d3752af4e6ff34e56029f4f9b14bae1800f2852i0",
            "address": "bc1pnfcj0e6u6ca9x7lxxakezmp6322uupp374agwruus58ezvf6u4wsvlyvd5",
            "filename": "fennec_child_template_v1.html"
        },
        {
            "inscriptionId": "ffc50199c26d7037f82ef6a3d8406e6eb483c8a24a3dc396a39768e171f58225i0",
            "address": "bc1pnfcj0e6u6ca9x7lxxakezmp6322uupp374agwruus58ezvf6u4wsvlyvd5",
            "filename": "fennec_config_v1.json"
        }
    ]
}

==================================================
FILE PATH: \recursive_inscriptions\fennec_preview_gallery_v1.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fennec ID - Preview Gallery (Local)</title>
        <style>
            :root {
                --bg: #060607;
                --panel: rgba(255, 255, 255, 0.06);
                --line: rgba(255, 255, 255, 0.1);
                --text: rgba(255, 255, 255, 0.92);
                --muted: rgba(255, 255, 255, 0.65);
                --fennec: #ff6b35;
            }
            html,
            body {
                margin: 0;
                padding: 0;
                background:
                    radial-gradient(1200px 900px at 50% -20%, rgba(255, 107, 53, 0.2), transparent 60%),
                    radial-gradient(900px 700px at 30% 120%, rgba(59, 130, 246, 0.16), transparent 60%), var(--bg);
                color: var(--text);
                font-family:
                    system-ui,
                    -apple-system,
                    Segoe UI,
                    Roboto,
                    Arial,
                    sans-serif;
            }
            .wrap {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px 16px 60px;
            }
            .head {
                display: flex;
                align-items: flex-end;
                justify-content: space-between;
                gap: 14px;
                margin-bottom: 16px;
            }
            h1 {
                margin: 0;
                font-size: 18px;
                letter-spacing: 0.08em;
                text-transform: uppercase;
            }
            .sub {
                margin-top: 6px;
                color: var(--muted);
                font-size: 12px;
                line-height: 1.4;
            }
            .panel {
                background: var(--panel);
                border: 1px solid var(--line);
                border-radius: 16px;
                padding: 12px 12px;
            }
            .controls {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                align-items: center;
            }
            label {
                display: flex;
                gap: 8px;
                align-items: center;
                font-size: 12px;
                color: var(--muted);
            }
            .controls input[type='text'] {
                background: rgba(0, 0, 0, 0.22);
                border: 1px solid var(--line);
                border-radius: 12px;
                padding: 8px 10px;
                color: var(--text);
                outline: none;
                min-width: 320px;
            }
            .btn {
                appearance: none;
                border: 1px solid var(--line);
                border-radius: 12px;
                padding: 8px 12px;
                background: rgba(0, 0, 0, 0.22);
                color: var(--text);
                font-size: 12px;
                font-weight: 650;
                letter-spacing: 0.06em;
                cursor: pointer;
            }
            .btn:hover {
                background: rgba(0, 0, 0, 0.32);
            }
            input[type='checkbox'] {
                accent-color: var(--fennec);
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
                gap: 18px;
                margin-top: 16px;
            }
            .cell {
                background: rgba(0, 0, 0, 0.18);
                border: 1px solid var(--line);
                border-radius: 18px;
                padding: 12px;
            }
            .cell-title {
                display: flex;
                align-items: center;
                justify-content: space-between;
                gap: 10px;
                margin: 0 0 8px;
            }
            .cell-title b {
                font-size: 12px;
                letter-spacing: 0.1em;
                text-transform: uppercase;
            }
            .cell-title span {
                font-size: 12px;
                color: var(--muted);
            }
            .mount {
                display: flex;
                justify-content: center;
                align-items: center;
            }
            .smallgrid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
                gap: 14px;
                margin-top: 14px;
            }
            .raritygrid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
                gap: 14px;
                margin-top: 14px;
            }
            .hint {
                margin-top: 16px;
                color: var(--muted);
                font-size: 12px;
                line-height: 1.45;
            }
            code {
                color: rgba(255, 255, 255, 0.86);
            }
        </style>
    </head>
    <body>
        <div class="wrap">
            <div class="head">
                <div>
                    <h1>Fennec ID ‚Äî Preview Gallery</h1>
                    <div class="sub">
                        Local preview for archetypes, tiers and badges using
                        <code>recursive_inscriptions/fennec_lib_v2.js</code>.<br />It uses local images from
                        <code>../img/</code> so you can verify visuals before minting assets on-chain.
                    </div>
                </div>
                <div class="panel">
                    <div class="controls">
                        <label><input id="toggleFlip" type="checkbox" checked /> flip</label>
                        <label><input id="toggleTilt" type="checkbox" checked /> tilt</label>
                        <label><input id="toggleOracle" type="checkbox" /> oracle (calls worker)</label>
                    </div>
                </div>
            </div>

            <div id="gallery" class="grid"></div>

            <div class="panel" style="margin-top: 16px">
                <b style="font-size: 12px; letter-spacing: 0.1em; text-transform: uppercase">Live data (oracle)</b>
                <div class="sub" style="margin-top: 6px">
                    Enter a real address and enable <code>oracle</code> to load real metrics from the deployed worker.
                </div>
                <div class="controls" style="margin-top: 12px">
                    <button id="walletConnect" class="btn" type="button">connect wallet</button>
                    <span id="walletStatus" class="sub" style="margin: 0"></span>
                    <label>
                        address
                        <input id="liveAddress" type="text" placeholder="bc1q..." autocomplete="off" />
                    </label>
                    <label>
                        pubkey (optional)
                        <input id="livePubkey" type="text" placeholder="02ab..." autocomplete="off" />
                    </label>
                    <button id="liveRender" class="btn" type="button">render</button>
                </div>
                <div id="liveMount" class="mount" style="margin-top: 14px"></div>
            </div>

            <div class="panel" style="margin-top: 16px">
                <b style="font-size: 12px; letter-spacing: 0.1em; text-transform: uppercase">Rarity Showcase</b>
                <div class="sub" style="margin-top: 6px">
                    Borders are driven by <code>activityScore</code> thresholds.
                </div>
                <div id="rarities" class="raritygrid"></div>
            </div>

            <div class="panel" style="margin-top: 16px">
                <b style="font-size: 12px; letter-spacing: 0.1em; text-transform: uppercase">Effects Showcase</b>
                <div class="sub" style="margin-top: 6px">
                    Curated cards to demonstrate individual and combined effects (flip some cards to see back
                    watermark).
                </div>
                <div id="effects" class="smallgrid"></div>
            </div>

            <div class="panel" style="margin-top: 16px">
                <b style="font-size: 12px; letter-spacing: 0.1em; text-transform: uppercase">Badge Showcase</b>
                <div class="sub" style="margin-top: 6px">
                    Each card below has exactly one badge to preview rendering and mapping.
                </div>
                <div id="badges" class="smallgrid"></div>
            </div>

            <div class="hint">
                Files you will mint:
                <div style="margin-top: 8px">
                    1) <code>recursive_inscriptions/fennec_lib_v2.js</code> (JS inscription)<br />
                    2) <code>recursive_inscriptions/fennec_config_v1.json</code> (config inscription)<br />
                    3) Images listed in <code>recursive_inscriptions/assets_manifest_v1.json</code>
                </div>
            </div>
        </div>

        <script src="./fennec_lib_v2.js"></script>
        <script>
            function setMeta(name, value) {
                let el = document.querySelector(`meta[name="${name}"]`);
                if (!el) {
                    el = document.createElement('meta');
                    el.setAttribute('name', name);
                    document.head.appendChild(el);
                }
                el.setAttribute('content', String(value || ''));
            }

            const QS = new URLSearchParams(window.location.search);

            function makeConfig() {
                const enableFlip = document.getElementById('toggleFlip').checked;
                const enableTilt = document.getElementById('toggleTilt').checked;
                const enableOracle = document.getElementById('toggleOracle').checked;

                return {
                    version: 1,
                    theme: 'default',
                    features: { enableFlip, enableTilt },
                    oracle: {
                        enabled: enableOracle,
                        endpoint: 'https://fennec-api.warninghejo.workers.dev',
                        action: 'fractal_audit',
                        timeoutMs: 8000,
                        showSyncFx: true
                    },
                    assets: {
                        backgrounds: {
                            '*': '../img/drifter.png',
                            DRIFTER: '../img/drifter.png',
                            WALKER: '../img/walker.png',
                            KEEPER: '../img/keeper.png',
                            ENGINEER: '../img/engineer.png',
                            MERCHANT: '../img/merchant.png',
                            SHAMAN: '../img/shaman.png',
                            LORD: '../img/oasis.png',
                            PRIME: '../img/prime.png',
                            SINGULARITY: '../img/singularity.png'
                        },
                        badges: {
                            GENESIS: '../img/badge_genesis.png',
                            WHALE: '../img/badge_whale.png',
                            PROVIDER: '../img/badge_provider.png',
                            'FENNEC MAXI': '../img/badge_maxi.png',
                            'ARTIFACT HUNTER': '../img/badge_collector.png',
                            'RUNE KEEPER': '../img/badge_rune.png',
                            'MEMPOOL RIDER': '../img/badge_mempool_rider.png',
                            'SAND SWEEPER': '../img/badge_sweeper.png'
                        },
                        misc: {
                            LOGO: '',
                            WATERMARK: ''
                        }
                    }
                };
            }

            const ARCHETYPES = [
                'DRIFTER',
                'WALKER',
                'KEEPER',
                'ENGINEER',
                'MERCHANT',
                'SHAMAN',
                'LORD',
                'PRIME',
                'SINGULARITY'
            ];

            const TITLES = {
                DRIFTER: ['DESERT RUNNER', 'SAND WANDERER', 'DUNE NOMAD', 'STORM SURFER'],
                MERCHANT: ['CARAVAN MERCHANT', 'GOLD TRADER', 'OASIS KING', 'DESERT TYCOON'],
                ENGINEER: ['CODE ENGINEER', 'SYSTEM BUILDER', 'NEURAL ARCHITECT', 'QUANTUM ENGINEER'],
                SHAMAN: ['RUNE SHAMAN', 'RUNE SEER', 'RUNE PROPHET', 'RUNE DEITY'],
                KEEPER: ['KEEPER OF LORE', 'CHRONICLER', 'GRAND ARCHIVIST', 'OMNISCIENT'],
                WALKER: ['FIRST WALKER', 'ANCIENT WALKER', 'PRIMORDIAL', 'TIMELESS ENTITY'],
                LORD: ['OASIS LORD', 'TERMINAL BARON', 'FRACTAL KING', 'EMPEROR'],
                PRIME: ['FRACTAL PRIME', 'APEX PRIME', 'OMEGA PRIME', 'PRIME ABSOLUTE'],
                SINGULARITY: ['THE SINGULARITY', 'THE SINGULARITY', 'THE SINGULARITY', 'THE SINGULARITY']
            };

            const BADGE_ORDER = [
                'GENESIS',
                'WHALE',
                'PROVIDER',
                'FENNEC MAXI',
                'ARTIFACT HUNTER',
                'RUNE KEEPER',
                'MEMPOOL RIDER',
                'SAND SWEEPER'
            ];

            function seeded(n) {
                let x = n >>> 0;
                x ^= x << 13;
                x ^= x >>> 17;
                x ^= x << 5;
                return (x >>> 0) / 4294967296;
            }

            function seedFrom(baseKey, tierLevel, idx) {
                const s = `${baseKey}:${tierLevel}:${idx}`;
                let h = 2166136261;
                for (let i = 0; i < s.length; i++) {
                    h ^= s.charCodeAt(i);
                    h = Math.imul(h, 16777619);
                }
                return h >>> 0;
            }

            function clamp(n, a, b) {
                return Math.max(a, Math.min(b, n));
            }

            function fmt2(n) {
                return (Math.round(n * 100) / 100).toFixed(2);
            }

            function buildDna(baseKey, tierLevel, idx) {
                const isMaxOnly = baseKey === 'PRIME' || baseKey === 'SINGULARITY';
                const t = isMaxOnly ? 3 : tierLevel;

                const title = (TITLES[baseKey] || TITLES.DRIFTER)[t] || baseKey;
                const tierLabel = isMaxOnly ? 'MAX' : `TIER ${t}`;

                const r0 = seeded(seedFrom(baseKey, t, idx));
                const r1 = seeded(seedFrom(baseKey, t, idx + 7));
                const r2 = seeded(seedFrom(baseKey, t, idx + 13));

                const daysAlive = Math.round(10 + r0 * (t === 0 ? 30 : t === 1 ? 120 : t === 2 ? 260 : 520));
                const txBase = t === 0 ? 12 : t === 1 ? 240 : t === 2 ? 1600 : 8500;
                const txCount = Math.round(txBase + r1 * (txBase * 0.6));
                const scoreBase = t === 0 ? 8 : t === 1 ? 28 : t === 2 ? 55 : 82;
                const activityScore = clamp(Math.round(scoreBase + r2 * 16), 0, 100);
                const worthBase = t === 0 ? 12 : t === 1 ? 80 : t === 2 ? 260 : 980;
                const netWorth = worthBase + r1 * worthBase * 0.8;

                const fbPrice = 1.0;
                const fbBase = t === 0 ? 0.02 : t === 1 ? 0.8 : t === 2 ? 4.2 : 18;
                const fbTotal = fbBase + r0 * fbBase * 1.6;
                const lpValueUSD = (t === 0 ? 0 : t === 1 ? 12 : t === 2 ? 55 : 220) + r2 * (t === 0 ? 0 : 80);
                const abandonedUtxoCount = Math.round(r1 * (t === 0 ? 35 : t === 1 ? 90 : t === 2 ? 180 : 320));

                const fennecBase = t === 0 ? 50 : t === 1 ? 800 : t === 2 ? 6500 : 25000;
                const fennecBalance = fennecBase + r2 * fennecBase * 0.75;

                const rarityName = t === 0 ? 'CUB' : t === 1 ? 'SCOUT' : t === 2 ? 'HUNTER' : 'SPIRIT';
                const hasFennecSoul = t >= 2;

                let badgesCount = t === 0 ? 0 : t === 1 ? 2 : t === 2 ? 4 : 7;
                if (baseKey === 'PRIME') badgesCount = 8;
                if (baseKey === 'SINGULARITY') badgesCount = 8;

                const badges = BADGE_ORDER.slice(0, badgesCount).map(name => ({ name }));

                const inscriptionStats = {
                    runes: Math.round((t === 0 ? 0 : t === 1 ? 2 : t === 2 ? 15 : 40) + r2 * (t === 0 ? 0 : 60)),
                    ordinals: Math.round((t === 0 ? 0 : t === 1 ? 1 : t === 2 ? 10 : 35) + r0 * (t === 0 ? 0 : 50))
                };
                inscriptionStats.total = inscriptionStats.runes + inscriptionStats.ordinals;

                const addrTail = String(Math.floor(100000 + r0 * 899999));

                return {
                    address: `bc1q-preview-${baseKey.toLowerCase()}-${addrTail}`,
                    archetype: { baseKey, title, tierLevel: t, tierLabel },
                    badges,
                    metrics: {
                        rarityName,
                        wealth: fmt2(netWorth),
                        netWorthUSD: fmt2(netWorth),
                        fbPrice,
                        fbTotal: fbTotal.toFixed(4),
                        lpValueUSD: fmt2(lpValueUSD),
                        txCount,
                        daysAlive,
                        activityScore,
                        fennecBalance: fmt2(fennecBalance),
                        hasFennecSoul,
                        abandonedUtxoCount,
                        inscriptionStats
                    }
                };
            }

            function buildDnaWithScore(baseKey, tierLevel, idx, forcedScore) {
                const dna = buildDna(baseKey, tierLevel, idx);
                dna.metrics.activityScore = clamp(Number(forcedScore) || 0, 0, 100);
                return dna;
            }

            function mountCard(container, dna, config) {
                const scene = window.FennecIDLib.createCard(dna, config);
                container.appendChild(scene);
            }

            function renderLive(config) {
                const mount = document.getElementById('liveMount');
                if (!mount) return;
                mount.innerHTML = '';

                const address = String(document.getElementById('liveAddress')?.value || '').trim();
                const pubkey = String(document.getElementById('livePubkey')?.value || '').trim();
                setMeta('fennec-pubkey', pubkey);

                if (!address) {
                    const hint = document.createElement('div');
                    hint.className = 'sub';
                    hint.textContent = 'Enter address to preview live oracle.';
                    mount.appendChild(hint);
                    return;
                }

                const dna = {
                    address,
                    archetype: { baseKey: 'DRIFTER', title: 'SYNCING', tierLabel: '', tierLevel: 0 },
                    badges: [],
                    fxKey: 'holo-wave',
                    metrics: {
                        rarityName: 'CUB',
                        wealth: '0.00',
                        txCount: 0,
                        daysAlive: 0,
                        activityScore: 0,
                        fennecBalance: '0.00',
                        hasFennecSoul: false
                    }
                };

                mountCard(mount, dna, config);
            }

            function setWalletStatus(text) {
                const el = document.getElementById('walletStatus');
                if (!el) return;
                el.textContent = String(text || '');
            }

            async function connectUniSat() {
                const btn = document.getElementById('walletConnect');
                if (btn) btn.disabled = true;
                setWalletStatus('');

                try {
                    if (!window.unisat) {
                        setWalletStatus('UniSat not found. Install/enable the extension.');
                        return;
                    }

                    let accounts = [];
                    if (typeof window.unisat.requestAccounts === 'function') {
                        accounts = await window.unisat.requestAccounts();
                    } else if (typeof window.unisat.getAccounts === 'function') {
                        accounts = await window.unisat.getAccounts();
                    }

                    const address = Array.isArray(accounts) && accounts.length ? String(accounts[0] || '').trim() : '';
                    if (!address) {
                        setWalletStatus('No address returned from UniSat.');
                        return;
                    }

                    let pubkey = '';
                    try {
                        if (typeof window.unisat.getPublicKey === 'function')
                            pubkey = await window.unisat.getPublicKey();
                    } catch (_) {
                        pubkey = '';
                    }

                    document.getElementById('liveAddress').value = address;
                    document.getElementById('livePubkey').value = pubkey || '';

                    // Enable oracle automatically for real-data test
                    document.getElementById('toggleOracle').checked = true;

                    setWalletStatus(`connected: ${address.slice(0, 6)}‚Ä¶${address.slice(-6)}`);
                    renderLive(makeConfig());

                    if (typeof window.unisat.on === 'function') {
                        try {
                            window.unisat.on('accountsChanged', accs => {
                                const a = Array.isArray(accs) && accs.length ? String(accs[0] || '').trim() : '';
                                if (a) {
                                    document.getElementById('liveAddress').value = a;
                                    setWalletStatus(`connected: ${a.slice(0, 6)}‚Ä¶${a.slice(-6)}`);
                                    renderLive(makeConfig());
                                }
                            });
                        } catch (_) {}
                    }
                } catch (e) {
                    setWalletStatus(e && e.message ? e.message : String(e));
                } finally {
                    if (btn) btn.disabled = false;
                }
            }

            function rebuild() {
                const config = makeConfig();
                const gallery = document.getElementById('gallery');
                const badges = document.getElementById('badges');
                const rarities = document.getElementById('rarities');
                const effects = document.getElementById('effects');
                gallery.innerHTML = '';
                badges.innerHTML = '';
                rarities.innerHTML = '';
                effects.innerHTML = '';

                for (const baseKey of ARCHETYPES) {
                    const tiers = baseKey === 'PRIME' || baseKey === 'SINGULARITY' ? [3] : [0, 1, 2, 3];
                    for (const tier of tiers) {
                        const cell = document.createElement('div');
                        cell.className = 'cell';
                        const head = document.createElement('div');
                        head.className = 'cell-title';
                        head.innerHTML = `<b>${baseKey}</b><span>TIER ${tier}</span>`;
                        const mount = document.createElement('div');
                        mount.className = 'mount';
                        cell.appendChild(head);
                        cell.appendChild(mount);
                        gallery.appendChild(cell);

                        const dna = buildDna(baseKey, tier, tier);
                        dna.fxKey = baseKey === 'ENGINEER' ? 'scanlines' : 'reactive-sheen';
                        mountCard(mount, dna, config);
                    }
                }

                const raritySamples = [
                    { label: 'CUB (0-29)', score: 12, tier: 0 },
                    { label: 'SCOUT (30-49)', score: 35, tier: 1 },
                    { label: 'HUNTER (50-64)', score: 55, tier: 2 },
                    { label: 'ALPHA (65-79)', score: 70, tier: 2 },
                    { label: 'ELDER (80-94)', score: 85, tier: 3 },
                    { label: 'SPIRIT (95-100)', score: 97, tier: 3 }
                ];

                for (const sample of raritySamples) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    const head = document.createElement('div');
                    head.className = 'cell-title';
                    head.innerHTML = `<b>${sample.label}</b><span>score ${sample.score}</span>`;
                    const mount = document.createElement('div');
                    mount.className = 'mount';
                    cell.appendChild(head);
                    cell.appendChild(mount);
                    rarities.appendChild(cell);

                    const dna = buildDnaWithScore('DRIFTER', sample.tier, sample.score, sample.score);
                    dna.fxKey = 'reactive-sheen';
                    mountCard(mount, dna, config);
                }

                const curatedSamples = [
                    {
                        label: 'ALL EFFECTS (max combo)',
                        detail: 'SPIRIT + SOUL + goldShine + VFX-3D + back watermark',
                        dna: (() => {
                            const d = buildDnaWithScore('MERCHANT', 3, 909, 97);
                            d.metrics.hasFennecSoul = true;
                            d.metrics.activityScore = 97;
                            d.fxKey = 'aurora-flow';
                            return d;
                        })()
                    },
                    {
                        label: 'GOLD SHINE (preview goldShine)',
                        detail: 'MERCHANT overlay + Tier 1 breathe',
                        dna: (() => {
                            const d = buildDna('MERCHANT', 1, 101);
                            d.fxKey = 'prism-ribbon';
                            return d;
                        })()
                    },
                    {
                        label: 'SOUL GLOW',
                        detail: 'Tier 2 (SOUL active) + VFX-3D',
                        dna: (() => {
                            const d = buildDna('DRIFTER', 2, 202);
                            d.fxKey = 'photon-ring';
                            return d;
                        })()
                    },
                    {
                        label: 'ENGINEER GLITCH',
                        detail: 'ENGINEER overlay + Tier 2 glitch',
                        dna: (() => {
                            const d = buildDna('ENGINEER', 2, 303);
                            d.fxKey = 'scanlines';
                            return d;
                        })()
                    },
                    {
                        label: 'ENGINEER T3 (heavy)',
                        detail: 'ENGINEER overlay + Tier 3 glitch',
                        dna: (() => {
                            const d = buildDna('ENGINEER', 3, 404);
                            d.fxKey = 'neon-grid';
                            return d;
                        })()
                    },
                    {
                        label: 'ELDER BORDER',
                        detail: 'score 85 (border + stronger overlay)',
                        dna: (() => {
                            const d = buildDnaWithScore('DRIFTER', 3, 505, 85);
                            d.fxKey = 'glass-shards';
                            return d;
                        })()
                    },
                    {
                        label: 'SPIRIT BORDER',
                        detail: 'score 97 (border + stronger overlay)',
                        dna: (() => {
                            const d = buildDnaWithScore('DRIFTER', 3, 606, 97);
                            d.fxKey = 'holo-wave';
                            return d;
                        })()
                    },
                    {
                        label: 'WATERMARK (back)',
                        detail: 'Flip card to see watermark + header',
                        dna: (() => {
                            const d = buildDna('DRIFTER', 1, 707);
                            d.fxKey = 'sandstorm';
                            return d;
                        })()
                    }
                ];

                const usedFx = new Set(
                    curatedSamples
                        .map(s => (s && s.dna ? String(s.dna.fxKey || '') : ''))
                        .map(s => s.trim())
                        .filter(Boolean)
                );

                const fxDemos = [
                    { key: 'reactive-sheen', label: 'REACTIVE SHEEN' },
                    { key: 'prism-ribbon', label: 'PRISM RIBBON' },
                    { key: 'scanlines', label: 'SCANLINES' },
                    { key: 'stardust', label: 'STARDUST' },
                    { key: 'aurora-flow', label: 'AURORA FLOW' },
                    { key: 'glass-shards', label: 'GLASS SHARDS' },
                    { key: 'sandstorm', label: 'SANDSTORM' },
                    { key: 'neon-grid', label: 'NEON GRID' },
                    { key: 'emberfall', label: 'EMBERFALL' },
                    { key: 'photon-ring', label: 'PHOTON RING' },
                    { key: 'holo-wave', label: 'HOLO WAVE' }
                ].filter(fx => fx && fx.key && !usedFx.has(String(fx.key).trim()));

                const effectSamples = [
                    ...curatedSamples,
                    ...fxDemos.map((fx, i) => ({
                        label: `FX ‚Äî ${fx.label}`,
                        detail: `dna.fxKey = ${fx.key}`,
                        dna: (() => {
                            const d = buildDna('DRIFTER', 2, 800 + i);
                            d.fxKey = fx.key;
                            return d;
                        })()
                    }))
                ];

                for (const sample of effectSamples) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    const head = document.createElement('div');
                    head.className = 'cell-title';
                    head.innerHTML = `<b>${sample.label}</b><span>${sample.detail}</span>`;
                    const mount = document.createElement('div');
                    mount.className = 'mount';
                    cell.appendChild(head);
                    cell.appendChild(mount);
                    effects.appendChild(cell);

                    mountCard(mount, sample.dna, config);
                }

                for (const name of BADGE_ORDER) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    const head = document.createElement('div');
                    head.className = 'cell-title';
                    head.innerHTML = `<b>${name}</b><span>single</span>`;
                    const mount = document.createElement('div');
                    mount.className = 'mount';
                    cell.appendChild(head);
                    cell.appendChild(mount);
                    badges.appendChild(cell);

                    const dna = {
                        address: 'bc1q-preview-address',
                        archetype: { baseKey: 'DRIFTER', title: 'BADGE PREVIEW', tierLevel: 1, tierLabel: '' },
                        badges: [{ name }],
                        fxKey: 'reactive-sheen',
                        metrics: {
                            rarityName: 'SCOUT',
                            wealth: '0.00',
                            txCount: 0,
                            hasFennecSoul: false,
                            activityScore: 35
                        }
                    };
                    mountCard(mount, dna, config);
                }

                renderLive(config);
            }

            const qpOracle = QS.get('oracle');
            const qpAddress = QS.get('address') || '';
            const qpPubkey = QS.get('pubkey') || '';
            if (qpOracle === '1' || qpOracle === 'true') document.getElementById('toggleOracle').checked = true;
            if (qpAddress) document.getElementById('liveAddress').value = qpAddress;
            if (qpPubkey) document.getElementById('livePubkey').value = qpPubkey;

            document.getElementById('toggleFlip').addEventListener('change', rebuild);
            document.getElementById('toggleTilt').addEventListener('change', rebuild);
            document.getElementById('toggleOracle').addEventListener('change', rebuild);
            document.getElementById('liveRender').addEventListener('click', () => renderLive(makeConfig()));
            document.getElementById('walletConnect').addEventListener('click', connectUniSat);

            rebuild();
        </script>
    </body>
</html>

==================================================
FILE PATH: \.eslintrc.json
==================================================

{
    "env": {
        "browser": true,
        "es2021": true,
        "node": true,
        "worker": true
    },
    "extends": ["eslint:recommended"],
    "parserOptions": {
        "ecmaVersion": "latest",
        "sourceType": "module"
    },
    "rules": {
        "no-unused-vars": ["warn", { "argsIgnorePattern": "^_" }],
        "no-console": "off",
        "no-debugger": "warn",
        "semi": ["error", "always"],
        "quotes": ["error", "single", { "avoidEscape": true }],
        "indent": ["error", 4, { "SwitchCase": 1 }],
        "max-len": ["warn", { "code": 120, "ignoreUrls": true, "ignoreStrings": true }],
        "no-var": "error",
        "prefer-const": "warn"
    },
    "globals": {
        "window": "readonly",
        "document": "readonly",
        "navigator": "readonly",
        "localStorage": "readonly",
        "fetch": "readonly",
        "console": "readonly"
    }
}

==================================================
FILE PATH: \ai_studio_code.html
==================================================

--- START OF FILE asset_prep_v2.html ---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fennec ID - Asset Prep V2 (Fixed)</title>
        <style>
            :root {
                --bg: #060607;
                --panel: rgba(255, 255, 255, 0.06);
                --line: rgba(255, 255, 255, 0.1);
                --text: rgba(255, 255, 255, 0.92);
                --muted: rgba(255, 255, 255, 0.65);
                --fennec: #ff6b35;
                --tier0: #a1a1aa;
                --tier1: #4ade80;
                --tier2: #60a5fa;
                --tier3: #facc15;
                --unique: #d8b4fe; /* Purple for Prime/Singularity */
            }
            html,
            body {
                margin: 0;
                padding: 0;
                background:
                    radial-gradient(1200px 900px at 50% -20%, rgba(255, 107, 53, 0.15), transparent 60%),
                    radial-gradient(900px 700px at 30% 120%, rgba(59, 130, 246, 0.12), transparent 60%), var(--bg);
                color: var(--text);
                font-family:
                    system-ui,
                    -apple-system,
                    sans-serif;
            }
            .wrap {
                max-width: 1100px;
                margin: 0 auto;
                padding: 20px 16px 48px;
            }
            h1 {
                margin: 0;
                font-size: 18px;
                letter-spacing: 0.1em;
                text-transform: uppercase;
                color: var(--fennec);
            }
            .sub {
                margin-top: 8px;
                color: var(--muted);
                font-size: 13px;
                line-height: 1.5;
            }
            .panel {
                margin-top: 14px;
                background: var(--panel);
                border: 1px solid var(--line);
                border-radius: 16px;
                padding: 16px;
            }
            .row {
                display: flex;
                flex-wrap: wrap;
                gap: 12px;
                align-items: center;
            }
            label {
                display: flex;
                gap: 8px;
                align-items: center;
                font-size: 12px;
                color: var(--muted);
                font-weight: 600;
                text-transform: uppercase;
            }
            input[type='number'],
            select {
                width: 80px;
                padding: 8px 10px;
                border-radius: 8px;
                border: 1px solid rgba(255, 255, 255, 0.14);
                background: rgba(0, 0, 0, 0.3);
                color: var(--text);
                font-family: monospace;
            }
            button {
                cursor: pointer;
                padding: 12px 16px;
                border-radius: 10px;
                border: 1px solid rgba(255, 255, 255, 0.14);
                background: rgba(255, 107, 53, 0.15);
                color: var(--text);
                font-weight: 800;
                letter-spacing: 0.05em;
                text-transform: uppercase;
                transition: all 0.2s;
            }
            button:hover {
                background: rgba(255, 107, 53, 0.25);
                border-color: var(--fennec);
            }
            .log {
                margin-top: 14px;
                white-space: pre-wrap;
                font-size: 11px;
                font-family: monospace;
                color: rgba(255, 255, 255, 0.7);
                line-height: 1.4;
                max-height: 200px;
                overflow-y: auto;
                background: rgba(0, 0, 0, 0.3);
                padding: 10px;
                border-radius: 8px;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
                gap: 10px;
                margin-top: 12px;
            }
            .card {
                border: 1px solid rgba(255, 255, 255, 0.08);
                border-radius: 12px;
                padding: 8px;
                background: rgba(0, 0, 0, 0.2);
                transition: 0.2s;
            }
            .card.found {
                border-color: rgba(34, 197, 94, 0.4);
                background: rgba(34, 197, 94, 0.05);
            }
            .card.missing {
                opacity: 0.5;
            }
            .card b {
                display: block;
                font-size: 10px;
                letter-spacing: 0.05em;
                text-transform: uppercase;
                margin-bottom: 4px;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }
            .card span {
                display: block;
                color: var(--muted);
                font-size: 9px;
                font-family: monospace;
                word-break: break-all;
            }
            .thumb {
                margin-top: 6px;
                width: 100%;
                aspect-ratio: 1/1;
                border-radius: 8px;
                border: 1px solid rgba(255, 255, 255, 0.05);
                background: rgba(0, 0, 0, 0.3);
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
                position: relative;
            }
            .thumb img {
                width: 100%;
                height: 100%;
                object-fit: contain;
            }
            .t0 {
                color: var(--tier0);
            }
            .t1 {
                color: var(--tier1);
            }
            .t2 {
                color: var(--tier2);
            }
            .t3 {
                color: var(--tier3);
            }
            .unique {
                color: var(--unique);
            }

            h2 {
                margin: 24px 0 10px;
                font-size: 14px;
                text-transform: uppercase;
                border-bottom: 1px solid var(--line);
                padding-bottom: 6px;
                color: var(--muted);
            }
        </style>
    </head>
    <body>
        <div class="wrap">
            <h1>Fennec ID ‚Äî Asset Prep V2</h1>
            <div class="sub">
                Prepares images for inscription.<br />
                <b>Evolution Classes:</b> Expects <code>name_t0.png</code> to <code>name_t3.png</code>.<br />
                <b>Ultimate Classes (Prime/Singularity):</b> Expects just <code>prime.png</code> /
                <code>singularity.png</code>.
            </div>

            <div class="panel">
                <div class="row">
                    <label>BG Width <input id="bgW" type="number" value="368" min="128" step="1" /></label>
                    <label>BG Height <input id="bgH" type="number" value="656" min="128" step="1" /></label>
                    <label>Max KB <input id="maxKB" type="number" value="365" min="32" step="1" /></label>
                    <label
                        >BG Format
                        <select id="bgFmt">
                            <option value="image/jpeg" selected>JPEG (Photo)</option>
                            <option value="image/webp">WEBP (Efficient)</option>
                            <option value="image/png">PNG (Lossless)</option>
                        </select>
                    </label>
                    <label
                        >BG Quality <input id="bgQ" type="number" value="0.82" min="0.3" max="0.98" step="0.01"
                    /></label>
                </div>
                <div class="row">
                    <label>Badge Size <input id="bdS" type="number" value="128" min="32" step="1" /></label>
                    <label
                        >Badge Format
                        <select id="bdFmt">
                            <option value="image/png" selected>PNG</option>
                            <option value="image/webp">WEBP</option>
                        </select>
                    </label>
                    <label
                        >Badge Quality <input id="bdQ" type="number" value="0.92" min="0.3" max="0.98" step="0.01"
                    /></label>
                </div>

                <div class="row" style="margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--line)">
                    <label style="flex-grow: 1">
                        1. Select local "img" folder
                        <input
                            id="pickDir"
                            type="file"
                            webkitdirectory
                            directory
                            multiple
                            style="
                                width: 100%;
                                margin-top: 5px;
                                padding: 10px;
                                background: rgba(255, 255, 255, 0.05);
                                border-radius: 8px;
                                border: 1px dashed var(--line);
                            "
                        />
                    </label>
                </div>

                <div class="row" style="margin-top: 16px">
                    <button id="dlBg">Download Backgrounds</button>
                    <button id="dlBgT3">Download T3 (736x1312)</button>
                    <button id="dlBd">Download Badges</button>
                    <button id="dlMisc">Download Misc</button>
                    <button id="dlAll" style="margin-left: auto; border-color: var(--fennec)">Download ALL</button>
                </div>
                <div id="log" class="log">Waiting for folder selection...</div>
            </div>

            <h2>Tiered Backgrounds (T0-T3)</h2>
            <div id="list-bg-tiered" class="grid"></div>

            <h2>Ultimate Backgrounds (Single)</h2>
            <div id="list-bg-single" class="grid"></div>

            <h2>Badges</h2>
            <div id="list-bd" class="grid"></div>

            <h2>Misc Assets</h2>
            <div id="list-misc" class="grid"></div>
        </div>

        <script>
            // --- CONFIGURATION ---

            // 1. Tiered Archetypes (Will generate T0-T3)
            const TIERED_ARCHETYPES = ['DRIFTER', 'MERCHANT', 'ENGINEER', 'SHAMAN', 'KEEPER', 'WALKER', 'LORD'];

            // 2. Single Image Archetypes (Ultimate)
            const SINGLE_ARCHETYPES = ['PRIME', 'SINGULARITY'];

            // 3. Badges List (Old list only)
            const BADGES_CONFIG = [
                { key: 'GENESIS', file: 'badge_genesis.png' },
                { key: 'WHALE', file: 'badge_whale.png' },
                { key: 'PROVIDER', file: 'badge_provider.png' },
                { key: 'FENNEC_MAXI', file: 'badge_maxi.png' },
                { key: 'ARTIFACT_HUNTER', file: 'badge_collector.png' },
                { key: 'RUNE_KEEPER', file: 'badge_rune.png' },
                { key: 'MEMPOOL_RIDER', file: 'badge_mempool_rider.png' },
                { key: 'SAND_SWEEPER', file: 'badge_sweeper.png' }
            ];

            // 4. Misc Assets
            const MISC_CONFIG = [
                { key: 'LOGO', file: 'phav.png' },
                { key: 'HEART', file: 'heart.png' },
                { key: 'WATERMARK', file: 'watermark.png' }
            ];

            // --- GENERATE LISTS ---

            const BACKGROUNDS_TIERED = [];
            TIERED_ARCHETYPES.forEach(arch => {
                for (let i = 0; i <= 3; i++) {
                    BACKGROUNDS_TIERED.push({
                        key: `${arch}_T${i}`,
                        file: `${arch.toLowerCase()}_t${i}.png`, // e.g. engineer_t0.png
                        tier: i
                    });
                }
            });

            const BACKGROUNDS_SINGLE = [];
            SINGLE_ARCHETYPES.forEach(arch => {
                BACKGROUNDS_SINGLE.push({
                    key: arch,
                    file: `${arch.toLowerCase()}.png`, // e.g. prime.png
                    isUnique: true
                });
            });

            const ALL_BACKGROUNDS = [...BACKGROUNDS_TIERED, ...BACKGROUNDS_SINGLE];

            // --- STATE & HELPERS ---

            let pickedFilesByName = null;
            let pickedThumbUrls = [];

            function baseName(path) {
                const s = String(path || '');
                const parts = s.split(/[/\\]/);
                return parts[parts.length - 1] || s;
            }

            function setPickedFiles(fileList) {
                pickedFilesByName = {};
                for (const f of Array.from(fileList || [])) {
                    if (!f || !f.name) continue;
                    pickedFilesByName[String(f.name).toLowerCase()] = f;
                }
            }

            function pickedFileForPath(filename) {
                if (!pickedFilesByName) return null;
                const key = baseName(filename).toLowerCase();
                return pickedFilesByName[key] || null;
            }

            function logLine(s) {
                const el = document.getElementById('log');
                el.textContent = (el.textContent ? el.textContent + '\n' : '') + s;
                el.scrollTop = el.scrollHeight;
            }

            function clearLog() {
                document.getElementById('log').textContent = '';
            }

            async function loadImg(filename) {
                const picked = pickedFileForPath(filename);
                if (picked) {
                    const dataUrl = await new Promise((resolve, reject) => {
                        const reader = new FileReader();
                        reader.onload = () => resolve(String(reader.result || ''));
                        reader.onerror = () => reject(new Error('Read error: ' + picked.name));
                        reader.readAsDataURL(picked);
                    });
                    return await new Promise((resolve, reject) => {
                        const img = new Image();
                        img.onload = () => resolve(img);
                        img.onerror = () => reject(new Error('Decode error: ' + picked.name));
                        img.src = dataUrl;
                    });
                }
                throw new Error(`File not found: ${filename}`);
            }

            function drawContainBottom(ctx, img, outW, outH) {
                ctx.clearRect(0, 0, outW, outH);
                // Contain (no crop, centered)
                const s = Math.min(outW / img.naturalWidth, outH / img.naturalHeight);
                const w = img.naturalWidth * s;
                const h = img.naturalHeight * s;
                const x = (outW - w) / 2;
                const y = (outH - h) / 2;
                ctx.drawImage(img, x, y, w, h);
            }

            function drawContainCenter(ctx, img, outW, outH) {
                ctx.clearRect(0, 0, outW, outH);
                const s = Math.min(outW / img.naturalWidth, outH / img.naturalHeight);
                const w = img.naturalWidth * s;
                const h = img.naturalHeight * s;
                const x = (outW - w) / 2;
                const y = (outH - h) / 2;
                ctx.drawImage(img, x, y, w, h);
            }

            async function downloadBlob(blob, filename) {
                if (!blob) throw new Error('Encoding failed: ' + filename);
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                a.remove();
                setTimeout(() => URL.revokeObjectURL(url), 1000);
            }

            async function canvasToBlob(canvas, mimeType, quality) {
                return await new Promise(resolve => canvas.toBlob(resolve, mimeType, quality));
            }

            async function encodeCanvasUnderLimit(canvas, { mimeType, quality, maxBytes }) {
                const limit = Number(maxBytes || 0) || 0;
                let q = typeof quality === 'number' ? quality : 0.9;
                const minQ = 0.5;

                for (let i = 0; i < 10; i++) {
                    const blob = await canvasToBlob(canvas, mimeType, q);
                    if (!limit || (blob && blob.size <= limit)) return { blob, quality: q, scaled: 1 };
                    if (mimeType === 'image/png') return { blob, quality: 1, scaled: 1 };
                    q = Math.max(minQ, q - 0.05);
                }

                let scale = 0.9;
                for (let s = 0; s < 5; s++) {
                    const w = Math.max(64, Math.round(canvas.width * scale));
                    const h = Math.max(64, Math.round(canvas.height * scale));
                    const tmp = document.createElement('canvas');
                    tmp.width = w;
                    tmp.height = h;
                    const tctx = tmp.getContext('2d');
                    tctx.imageSmoothingQuality = 'high';
                    tctx.drawImage(canvas, 0, 0, w, h);
                    const blob = await canvasToBlob(tmp, mimeType, q);
                    if (!limit || (blob && blob.size <= limit)) return { blob, quality: q, scaled: scale };
                    scale *= 0.9;
                }
                return { blob: await canvasToBlob(canvas, mimeType, q), quality: q, scaled: scale };
            }

            async function processList(items, outW, outH, maxKB, mimeType, quality, drawFn, namingFn) {
                const maxBytes = Math.max(16 * 1024, Math.floor(maxKB * 1024));
                const canvas = document.createElement('canvas');
                canvas.width = outW;
                canvas.height = outH;
                const ctx = canvas.getContext('2d');

                let count = 0;
                for (const it of items) {
                    try {
                        if (!pickedFileForPath(it.file)) {
                            logLine(`SKIP: ${it.file} (not found)`);
                            continue;
                        }
                        logLine(`Processing ${it.file}...`);
                        const img = await loadImg(it.file);
                        drawFn(ctx, img, outW, outH);
                        const encoded = await encodeCanvasUnderLimit(canvas, {
                            mimeType,
                            quality: mimeType === 'image/png' ? undefined : quality,
                            maxBytes
                        });
                        const ext = mimeType === 'image/webp' ? 'webp' : mimeType === 'image/png' ? 'png' : 'jpg';
                        const kb = (encoded.blob.size / 1024).toFixed(1);
                        const outName = namingFn(it, ext);
                        logLine(`  -> SAVED: ${outName} (${kb} KB)`);
                        await downloadBlob(encoded.blob, outName);
                        count++;
                    } catch (e) {
                        logLine(`  -> FAILED: ${it.file} - ${e.message}`);
                    }
                }
                return count;
            }

            // --- ACTIONS ---

            async function downloadBackgrounds() {
                const outW = Number(document.getElementById('bgW').value) || 720;
                const outH = Number(document.getElementById('bgH').value) || 1040;
                const maxKB = Number(document.getElementById('maxKB').value) || 365;
                const fmt = document.getElementById('bgFmt').value;
                const q = Number(document.getElementById('bgQ').value);

                logLine('--- Starting Backgrounds ---');
                const n = await processList(
                    ALL_BACKGROUNDS,
                    outW,
                    outH,
                    maxKB,
                    fmt,
                    q,
                    drawContainCenter,
                    (it, ext) => {
                        // if it has tier: bg_name_tx_WxH.ext
                        // if single: bg_name_WxH.ext
                        const base = it.key
                            .toLowerCase()
                            .replace('_t0', '')
                            .replace('_t1', '')
                            .replace('_t2', '')
                            .replace('_t3', '');
                        if (it.tier !== undefined) {
                            return `bg_${base}_t${it.tier}_${outW}x${outH}.${ext}`;
                        } else {
                            return `bg_${base}_${outW}x${outH}.${ext}`;
                        }
                    }
                );
                logLine(`--- Finished Backgrounds (${n}) ---`);
            }

            async function downloadBadges() {
                const size = Number(document.getElementById('bdS').value) || 128;
                const maxKB = Number(document.getElementById('maxKB').value) || 365;
                const fmt = document.getElementById('bdFmt').value;
                const q = Number(document.getElementById('bdQ').value);

                logLine('--- Starting Badges ---');
                const n = await processList(BADGES_CONFIG, size, size, maxKB, fmt, q, drawContainCenter, (it, ext) => {
                    return `badge_${it.key.toLowerCase()}_${size}x${size}.${ext}`;
                });
                logLine(`--- Finished Badges (${n}) ---`);
            }

            async function downloadMisc() {
                const size = 256;
                const maxKB = Number(document.getElementById('maxKB').value) || 365;
                const fmt = 'image/png';
                logLine('--- Starting Misc ---');
                const n = await processList(MISC_CONFIG, size, size, maxKB, fmt, 1, drawContainCenter, (it, ext) => {
                    if (it.key === 'LOGO') return `logo.${ext}`;
                    if (it.key === 'HEART') return `heart.${ext}`;
                    if (it.key === 'WATERMARK') return `watermark.${ext}`;
                    return `misc_${it.key.toLowerCase()}.${ext}`;
                });
                logLine(`--- Finished Misc (${n}) ---`);
            }

            async function downloadBackgroundsT3() {
                const outW = 736;
                const outH = 1312;
                const maxKB = Number(document.getElementById('maxKB').value) || 365;
                const fmt = document.getElementById('bgFmt').value;
                const q = Number(document.getElementById('bgQ').value);

                logLine('--- Starting Tier 3 Backgrounds (736x1312) ---');
                const tier3Items = ALL_BACKGROUNDS.filter(it => it.tier === 3 || it.isUnique);
                const n = await processList(tier3Items, outW, outH, maxKB, fmt, q, drawContainCenter, (it, ext) => {
                    const base = it.key.toLowerCase().replace('_t3', '');
                    if (it.tier === 3) {
                        return `bg_${base}_t3_${outW}x${outH}.${ext}`;
                    } else {
                        return `bg_${base}_${outW}x${outH}.${ext}`;
                    }
                });
                logLine(`--- Finished Tier 3 Backgrounds (${n}) ---`);
            }

            async function downloadAll() {
                clearLog();
                await downloadBackgrounds();
                await downloadBackgroundsT3();
                await downloadBadges();
                await downloadMisc();
                logLine('=== ALL DOWNLOADS COMPLETE ===');
            }

            // --- UI ---

            function renderGrid(containerId, items) {
                const el = document.getElementById(containerId);
                el.innerHTML = '';
                for (const it of items) {
                    const card = document.createElement('div');
                    card.className = 'card';
                    const picked = pickedFileForPath(it.file);
                    if (picked) card.classList.add('found');
                    else card.classList.add('missing');

                    let label = it.key;
                    if (it.tier !== undefined) label = `<span class="t${it.tier}">${it.key}</span>`;
                    else if (it.isUnique) label = `<span class="unique">${it.key}</span>`;

                    card.innerHTML = `<b>${label}</b><span>${it.file}</span>`;
                    const thumb = document.createElement('div');
                    thumb.className = 'thumb';
                    if (picked) {
                        const img = document.createElement('img');
                        const u = URL.createObjectURL(picked);
                        pickedThumbUrls.push(u);
                        img.src = u;
                        thumb.appendChild(img);
                    } else {
                        thumb.innerHTML = `<span style="font-size:20px; color:var(--line);">?</span>`;
                    }
                    card.appendChild(thumb);
                    el.appendChild(card);
                }
            }

            function refreshUI() {
                for (const u of pickedThumbUrls) URL.revokeObjectURL(u);
                pickedThumbUrls = [];
                renderGrid('list-bg-tiered', BACKGROUNDS_TIERED);
                renderGrid('list-bg-single', BACKGROUNDS_SINGLE);
                renderGrid('list-bd', BADGES_CONFIG);
                renderGrid('list-misc', MISC_CONFIG);
            }

            document
                .getElementById('dlBg')
                .addEventListener('click', () => downloadBackgrounds().catch(e => logLine('ERR: ' + e)));
            document
                .getElementById('dlBgT3')
                .addEventListener('click', () => downloadBackgroundsT3().catch(e => logLine('ERR: ' + e)));
            document
                .getElementById('dlBd')
                .addEventListener('click', () => downloadBadges().catch(e => logLine('ERR: ' + e)));
            document
                .getElementById('dlMisc')
                .addEventListener('click', () => downloadMisc().catch(e => logLine('ERR: ' + e)));
            document
                .getElementById('dlAll')
                .addEventListener('click', () => downloadAll().catch(e => logLine('ERR: ' + e)));

            document.getElementById('pickDir').addEventListener('change', e => {
                try {
                    setPickedFiles(e.target.files);
                    refreshUI();
                    clearLog();
                    logLine(`Loaded ${e.target.files.length} files.`);
                } catch (err) {
                    logLine('Error: ' + err.message);
                }
            });

            refreshUI();
        </script>
    </body>
</html>

==================================================
FILE PATH: \api_test.json
==================================================


==================================================
FILE PATH: \DEPLOY_INSTRUCTIONS.md
==================================================

# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. ‚úÖ –ó–µ—Ä–∫–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –∫–∞—Ä—Ç–æ—á–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ CSS –ø—Ä–∞–≤–∏–ª–∞ –≤ `index.html`
- –í—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (h1-h6, p, div, span, button, a) —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –±–µ–∑ –∑–µ—Ä–∫–∞–ª–∏–≤–∞–Ω–∏—è

### 2. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–æ–∑—Ä–∞—Å—Ç–∞ (first_tx_ts)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `absoluteNow = Math.floor(Date.now() / 1000)`
- Timestamp `1765409223` (2025 –≥–æ–¥) —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω
- –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ debug –ø–æ–ª—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 3. ‚úÖ Fallback –¥–ª—è networth –ø—Ä–∏ 429 –æ—à–∏–±–∫–∞—Ö
- –ï—Å–ª–∏ `all_balance` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 429, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ FENNEC balance
- –î–æ–±–∞–≤–ª–µ–Ω debug —Ñ–ª–∞–≥ `all_tokens_value_usd_source: 'fallback_fennec_estimate'`

## –ö–∞–∫ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VSE.bat
```cmd
cd "C:\Users\–î–º–∏—Ç—Ä–∏–π\Desktop\Fennec site"
VSE.bat
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Wrangler –≤—Ä—É—á–Ω—É—é
```cmd
cd "C:\Users\–î–º–∏—Ç—Ä–∏–π\Desktop\Fennec site"
wrangler deploy
wrangler pages deploy . --project-name=fennec-site
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –¢–æ–ª—å–∫–æ Worker (–µ—Å–ª–∏ Pages —É–∂–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω)
```cmd
cd "C:\Users\–î–º–∏—Ç—Ä–∏–π\Desktop\Fennec site"
wrangler deploy
```

## –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç `fennecbtc.xyz`
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫
3. –ù–∞–∂–º–∏—Ç–µ "GET YOUR ID"
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
   - –¢–µ–∫—Å—Ç –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º (–Ω–µ –∑–µ—Ä–∫–∞–ª—å–Ω—ã–º)
   - –í–æ–∑—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º (–Ω–µ 359 –¥–Ω–µ–π –≤ –±—É–¥—É—â–µ–º)
   - Networth –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ö–æ—Ç—è –±—ã –ø—Ä–∏–º–µ—Ä–Ω—É—é –æ—Ü–µ–Ω–∫—É (–¥–∞–∂–µ –µ—Å–ª–∏ all_balance –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 429)

## Debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

–ü–æ—Å–ª–µ –∞—É–¥–∏—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ debug JSON:
- `first_tx_absolute_now_check` - —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
- `first_tx_candidate_vs_now` - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ timestamp —Å —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º
- `all_tokens_value_usd_source` - –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è networth
  - `'all_balance_total_usd'` - –¥–∞–Ω–Ω—ã–µ –∏–∑ all_balance API (–ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç)
  - `'calculated_from_prices'` - —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–æ –∏–∑ —Ü–µ–Ω —Ç–æ–∫–µ–Ω–æ–≤
  - `'fallback_fennec_estimate'` - fallback –æ—Ü–µ–Ω–∫–∞ –ø—Ä–∏ 429 –æ—à–∏–±–∫–∞—Ö

## –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –æ—à–∏–±–∫–∏
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ debug JSON –∏–∑ –æ—Ç–≤–µ—Ç–∞ API
3. –°–æ–æ–±—â–∏—Ç–µ, –∫–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã –≤–∏–¥–∏—Ç–µ –¥–ª—è:
   - `first_tx_ts`
   - `first_tx_absolute_now_check`
   - `first_tx_candidate_vs_now`
   - `all_tokens_value_usd`
   - `all_tokens_value_usd_source`


==================================================
FILE PATH: \id.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="fennec-embed" content="0" />
        <meta name="fennec-manifest" content="/recursive_inscriptions/fennec_manifest_live.json" />
        <meta
            name="description"
            content="$FENNEC - The Desert Fox Protocol. Swap, deposit and withdraw on Fractal's fastest DEX with Fennec ID."
        />
        <title>$FENNEC | The Desert Fox Protocol</title>

        <!-- FAVICONS -->
        <link rel="icon" href="img/phav.png" type="image/png" />
        <link rel="apple-touch-icon" href="img/phav.png" />

        <!-- –¶–≤–µ—Ç –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (—á—Ç–æ–±—ã –Ω–∞ –º–æ–±–∏–ª–∫–∞—Ö —Å–ª–∏–≤–∞–ª–æ—Å—å —Å —à–∞–ø–∫–æ–π) -->
        <meta name="theme-color" content="#000000" />

        <!-- Preconnect –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <link rel="preconnect" href="https://cdn.tailwindcss.com" />
        <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="dns-prefetch" href="https://fennec-api.warninghejo.workers.dev" />
        <link rel="dns-prefetch" href="https://open-api-fractal.unisat.io" />

        <!-- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
        <link
            href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;500;700;900&display=swap"
            rel="stylesheet"
            media="print"
            onload="this.media = 'all'"
        />
        <noscript
            ><link
                href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;500;700;900&rel=stylesheet"
        /></noscript>

        <script src="assets/storage_shim.js?v=2026-01-13-1"></script>

        <!-- Custom Styles -->
        <link rel="stylesheet" href="assets/app.css?v=2026-01-13-1" />
    </head>
    <body>
        <!-- DEV CONSOLE INTERCEPTOR - AI Error Analysis -->
        <script src="assets/dev_console_interceptor.js?v=2026-01-13-1"></script>
        <div id="animatedBackground" class="fixed top-0 left-0 w-full h-full pointer-events-none" style="z-index: 0">
            <canvas id="animatedBackgroundCanvas" class="w-full h-full"></canvas>
        </div>

        <!-- Notifications Container -->
        <div
            id="notificationsContainer"
            style="
                position: fixed;
                top: 80px;
                right: 20px;
                z-index: 10000;
                display: flex;
                flex-direction: column;
                gap: 12px;
                align-items: flex-end;
            "
        ></div>

        <!-- HEADER -->
        <header class="fixed w-full z-50 border-b border-white/5 bg-[#2c1a12]/90 backdrop-blur-md">
            <div class="max-w-6xl mx-auto px-4 h-16 grid grid-cols-[1fr_auto_1fr] items-center">
                <a class="flex items-center gap-3 cursor-pointer group" href="index.html" data-link>
                    <img
                        src="img/phav.png"
                        class="neon-logo w-9 h-9 rounded-full border border-fennec/50 group-hover:scale-110 transition shadow-lg shadow-fennec/20 object-contain"
                    />
                    <div>
                        <h1
                            class="font-display font-bold text-xl leading-none tracking-tight text-fennec"
                            style="text-shadow: 0 0 18px rgba(255, 107, 53, 0.35)"
                        >
                            FENNEC
                        </h1>
                    </div>
                </a>

                <nav class="flex gap-8 text-xs font-bold text-gray-400 uppercase tracking-widest justify-self-center">
                    <a
                        href="index.html"
                        class="nav-link hover:text-white transition py-5"
                        id="nav-home"
                        data-t="nav_home"
                        data-link
                    >
                        VISION
                    </a>
                    <a
                        href="terminal.html"
                        class="nav-link hover:text-white transition py-5"
                        id="nav-terminal"
                        data-t="nav_terminal"
                        data-link
                    >
                        TERMINAL
                    </a>
                    <a
                        href="id.html"
                        class="nav-link hover:text-white transition py-5 active"
                        id="nav-audit"
                        data-t="nav_audit"
                        data-link
                    >
                        FENNEC ID
                    </a>
                </nav>

                <div class="flex items-center gap-3 justify-self-end">
                    <a
                        href="https://x.com/FennecBTC"
                        target="_blank"
                        class="text-gray-400 hover:text-white transition flex items-center justify-center text-2xl w-10 h-10"
                        aria-label="Twitter"
                    >
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a
                        href="https://t.me/FennecBTC"
                        target="_blank"
                        class="text-gray-400 hover:text-white transition flex items-center justify-center text-2xl w-10 h-10"
                        aria-label="Telegram"
                    >
                        <i class="fab fa-telegram"></i>
                    </a>
                    <button
                        onclick="window.manualRefresh()"
                        id="refreshBtn"
                        class="hidden bg-gradient-to-br from-fennec/25 via-orange-600/20 to-orange-700/15 text-fennec px-3.5 py-2 rounded-xl font-bold hover:brightness-125 hover:scale-105 transition-all duration-200 text-[11px] border border-fennec/40 flex items-center gap-2 shadow-[0_0_20px_rgba(255,107,53,0.3)] hover:shadow-[0_0_32px_rgba(255,107,53,0.5)] backdrop-blur-sm"
                    >
                        <i id="refreshIcon" class="fas fa-sync-alt"></i>
                        <span id="refreshText">REFRESH</span>
                        <span id="refreshTimer" class="hidden text-[10px] opacity-75"></span>
                    </button>
                    <button
                        onclick="window.disconnectWallet()"
                        id="disconnectBtn"
                        class="hidden bg-red-600/20 text-red-400 px-4 py-2 rounded-lg font-bold hover:bg-red-600/30 transition text-xs border border-red-500/50 flex items-center gap-2"
                    >
                        <i class="fas fa-sign-out-alt"></i> <span id="disconnectBtnText">DISCONNECT</span>
                    </button>
                    <button
                        onclick="window.connectWallet()"
                        id="connectBtn"
                        class="bg-gradient-to-r from-fennec to-orange-600 text-black px-4 py-2 rounded-lg font-bold hover:brightness-110 transition text-xs shadow-[0_0_20px_rgba(255,107,53,0.4)] flex items-center gap-2"
                        data-t="connect"
                    >
                        <i class="fas fa-wallet"></i> <span>CONNECT</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- LIVE TICKER -->
        <div
            id="liveTickerBar"
            class="fixed bottom-0 left-0 right-0 w-full z-[100] py-1 overflow-hidden pointer-events-none flex items-center"
            style="
                background: linear-gradient(
                    90deg,
                    rgba(13, 6, 4, 0.95) 0%,
                    rgba(20, 10, 6, 0.98) 50%,
                    rgba(13, 6, 4, 0.95) 100%
                );
                border-top: 1px solid rgba(255, 107, 53, 0.15);
                box-shadow:
                    0 -4px 20px rgba(255, 107, 53, 0.08),
                    inset 0 1px 0 rgba(255, 107, 53, 0.1);
                backdrop-filter: blur(12px);
                height: 28px;
            "
        >
            <div
                class="ticker-container"
                style="
                    overflow: hidden;
                    position: relative;
                    width: 100%;
                    height: 100%;
                    display: flex;
                    align-items: center;
                "
            >
                <div
                    class="ticker-content"
                    id="liveTicker"
                    style="
                        display: inline-flex;
                        align-items: center;
                        white-space: nowrap;
                        font-size: 13px;
                        font-weight: 700;
                        letter-spacing: 0.05em;
                        text-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
                        line-height: 28px;
                    "
                >
                    <div class="ticker-marquee">
                        <span class="ticker-item text-fennec"
                            ><img
                                src="img/phav.png"
                                class="w-5 h-5 inline-block object-contain"
                                style="filter: drop-shadow(0 0 8px rgba(255, 107, 53, 0.5))"
                            />
                            <span>FENNEC SYSTEM ONLINE</span></span
                        >
                    </div>
                </div>
            </div>
        </div>

        <main id="router-view" class="router-view">
            <template id="sec-home-template">
                <!-- === SECTION 1: HOME (MISSION) === -->
                <section id="sec-home" class="page-section flex flex-col justify-start pt-32 pb-24 relative z-10">
                    <div class="hero-fox-bg"></div>
                    <div class="max-w-5xl mx-auto px-6 relative">
                        <!-- Hero -->
                        <div class="text-center mb-24">
                            <div
                                class="inline-flex items-center gap-2 mb-6 px-4 py-1.5 rounded-full border border-fennec/30 bg-fennec/5 text-fennec text-[10px] uppercase tracking-widest font-bold"
                            >
                                <span class="w-2 h-2 rounded-full bg-fennec animate-pulse"></span>
                                <span>Fractal Bitcoin</span>
                            </div>
                            <h1
                                class="text-5xl md:text-7xl font-black font-display mb-6 leading-tight"
                                style="text-shadow: 0 0 24px rgba(255, 107, 53, 0.35)"
                            >
                                <span class="text-fennec" style="text-shadow: 0 0 24px rgba(255, 107, 53, 0.35)"
                                    >FENNEC</span
                                ><br /><span
                                    class="text-transparent bg-clip-text bg-gradient-to-r from-fennec via-orange-400 to-yellow-200"
                                    >FRONTIER</span
                                >
                            </h1>
                            <p
                                class="text-gray-300 text-lg max-w-2xl mx-auto mb-10 leading-relaxed font-light"
                                data-t="hero_desc"
                            >
                                The tactical layer for Fractal Bitcoin. Execute swaps with precision, visualize your
                                on-chain legacy, and navigate the ecosystem with AI.
                            </p>

                            <div class="flex flex-col md:flex-row justify-center gap-4">
                                <button
                                    onclick="window.showSection('terminal')"
                                    class="bg-fennec text-black px-8 py-4 rounded-xl font-bold text-lg hover:scale-105 transition shadow-[0_0_30px_rgba(255,107,53,0.5)] flex items-center justify-center gap-2"
                                    data-t="enter_app"
                                >
                                    <span>ENTER TERMINAL</span> <i class="fas fa-terminal"></i>
                                </button>
                                <button
                                    onclick="window.onVisionFennecIdClick()"
                                    id="visionFennecIdBtn"
                                    class="border border-fennec/30 bg-fennec/5 text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-fennec/10 transition flex items-center justify-center gap-2"
                                >
                                    <span id="visionFennecIdBtnText">FENNEC ID</span> <i class="fas fa-id-card"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Features Grid -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12">
                            <div
                                class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                            >
                                <div
                                    class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                                >
                                    <i class="fas fa-laptop-code"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2" data-t="feat_ui_title">
                                    Tactical Terminal
                                </h3>
                                <p class="text-gray-400 text-sm leading-relaxed" data-t="feat_ui_desc">
                                    An optimized aggregation interface. We cut through the noise to give you the most
                                    efficient execution on the network.
                                </p>
                            </div>
                            <div
                                class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                            >
                                <div
                                    class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                                >
                                    <i class="fas fa-robot"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2" data-t="feat_ai_title">AI Navigator</h3>
                                <p class="text-gray-400 text-sm leading-relaxed" data-t="feat_ai_desc">
                                    Your co-pilot in the dunes. Analyze chain data and get real-time guidance without
                                    leaving the terminal.
                                </p>
                            </div>
                            <div
                                class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                            >
                                <div
                                    class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                                >
                                    <i class="fas fa-paw"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2" data-t="feat_comm_title">
                                    Access &amp; Status
                                </h3>
                                <p class="text-gray-400 text-sm leading-relaxed" data-t="feat_comm_desc">
                                    $FENNEC is the key to the ecosystem. Hold to unlock premium ID features, visual
                                    upgrades, and future protocol tiers.
                                </p>
                            </div>
                            <div
                                class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                            >
                                <div
                                    class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                                >
                                    <i class="fas fa-id-card"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2">Identity Protocol</h3>
                                <p class="text-gray-400 text-sm leading-relaxed">
                                    A proprietary standard for on-chain reputation. Dynamic, evolving 3D cards that
                                    immortalize your journey forever.
                                </p>
                            </div>
                        </div>

                        <!-- Evolution Story (Island Journey) -->
                        <div class="mb-12 relative overflow-hidden text-center">
                            <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2 justify-center">
                                <i class="fas fa-map-marked-alt text-fennec"></i>
                                <span data-t="evo_title">Fennec Evolution</span>
                            </h3>
                            <p class="text-gray-300 text-sm leading-relaxed mb-6 max-w-2xl mx-auto" data-t="evo_text1">
                                Journey across the islands of evolution. Each island marks a milestone in our voyage
                                through the Fractal seas.
                            </p>

                            <!-- Ocean & Journey Path -->
                            <div
                                class="hidden md:block relative h-32 mb-8"
                                style="
                                    background: linear-gradient(
                                        180deg,
                                        transparent 0%,
                                        rgba(59, 130, 246, 0.03) 40%,
                                        rgba(59, 130, 246, 0.08) 100%
                                    );
                                    border-radius: 24px;
                                    overflow: hidden;
                                    visibility: hidden;
                                    height: 0;
                                    margin: 0;
                                "
                            >
                                <!-- Waves -->
                                <div
                                    class="absolute inset-0 opacity-20"
                                    style="
                                        background: repeating-linear-gradient(
                                            90deg,
                                            transparent 0px,
                                            rgba(255, 255, 255, 0.05) 40px,
                                            transparent 80px
                                        );
                                        animation: wave 8s linear infinite;
                                    "
                                ></div>
                                <div
                                    class="absolute inset-0 opacity-10"
                                    style="
                                        background: repeating-linear-gradient(
                                            90deg,
                                            transparent 0px,
                                            rgba(255, 255, 255, 0.03) 60px,
                                            transparent 120px
                                        );
                                        animation: wave 12s linear infinite reverse;
                                    "
                                ></div>

                                <svg
                                    viewBox="0 0 1200 160"
                                    preserveAspectRatio="none"
                                    class="absolute inset-0 w-full h-full"
                                >
                                    <defs>
                                        <linearGradient id="seaPath" x1="0" y1="0" x2="1" y2="0">
                                            <stop offset="0%" stop-color="rgba(34,197,94,0.4)" />
                                            <stop offset="33%" stop-color="rgba(255,107,53,0.6)" />
                                            <stop offset="66%" stop-color="rgba(168,85,247,0.5)" />
                                            <stop offset="100%" stop-color="rgba(59,130,246,0.4)" />
                                        </linearGradient>
                                        <filter id="islandGlow" x="-50%" y="-50%" width="200%" height="200%">
                                            <feGaussianBlur stdDeviation="8" result="blur" />
                                            <feMerge>
                                                <feMergeNode in="blur" />
                                                <feMergeNode in="SourceGraphic" />
                                            </feMerge>
                                        </filter>
                                    </defs>

                                    <!-- Journey path (dotted line connecting islands) -->
                                    <path
                                        d="M 100 90 Q 250 60, 400 85 T 700 75 T 1000 90"
                                        fill="none"
                                        stroke="url(#seaPath)"
                                        stroke-width="3"
                                        stroke-dasharray="8,12"
                                        opacity="0.6"
                                        style="animation: pathGlow 3s ease-in-out infinite"
                                    />

                                    <!-- Islands (organic shapes without numbers) - REMOVED per user request -->
                                </svg>
                            </div>

                            <!-- Island Cards -->
                            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 relative">
                                <!-- Island 1: Genesis -->
                                <div class="relative group" style="animation: islandBob 4s ease-in-out infinite">
                                    <div
                                        class="relative glass-panel p-5 rounded-2xl border-green-500/40 hover:border-green-400/60 transition-all text-center"
                                        style="border-width: 2px"
                                    >
                                        <div
                                            class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-green-400/20 to-green-600/20 flex items-center justify-center border-2 border-green-400/50"
                                            style="box-shadow: 0 0 20px rgba(34, 197, 94, 0.3)"
                                        >
                                            <img
                                                src="img/phase1.png"
                                                class="w-10 h-10 object-contain"
                                                onerror="
                                                    this.src =
                                                        'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%2322c55e%27 stroke-width=%272%27%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%2710%27/%3E%3Cpath d=%27M12 6v6m0 6v6M1 12h6m6 0h6%27/%3E%3C/svg%3E'
                                                "
                                            />
                                        </div>
                                        <div class="text-sm font-black text-green-400 mb-1 tracking-wider">
                                            GENESIS ISLE
                                        </div>
                                        <div class="text-[11px] text-gray-300 leading-relaxed">
                                            Fair Launch<br />Community Foundation
                                        </div>
                                    </div>
                                </div>

                                <!-- Island 2: Current -->
                                <div class="relative group" style="animation: islandBob 4s ease-in-out infinite 0.3s">
                                    <div
                                        class="relative glass-panel p-5 rounded-2xl border-fennec/60 bg-fennec/8 hover:border-fennec/80 transition-all text-center"
                                        style="border-width: 2px; box-shadow: 0 0 30px rgba(255, 107, 53, 0.2)"
                                    >
                                        <div
                                            class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-fennec/30 to-orange-600/30 flex items-center justify-center border-2 border-fennec/70"
                                            style="box-shadow: 0 0 24px rgba(255, 107, 53, 0.5)"
                                        >
                                            <img
                                                src="img/phase2.png"
                                                class="w-10 h-10 object-contain"
                                                onerror="
                                                    this.src =
                                                        'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23ff6b35%27 stroke-width=%272%27%3E%3Crect x=%273%27 y=%273%27 width=%2718%27 height=%2718%27 rx=%272%27/%3E%3Cpath d=%27M9 9h6M9 15h6%27/%3E%3C/svg%3E'
                                                "
                                            />
                                        </div>
                                        <div class="text-sm font-black text-fennec mb-1 tracking-wider">
                                            FENNEC HARBOR
                                        </div>
                                        <div class="text-[11px] text-gray-200 leading-relaxed font-semibold">
                                            Terminal Trading<br />Fennec ID System
                                        </div>
                                        <div
                                            class="mt-2 inline-block px-2 py-0.5 bg-fennec/20 border border-fennec/40 rounded text-[9px] font-bold text-fennec"
                                        >
                                            CURRENT
                                        </div>
                                    </div>
                                </div>

                                <!-- Island 3: Upcoming -->
                                <div class="relative group" style="animation: islandBob 4s ease-in-out infinite 0.6s">
                                    <div
                                        class="relative glass-panel p-5 rounded-2xl border-purple-500/40 hover:border-purple-400/60 transition-all text-center"
                                        style="border-width: 2px"
                                    >
                                        <div
                                            class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-purple-500/20 to-purple-700/20 flex items-center justify-center border-2 border-purple-400/50"
                                            style="box-shadow: 0 0 20px rgba(168, 85, 247, 0.3)"
                                        >
                                            <img
                                                src="img/phase3.png"
                                                class="w-10 h-10 object-contain"
                                                onerror="
                                                    this.src =
                                                        'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23a855f7%27 stroke-width=%272%27%3E%3Cpath d=%27M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5%27/%3E%3C/svg%3E'
                                                "
                                            />
                                        </div>
                                        <div class="text-sm font-black text-purple-400 mb-1 tracking-wider">
                                            SECTOR: ROSEN
                                        </div>
                                        <div class="text-[11px] text-gray-300 leading-relaxed">
                                            Vortex Effect<br />Metric: Unstable
                                        </div>
                                    </div>
                                </div>

                                <!-- Island 4: Future -->
                                <div
                                    class="relative group opacity-75"
                                    style="animation: islandBob 4s ease-in-out infinite 0.9s"
                                >
                                    <div
                                        class="relative glass-panel p-5 rounded-2xl border-blue-500/30 hover:border-blue-400/50 transition-all text-center"
                                        style="border-width: 2px"
                                    >
                                        <div
                                            class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-blue-500/15 to-blue-700/15 flex items-center justify-center border-2 border-blue-400/40"
                                            style="box-shadow: 0 0 16px rgba(59, 130, 246, 0.25)"
                                        >
                                            <img
                                                src="img/phase4.png"
                                                class="w-10 h-10 object-contain"
                                                onerror="
                                                    this.src =
                                                        'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%233b82f6%27 stroke-width=%272%27%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%273%27/%3E%3Cpath d=%27M12 1v6m0 6v6M1 12h6m6 0h6%27/%3E%3C/svg%3E'
                                                "
                                            />
                                        </div>
                                        <div class="text-sm font-black text-blue-400 mb-1 tracking-wider">
                                            LEGEND SHORES
                                        </div>
                                        <div class="text-[11px] text-gray-400 leading-relaxed">
                                            Uncharted Waters<br />New Legends Born
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </template>

            <template id="sec-terminal-template">
                <!-- === SECTION 2: TERMINAL (SWAP) === -->
                <section
                    id="sec-terminal"
                    class="page-section flex flex-col justify-start pt-32 pb-20 px-4 max-w-4xl mx-auto relative z-10"
                >
                    <!-- CHART -->
                    <div class="glass-panel p-6 rounded-2xl mb-6">
                        <div class="flex justify-between items-end mb-4">
                            <div>
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold">
                                    Market Price (FB)
                                </div>
                                <div class="flex items-baseline gap-3">
                                    <div
                                        class="text-3xl font-bold font-mono text-white tracking-tighter"
                                        id="chartPrice"
                                    >
                                        --
                                    </div>
                                    <div class="text-lg font-bold" id="chartPriceChange">--</div>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button
                                    onclick="setChartTimeframe('1h')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    1H
                                </button>
                                <button
                                    onclick="setChartTimeframe('24h')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    24H
                                </button>
                                <button
                                    onclick="setChartTimeframe('7d')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    7D
                                </button>
                                <button
                                    onclick="setChartTimeframe('30d')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    30D
                                </button>
                                <button
                                    onclick="setChartTimeframe('all')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    ALL
                                </button>
                            </div>
                        </div>
                        <div class="chart-container" style="height: 250px; width: 100%; position: relative">
                            <canvas id="priceChart"></canvas>
                        </div>
                        <!-- Market Stats -->
                        <div class="grid grid-cols-4 gap-4 mt-3 pt-4 border-t border-white/5">
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    24h Volume
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="volume24h">--</div>
                            </div>
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    7d Volume
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="volume7d">--</div>
                            </div>
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    30d Volume
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="volume30d">--</div>
                            </div>
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    Market Cap
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="marketCap">--</div>
                            </div>
                        </div>
                    </div>

                    <!-- MAIN INTERFACE -->
                    <div
                        class="glass-panel p-6 rounded-2xl relative shadow-[0_0_50px_rgba(0,0,0,0.3)] border border-fennec/20"
                    >
                        <div
                            id="swapSuccessOverlay"
                            class="absolute inset-0 z-40 items-center justify-center"
                            style="display: none"
                        >
                            <div
                                class="px-6 py-4 rounded-2xl bg-black/70 border border-fennec/30 backdrop-blur-md flex items-center gap-3"
                            >
                                <div
                                    class="w-10 h-10 rounded-full bg-fennec/15 border border-fennec/40 flex items-center justify-center text-fennec text-xl"
                                >
                                    <i class="fas fa-check"></i>
                                </div>
                                <div>
                                    <div class="text-xs tracking-[0.25em] text-gray-300 uppercase font-bold">
                                        Swap confirmed
                                    </div>
                                    <div class="text-[11px] text-gray-400">Balances are updating‚Ä¶</div>
                                </div>
                            </div>
                        </div>
                        <!-- TABS -->
                        <div class="flex border-b border-white/10 mb-6">
                            <button
                                class="tab-btn active w-1/4"
                                onclick="switchTab('swap')"
                                id="tab-swap"
                                data-t="swap"
                            >
                                SWAP
                            </button>
                            <button
                                class="tab-btn w-1/4"
                                onclick="switchTab('deposit')"
                                id="tab-deposit"
                                data-t="deposit"
                            >
                                DEPOSIT
                            </button>
                            <button
                                class="tab-btn w-1/4"
                                onclick="switchTab('withdraw')"
                                id="tab-withdraw"
                                data-t="withdraw"
                            >
                                WITHDRAW
                            </button>
                            <button
                                class="tab-btn w-1/4"
                                onclick="switchTab('pending')"
                                id="tab-pending"
                                data-t="activity"
                            >
                                PENDING
                            </button>
                        </div>

                        <!-- SWAP TAB -->
                        <div id="view-swap" class="tab-content active">
                            <div class="flex gap-2 mb-4">
                                <div
                                    onclick="setSwapPair('FB_FENNEC')"
                                    id="pair-fb-fennec"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition hover:bg-fennec/20 cursor-pointer"
                                    role="button"
                                    tabindex="0"
                                >
                                    <div class="flex flex-col items-center justify-center leading-tight">
                                        <div>FB / FENNEC</div>
                                    </div>
                                </div>
                                <div
                                    onclick="setSwapPair('BTC_FB')"
                                    id="pair-btc-fb"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition hover:bg-white/5 cursor-pointer"
                                    role="button"
                                    tabindex="0"
                                >
                                    <div class="flex flex-col items-center justify-center leading-tight">
                                        <div>BTC / FB</div>
                                    </div>
                                </div>
                            </div>

                            <div
                                class="bg-black/40 rounded-xl p-4 mb-2 border border-white/5 focus-within:border-fennec/50 transition"
                            >
                                <div class="flex justify-between text-xs mb-2 text-gray-400">
                                    <span data-t="you_pay" class="font-bold">YOU PAY</span>
                                    <div class="flex gap-2 items-center">
                                        <span class="text-[10px] text-gray-500" id="balIn">Bal: --</span>
                                        <button
                                            onclick="setMaxAmount()"
                                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                        >
                                            MAX
                                        </button>
                                    </div>
                                </div>
                                <div class="flex justify-between items-center relative">
                                    <input
                                        type="number"
                                        id="swapIn"
                                        placeholder="0.0"
                                        class="bg-transparent text-3xl font-bold w-full outline-none text-white placeholder-gray-700"
                                        oninput="debounceQuote()"
                                    />
                                    <div class="flex flex-col items-center gap-1">
                                        <div
                                            class="flex items-center gap-2 px-3 py-1.5 cursor-pointer min-w-[80px] justify-center"
                                        >
                                            <img
                                                id="iconIn"
                                                src="img/FB.png"
                                                class="w-6 h-6 rounded-full flex-shrink-0"
                                            />
                                            <span id="tickerIn" class="font-bold text-sm whitespace-nowrap">FB</span>
                                        </div>
                                        <!-- Liquidity Plus Button moved under the coins -->
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-center items-center gap-4 -my-5 relative z-10">
                                <button
                                    onclick="switchDir()"
                                    class="bg-[#2b1d1a] border border-fennec/30 p-3 rounded-full text-fennec shadow-xl hover:scale-110 transition hover:border-fennec rotate-90"
                                    title="Switch direction"
                                >
                                    <i class="fas fa-exchange-alt"></i>
                                </button>
                            </div>

                            <div class="bg-black/40 rounded-xl p-4 mt-2 border border-white/5">
                                <div class="flex justify-between text-xs mb-2 text-gray-400">
                                    <span data-t="you_receive" class="font-bold">YOU RECEIVE</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <input
                                        type="number"
                                        id="swapOut"
                                        placeholder="0.0"
                                        class="bg-transparent text-3xl font-bold w-full outline-none text-white placeholder-gray-700"
                                        oninput="debounceReverse()"
                                    />
                                    <div class="flex items-center gap-2 px-3 py-1.5 min-w-[80px] justify-center">
                                        <img
                                            id="iconOut"
                                            src="img/phav.png"
                                            class="w-6 h-6 rounded-full flex-shrink-0"
                                        />
                                        <span id="tickerOut" class="font-bold text-sm whitespace-nowrap">FENNEC</span>
                                    </div>
                                </div>
                            </div>

                            <div
                                class="flex justify-between items-center text-xs text-gray-400 mt-4 px-2 font-mono gap-3"
                            >
                                <span id="rateVal" class="font-semibold">Rate: --</span>
                                <button
                                    type="button"
                                    onclick="openAddLiquidityModal(currentSwapPair)"
                                    class="px-4 py-2 text-[11px] font-black bg-fennec/15 text-fennec border border-fennec/30 rounded-lg hover:bg-fennec/25 transition shadow-lg tracking-widest"
                                    title="Manage Liquidity"
                                >
                                    Liquidity
                                </button>
                            </div>

                            <button
                                onclick="doSwap()"
                                id="swapBtn"
                                class="w-full bg-fennec text-black font-black text-xl py-4 rounded-xl mt-6 hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide flex items-center justify-center gap-2"
                                data-t="swap_action"
                            >
                                <img src="img/phav.png" class="w-6 h-6 inline-block object-contain" /> GET FENNEC
                            </button>

                            <!-- Recent Swaps -->
                            <div class="mt-6 pt-4 border-t border-white/10">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                        >Recent Swaps</span
                                    >
                                </div>
                                <div id="swapHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                    <div class="text-center py-4 text-gray-600 text-xs">No swaps yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- DEPOSIT TAB -->
                        <div id="view-deposit" class="tab-content hidden">
                            <div class="flex gap-2 mb-6">
                                <button
                                    onclick="setDepositToken('BTC')"
                                    id="dep-btc"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg"
                                >
                                    BTC
                                </button>
                                <button
                                    onclick="setDepositToken('sFB')"
                                    id="dep-sfb"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                                >
                                    FB
                                </button>
                                <button
                                    onclick="setDepositToken('FENNEC')"
                                    id="dep-fennec"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                                >
                                    FENNEC
                                </button>
                            </div>

                            <div id="dep-native-ui">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-xs text-gray-400" id="depBalance">Balance: --</span>
                                    <div class="flex items-center gap-2">
                                        <button
                                            onclick="setMaxDepositAmount()"
                                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                        >
                                            MAX
                                        </button>
                                    </div>
                                </div>
                                <div
                                    class="bg-black/40 rounded-xl p-4 mb-4 border border-white/5 flex justify-between items-center"
                                >
                                    <input
                                        type="number"
                                        id="depAmount"
                                        placeholder="0.001"
                                        class="bg-transparent text-2xl font-bold w-full outline-none text-white"
                                    />
                                    <span class="font-bold text-gray-400" id="depTickerLabel">BTC</span>
                                </div>

                                <!-- Fee Selection -->
                                <div class="mb-4">
                                    <div class="text-[10px] font-bold text-gray-400 tracking-wider mb-2">
                                        NETWORK FEE
                                    </div>
                                    <div class="flex gap-2" id="depFeeSelector">
                                        <button
                                            onclick="setDepositFee('medium')"
                                            id="dep-fee-medium"
                                            class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition"
                                        >
                                            <div>MEDIUM</div>
                                            <div class="text-[10px] text-fennec/70" id="dep-fee-medium-value">--</div>
                                        </button>
                                        <button
                                            onclick="setDepositFee('fast')"
                                            id="dep-fee-fast"
                                            class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                        >
                                            <div>FAST</div>
                                            <div class="text-[10px] text-gray-600" id="dep-fee-fast-value">--</div>
                                        </button>
                                        <button
                                            onclick="setDepositFee('custom')"
                                            id="dep-fee-custom"
                                            class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                        >
                                            <div>CUSTOM</div>
                                            <input
                                                type="number"
                                                id="dep-fee-custom-input"
                                                placeholder="sat/vB"
                                                min="1"
                                                step="1"
                                                class="text-[10px] bg-black/40 border border-white/20 rounded w-full text-center mt-1 text-white px-1"
                                                style="display: none"
                                                onchange="setDepositFeeCustom(this.value)"
                                            />
                                        </button>
                                    </div>
                                </div>

                                <button
                                    onclick="doDeposit()"
                                    id="btnDeposit"
                                    class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide"
                                    data-t="deposit_btc_btn"
                                >
                                    DEPOSIT
                                </button>
                            </div>
                            <div id="dep-brc20-ui" style="display: none">
                                <div class="mb-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xs text-gray-400"
                                            >Available: <span id="fennecAvailable">--</span></span
                                        >
                                        <span class="text-xs text-gray-400"
                                            >Transferable: <span id="fennecTransferable">--</span></span
                                        >
                                    </div>
                                </div>
                                <div id="inscriptionCards" class="grid grid-cols-3 gap-3 mb-4 max-h-64 overflow-y-auto">
                                    <div class="text-center py-8 text-gray-500 text-xs">Loading inscriptions...</div>
                                </div>
                                <div class="border-t border-white/10 pt-3 mb-4">
                                    <div class="flex items-center justify-between text-sm">
                                        <span class="text-gray-400">Selected:</span>
                                        <span class="text-white font-bold" id="selectedAmount">0</span>
                                        <span class="text-fennec font-bold">FENNEC</span>
                                    </div>
                                </div>
                                <button
                                    onclick="depositSelectedInscriptions()"
                                    id="btnDepositSelected"
                                    class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white transition duration-200 shadow-lg mb-3"
                                    disabled
                                >
                                    DEPOSIT
                                </button>
                                <div class="text-center py-2 border-t border-white/10">
                                    <div class="mb-3">
                                        <div class="flex items-center justify-center gap-2 mb-2">
                                            <input
                                                type="number"
                                                id="depFennecAmount"
                                                placeholder="Enter amount"
                                                min="0.00000001"
                                                step="0.00000001"
                                                class="bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white text-sm w-32 text-center focus:border-fennec transition"
                                                style="outline: none"
                                            />
                                            <span class="text-xs text-gray-400">FENNEC</span>
                                        </div>
                                        <button
                                            onclick="setMaxFennecAmount()"
                                            class="text-[10px] text-fennec hover:text-white bg-fennec/10 px-3 py-1 rounded border border-fennec/30 mb-2"
                                        >
                                            Use Max
                                        </button>
                                    </div>
                                    <button
                                        onclick="createFennecInscription()"
                                        id="btnCreateInscription"
                                        class="text-xs text-fennec hover:text-white bg-fennec/10 px-4 py-2 rounded-lg border border-fennec/30 transition hover:bg-fennec/20"
                                    >
                                        Create Transfer Inscription
                                    </button>
                                </div>
                            </div>

                            <!-- Recent Deposits -->
                            <div class="mt-6 pt-4 border-t border-white/10">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                        >Recent Deposits</span
                                    >
                                </div>
                                <div id="depositHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                    <div class="text-center py-4 text-gray-600 text-xs">No deposits yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- WITHDRAW TAB -->
                        <div id="view-withdraw" class="tab-content hidden">
                            <div class="flex gap-2 mb-6">
                                <button
                                    onclick="setWithdrawToken('sFB')"
                                    id="wd-sfb"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg"
                                >
                                    FB
                                </button>
                                <button
                                    onclick="setWithdrawToken('FENNEC')"
                                    id="wd-fennec"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                                >
                                    FENNEC
                                </button>
                            </div>
                            <div class="flex justify-between text-xs mb-2 text-gray-400">
                                <span id="wd-bal">Available: --</span>
                                <div class="flex items-center gap-2">
                                    <button
                                        onclick="setMaxWithdrawAmount()"
                                        class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    >
                                        MAX
                                    </button>
                                </div>
                            </div>
                            <div
                                class="bg-black/40 rounded-xl p-4 mb-4 border border-white/5 flex justify-between items-center"
                            >
                                <input
                                    type="number"
                                    id="wdAmount"
                                    placeholder="0.0"
                                    class="bg-transparent text-2xl font-bold w-full outline-none text-white"
                                />
                                <span class="font-bold text-gray-400" id="wdTickerLabel">FB</span>
                            </div>

                            <!-- Fee Selection -->
                            <div class="mb-4">
                                <div class="text-[10px] font-bold text-gray-400 tracking-wider mb-2">NETWORK FEE</div>
                                <div class="flex gap-2" id="wdFeeSelector">
                                    <button
                                        onclick="setWithdrawFee('medium')"
                                        id="wd-fee-medium"
                                        class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition"
                                    >
                                        <div>MEDIUM</div>
                                        <div class="text-[10px] text-fennec/70" id="wd-fee-medium-value">--</div>
                                    </button>
                                    <button
                                        onclick="setWithdrawFee('fast')"
                                        id="wd-fee-fast"
                                        class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                    >
                                        <div>FAST</div>
                                        <div class="text-[10px] text-gray-600" id="wd-fee-fast-value">--</div>
                                    </button>
                                    <button
                                        onclick="setWithdrawFee('custom')"
                                        id="wd-fee-custom"
                                        class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                    >
                                        <div>CUSTOM</div>
                                        <input
                                            type="number"
                                            id="wd-fee-custom-input"
                                            placeholder="sat/vB"
                                            min="1"
                                            step="1"
                                            class="text-[10px] bg-black/40 border border-white/20 rounded w-full text-center mt-1 text-white px-1"
                                            style="display: none"
                                            onchange="setWithdrawFeeCustom(this.value)"
                                        />
                                    </button>
                                </div>
                            </div>

                            <button
                                onclick="doWithdraw()"
                                id="btnWithdraw"
                                class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide"
                                data-t="withdraw_btn"
                            >
                                WITHDRAW
                            </button>

                            <!-- Recent Withdrawals -->
                            <div class="mt-6 pt-4 border-t border-white/10">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                        >Recent Withdrawals</span
                                    >
                                </div>
                                <div id="withdrawHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                    <div class="text-center py-4 text-gray-600 text-xs">No withdrawals yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- PENDING TAB -->
                        <div id="view-pending" class="tab-content hidden">
                            <div
                                class="text-xs text-gray-500 font-bold uppercase mb-3 tracking-widest flex justify-between"
                            >
                                <span>Pending Operations</span>
                            </div>
                            <div id="pendingOperations" class="space-y-2 max-h-80 overflow-y-auto scrollbar-thin">
                                <div class="text-center py-8 text-gray-600 text-xs">No pending operations</div>
                            </div>
                        </div>
                    </div>
                </section>
            </template>

            <!-- === SECTION 3: FENNEC GRAND AUDIT === -->
            <section id="sec-audit" class="page-section active flex flex-col justify-start pt-24 pb-24 relative z-10">
                <div class="max-w-4xl mx-auto px-6">
                    <div class="text-center" style="margin-bottom: 32px">
                        <h2
                            class="text-4xl font-black font-display text-white mb-3"
                            style="
                                color: #ff6b35;
                                text-shadow: 0 0 30px rgba(255, 107, 53, 0.4);
                                letter-spacing: 0.15em;
                                text-transform: uppercase;
                            "
                        >
                            FENNEC ID
                        </h2>
                        <p class="text-center text-gray-400 text-sm" style="letter-spacing: 0.05em">
                            Your on-chain footprint in the Fractal desert
                        </p>
                    </div>

                    <div class="relative" style="overflow: visible !important; margin-top: 0px">
                        <div
                            id="auditContainer"
                            class="relative flex justify-center"
                            style="overflow: visible !important"
                        >
                            <!-- Content will be generated by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>
            <template id="sec-burrow-template">
                <!-- === SECTION 4: THE BURROW (VISUALIZER) === -->
                <section id="sec-burrow" class="page-section pt-32 pb-20 relative z-10 text-center">
                    <div class="max-w-4xl mx-auto px-6">
                        <h2
                            class="text-4xl font-black font-display mb-4 text-white text-glow neon-text"
                            data-t="burrow_title"
                        >
                            THE BURROW
                        </h2>
                        <p class="text-gray-400 text-sm mb-8" data-t="burrow_desc">
                            Live Mempool Visualization (Particles = Transactions)
                        </p>
                        <div
                            class="glass-panel p-1 rounded-2xl relative overflow-hidden h-[400px] border border-fennec/30 shadow-[0_0_50px_rgba(255,107,53,0.15)]"
                        >
                            <canvas id="burrowCanvas"></canvas>
                            <div class="absolute bottom-4 left-4 text-xs text-fennec font-mono animate-pulse">
                                LIVE FEED
                            </div>
                        </div>
                    </div>
                </section>
            </template>
        </main>

        <div class="h-10"></div>

        <div
            id="errorModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('errorModal').classList.add('hidden')"
        >
            <div class="modal-box border-red-500/30" onclick="event.stopPropagation()">
                <h3 class="text-lg font-bold text-red-500 mb-2">Error</h3>
                <p id="errorMsg" class="text-gray-400 text-xs font-mono mb-4 break-all"></p>
                <button
                    onclick="document.getElementById('errorModal').classList.add('hidden')"
                    class="w-full bg-white/10 py-2 rounded-lg hover:bg-white/20 text-white text-sm font-bold"
                >
                    CLOSE
                </button>
            </div>
        </div>
        <div
            id="successModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('successModal').classList.add('hidden')"
        >
            <div class="modal-box border-green-500/30 text-center" onclick="event.stopPropagation()">
                <div class="text-4xl mb-3"></div>
                <h3 class="text-lg font-bold text-green-500 mb-2">Success!</h3>
                <p class="text-gray-400 text-xs mb-4 font-mono break-all bg-black/30 p-2 rounded" id="successTxId"></p>
                <button
                    onclick="document.getElementById('successModal').classList.add('hidden')"
                    class="w-full bg-green-600 text-black font-bold py-2 rounded-lg hover:bg-green-500 transition"
                >
                    OK
                </button>
            </div>
        </div>
        <div
            id="depositLinkModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('depositLinkModal').classList.add('hidden')"
        >
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <i class="fas fa-wallet text-3xl text-fennec mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">Insufficient Funds</h3>
                <button
                    onclick="
                        switchTab('deposit');
                        document.getElementById('depositLinkModal').classList.add('hidden');
                    "
                    class="w-full bg-fennec text-black py-3 rounded-xl font-bold hover:bg-white transition"
                >
                    GO TO DEPOSIT
                </button>
            </div>
        </div>

        <div id="addLiquidityModal" class="modal-overlay hidden" onclick="closeAddLiquidityModal()">
            <div
                class="modal-box border-fennec/30"
                style="max-width: 560px; width: 92%; padding: 22px"
                onclick="event.stopPropagation()"
            >
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">Liquidity</div>
                        <div class="text-lg font-black text-white">Manage Liquidity</div>
                    </div>
                    <div class="flex items-center gap-3">
                        <button type="button" onclick="closeAddLiquidityModal()" class="text-gray-500 hover:text-white">
                            ‚úï
                        </button>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="flex gap-2 mb-3">
                    <button
                        id="liqTabAdd"
                        onclick="switchLiquidityTab('add')"
                        class="flex-1 px-4 py-2 rounded-xl bg-fennec/15 border border-fennec/30 text-white font-black transition"
                    >
                        ADD
                    </button>
                    <button
                        id="liqTabRemove"
                        onclick="switchLiquidityTab('remove')"
                        class="flex-1 px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-gray-400 font-black transition"
                    >
                        REMOVE
                    </button>
                </div>

                <!-- Pair selector hidden - pair is fixed when modal opens -->
                <div class="hidden grid grid-cols-2 gap-2" id="liqPairSwitcher">
                    <button
                        id="liqPairFBF"
                        onclick="selectLiquidityPair('FB_FENNEC')"
                        class="px-4 py-3 rounded-xl bg-fennec/10 border border-fennec/25 text-white font-black hover:bg-fennec/15 hover:border-fennec/45 transition"
                    >
                        FB / FENNEC
                    </button>
                    <button
                        id="liqPairBFB"
                        onclick="selectLiquidityPair('BTC_FB')"
                        class="px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white font-black hover:bg-white/10 hover:border-white/20 transition"
                    >
                        BTC / FB
                    </button>
                </div>

                <!-- Add Liquidity Tab Content -->
                <div id="liqAddContent">
                    <!-- Display fixed pair -->
                    <div class="text-center py-3 px-4 bg-fennec/10 border border-fennec/30 rounded-xl">
                        <div class="text-xs text-gray-400 uppercase tracking-widest mb-1">Selected Pair</div>
                        <div id="liqFixedPairDisplay" class="text-xl font-black text-white">FB / FENNEC</div>
                    </div>

                    <div id="liqSideRow" class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div
                            id="liqMyPos"
                            class="hidden bg-black/40 border border-white/10 rounded-xl p-3 md:col-span-2"
                        >
                            <div class="flex items-center justify-between gap-3">
                                <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                                    Your Position
                                </div>
                                <button
                                    type="button"
                                    onclick="refreshMyLiquidityForSelectedPair(true)"
                                    class="text-[10px] text-fennec hover:text-white underline decoration-dotted"
                                >
                                    Refresh
                                </button>
                            </div>
                            <div id="liqMyPosBody" class="mt-3 text-gray-200">--</div>
                        </div>

                        <div
                            id="liqWithdrawPanel"
                            class="hidden bg-black/40 border border-white/10 rounded-xl p-3 md:col-span-1"
                        >
                            <div class="flex items-center justify-between gap-3">
                                <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                                    Liquidity
                                </div>
                                <button
                                    id="liqWithdrawBtn"
                                    type="button"
                                    onclick="openRemoveLiquidityModal()"
                                    class="text-[10px] font-black bg-fennec/15 text-fennec border border-fennec/30 px-2 py-1 rounded-lg hover:bg-fennec/25 transition"
                                >
                                    Withdraw
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                            <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                                <span id="liqTick0Label">FENNEC</span>
                                <button
                                    onclick="setMaxLiqAmount(0)"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    type="button"
                                >
                                    MAX
                                </button>
                            </div>
                            <input
                                id="liqAmount0"
                                type="number"
                                inputmode="decimal"
                                placeholder="0.0"
                                class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                                oninput="syncLiquidityAmounts(0)"
                            />
                            <div class="text-[10px] text-gray-500 mt-1">Bal: <span id="liqBal0">--</span></div>
                        </div>
                        <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                            <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                                <span id="liqTick1Label">FB</span>
                                <button
                                    onclick="setMaxLiqAmount(1)"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    type="button"
                                >
                                    MAX
                                </button>
                            </div>
                            <input
                                id="liqAmount1"
                                type="number"
                                inputmode="decimal"
                                placeholder="0.0"
                                class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                                oninput="syncLiquidityAmounts(1)"
                            />
                            <div class="text-[10px] text-gray-500 mt-1">Bal: <span id="liqBal1">--</span></div>
                        </div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                        <span>Expected LP: <span id="liqExpectedLP" class="text-white font-bold">--</span></span>
                    </div>

                    <button
                        onclick="doAddLiquidity()"
                        id="liqSupplyBtn"
                        class="mt-3 w-full bg-gradient-to-r from-fennec to-orange-400 text-black font-black text-base py-3 rounded-xl hover:brightness-110 transition opacity-50 cursor-not-allowed"
                        disabled
                    >
                        SUPPLY
                    </button>
                </div>

                <!-- Remove Liquidity Tab Content -->
                <div id="liqRemoveContent" class="hidden">
                    <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                        <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                            <span>LP Amount</span>
                            <button
                                type="button"
                                onclick="setMaxRemoveLp()"
                                class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                            >
                                MAX
                            </button>
                        </div>
                        <input
                            id="removeLpAmount"
                            type="number"
                            inputmode="decimal"
                            placeholder="0.0"
                            class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                        />
                        <div class="text-[10px] text-gray-500 mt-1">Your LP: <span id="removeLpBalance">--</span></div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                        <span>Est. Receive: <span id="removeReceive" class="text-white font-bold">--</span></span>
                        <span class="text-gray-600">Fees in FB</span>
                    </div>

                    <button
                        onclick="doRemoveLiquidity()"
                        id="removeLiqBtn"
                        class="mt-3 w-full bg-gradient-to-r from-fennec to-orange-400 text-black font-black text-base py-3 rounded-xl hover:brightness-110 transition opacity-50 cursor-not-allowed"
                        disabled
                    >
                        WITHDRAW
                    </button>
                </div>
            </div>
        </div>

        <div id="removeLiquidityModal" class="modal-overlay hidden" onclick="closeRemoveLiquidityModal()">
            <div
                class="modal-box border-fennec/30"
                style="max-width: 520px; width: 92%; padding: 22px"
                onclick="event.stopPropagation()"
            >
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                            Withdraw Liquidity
                        </div>
                        <div class="text-lg font-black text-white">Remove Liquidity</div>
                    </div>
                    <button type="button" onclick="closeRemoveLiquidityModal()" class="text-gray-500 hover:text-white">
                        ‚úï
                    </button>
                </div>

                <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                    <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                        <span>LP Amount</span>
                        <button
                            type="button"
                            onclick="setMaxRemoveLp()"
                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                        >
                            MAX
                        </button>
                    </div>
                    <input
                        id="removeLpAmount"
                        type="number"
                        inputmode="decimal"
                        placeholder="0.0"
                        class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                    />
                    <div class="text-[10px] text-gray-500 mt-1">Your LP: <span id="removeLpBalance">--</span></div>
                </div>

                <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                    <span>Est. Receive: <span id="removeReceive" class="text-white font-bold">--</span></span>
                    <span class="text-gray-600">Fees in FB</span>
                </div>

                <button
                    onclick="doRemoveLiquidity()"
                    id="removeLiqBtn"
                    class="mt-3 w-full bg-white/10 border border-white/10 text-white font-black text-base py-3 rounded-xl hover:bg-white/15 transition"
                >
                    WITHDRAW
                </button>
            </div>
        </div>

        <div
            id="inscriptionModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('inscriptionModal').classList.add('hidden')"
        >
            <div class="modal-box" onclick="event.stopPropagation()">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-white">Select Inscription</h3>
                    <button
                        onclick="document.getElementById('inscriptionModal').classList.add('hidden')"
                        class="text-gray-500 hover:text-white"
                    >
                        ‚úï
                    </button>
                </div>
                <div id="inscList" class="max-h-60 overflow-y-auto space-y-2">
                    <div class="text-center py-4 text-gray-500 text-xs">Loading...</div>
                </div>
            </div>
        </div>
        <div
            id="switchWalletModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('switchWalletModal').classList.add('hidden')"
        >
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <i class="fas fa-exchange-alt text-3xl text-fennec mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">Switch Wallet?</h3>
                <p class="text-gray-400 text-sm mb-4">
                    You are about to switch from:<br /><span
                        class="text-fennec font-mono text-xs"
                        id="currentWalletAddress"
                    ></span
                    ><br /><br />Please confirm to continue.
                </p>
                <div class="flex gap-3">
                    <button
                        onclick="
                            document.getElementById('switchWalletModal').classList.add('hidden');
                            switchWalletConfirmed = true;
                            window.connectWallet();
                        "
                        class="flex-1 bg-fennec text-black py-3 rounded-xl font-bold hover:bg-white transition"
                    >
                        CONFIRM</button
                    ><button
                        onclick="
                            document.getElementById('switchWalletModal').classList.add('hidden');
                            switchWalletConfirmed = false;
                        "
                        class="flex-1 bg-white/10 text-white py-3 rounded-xl font-bold hover:bg-white/20 transition"
                    >
                        CANCEL
                    </button>
                </div>
            </div>
        </div>

        <!-- WHALE WATCHER NOTIFICATION -->
        <div
            id="whaleWatcher"
            class="whale-alert fixed bottom-4 right-4 bg-black/90 border border-fennec/50 p-4 rounded-xl shadow-[0_0_30px_rgba(255,107,53,0.3)] transform translate-y-[200%] transition-transform duration-500 z-50 flex items-center gap-4 max-w-sm hidden"
        >
            <div class="text-4xl"></div>
            <div>
                <div class="text-xs text-fennec font-bold uppercase tracking-widest mb-1">Whale Alert</div>
                <div id="whaleMsg" class="text-sm text-white font-mono leading-tight">Someone just swapped 500 FB!</div>
            </div>
            <button
                onclick="document.getElementById('whaleWatcher').classList.add('translate-y-[200%]')"
                class="absolute top-2 right-2 text-gray-500 hover:text-white"
            >
                √ó
            </button>
        </div>

        <!-- Progress Tracking Modal -->
        <div id="progressModal" class="modal-overlay hidden">
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <div class="text-4xl mb-4"><i class="fas fa-spinner fa-spin text-fennec"></i></div>
                <h3 class="text-lg font-bold text-white mb-3" id="progressTitle">Processing...</h3>
                <div class="bg-black/40 rounded-lg p-4 mb-4">
                    <div class="flex justify-between text-xs mb-2">
                        <span class="text-gray-400" id="progressStep">Waiting...</span
                        ><span class="text-fennec font-bold" id="progressPercent">0%</span>
                    </div>
                    <div class="w-full bg-white/10 rounded-full h-2 overflow-hidden">
                        <div
                            id="progressBar"
                            class="bg-gradient-to-r from-fennec to-sand h-full transition-all duration-300"
                            style="width: 0%"
                        ></div>
                    </div>
                </div>
                <p class="text-gray-400 text-xs font-mono break-all bg-black/30 p-2 rounded mb-4" id="progressTxId"></p>
                <button
                    onclick="closeProgress()"
                    class="w-full bg-white/10 py-2 rounded-lg hover:bg-white/20 text-white text-sm font-bold"
                >
                    CLOSE
                </button>
            </div>
        </div>

        <script src="js/lore_db.js?v=2026-01-14-1"></script>
        <script src="recursive_inscriptions/fennec_lib_v2.js?v=2026-01-14-1"></script>
        <script src="js/router.js?v=2026-01-14-1"></script>
        <script src="assets/app.js?v=2026-01-14-1"></script>

        <!-- CHAT WIDGET -->
        <div id="chatWidget" class="fixed bottom-12 right-6 z-50 flex flex-col items-end pointer-events-none">
            <div
                id="chatWindow"
                class="mb-4 w-80 bg-[#1a100c]/95 backdrop-blur-xl border border-fennec/30 rounded-2xl shadow-[0_0_50px_rgba(255,107,53,0.15)] overflow-hidden transform origin-bottom-right scale-90 opacity-0 transition-all duration-300 pointer-events-auto hidden"
            >
                <div
                    class="bg-gradient-to-r from-fennec/20 to-transparent p-3 border-b border-white/5 flex justify-between items-center"
                >
                    <div class="flex items-center gap-2">
                        <div class="w-5 h-5 flex-shrink-0">
                            <img src="img/FENNECAI.png" class="w-full h-full object-contain ai-avatar" />
                        </div>
                        <span class="text-xs font-mono font-bold text-fennec tracking-widest">ASSISTANT</span>
                    </div>
                    <button onclick="window.toggleChat()" class="text-gray-500 hover:text-white">‚úï</button>
                </div>
                <div class="px-3 py-2 border-b border-white/5 bg-black/10">
                    <div class="flex flex-wrap gap-2 justify-center">
                        <button
                            onclick="oracleQuick('help')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            HELP
                        </button>
                        <button
                            onclick="oracleQuick('prices')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            PRICE
                        </button>
                        <button
                            onclick="oracleQuick('swap')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            SWAP
                        </button>
                        <button
                            onclick="oracleQuick('id')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            FENNEC ID
                        </button>
                        <button
                            onclick="oracleQuick('deposit')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            DEPOSIT
                        </button>
                        <button
                            onclick="oracleQuick('withdraw')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            WITHDRAW
                        </button>
                        <button
                            onclick="oracleQuick('clear')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-red-500/40 hover:bg-red-500/10 transition"
                        >
                            CLEAR
                        </button>
                    </div>
                    <div id="chatLoading" class="hidden mt-2 text-[10px] text-gray-500 font-mono">
                        Scanning the dunes...
                    </div>
                </div>
                <div id="chatMessages" class="h-80 overflow-y-auto p-4 space-y-3 scrollbar-thin text-xs text-gray-300">
                    <div class="flex gap-2 items-start">
                        <div class="w-6 h-6 flex-shrink-0">
                            <img src="img/FENNECAI.png" class="w-full h-full object-contain ai-avatar" />
                        </div>
                        <div class="bg-white/5 p-3 rounded-lg rounded-tl-none flex-1">
                            Ask me anything about Fennec.
                        </div>
                    </div>
                </div>
                <div class="p-3 border-t border-white/10 bg-black/20 relative">
                    <input
                        type="text"
                        id="chatInput"
                        placeholder="Ask..."
                        class="w-full bg-black/50 border border-white/10 rounded-lg pl-3 pr-12 py-3 text-xs text-white outline-none focus:border-fennec/50 transition"
                        onkeypress="if (event.key === 'Enter') sendMessage();"
                    />
                    <button
                        onclick="sendMessage()"
                        id="chatSendBtn"
                        class="absolute right-2 top-1/2 -translate-y-1/2 text-fennec w-9 h-9 flex items-center justify-center rounded-md bg-white/5 border border-white/10 hover:bg-fennec/10 hover:border-fennec/30"
                    >
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            <button
                onclick="window.toggleChat()"
                id="chatTrigger"
                class="pointer-events-auto w-14 h-14 bg-[#2b1d1a] rounded-full border border-fennec/50 shadow-lg flex items-center justify-center hover:scale-110 transition hover:bg-fennec hover:text-black overflow-hidden"
            >
                <img src="img/FENNECAI.png" class="w-10 h-10 object-contain ai-avatar" />
            </button>
        </div>

        <script src="assets/bg.js?v=2026-01-13-1"></script>
    </body>
</html>

==================================================
FILE PATH: \image-compressor.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fennec Image Compressor</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
        <style>
            body {
                background: #0a0a0f;
                color: white;
                font-family: sans-serif;
            }
            .fennec-gradient {
                background: linear-gradient(90deg, #ff6b35, #ff9d5c);
            }
            .drop-zone {
                border: 2px dashed rgba(255, 107, 53, 0.3);
                transition: all 0.3s ease;
            }
            .drop-zone:hover {
                border-color: #ff6b35;
                background: rgba(255, 107, 53, 0.05);
            }
        </style>
    </head>
    <body class="min-h-screen flex items-center justify-center p-4">
        <div class="max-w-2xl w-full bg-[#16161d] rounded-2xl p-8 border border-white/5 shadow-2xl">
            <div class="text-center mb-8">
                <h1
                    class="text-3xl font-black mb-2 fennec-gradient bg-clip-text text-transparent uppercase tracking-tighter"
                >
                    Image Compressor
                </h1>
                <p class="text-gray-400 text-sm">Target size: <span class="text-fennec font-bold">&lt; 365 KB</span></p>
            </div>

            <!-- Upload Area -->
            <div id="dropZone" class="drop-zone rounded-xl p-8 text-center cursor-pointer mb-6">
                <input type="file" id="fileInput" class="hidden" accept="image/*" />
                <i class="fas fa-cloud-upload-alt text-4xl text-fennec mb-4"></i>
                <p class="text-lg font-bold mb-1">Click or Drop Image Here</p>
                <p class="text-gray-500 text-sm">Supports JPG, PNG, WebP</p>
            </div>

            <!-- Preview Area (Hidden by default) -->
            <div id="previewArea" class="hidden space-y-6">
                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-2 text-center">
                        <p class="text-xs text-gray-500 uppercase font-bold">Original</p>
                        <div class="aspect-video bg-black/50 rounded-lg overflow-hidden border border-white/5">
                            <img id="originalImg" class="w-full h-full object-contain" />
                        </div>
                        <p id="originalSize" class="text-sm font-mono"></p>
                    </div>
                    <div class="space-y-2 text-center">
                        <p class="text-xs text-gray-500 uppercase font-bold">Compressed</p>
                        <div class="aspect-video bg-black/50 rounded-lg overflow-hidden border border-white/5">
                            <img id="compressedImg" class="w-full h-full object-contain" />
                        </div>
                        <p id="compressedSize" class="text-sm font-mono text-fennec font-bold"></p>
                    </div>
                </div>

                <div class="flex flex-col gap-3">
                    <button
                        id="compressBtn"
                        class="w-full py-4 bg-[#ff6b35] text-black font-black rounded-xl hover:scale-[1.02] transition shadow-lg flex items-center justify-center gap-2"
                    >
                        <i class="fas fa-compress-arrows-alt"></i>
                        COMPRESS NOW
                    </button>
                    <a
                        id="downloadBtn"
                        class="hidden w-full py-4 border border-fennec/30 text-fennec font-black rounded-xl hover:bg-fennec/10 transition flex items-center justify-center gap-2"
                    >
                        <i class="fas fa-download"></i>
                        DOWNLOAD
                    </a>
                </div>
            </div>

            <div id="status" class="mt-4 text-center text-sm text-gray-500 italic"></div>
        </div>

        <script>
            const dropZone = document.getElementById('dropZone');
            const fileInput = document.getElementById('fileInput');
            const previewArea = document.getElementById('previewArea');
            const originalImg = document.getElementById('originalImg');
            const compressedImg = document.getElementById('compressedImg');
            const originalSizeText = document.getElementById('originalSize');
            const compressedSizeText = document.getElementById('compressedSize');
            const compressBtn = document.getElementById('compressBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const status = document.getElementById('status');

            const TARGET_SIZE_KB = 364; // Slightly under 365
            let currentFile = null;

            dropZone.onclick = () => fileInput.click();

            fileInput.onchange = e => {
                const file = e.target.files[0];
                if (file) handleFile(file);
            };

            dropZone.ondragover = e => {
                e.preventDefault();
                dropZone.classList.add('bg-fennec/10');
            };

            dropZone.ondragleave = () => {
                dropZone.classList.remove('bg-fennec/10');
            };

            dropZone.ondrop = e => {
                e.preventDefault();
                dropZone.classList.remove('bg-fennec/10');
                const file = e.dataTransfer.files[0];
                if (file && file.type.startsWith('image/')) handleFile(file);
            };

            function formatSize(bytes) {
                if (bytes === 0) return '0 B';
                const k = 1024;
                const sizes = ['B', 'KB', 'MB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }

            function handleFile(file) {
                currentFile = file;
                const reader = new FileReader();
                reader.onload = e => {
                    originalImg.src = e.target.result;
                    originalSizeText.innerText = formatSize(file.size);
                    previewArea.classList.remove('hidden');
                    compressedImg.src = '';
                    compressedSizeText.innerText = '';
                    downloadBtn.classList.add('hidden');
                    status.innerText = 'Image loaded. Click compress.';
                };
                reader.readAsDataURL(file);
            }

            compressBtn.onclick = async () => {
                if (!currentFile) return;
                status.innerText = 'Compressing...';

                try {
                    const blob = await compressImage(originalImg.src, TARGET_SIZE_KB);
                    compressedImg.src = URL.createObjectURL(blob);
                    compressedSizeText.innerText = formatSize(blob.size);

                    downloadBtn.href = compressedImg.src;
                    downloadBtn.download = `compressed_${currentFile.name}`;
                    downloadBtn.classList.remove('hidden');

                    if (blob.size / 1024 < TARGET_SIZE_KB) {
                        status.innerText = 'Success! Image is now under 365 KB.';
                    } else {
                        status.innerText = 'Warning: Could not get below 365 KB without losing too much quality.';
                    }
                } catch (err) {
                    console.error(err);
                    status.innerText = 'Error during compression.';
                }
            };

            async function compressImage(src, targetKb) {
                return new Promise(resolve => {
                    const img = new Image();
                    img.src = src;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        let width = img.width;
                        let height = img.height;

                        // Initial scale down if very large
                        const MAX_DIM = 2000;
                        if (width > MAX_DIM || height > MAX_DIM) {
                            const ratio = Math.min(MAX_DIM / width, MAX_DIM / height);
                            width *= ratio;
                            height *= ratio;
                        }

                        canvas.width = width;
                        canvas.height = height;
                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(img, 0, 0, width, height);

                        let quality = 0.9;
                        let step = 0.1;

                        function attempt() {
                            canvas.toBlob(
                                blob => {
                                    const kb = blob.size / 1024;
                                    if (kb > targetKb && quality > 0.1) {
                                        quality -= step;
                                        attempt();
                                    } else {
                                        resolve(blob);
                                    }
                                },
                                'image/jpeg',
                                quality
                            );
                        }
                        attempt();
                    };
                });
            }
        </script>
    </body>
</html>

==================================================
FILE PATH: \index.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="fennec-embed" content="0" />
        <meta name="fennec-manifest" content="/recursive_inscriptions/fennec_manifest_live.json" />
        <meta
            name="description"
            content="$FENNEC - The Desert Fox Protocol. Swap, deposit and withdraw on Fractal's fastest DEX with Fennec ID."
        />
        <title>$FENNEC | The Desert Fox Protocol</title>

        <!-- FAVICONS -->
        <link rel="icon" href="img/phav.png" type="image/png" />
        <link rel="apple-touch-icon" href="img/phav.png" />

        <!-- –¶–≤–µ—Ç –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (—á—Ç–æ–±—ã –Ω–∞ –º–æ–±–∏–ª–∫–∞—Ö —Å–ª–∏–≤–∞–ª–æ—Å—å —Å —à–∞–ø–∫–æ–π) -->
        <meta name="theme-color" content="#000000" />

        <!-- Preconnect –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <link rel="preconnect" href="https://cdn.tailwindcss.com" />
        <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="dns-prefetch" href="https://fennec-api.warninghejo.workers.dev" />
        <link rel="dns-prefetch" href="https://open-api-fractal.unisat.io" />

        <!-- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
        <link
            href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;500;700;900&display=swap"
            rel="stylesheet"
            media="print"
            onload="this.media = 'all'"
        />
        <noscript
            ><link
                href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;500;700;900&rel=stylesheet"
        /></noscript>

        <script src="assets/storage_shim.js?v=2026-01-13-1"></script>
        <link rel="stylesheet" href="assets/app.css?v=2026-01-13-1" />
    </head>
    <body>
        <!-- DEV CONSOLE INTERCEPTOR - AI Error Analysis -->
        <script src="assets/dev_console_interceptor.js?v=2026-01-13-1"></script>
        <div id="animatedBackground" class="fixed top-0 left-0 w-full h-full pointer-events-none" style="z-index: 0">
            <canvas id="animatedBackgroundCanvas" class="w-full h-full"></canvas>
        </div>

        <!-- Notifications Container -->
        <div
            id="notificationsContainer"
            style="
                position: fixed;
                top: 80px;
                right: 20px;
                z-index: 10000;
                display: flex;
                flex-direction: column;
                gap: 12px;
                align-items: flex-end;
            "
        ></div>

        <!-- HEADER -->
        <header class="fixed w-full z-50 border-b border-white/5 bg-[#2c1a12]/90 backdrop-blur-md">
            <div class="max-w-6xl mx-auto px-4 h-16 grid grid-cols-[1fr_auto_1fr] items-center">
                <a class="flex items-center gap-3 cursor-pointer group" href="index.html" data-link>
                    <img
                        src="img/phav.png"
                        class="neon-logo w-9 h-9 rounded-full border border-fennec/50 group-hover:scale-110 transition shadow-lg shadow-fennec/20 object-contain"
                    />
                    <div>
                        <h1
                            class="font-display font-bold text-xl leading-none tracking-tight text-fennec"
                            style="text-shadow: 0 0 18px rgba(255, 107, 53, 0.35)"
                        >
                            FENNEC
                        </h1>
                    </div>
                </a>

                <nav class="flex gap-8 text-xs font-bold text-gray-400 uppercase tracking-widest justify-self-center">
                    <a
                        href="index.html"
                        class="nav-link hover:text-white transition py-5 active"
                        id="nav-home"
                        data-t="nav_home"
                        data-link
                    >
                        VISION
                    </a>
                    <a
                        href="terminal.html"
                        class="nav-link hover:text-white transition py-5"
                        id="nav-terminal"
                        data-t="nav_terminal"
                        data-link
                    >
                        TERMINAL
                    </a>
                    <a
                        href="id.html"
                        class="nav-link hover:text-white transition py-5"
                        id="nav-audit"
                        data-t="nav_audit"
                        data-link
                    >
                        FENNEC ID
                    </a>
                </nav>

                <div class="flex items-center gap-3 justify-self-end">
                    <a
                        href="https://x.com/FennecBTC"
                        target="_blank"
                        class="text-gray-400 hover:text-white transition flex items-center justify-center text-2xl w-10 h-10"
                        aria-label="Twitter"
                    >
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a
                        href="https://t.me/FennecBTC"
                        target="_blank"
                        class="text-gray-400 hover:text-white transition flex items-center justify-center text-2xl w-10 h-10"
                        aria-label="Telegram"
                    >
                        <i class="fab fa-telegram"></i>
                    </a>
                    <button
                        onclick="window.manualRefresh()"
                        id="refreshBtn"
                        class="hidden bg-gradient-to-br from-fennec/25 via-orange-600/20 to-orange-700/15 text-fennec px-3.5 py-2 rounded-xl font-bold hover:brightness-125 hover:scale-105 transition-all duration-200 text-[11px] border border-fennec/40 flex items-center gap-2 shadow-[0_0_20px_rgba(255,107,53,0.3)] hover:shadow-[0_0_32px_rgba(255,107,53,0.5)] backdrop-blur-sm"
                    >
                        <i id="refreshIcon" class="fas fa-sync-alt"></i>
                        <span id="refreshText">REFRESH</span>
                        <span id="refreshTimer" class="hidden text-[10px] opacity-75"></span>
                    </button>
                    <button
                        onclick="window.disconnectWallet()"
                        id="disconnectBtn"
                        class="hidden bg-red-600/20 text-red-400 px-4 py-2 rounded-lg font-bold hover:bg-red-600/30 transition text-xs border border-red-500/50 flex items-center gap-2"
                    >
                        <i class="fas fa-sign-out-alt"></i> <span id="disconnectBtnText">DISCONNECT</span>
                    </button>
                    <button
                        onclick="window.connectWallet()"
                        id="connectBtn"
                        class="bg-gradient-to-r from-fennec to-orange-600 text-black px-4 py-2 rounded-lg font-bold hover:brightness-110 transition text-xs shadow-[0_0_20px_rgba(255,107,53,0.4)] flex items-center gap-2"
                        data-t="connect"
                    >
                        <i class="fas fa-wallet"></i> <span>CONNECT</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- LIVE TICKER -->
        <div
            id="liveTickerBar"
            class="fixed bottom-0 left-0 right-0 w-full z-[100] py-1 overflow-hidden pointer-events-none flex items-center"
            style="
                background: linear-gradient(
                    90deg,
                    rgba(13, 6, 4, 0.95) 0%,
                    rgba(20, 10, 6, 0.98) 50%,
                    rgba(13, 6, 4, 0.95) 100%
                );
                border-top: 1px solid rgba(255, 107, 53, 0.15);
                box-shadow:
                    0 -4px 20px rgba(255, 107, 53, 0.08),
                    inset 0 1px 0 rgba(255, 107, 53, 0.1);
                backdrop-filter: blur(12px);
                height: 28px;
            "
        >
            <div
                class="ticker-container"
                style="
                    overflow: hidden;
                    position: relative;
                    width: 100%;
                    height: 100%;
                    display: flex;
                    align-items: center;
                "
            >
                <div
                    class="ticker-content"
                    id="liveTicker"
                    style="
                        display: inline-flex;
                        align-items: center;
                        white-space: nowrap;
                        font-size: 13px;
                        font-weight: 700;
                        letter-spacing: 0.05em;
                        text-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
                        line-height: 28px;
                    "
                >
                    <div class="ticker-marquee">
                        <span class="ticker-item text-fennec"
                            ><img
                                src="img/phav.png"
                                class="w-5 h-5 inline-block object-contain"
                                style="filter: drop-shadow(0 0 8px rgba(255, 107, 53, 0.5))"
                            />
                            <span>FENNEC SYSTEM ONLINE</span></span
                        >
                    </div>
                </div>
            </div>
        </div>

        <main id="router-view" class="router-view">
            <!-- === SECTION 1: HOME (MISSION) === -->
            <section id="sec-home" class="page-section active flex flex-col justify-start pt-32 pb-24 relative z-10">
                <div class="hero-fox-bg"></div>
                <div class="max-w-5xl mx-auto px-6 relative">
                    <!-- Hero -->
                    <div class="text-center mb-24">
                        <div
                            class="inline-flex items-center gap-2 mb-6 px-4 py-1.5 rounded-full border border-fennec/30 bg-fennec/5 text-fennec text-[10px] uppercase tracking-widest font-bold"
                        >
                            <span class="w-2 h-2 rounded-full bg-fennec animate-pulse"></span>
                            <span>Fractal Bitcoin</span>
                        </div>
                        <h1 class="text-5xl md:text-7xl font-black font-display mb-6 leading-tight">
                            <span class="text-fennec" style="text-shadow: 0 0 24px rgba(255, 107, 53, 0.35)"
                                >FENNEC</span
                            ><br /><span
                                class="text-transparent bg-clip-text bg-gradient-to-r from-fennec via-orange-400 to-yellow-200"
                                >FRONTIER</span
                            >
                        </h1>
                        <p
                            class="text-gray-300 text-lg max-w-2xl mx-auto mb-10 leading-relaxed font-light"
                            data-t="hero_desc"
                        >
                            The tactical layer for Fractal Bitcoin. Execute swaps with precision, visualize your
                            on-chain legacy, and navigate the ecosystem with AI.
                        </p>

                        <div class="flex flex-col md:flex-row justify-center gap-4">
                            <a
                                href="terminal.html"
                                class="bg-fennec text-black px-8 py-4 rounded-xl font-bold text-lg hover:scale-105 transition shadow-[0_0_30px_rgba(255,107,53,0.5)] flex items-center justify-center gap-2"
                                data-t="enter_app"
                                data-link
                            >
                                <span>ENTER TERMINAL</span> <i class="fas fa-terminal"></i>
                            </a>
                            <button
                                onclick="window.onVisionFennecIdClick()"
                                id="visionFennecIdBtn"
                                class="border border-fennec/30 bg-fennec/5 text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-fennec/10 transition flex items-center justify-center gap-2"
                            >
                                <span id="visionFennecIdBtnText">FENNEC ID</span> <i class="fas fa-id-card"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Features Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12">
                        <div
                            class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                        >
                            <div
                                class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                            >
                                <i class="fas fa-laptop-code"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2" data-t="feat_ui_title">Tactical Terminal</h3>
                            <p class="text-gray-400 text-sm leading-relaxed" data-t="feat_ui_desc">
                                An optimized aggregation interface. We cut through the noise to give you the most
                                efficient execution on the network.
                            </p>
                        </div>
                        <div
                            class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                        >
                            <div
                                class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                            >
                                <i class="fas fa-robot"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2" data-t="feat_ai_title">AI Navigator</h3>
                            <p class="text-gray-400 text-sm leading-relaxed" data-t="feat_ai_desc">
                                Your co-pilot in the dunes. Analyze chain data and get real-time guidance without
                                leaving the terminal.
                            </p>
                        </div>
                        <div
                            class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                        >
                            <div
                                class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                            >
                                <i class="fas fa-paw"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2" data-t="feat_comm_title">
                                Access &amp; Status
                            </h3>
                            <p class="text-gray-400 text-sm leading-relaxed" data-t="feat_comm_desc">
                                $FENNEC is the key to the ecosystem. Hold to unlock premium ID features, visual
                                upgrades, and future protocol tiers.
                            </p>
                        </div>
                        <div
                            class="glass-panel p-6 rounded-2xl hover:border-fennec/50 transition duration-300 group text-center"
                        >
                            <div
                                class="w-12 h-12 rounded-full bg-fennec/10 flex items-center justify-center text-fennec text-2xl mb-4 group-hover:scale-110 transition mx-auto"
                            >
                                <i class="fas fa-id-card"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2">Identity Protocol</h3>
                            <p class="text-gray-400 text-sm leading-relaxed">
                                A proprietary standard for on-chain reputation. Dynamic, evolving 3D cards that
                                immortalize your journey forever.
                            </p>
                        </div>
                    </div>

                    <!-- Evolution Story (Island Journey) -->
                    <div class="mb-12 relative overflow-hidden text-center">
                        <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2 justify-center">
                            <i class="fas fa-map-marked-alt text-fennec"></i>
                            <span data-t="evo_title">Fennec Evolution</span>
                        </h3>
                        <p class="text-gray-300 text-sm leading-relaxed mb-6 max-w-2xl mx-auto" data-t="evo_text1">
                            Journey across the islands of evolution. Each island marks a milestone in our voyage through
                            the Fractal seas.
                        </p>

                        <!-- Ocean & Journey Path -->
                        <div
                            class="hidden md:block relative h-32 mb-8"
                            style="
                                background: linear-gradient(
                                    180deg,
                                    transparent 0%,
                                    rgba(59, 130, 246, 0.03) 40%,
                                    rgba(59, 130, 246, 0.08) 100%
                                );
                                border-radius: 24px;
                                overflow: hidden;
                                visibility: hidden;
                                height: 0;
                                margin: 0;
                            "
                        >
                            <!-- Waves -->
                            <div
                                class="absolute inset-0 opacity-20"
                                style="
                                    background: repeating-linear-gradient(
                                        90deg,
                                        transparent 0px,
                                        rgba(255, 255, 255, 0.05) 40px,
                                        transparent 80px
                                    );
                                    animation: wave 8s linear infinite;
                                "
                            ></div>
                            <div
                                class="absolute inset-0 opacity-10"
                                style="
                                    background: repeating-linear-gradient(
                                        90deg,
                                        transparent 0px,
                                        rgba(255, 255, 255, 0.03) 60px,
                                        transparent 120px
                                    );
                                    animation: wave 12s linear infinite reverse;
                                "
                            ></div>

                            <svg
                                viewBox="0 0 1200 160"
                                preserveAspectRatio="none"
                                class="absolute inset-0 w-full h-full"
                            >
                                <defs>
                                    <linearGradient id="seaPath" x1="0" y1="0" x2="1" y2="0">
                                        <stop offset="0%" stop-color="rgba(34,197,94,0.4)" />
                                        <stop offset="33%" stop-color="rgba(255,107,53,0.6)" />
                                        <stop offset="66%" stop-color="rgba(168,85,247,0.5)" />
                                        <stop offset="100%" stop-color="rgba(59,130,246,0.4)" />
                                    </linearGradient>
                                    <filter id="islandGlow" x="-50%" y="-50%" width="200%" height="200%">
                                        <feGaussianBlur stdDeviation="8" result="blur" />
                                        <feMerge>
                                            <feMergeNode in="blur" />
                                            <feMergeNode in="SourceGraphic" />
                                        </feMerge>
                                    </filter>
                                </defs>

                                <!-- Journey path (dotted line connecting islands) -->
                                <path
                                    d="M 100 90 Q 250 60, 400 85 T 700 75 T 1000 90"
                                    fill="none"
                                    stroke="url(#seaPath)"
                                    stroke-width="3"
                                    stroke-dasharray="8,12"
                                    opacity="0.6"
                                    style="animation: pathGlow 3s ease-in-out infinite"
                                />

                                <!-- Islands (organic shapes without numbers) - REMOVED per user request -->
                            </svg>
                        </div>

                        <!-- Island Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 relative">
                            <!-- Island 1: Genesis -->
                            <div class="relative group" style="animation: islandBob 4s ease-in-out infinite">
                                <div
                                    class="relative glass-panel p-5 rounded-2xl border-green-500/40 hover:border-green-400/60 transition-all text-center"
                                    style="border-width: 2px"
                                >
                                    <div
                                        class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-green-400/20 to-green-600/20 flex items-center justify-center border-2 border-green-400/50"
                                        style="box-shadow: 0 0 20px rgba(34, 197, 94, 0.3)"
                                    >
                                        <img
                                            src="img/phase1.png"
                                            class="w-10 h-10 object-contain"
                                            onerror="
                                                this.src =
                                                    'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%2322c55e%27 stroke-width=%272%27%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%2710%27/%3E%3Cpath d=%27M12 6v6m0 6v6M1 12h6m6 0h6%27/%3E%3C/svg%3E'
                                            "
                                        />
                                    </div>
                                    <div class="text-sm font-black text-green-400 mb-1 tracking-wider">
                                        GENESIS ISLE
                                    </div>
                                    <div class="text-[11px] text-gray-300 leading-relaxed">
                                        Fair Launch<br />Community Foundation
                                    </div>
                                </div>
                            </div>

                            <!-- Island 2: Current -->
                            <div class="relative group" style="animation: islandBob 4s ease-in-out infinite 0.3s">
                                <div
                                    class="relative glass-panel p-5 rounded-2xl border-fennec/60 bg-fennec/8 hover:border-fennec/80 transition-all text-center"
                                    style="border-width: 2px; box-shadow: 0 0 30px rgba(255, 107, 53, 0.2)"
                                >
                                    <div
                                        class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-fennec/30 to-orange-600/30 flex items-center justify-center border-2 border-fennec/70"
                                        style="box-shadow: 0 0 24px rgba(255, 107, 53, 0.5)"
                                    >
                                        <img
                                            src="img/phase2.png"
                                            class="w-10 h-10 object-contain"
                                            onerror="
                                                this.src =
                                                    'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23ff6b35%27 stroke-width=%272%27%3E%3Crect x=%273%27 y=%273%27 width=%2718%27 height=%2718%27 rx=%272%27/%3E%3Cpath d=%27M9 9h6M9 15h6%27/%3E%3C/svg%3E'
                                            "
                                        />
                                    </div>
                                    <div class="text-sm font-black text-fennec mb-1 tracking-wider">FENNEC HARBOR</div>
                                    <div class="text-[11px] text-gray-200 leading-relaxed font-semibold">
                                        Terminal Trading<br />Fennec ID System
                                    </div>
                                    <div
                                        class="mt-2 inline-block px-2 py-0.5 bg-fennec/20 border border-fennec/40 rounded text-[9px] font-bold text-fennec"
                                    >
                                        CURRENT
                                    </div>
                                </div>
                            </div>

                            <!-- Island 3: Upcoming -->
                            <div class="relative group" style="animation: islandBob 4s ease-in-out infinite 0.6s">
                                <div
                                    class="relative glass-panel p-5 rounded-2xl border-purple-500/40 hover:border-purple-400/60 transition-all text-center"
                                    style="border-width: 2px"
                                >
                                    <div
                                        class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-purple-500/20 to-purple-700/20 flex items-center justify-center border-2 border-purple-400/50"
                                        style="box-shadow: 0 0 20px rgba(168, 85, 247, 0.3)"
                                    >
                                        <img
                                            src="img/phase3.png"
                                            class="w-10 h-10 object-contain"
                                            onerror="
                                                this.src =
                                                    'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23a855f7%27 stroke-width=%272%27%3E%3Cpath d=%27M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5%27/%3E%3C/svg%3E'
                                            "
                                        />
                                    </div>
                                    <div class="text-sm font-black text-purple-400 mb-1 tracking-wider">
                                        SECTOR: ROSEN
                                    </div>
                                    <div class="text-[11px] text-gray-300 leading-relaxed">
                                        Vortex Effect<br />Metric: Unstable
                                    </div>
                                </div>
                            </div>

                            <!-- Island 4: Future -->
                            <div
                                class="relative group opacity-75"
                                style="animation: islandBob 4s ease-in-out infinite 0.9s"
                            >
                                <div
                                    class="relative glass-panel p-5 rounded-2xl border-blue-500/30 hover:border-blue-400/50 transition-all text-center"
                                    style="border-width: 2px"
                                >
                                    <div
                                        class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br from-blue-500/15 to-blue-700/15 flex items-center justify-center border-2 border-blue-400/40"
                                        style="box-shadow: 0 0 16px rgba(59, 130, 246, 0.25)"
                                    >
                                        <img
                                            src="img/phase4.png"
                                            class="w-10 h-10 object-contain"
                                            onerror="
                                                this.src =
                                                    'data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2740%27 height=%2740%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%233b82f6%27 stroke-width=%272%27%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%273%27/%3E%3Cpath d=%27M12 1v6m0 6v6M1 12h6m6 0h6%27/%3E%3C/svg%3E'
                                            "
                                        />
                                    </div>
                                    <div class="text-sm font-black text-blue-400 mb-1 tracking-wider">
                                        LEGEND SHORES
                                    </div>
                                    <div class="text-[11px] text-gray-400 leading-relaxed">
                                        Uncharted Waters<br />New Legends Born
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <template id="sec-terminal-template">
                <!-- === SECTION 2: TERMINAL (SWAP) === -->
                <section
                    id="sec-terminal"
                    class="page-section flex flex-col justify-start pt-32 pb-20 px-4 max-w-4xl mx-auto relative z-10"
                >
                    <!-- CHART -->
                    <div class="glass-panel p-6 rounded-2xl mb-6">
                        <div class="flex justify-between items-end mb-4">
                            <div>
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold">
                                    Market Price (FB)
                                </div>
                                <div class="flex items-baseline gap-3">
                                    <div
                                        class="text-3xl font-bold font-mono text-white tracking-tighter"
                                        id="chartPrice"
                                    >
                                        --
                                    </div>
                                    <div class="text-lg font-bold" id="chartPriceChange">--</div>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button
                                    onclick="setChartTimeframe('1h')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    1H
                                </button>
                                <button
                                    onclick="setChartTimeframe('24h')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    24H
                                </button>
                                <button
                                    onclick="setChartTimeframe('7d')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    7D
                                </button>
                                <button
                                    onclick="setChartTimeframe('30d')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    30D
                                </button>
                                <button
                                    onclick="setChartTimeframe('all')"
                                    class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                                >
                                    ALL
                                </button>
                            </div>
                        </div>
                        <div class="chart-container" style="height: 250px; width: 100%; position: relative">
                            <canvas id="priceChart"></canvas>
                        </div>
                        <!-- Market Stats -->
                        <div class="grid grid-cols-4 gap-4 mt-3 pt-4 border-t border-white/5">
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    24h Volume
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="volume24h">--</div>
                            </div>
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    7d Volume
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="volume7d">--</div>
                            </div>
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    30d Volume
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="volume30d">--</div>
                            </div>
                            <div class="text-center">
                                <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                    Market Cap
                                </div>
                                <div class="text-lg font-bold font-mono text-white" id="marketCap">--</div>
                            </div>
                        </div>
                    </div>

                    <!-- MAIN INTERFACE -->
                    <div
                        class="glass-panel p-6 rounded-2xl relative shadow-[0_0_50px_rgba(0,0,0,0.3)] border border-fennec/20"
                    >
                        <div
                            id="swapSuccessOverlay"
                            class="absolute inset-0 z-40 items-center justify-center"
                            style="display: none"
                        >
                            <div
                                class="px-6 py-4 rounded-2xl bg-black/70 border border-fennec/30 backdrop-blur-md flex items-center gap-3"
                            >
                                <div
                                    class="w-10 h-10 rounded-full bg-fennec/15 border border-fennec/40 flex items-center justify-center text-fennec text-xl"
                                >
                                    <i class="fas fa-check"></i>
                                </div>
                                <div>
                                    <div class="text-xs tracking-[0.25em] text-gray-300 uppercase font-bold">
                                        Swap confirmed
                                    </div>
                                    <div class="text-[11px] text-gray-400">Balances are updating‚Ä¶</div>
                                </div>
                            </div>
                        </div>
                        <!-- TABS -->
                        <div class="flex border-b border-white/10 mb-6">
                            <button
                                class="tab-btn active w-1/4"
                                onclick="switchTab('swap')"
                                id="tab-swap"
                                data-t="swap"
                            >
                                SWAP
                            </button>
                            <button
                                class="tab-btn w-1/4"
                                onclick="switchTab('deposit')"
                                id="tab-deposit"
                                data-t="deposit"
                            >
                                DEPOSIT
                            </button>
                            <button
                                class="tab-btn w-1/4"
                                onclick="switchTab('withdraw')"
                                id="tab-withdraw"
                                data-t="withdraw"
                            >
                                WITHDRAW
                            </button>
                            <button
                                class="tab-btn w-1/4"
                                onclick="switchTab('pending')"
                                id="tab-pending"
                                data-t="activity"
                            >
                                PENDING
                            </button>
                        </div>

                        <!-- SWAP TAB -->
                        <div id="view-swap" class="tab-content active">
                            <div class="flex gap-2 mb-4">
                                <div
                                    onclick="setSwapPair('FB_FENNEC')"
                                    id="pair-fb-fennec"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition hover:bg-fennec/20 cursor-pointer"
                                    role="button"
                                    tabindex="0"
                                >
                                    <div class="flex flex-col items-center justify-center leading-tight">
                                        <div>FB / FENNEC</div>
                                    </div>
                                </div>
                                <div
                                    onclick="setSwapPair('BTC_FB')"
                                    id="pair-btc-fb"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition hover:bg-white/5 cursor-pointer"
                                    role="button"
                                    tabindex="0"
                                >
                                    <div class="flex flex-col items-center justify-center leading-tight">
                                        <div>BTC / FB</div>
                                    </div>
                                </div>
                            </div>

                            <div
                                class="bg-black/40 rounded-xl p-4 mb-2 border border-white/5 focus-within:border-fennec/50 transition"
                            >
                                <div class="flex justify-between text-xs mb-2 text-gray-400">
                                    <span data-t="you_pay" class="font-bold">YOU PAY</span>
                                    <div class="flex gap-2 items-center">
                                        <span class="text-[10px] text-gray-500" id="balIn">Bal: --</span>
                                        <button
                                            onclick="setMaxAmount()"
                                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                        >
                                            MAX
                                        </button>
                                    </div>
                                </div>
                                <div class="flex justify-between items-center relative">
                                    <input
                                        type="number"
                                        id="swapIn"
                                        placeholder="0.0"
                                        class="bg-transparent text-3xl font-bold w-full outline-none text-white placeholder-gray-700"
                                        oninput="debounceQuote()"
                                    />
                                    <div class="flex flex-col items-center gap-1">
                                        <div
                                            class="flex items-center gap-2 px-3 py-1.5 cursor-pointer min-w-[80px] justify-center"
                                        >
                                            <img
                                                id="iconIn"
                                                src="img/FB.png"
                                                class="w-6 h-6 rounded-full flex-shrink-0"
                                            />
                                            <span id="tickerIn" class="font-bold text-sm whitespace-nowrap">FB</span>
                                        </div>
                                        <!-- Liquidity Plus Button moved under the coins -->
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-center items-center gap-4 -my-5 relative z-10">
                                <button
                                    onclick="switchDir()"
                                    class="bg-[#2b1d1a] border border-fennec/30 p-3 rounded-full text-fennec shadow-xl hover:scale-110 transition hover:border-fennec rotate-90"
                                    title="Switch direction"
                                >
                                    <i class="fas fa-exchange-alt"></i>
                                </button>
                            </div>

                            <div class="bg-black/40 rounded-xl p-4 mt-2 border border-white/5">
                                <div class="flex justify-between text-xs mb-2 text-gray-400">
                                    <span data-t="you_receive" class="font-bold">YOU RECEIVE</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <input
                                        type="number"
                                        id="swapOut"
                                        placeholder="0.0"
                                        class="bg-transparent text-3xl font-bold w-full outline-none text-white placeholder-gray-700"
                                        oninput="debounceReverse()"
                                    />
                                    <div class="flex items-center gap-2 px-3 py-1.5 min-w-[80px] justify-center">
                                        <img
                                            id="iconOut"
                                            src="img/phav.png"
                                            class="w-6 h-6 rounded-full flex-shrink-0"
                                        />
                                        <span id="tickerOut" class="font-bold text-sm whitespace-nowrap">FENNEC</span>
                                    </div>
                                </div>
                            </div>

                            <div
                                class="flex justify-between items-center text-xs text-gray-400 mt-4 px-2 font-mono gap-3"
                            >
                                <span id="rateVal" class="font-semibold">Rate: --</span>
                                <button
                                    type="button"
                                    onclick="openAddLiquidityModal(currentSwapPair)"
                                    class="px-4 py-2 text-[11px] font-black bg-fennec/15 text-fennec border border-fennec/30 rounded-lg hover:bg-fennec/25 transition shadow-lg tracking-widest"
                                    title="Manage Liquidity"
                                >
                                    Liquidity
                                </button>
                            </div>

                            <button
                                onclick="doSwap()"
                                id="swapBtn"
                                class="w-full bg-fennec text-black font-black text-xl py-4 rounded-xl mt-6 hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide flex items-center justify-center gap-2"
                                data-t="swap_action"
                            >
                                <img src="img/phav.png" class="w-6 h-6 inline-block object-contain" /> GET FENNEC
                            </button>

                            <!-- Recent Swaps -->
                            <div class="mt-6 pt-4 border-t border-white/10">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                        >Recent Swaps</span
                                    >
                                </div>
                                <div id="swapHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                    <div class="text-center py-4 text-gray-600 text-xs">No swaps yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- DEPOSIT TAB -->
                        <div id="view-deposit" class="tab-content hidden">
                            <div class="flex gap-2 mb-6">
                                <button
                                    onclick="setDepositToken('BTC')"
                                    id="dep-btc"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg"
                                >
                                    BTC
                                </button>
                                <button
                                    onclick="setDepositToken('sFB')"
                                    id="dep-sfb"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                                >
                                    FB
                                </button>
                                <button
                                    onclick="setDepositToken('FENNEC')"
                                    id="dep-fennec"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                                >
                                    FENNEC
                                </button>
                            </div>

                            <div id="dep-native-ui">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-xs text-gray-400" id="depBalance">Balance: --</span>
                                    <div class="flex items-center gap-2">
                                        <button
                                            onclick="setMaxDepositAmount()"
                                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                        >
                                            MAX
                                        </button>
                                    </div>
                                </div>
                                <div
                                    class="bg-black/40 rounded-xl p-4 mb-4 border border-white/5 flex justify-between items-center"
                                >
                                    <input
                                        type="number"
                                        id="depAmount"
                                        placeholder="0.001"
                                        class="bg-transparent text-2xl font-bold w-full outline-none text-white"
                                    />
                                    <span class="font-bold text-gray-400" id="depTickerLabel">BTC</span>
                                </div>

                                <!-- Fee Selection -->
                                <div class="mb-4">
                                    <div class="text-[10px] font-bold text-gray-400 tracking-wider mb-2">
                                        NETWORK FEE
                                    </div>
                                    <div class="flex gap-2" id="depFeeSelector">
                                        <button
                                            onclick="setDepositFee('medium')"
                                            id="dep-fee-medium"
                                            class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition"
                                        >
                                            <div>MEDIUM</div>
                                            <div class="text-[10px] text-fennec/70" id="dep-fee-medium-value">--</div>
                                        </button>
                                        <button
                                            onclick="setDepositFee('fast')"
                                            id="dep-fee-fast"
                                            class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                        >
                                            <div>FAST</div>
                                            <div class="text-[10px] text-gray-600" id="dep-fee-fast-value">--</div>
                                        </button>
                                        <button
                                            onclick="setDepositFee('custom')"
                                            id="dep-fee-custom"
                                            class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                        >
                                            <div>CUSTOM</div>
                                            <input
                                                type="number"
                                                id="dep-fee-custom-input"
                                                placeholder="sat/vB"
                                                min="1"
                                                step="1"
                                                class="text-[10px] bg-black/40 border border-white/20 rounded w-full text-center mt-1 text-white px-1"
                                                style="display: none"
                                                onchange="setDepositFeeCustom(this.value)"
                                            />
                                        </button>
                                    </div>
                                </div>

                                <button
                                    onclick="doDeposit()"
                                    id="btnDeposit"
                                    class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide"
                                    data-t="deposit_btc_btn"
                                >
                                    DEPOSIT
                                </button>
                            </div>
                            <div id="dep-brc20-ui" style="display: none">
                                <div class="mb-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xs text-gray-400"
                                            >Available: <span id="fennecAvailable">--</span></span
                                        >
                                        <span class="text-xs text-gray-400"
                                            >Transferable: <span id="fennecTransferable">--</span></span
                                        >
                                    </div>
                                </div>
                                <div id="inscriptionCards" class="grid grid-cols-3 gap-3 mb-4 max-h-64 overflow-y-auto">
                                    <div class="text-center py-8 text-gray-500 text-xs">Loading inscriptions...</div>
                                </div>
                                <div class="border-t border-white/10 pt-3 mb-4">
                                    <div class="flex items-center justify-between text-sm">
                                        <span class="text-gray-400">Selected:</span>
                                        <span class="text-white font-bold" id="selectedAmount">0</span>
                                        <span class="text-fennec font-bold">FENNEC</span>
                                    </div>
                                </div>
                                <button
                                    onclick="depositSelectedInscriptions()"
                                    id="btnDepositSelected"
                                    class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white transition duration-200 shadow-lg mb-3"
                                    disabled
                                >
                                    DEPOSIT
                                </button>
                                <div class="text-center py-2 border-t border-white/10">
                                    <div class="mb-3">
                                        <div class="flex items-center justify-center gap-2 mb-2">
                                            <input
                                                type="number"
                                                id="depFennecAmount"
                                                placeholder="Enter amount"
                                                min="0.00000001"
                                                step="0.00000001"
                                                class="bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white text-sm w-32 text-center focus:border-fennec transition"
                                                style="outline: none"
                                            />
                                            <span class="text-xs text-gray-400">FENNEC</span>
                                        </div>
                                        <button
                                            onclick="setMaxFennecAmount()"
                                            class="text-[10px] text-fennec hover:text-white bg-fennec/10 px-3 py-1 rounded border border-fennec/30 mb-2"
                                        >
                                            Use Max
                                        </button>
                                    </div>
                                    <button
                                        onclick="createFennecInscription()"
                                        id="btnCreateInscription"
                                        class="text-xs text-fennec hover:text-white bg-fennec/10 px-4 py-2 rounded-lg border border-fennec/30 transition hover:bg-fennec/20"
                                    >
                                        Create Transfer Inscription
                                    </button>
                                </div>
                            </div>

                            <!-- Recent Deposits -->
                            <div class="mt-6 pt-4 border-t border-white/10">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                        >Recent Deposits</span
                                    >
                                </div>
                                <div id="depositHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                    <div class="text-center py-4 text-gray-600 text-xs">No deposits yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- WITHDRAW TAB -->
                        <div id="view-withdraw" class="tab-content hidden">
                            <div class="flex gap-2 mb-6">
                                <button
                                    onclick="setWithdrawToken('sFB')"
                                    id="wd-sfb"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg"
                                >
                                    FB
                                </button>
                                <button
                                    onclick="setWithdrawToken('FENNEC')"
                                    id="wd-fennec"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                                >
                                    FENNEC
                                </button>
                            </div>
                            <div class="flex justify-between text-xs mb-2 text-gray-400">
                                <span id="wd-bal">Available: --</span>
                                <div class="flex items-center gap-2">
                                    <button
                                        onclick="setMaxWithdrawAmount()"
                                        class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    >
                                        MAX
                                    </button>
                                </div>
                            </div>
                            <div
                                class="bg-black/40 rounded-xl p-4 mb-4 border border-white/5 flex justify-between items-center"
                            >
                                <input
                                    type="number"
                                    id="wdAmount"
                                    placeholder="0.0"
                                    class="bg-transparent text-2xl font-bold w-full outline-none text-white"
                                />
                                <span class="font-bold text-gray-400" id="wdTickerLabel">FB</span>
                            </div>

                            <!-- Fee Selection -->
                            <div class="mb-4">
                                <div class="text-[10px] font-bold text-gray-400 tracking-wider mb-2">NETWORK FEE</div>
                                <div class="flex gap-2" id="wdFeeSelector">
                                    <button
                                        onclick="setWithdrawFee('medium')"
                                        id="wd-fee-medium"
                                        class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition"
                                    >
                                        <div>MEDIUM</div>
                                        <div class="text-[10px] text-fennec/70" id="wd-fee-medium-value">--</div>
                                    </button>
                                    <button
                                        onclick="setWithdrawFee('fast')"
                                        id="wd-fee-fast"
                                        class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                    >
                                        <div>FAST</div>
                                        <div class="text-[10px] text-gray-600" id="wd-fee-fast-value">--</div>
                                    </button>
                                    <button
                                        onclick="setWithdrawFee('custom')"
                                        id="wd-fee-custom"
                                        class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                    >
                                        <div>CUSTOM</div>
                                        <input
                                            type="number"
                                            id="wd-fee-custom-input"
                                            placeholder="sat/vB"
                                            min="1"
                                            step="1"
                                            class="text-[10px] bg-black/40 border border-white/20 rounded w-full text-center mt-1 text-white px-1"
                                            style="display: none"
                                            onchange="setWithdrawFeeCustom(this.value)"
                                        />
                                    </button>
                                </div>
                            </div>

                            <button
                                onclick="doWithdraw()"
                                id="btnWithdraw"
                                class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide"
                                data-t="withdraw_btn"
                            >
                                WITHDRAW
                            </button>

                            <!-- Recent Withdrawals -->
                            <div class="mt-6 pt-4 border-t border-white/10">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                        >Recent Withdrawals</span
                                    >
                                </div>
                                <div id="withdrawHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                    <div class="text-center py-4 text-gray-600 text-xs">No withdrawals yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- PENDING TAB -->
                        <div id="view-pending" class="tab-content hidden">
                            <div
                                class="text-xs text-gray-500 font-bold uppercase mb-3 tracking-widest flex justify-between"
                            >
                                <span>Pending Operations</span>
                            </div>
                            <div id="pendingOperations" class="space-y-2 max-h-80 overflow-y-auto scrollbar-thin">
                                <div class="text-center py-8 text-gray-600 text-xs">No pending operations</div>
                            </div>
                        </div>
                    </div>
                </section>
            </template>

            <template id="sec-audit-template">
                <!-- === SECTION 3: FENNEC GRAND AUDIT === -->
                <section id="sec-audit" class="page-section flex flex-col justify-start pt-24 pb-24 relative z-10">
                    <div class="max-w-4xl mx-auto px-6">
                        <div class="text-center" style="margin-bottom: 32px">
                            <h2
                                class="text-4xl font-black font-display text-white mb-3"
                                style="
                                    color: #ff6b35;
                                    text-shadow: 0 0 30px rgba(255, 107, 53, 0.4);
                                    letter-spacing: 0.15em;
                                    text-transform: uppercase;
                                "
                            >
                                FENNEC ID
                            </h2>
                            <p class="text-center text-gray-400 text-sm" style="letter-spacing: 0.05em">
                                Your on-chain footprint in the Fractal desert
                            </p>
                        </div>

                        <div class="relative" style="overflow: visible !important; margin-top: 0px">
                            <div
                                id="auditContainer"
                                class="relative flex justify-center"
                                style="overflow: visible !important"
                            >
                                <!-- Content will be generated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </section>
            </template>

            <template id="sec-burrow-template">
                <!-- === SECTION 4: THE BURROW (VISUALIZER) === -->
                <section id="sec-burrow" class="page-section pt-32 pb-20 relative z-10 text-center">
                    <div class="max-w-4xl mx-auto px-6">
                        <h2
                            class="text-4xl font-black font-display mb-4 text-white text-glow neon-text"
                            data-t="burrow_title"
                        >
                            THE BURROW
                        </h2>
                        <p class="text-gray-400 text-sm mb-8" data-t="burrow_desc">
                            Live Mempool Visualization (Particles = Transactions)
                        </p>
                        <div
                            class="glass-panel p-1 rounded-2xl relative overflow-hidden h-[400px] border border-fennec/30 shadow-[0_0_50px_rgba(255,107,53,0.15)]"
                        >
                            <canvas id="burrowCanvas"></canvas>
                            <div class="absolute bottom-4 left-4 text-xs text-fennec font-mono animate-pulse">
                                LIVE FEED
                            </div>
                        </div>
                    </div>
                </section>
            </template>
        </main>

        <!-- FOOTER SPACER -->
        <div class="h-10"></div>

        <div
            id="errorModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('errorModal').classList.add('hidden')"
        >
            <div class="modal-box border-red-500/30" onclick="event.stopPropagation()">
                <h3 class="text-lg font-bold text-red-500 mb-2">Error</h3>
                <p id="errorMsg" class="text-gray-400 text-xs font-mono mb-4 break-all"></p>
                <button
                    onclick="document.getElementById('errorModal').classList.add('hidden')"
                    class="w-full bg-white/10 py-2 rounded-lg hover:bg-white/20 text-white text-sm font-bold"
                >
                    CLOSE
                </button>
            </div>
        </div>
        <div
            id="successModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('successModal').classList.add('hidden')"
        >
            <div class="modal-box border-green-500/30 text-center" onclick="event.stopPropagation()">
                <div class="text-4xl mb-3"></div>
                <h3 class="text-lg font-bold text-green-500 mb-2">Success!</h3>
                <p class="text-gray-400 text-xs mb-4 font-mono break-all bg-black/30 p-2 rounded" id="successTxId"></p>
                <button
                    onclick="document.getElementById('successModal').classList.add('hidden')"
                    class="w-full bg-green-600 text-black font-bold py-2 rounded-lg hover:bg-green-500 transition"
                >
                    OK
                </button>
            </div>
        </div>
        <div
            id="depositLinkModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('depositLinkModal').classList.add('hidden')"
        >
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <i class="fas fa-wallet text-3xl text-fennec mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">Insufficient Funds</h3>
                <button
                    onclick="
                        switchTab('deposit');
                        document.getElementById('depositLinkModal').classList.add('hidden');
                    "
                    class="w-full bg-fennec text-black py-3 rounded-xl font-bold hover:bg-white transition"
                >
                    GO TO DEPOSIT
                </button>
            </div>
        </div>

        <div id="addLiquidityModal" class="modal-overlay hidden" onclick="closeAddLiquidityModal()">
            <div
                class="modal-box border-fennec/30"
                style="max-width: 560px; width: 92%; padding: 22px"
                onclick="event.stopPropagation()"
            >
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">Liquidity</div>
                        <div class="text-lg font-black text-white">Manage Liquidity</div>
                    </div>
                    <div class="flex items-center gap-3">
                        <button type="button" onclick="closeAddLiquidityModal()" class="text-gray-500 hover:text-white">
                            ‚úï
                        </button>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="flex gap-2 mb-3">
                    <button
                        id="liqTabAdd"
                        onclick="switchLiquidityTab('add')"
                        class="flex-1 px-4 py-2 rounded-xl bg-fennec/15 border border-fennec/30 text-white font-black transition"
                    >
                        ADD
                    </button>
                    <button
                        id="liqTabRemove"
                        onclick="switchLiquidityTab('remove')"
                        class="flex-1 px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-gray-400 font-black transition"
                    >
                        REMOVE
                    </button>
                </div>

                <!-- Pair selector hidden - pair is fixed when modal opens -->
                <div class="hidden grid grid-cols-2 gap-2" id="liqPairSwitcher">
                    <button
                        id="liqPairFBF"
                        onclick="selectLiquidityPair('FB_FENNEC')"
                        class="px-4 py-3 rounded-xl bg-fennec/10 border border-fennec/25 text-white font-black hover:bg-fennec/15 hover:border-fennec/45 transition"
                    >
                        FB / FENNEC
                    </button>
                    <button
                        id="liqPairBFB"
                        onclick="selectLiquidityPair('BTC_FB')"
                        class="px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white font-black hover:bg-white/10 hover:border-white/20 transition"
                    >
                        BTC / FB
                    </button>
                </div>

                <!-- Add Liquidity Tab Content -->
                <div id="liqAddContent">
                    <!-- Display fixed pair -->
                    <div class="text-center py-3 px-4 bg-fennec/10 border border-fennec/30 rounded-xl">
                        <div class="text-xs text-gray-400 uppercase tracking-widest mb-1">Selected Pair</div>
                        <div id="liqFixedPairDisplay" class="text-xl font-black text-white">FB / FENNEC</div>
                    </div>

                    <div id="liqSideRow" class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div
                            id="liqMyPos"
                            class="hidden bg-black/40 border border-white/10 rounded-xl p-3 md:col-span-2"
                        >
                            <div class="flex items-center justify-between gap-3">
                                <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                                    Your Position
                                </div>
                                <button
                                    type="button"
                                    onclick="refreshMyLiquidityForSelectedPair(true)"
                                    class="text-[10px] text-fennec hover:text-white underline decoration-dotted"
                                >
                                    Refresh
                                </button>
                            </div>
                            <div id="liqMyPosBody" class="mt-3 text-gray-200">--</div>
                        </div>

                        <div
                            id="liqWithdrawPanel"
                            class="hidden bg-black/40 border border-white/10 rounded-xl p-3 md:col-span-1"
                        >
                            <div class="flex items-center justify-between gap-3">
                                <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                                    Liquidity
                                </div>
                                <button
                                    id="liqWithdrawBtn"
                                    type="button"
                                    onclick="openRemoveLiquidityModal()"
                                    class="text-[10px] font-black bg-fennec/15 text-fennec border border-fennec/30 px-2 py-1 rounded-lg hover:bg-fennec/25 transition"
                                >
                                    Withdraw
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                            <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                                <span id="liqTick0Label">FENNEC</span>
                                <button
                                    onclick="setMaxLiqAmount(0)"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    type="button"
                                >
                                    MAX
                                </button>
                            </div>
                            <input
                                id="liqAmount0"
                                type="number"
                                inputmode="decimal"
                                placeholder="0.0"
                                class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                                oninput="syncLiquidityAmounts(0)"
                            />
                            <div class="text-[10px] text-gray-500 mt-1">Bal: <span id="liqBal0">--</span></div>
                        </div>
                        <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                            <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                                <span id="liqTick1Label">FB</span>
                                <button
                                    onclick="setMaxLiqAmount(1)"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    type="button"
                                >
                                    MAX
                                </button>
                            </div>
                            <input
                                id="liqAmount1"
                                type="number"
                                inputmode="decimal"
                                placeholder="0.0"
                                class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                                oninput="syncLiquidityAmounts(1)"
                            />
                            <div class="text-[10px] text-gray-500 mt-1">Bal: <span id="liqBal1">--</span></div>
                        </div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                        <span>Expected LP: <span id="liqExpectedLP" class="text-white font-bold">--</span></span>
                    </div>

                    <button
                        onclick="doAddLiquidity()"
                        id="liqSupplyBtn"
                        class="mt-3 w-full bg-gradient-to-r from-fennec to-orange-400 text-black font-black text-base py-3 rounded-xl hover:brightness-110 transition opacity-50 cursor-not-allowed"
                        disabled
                    >
                        SUPPLY
                    </button>
                </div>

                <!-- Remove Liquidity Tab Content -->
                <div id="liqRemoveContent" class="hidden">
                    <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                        <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                            <span>LP Amount</span>
                            <button
                                type="button"
                                onclick="setMaxRemoveLp()"
                                class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                            >
                                MAX
                            </button>
                        </div>
                        <input
                            id="removeLpAmount"
                            type="number"
                            inputmode="decimal"
                            placeholder="0.0"
                            class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                        />
                        <div class="text-[10px] text-gray-500 mt-1">Your LP: <span id="removeLpBalance">--</span></div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                        <span>Est. Receive: <span id="removeReceive" class="text-white font-bold">--</span></span>
                        <span class="text-gray-600">Fees in FB</span>
                    </div>

                    <button
                        onclick="doRemoveLiquidity()"
                        id="removeLiqBtn"
                        class="mt-3 w-full bg-gradient-to-r from-fennec to-orange-400 text-black font-black text-base py-3 rounded-xl hover:brightness-110 transition opacity-50 cursor-not-allowed"
                        disabled
                    >
                        WITHDRAW
                    </button>
                </div>
            </div>
        </div>

        <div id="removeLiquidityModal" class="modal-overlay hidden" onclick="closeRemoveLiquidityModal()">
            <div
                class="modal-box border-fennec/30"
                style="max-width: 520px; width: 92%; padding: 22px"
                onclick="event.stopPropagation()"
            >
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                            Withdraw Liquidity
                        </div>
                        <div class="text-lg font-black text-white">Remove Liquidity</div>
                    </div>
                    <button type="button" onclick="closeRemoveLiquidityModal()" class="text-gray-500 hover:text-white">
                        ‚úï
                    </button>
                </div>

                <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                    <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                        <span>LP Amount</span>
                        <button
                            type="button"
                            onclick="setMaxRemoveLp()"
                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                        >
                            MAX
                        </button>
                    </div>
                    <input
                        id="removeLpAmount"
                        type="number"
                        inputmode="decimal"
                        placeholder="0.0"
                        class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                    />
                    <div class="text-[10px] text-gray-500 mt-1">Your LP: <span id="removeLpBalance">--</span></div>
                </div>

                <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                    <span>Est. Receive: <span id="removeReceive" class="text-white font-bold">--</span></span>
                    <span class="text-gray-600">Fees in FB</span>
                </div>

                <button
                    onclick="doRemoveLiquidity()"
                    id="removeLiqBtn"
                    class="mt-3 w-full bg-white/10 border border-white/10 text-white font-black text-base py-3 rounded-xl hover:bg-white/15 transition"
                >
                    WITHDRAW
                </button>
            </div>
        </div>

        <div
            id="inscriptionModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('inscriptionModal').classList.add('hidden')"
        >
            <div class="modal-box" onclick="event.stopPropagation()">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-white">Select Inscription</h3>
                    <button
                        onclick="document.getElementById('inscriptionModal').classList.add('hidden')"
                        class="text-gray-500 hover:text-white"
                    >
                        ‚úï
                    </button>
                </div>
                <div id="inscList" class="max-h-60 overflow-y-auto space-y-2">
                    <div class="text-center py-4 text-gray-500 text-xs">Loading...</div>
                </div>
            </div>
        </div>
        <div
            id="switchWalletModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('switchWalletModal').classList.add('hidden')"
        >
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <i class="fas fa-exchange-alt text-3xl text-fennec mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">Switch Wallet?</h3>
                <p class="text-gray-400 text-sm mb-4">
                    You are about to switch from:<br /><span
                        class="text-fennec font-mono text-xs"
                        id="currentWalletAddress"
                    ></span
                    ><br /><br />Please confirm to continue.
                </p>
                <div class="flex gap-3">
                    <button
                        onclick="
                            document.getElementById('switchWalletModal').classList.add('hidden');
                            switchWalletConfirmed = true;
                            window.connectWallet();
                        "
                        class="flex-1 bg-fennec text-black py-3 rounded-xl font-bold hover:bg-white transition"
                    >
                        CONFIRM
                    </button>
                    <button
                        onclick="
                            document.getElementById('switchWalletModal').classList.add('hidden');
                            switchWalletConfirmed = false;
                        "
                        class="flex-1 bg-white/10 text-white py-3 rounded-xl font-bold hover:bg-white/20 transition"
                    >
                        CANCEL
                    </button>
                </div>
            </div>
        </div>

        <!-- WHALE WATCHER NOTIFICATION -->
        <div
            id="whaleWatcher"
            class="whale-alert fixed bottom-4 right-4 bg-black/90 border border-fennec/50 p-4 rounded-xl shadow-[0_0_30px_rgba(255,107,53,0.3)] transform translate-y-[200%] transition-transform duration-500 z-50 flex items-center gap-4 max-w-sm hidden"
        >
            <div class="text-4xl"></div>
            <div>
                <div class="text-xs text-fennec font-bold uppercase tracking-widest mb-1">Whale Alert</div>
                <div id="whaleMsg" class="text-sm text-white font-mono leading-tight">Someone just swapped 500 FB!</div>
            </div>
            <button
                onclick="document.getElementById('whaleWatcher').classList.add('translate-y-[200%]')"
                class="absolute top-2 right-2 text-gray-500 hover:text-white"
            >
                √ó
            </button>
        </div>

        <!-- Progress Tracking Modal -->
        <div id="progressModal" class="modal-overlay hidden">
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <div class="text-4xl mb-4"><i class="fas fa-spinner fa-spin text-fennec"></i></div>
                <h3 class="text-lg font-bold text-white mb-3" id="progressTitle">Processing...</h3>
                <div class="bg-black/40 rounded-lg p-4 mb-4">
                    <div class="flex justify-between text-xs mb-2">
                        <span class="text-gray-400" id="progressStep">Waiting...</span
                        ><span class="text-fennec font-bold" id="progressPercent">0%</span>
                    </div>
                    <div class="w-full bg-white/10 rounded-full h-2 overflow-hidden">
                        <div
                            id="progressBar"
                            class="bg-gradient-to-r from-fennec to-sand h-full transition-all duration-300"
                            style="width: 0%"
                        ></div>
                    </div>
                </div>
                <p class="text-gray-400 text-xs font-mono break-all bg-black/30 p-2 rounded mb-4" id="progressTxId"></p>
                <button
                    onclick="closeProgress()"
                    class="w-full bg-white/10 py-2 rounded-lg hover:bg-white/20 text-white text-sm font-bold"
                >
                    CLOSE
                </button>
            </div>
        </div>

        <script src="js/router.js?v=2026-01-14-1"></script>
        <script src="assets/app.js?v=2026-01-14-1"></script>

        <!-- CHAT WIDGET -->
        <div id="chatWidget" class="fixed bottom-12 right-6 z-50 flex flex-col items-end pointer-events-none">
            <div
                id="chatWindow"
                class="mb-4 w-80 bg-[#1a100c]/95 backdrop-blur-xl border border-fennec/30 rounded-2xl shadow-[0_0_50px_rgba(255,107,53,0.15)] overflow-hidden transform origin-bottom-right scale-90 opacity-0 transition-all duration-300 pointer-events-auto hidden"
            >
                <div
                    class="bg-gradient-to-r from-fennec/20 to-transparent p-3 border-b border-white/5 flex justify-between items-center"
                >
                    <div class="flex items-center gap-2">
                        <div class="w-5 h-5 flex-shrink-0">
                            <img src="img/FENNECAI.png" class="w-full h-full object-contain ai-avatar" />
                        </div>
                        <span class="text-xs font-mono font-bold text-fennec tracking-widest">ASSISTANT</span>
                    </div>
                    <button onclick="window.toggleChat()" class="text-gray-500 hover:text-white">‚úï</button>
                </div>
                <div class="px-3 py-2 border-b border-white/5 bg-black/10">
                    <div class="flex flex-wrap gap-2 justify-center">
                        <button
                            onclick="oracleQuick('help')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            HELP
                        </button>
                        <button
                            onclick="oracleQuick('prices')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            PRICE
                        </button>
                        <button
                            onclick="oracleQuick('swap')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            SWAP
                        </button>
                        <button
                            onclick="oracleQuick('id')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            FENNEC ID
                        </button>
                        <button
                            onclick="oracleQuick('deposit')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            DEPOSIT
                        </button>
                        <button
                            onclick="oracleQuick('withdraw')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            WITHDRAW
                        </button>
                        <button
                            onclick="oracleQuick('clear')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-red-500/40 hover:bg-red-500/10 transition"
                        >
                            CLEAR
                        </button>
                    </div>
                    <div id="chatLoading" class="hidden mt-2 text-[10px] text-gray-500 font-mono">
                        Scanning the dunes...
                    </div>
                </div>
                <div id="chatMessages" class="h-80 overflow-y-auto p-4 space-y-3 scrollbar-thin text-xs text-gray-300">
                    <div class="flex gap-2 items-start">
                        <div class="w-6 h-6 flex-shrink-0">
                            <img src="img/FENNECAI.png" class="w-full h-full object-contain ai-avatar" />
                        </div>
                        <div class="bg-white/5 p-3 rounded-lg rounded-tl-none flex-1">
                            Ask me anything about Fennec.
                        </div>
                    </div>
                </div>
                <div class="p-3 border-t border-white/10 bg-black/20 relative">
                    <input
                        type="text"
                        id="chatInput"
                        placeholder="Ask..."
                        class="w-full bg-black/50 border border-white/10 rounded-lg pl-3 pr-12 py-3 text-xs text-white outline-none focus:border-fennec/50 transition"
                        onkeypress="if (event.key === 'Enter') sendMessage();"
                    />
                    <button
                        onclick="sendMessage()"
                        id="chatSendBtn"
                        class="absolute right-2 top-1/2 -translate-y-1/2 text-fennec w-9 h-9 flex items-center justify-center rounded-md bg-white/5 border border-white/10 hover:bg-fennec/10 hover:border-fennec/30"
                    >
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            <button
                onclick="window.toggleChat()"
                id="chatTrigger"
                class="pointer-events-auto w-14 h-14 bg-[#2b1d1a] rounded-full border border-fennec/50 shadow-lg flex items-center justify-center hover:scale-110 transition hover:bg-fennec hover:text-black overflow-hidden"
            >
                <img src="img/FENNECAI.png" class="w-10 h-10 object-contain ai-avatar" />
            </button>
        </div>

        <script src="assets/bg.js?v=2026-01-13-1"></script>
    </body>
</html>

==================================================
FILE PATH: \package-lock.json
==================================================

{
    "name": "fennec-swap",
    "version": "1.0.0",
    "lockfileVersion": 3,
    "requires": true,
    "packages": {
        "": {
            "name": "fennec-swap",
            "version": "1.0.0",
            "dependencies": {
                "@scure/base": "^1.2.6",
                "@scure/btc-signer": "^1.7.0"
            },
            "devDependencies": {
                "autoprefixer": "^10.4.20",
                "concurrently": "^8.2.2",
                "eslint": "^8.57.0",
                "htmlhint": "^1.1.4",
                "live-server": "^1.2.2",
                "postcss": "^8.4.49",
                "prettier": "^3.2.5",
                "puppeteer": "^22.0.0",
                "tailwindcss": "^3.4.15",
                "typescript": "^5.6.3",
                "vite": "^5.4.11",
                "wrangler": "^4.54.0"
            },
            "engines": {
                "node": ">=18.0.0"
            }
        },
        "node_modules/@alloc/quick-lru": {
            "version": "5.2.0",
            "resolved": "https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz",
            "integrity": "sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/@babel/code-frame": {
            "version": "7.27.1",
            "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.27.1.tgz",
            "integrity": "sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@babel/helper-validator-identifier": "^7.27.1",
                "js-tokens": "^4.0.0",
                "picocolors": "^1.1.1"
            },
            "engines": {
                "node": ">=6.9.0"
            }
        },
        "node_modules/@babel/helper-validator-identifier": {
            "version": "7.28.5",
            "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.28.5.tgz",
            "integrity": "sha512-qSs4ifwzKJSV39ucNjsvc6WVHs6b7S03sOh2OcHF9UHfVPqWWALUsNUVzhSBiItjRZoLHx7nIarVjqKVusUZ1Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6.9.0"
            }
        },
        "node_modules/@babel/runtime": {
            "version": "7.28.4",
            "resolved": "https://registry.npmjs.org/@babel/runtime/-/runtime-7.28.4.tgz",
            "integrity": "sha512-Q/N6JNWvIvPnLDvjlE1OUBLPQHH6l3CltCEsHIujp45zQUSSh8K+gHnaEX45yAT1nyngnINhvWtzN+Nb9D8RAQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6.9.0"
            }
        },
        "node_modules/@cloudflare/kv-asset-handler": {
            "version": "0.4.1",
            "resolved": "https://registry.npmjs.org/@cloudflare/kv-asset-handler/-/kv-asset-handler-0.4.1.tgz",
            "integrity": "sha512-Nu8ahitGFFJztxUml9oD/DLb7Z28C8cd8F46IVQ7y5Btz575pvMY8AqZsXkX7Gds29eCKdMgIHjIvzskHgPSFg==",
            "dev": true,
            "license": "MIT OR Apache-2.0",
            "dependencies": {
                "mime": "^3.0.0"
            },
            "engines": {
                "node": ">=18.0.0"
            }
        },
        "node_modules/@cloudflare/unenv-preset": {
            "version": "2.7.13",
            "resolved": "https://registry.npmjs.org/@cloudflare/unenv-preset/-/unenv-preset-2.7.13.tgz",
            "integrity": "sha512-NulO1H8R/DzsJguLC0ndMuk4Ufv0KSlN+E54ay9rn9ZCQo0kpAPwwh3LhgpZ96a3Dr6L9LqW57M4CqC34iLOvw==",
            "dev": true,
            "license": "MIT OR Apache-2.0",
            "peerDependencies": {
                "unenv": "2.0.0-rc.24",
                "workerd": "^1.20251202.0"
            },
            "peerDependenciesMeta": {
                "workerd": {
                    "optional": true
                }
            }
        },
        "node_modules/@cloudflare/workerd-darwin-64": {
            "version": "1.20251210.0",
            "resolved": "https://registry.npmjs.org/@cloudflare/workerd-darwin-64/-/workerd-darwin-64-1.20251210.0.tgz",
            "integrity": "sha512-Nn9X1moUDERA9xtFdCQ2XpQXgAS9pOjiCxvOT8sVx9UJLAiBLkfSCGbpsYdarODGybXCpjRlc77Yppuolvt7oQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/@cloudflare/workerd-darwin-arm64": {
            "version": "1.20251210.0",
            "resolved": "https://registry.npmjs.org/@cloudflare/workerd-darwin-arm64/-/workerd-darwin-arm64-1.20251210.0.tgz",
            "integrity": "sha512-Mg8iYIZQFnbevq/ls9eW/eneWTk/EE13Pej1MwfkY5et0jVpdHnvOLywy/o+QtMJFef1AjsqXGULwAneYyBfHw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/@cloudflare/workerd-linux-64": {
            "version": "1.20251210.0",
            "resolved": "https://registry.npmjs.org/@cloudflare/workerd-linux-64/-/workerd-linux-64-1.20251210.0.tgz",
            "integrity": "sha512-kjC2fCZhZ2Gkm1biwk2qByAYpGguK5Gf5ic8owzSCUw0FOUfQxTZUT9Lp3gApxsfTLbbnLBrX/xzWjywH9QR4g==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/@cloudflare/workerd-linux-arm64": {
            "version": "1.20251210.0",
            "resolved": "https://registry.npmjs.org/@cloudflare/workerd-linux-arm64/-/workerd-linux-arm64-1.20251210.0.tgz",
            "integrity": "sha512-2IB37nXi7PZVQLa1OCuO7/6pNxqisRSO8DmCQ5x/3sezI5op1vwOxAcb1osAnuVsVN9bbvpw70HJvhKruFJTuA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/@cloudflare/workerd-windows-64": {
            "version": "1.20251210.0",
            "resolved": "https://registry.npmjs.org/@cloudflare/workerd-windows-64/-/workerd-windows-64-1.20251210.0.tgz",
            "integrity": "sha512-Uaz6/9XE+D6E7pCY4OvkCuJHu7HcSDzeGcCGY1HLhojXhHd7yL52c3yfiyJdS8hPatiAa0nn5qSI/42+aTdDSw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/@cspotcode/source-map-support": {
            "version": "0.8.1",
            "resolved": "https://registry.npmjs.org/@cspotcode/source-map-support/-/source-map-support-0.8.1.tgz",
            "integrity": "sha512-IchNf6dN4tHoMFIn/7OE8LWZ19Y6q/67Bmf6vnGREv8RSbBVb9LPJxEcnwrcwX6ixSvaiGoomAUvu4YSxXrVgw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/trace-mapping": "0.3.9"
            },
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/@emnapi/runtime": {
            "version": "1.7.1",
            "resolved": "https://registry.npmjs.org/@emnapi/runtime/-/runtime-1.7.1.tgz",
            "integrity": "sha512-PVtJr5CmLwYAU9PZDMITZoR5iAOShYREoR45EyyLrbntV50mdePTgUn4AmOw90Ifcj+x2kRjdzr1HP3RrNiHGA==",
            "dev": true,
            "license": "MIT",
            "optional": true,
            "dependencies": {
                "tslib": "^2.4.0"
            }
        },
        "node_modules/@esbuild/aix-ppc64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.27.0.tgz",
            "integrity": "sha512-KuZrd2hRjz01y5JK9mEBSD3Vj3mbCvemhT466rSuJYeE/hjuBrHfjjcjMdTm/sz7au+++sdbJZJmuBwQLuw68A==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "aix"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/android-arm": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.27.0.tgz",
            "integrity": "sha512-j67aezrPNYWJEOHUNLPj9maeJte7uSMM6gMoxfPC9hOg8N02JuQi/T7ewumf4tNvJadFkvLZMlAq73b9uwdMyQ==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/android-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.27.0.tgz",
            "integrity": "sha512-CC3vt4+1xZrs97/PKDkl0yN7w8edvU2vZvAFGD16n9F0Cvniy5qvzRXjfO1l94efczkkQE6g1x0i73Qf5uthOQ==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/android-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.27.0.tgz",
            "integrity": "sha512-wurMkF1nmQajBO1+0CJmcN17U4BP6GqNSROP8t0X/Jiw2ltYGLHpEksp9MpoBqkrFR3kv2/te6Sha26k3+yZ9Q==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/darwin-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.27.0.tgz",
            "integrity": "sha512-uJOQKYCcHhg07DL7i8MzjvS2LaP7W7Pn/7uA0B5S1EnqAirJtbyw4yC5jQ5qcFjHK9l6o/MX9QisBg12kNkdHg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/darwin-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.27.0.tgz",
            "integrity": "sha512-8mG6arH3yB/4ZXiEnXof5MK72dE6zM9cDvUcPtxhUZsDjESl9JipZYW60C3JGreKCEP+p8P/72r69m4AZGJd5g==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/freebsd-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.27.0.tgz",
            "integrity": "sha512-9FHtyO988CwNMMOE3YIeci+UV+x5Zy8fI2qHNpsEtSF83YPBmE8UWmfYAQg6Ux7Gsmd4FejZqnEUZCMGaNQHQw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/freebsd-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.27.0.tgz",
            "integrity": "sha512-zCMeMXI4HS/tXvJz8vWGexpZj2YVtRAihHLk1imZj4efx1BQzN76YFeKqlDr3bUWI26wHwLWPd3rwh6pe4EV7g==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-arm": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.27.0.tgz",
            "integrity": "sha512-t76XLQDpxgmq2cNXKTVEB7O7YMb42atj2Re2Haf45HkaUpjM2J0UuJZDuaGbPbamzZ7bawyGFUkodL+zcE+jvQ==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.27.0.tgz",
            "integrity": "sha512-AS18v0V+vZiLJyi/4LphvBE+OIX682Pu7ZYNsdUHyUKSoRwdnOsMf6FDekwoAFKej14WAkOef3zAORJgAtXnlQ==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-ia32": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.27.0.tgz",
            "integrity": "sha512-Mz1jxqm/kfgKkc/KLHC5qIujMvnnarD9ra1cEcrs7qshTUSksPihGrWHVG5+osAIQ68577Zpww7SGapmzSt4Nw==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-loong64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.27.0.tgz",
            "integrity": "sha512-QbEREjdJeIreIAbdG2hLU1yXm1uu+LTdzoq1KCo4G4pFOLlvIspBm36QrQOar9LFduavoWX2msNFAAAY9j4BDg==",
            "cpu": [
                "loong64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-mips64el": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.27.0.tgz",
            "integrity": "sha512-sJz3zRNe4tO2wxvDpH/HYJilb6+2YJxo/ZNbVdtFiKDufzWq4JmKAiHy9iGoLjAV7r/W32VgaHGkk35cUXlNOg==",
            "cpu": [
                "mips64el"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-ppc64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.27.0.tgz",
            "integrity": "sha512-z9N10FBD0DCS2dmSABDBb5TLAyF1/ydVb+N4pi88T45efQ/w4ohr/F/QYCkxDPnkhkp6AIpIcQKQ8F0ANoA2JA==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-riscv64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.27.0.tgz",
            "integrity": "sha512-pQdyAIZ0BWIC5GyvVFn5awDiO14TkT/19FTmFcPdDec94KJ1uZcmFs21Fo8auMXzD4Tt+diXu1LW1gHus9fhFQ==",
            "cpu": [
                "riscv64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-s390x": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.27.0.tgz",
            "integrity": "sha512-hPlRWR4eIDDEci953RI1BLZitgi5uqcsjKMxwYfmi4LcwyWo2IcRP+lThVnKjNtk90pLS8nKdroXYOqW+QQH+w==",
            "cpu": [
                "s390x"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.27.0.tgz",
            "integrity": "sha512-1hBWx4OUJE2cab++aVZ7pObD6s+DK4mPGpemtnAORBvb5l/g5xFGk0vc0PjSkrDs0XaXj9yyob3d14XqvnQ4gw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/netbsd-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/netbsd-arm64/-/netbsd-arm64-0.27.0.tgz",
            "integrity": "sha512-6m0sfQfxfQfy1qRuecMkJlf1cIzTOgyaeXaiVaaki8/v+WB+U4hc6ik15ZW6TAllRlg/WuQXxWj1jx6C+dfy3w==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "netbsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/netbsd-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.27.0.tgz",
            "integrity": "sha512-xbbOdfn06FtcJ9d0ShxxvSn2iUsGd/lgPIO2V3VZIPDbEaIj1/3nBBe1AwuEZKXVXkMmpr6LUAgMkLD/4D2PPA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "netbsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/openbsd-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/openbsd-arm64/-/openbsd-arm64-0.27.0.tgz",
            "integrity": "sha512-fWgqR8uNbCQ/GGv0yhzttj6sU/9Z5/Sv/VGU3F5OuXK6J6SlriONKrQ7tNlwBrJZXRYk5jUhuWvF7GYzGguBZQ==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openbsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/openbsd-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.27.0.tgz",
            "integrity": "sha512-aCwlRdSNMNxkGGqQajMUza6uXzR/U0dIl1QmLjPtRbLOx3Gy3otfFu/VjATy4yQzo9yFDGTxYDo1FfAD9oRD2A==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openbsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/openharmony-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/openharmony-arm64/-/openharmony-arm64-0.27.0.tgz",
            "integrity": "sha512-nyvsBccxNAsNYz2jVFYwEGuRRomqZ149A39SHWk4hV0jWxKM0hjBPm3AmdxcbHiFLbBSwG6SbpIcUbXjgyECfA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openharmony"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/sunos-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.27.0.tgz",
            "integrity": "sha512-Q1KY1iJafM+UX6CFEL+F4HRTgygmEW568YMqDA5UV97AuZSm21b7SXIrRJDwXWPzr8MGr75fUZPV67FdtMHlHA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "sunos"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/win32-arm64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.27.0.tgz",
            "integrity": "sha512-W1eyGNi6d+8kOmZIwi/EDjrL9nxQIQ0MiGqe/AWc6+IaHloxHSGoeRgDRKHFISThLmsewZ5nHFvGFWdBYlgKPg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/win32-ia32": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.27.0.tgz",
            "integrity": "sha512-30z1aKL9h22kQhilnYkORFYt+3wp7yZsHWus+wSKAJR8JtdfI76LJ4SBdMsCopTR3z/ORqVu5L1vtnHZWVj4cQ==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/win32-x64": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.27.0.tgz",
            "integrity": "sha512-aIitBcjQeyOhMTImhLZmtxfdOcuNRpwlPNmlFKPcHQYPhEssw75Cl1TSXJXpMkzaua9FUetx/4OQKq7eJul5Cg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@eslint-community/eslint-utils": {
            "version": "4.9.0",
            "resolved": "https://registry.npmjs.org/@eslint-community/eslint-utils/-/eslint-utils-4.9.0.tgz",
            "integrity": "sha512-ayVFHdtZ+hsq1t2Dy24wCmGXGe4q9Gu3smhLYALJrr473ZH27MsnSL+LKUlimp4BWJqMDMLmPpx/Q9R3OAlL4g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "eslint-visitor-keys": "^3.4.3"
            },
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/eslint"
            },
            "peerDependencies": {
                "eslint": "^6.0.0 || ^7.0.0 || >=8.0.0"
            }
        },
        "node_modules/@eslint-community/regexpp": {
            "version": "4.12.2",
            "resolved": "https://registry.npmjs.org/@eslint-community/regexpp/-/regexpp-4.12.2.tgz",
            "integrity": "sha512-EriSTlt5OC9/7SXkRSCAhfSxxoSUgBm33OH+IkwbdpgoqsSsUg7y3uh+IICI/Qg4BBWr3U2i39RpmycbxMq4ew==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": "^12.0.0 || ^14.0.0 || >=16.0.0"
            }
        },
        "node_modules/@eslint/eslintrc": {
            "version": "2.1.4",
            "resolved": "https://registry.npmjs.org/@eslint/eslintrc/-/eslintrc-2.1.4.tgz",
            "integrity": "sha512-269Z39MS6wVJtsoUl10L60WdkhJVdPG24Q4eZTH3nnF6lpvSShEK3wQjDX9JRWAUPvPh7COouPpU9IrqaZFvtQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ajv": "^6.12.4",
                "debug": "^4.3.2",
                "espree": "^9.6.0",
                "globals": "^13.19.0",
                "ignore": "^5.2.0",
                "import-fresh": "^3.2.1",
                "js-yaml": "^4.1.0",
                "minimatch": "^3.1.2",
                "strip-json-comments": "^3.1.1"
            },
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/eslint"
            }
        },
        "node_modules/@eslint/js": {
            "version": "8.57.1",
            "resolved": "https://registry.npmjs.org/@eslint/js/-/js-8.57.1.tgz",
            "integrity": "sha512-d9zaMRSTIKDLhctzH12MtXvJKSSUhaHcjV+2Z+GK+EEY7XKpP5yR4x+N3TAcHTcu963nIr+TMcCb4DBCYX1z6Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            }
        },
        "node_modules/@humanwhocodes/config-array": {
            "version": "0.13.0",
            "resolved": "https://registry.npmjs.org/@humanwhocodes/config-array/-/config-array-0.13.0.tgz",
            "integrity": "sha512-DZLEEqFWQFiyK6h5YIeynKx7JlvCYWL0cImfSRXZ9l4Sg2efkFGTuFf6vzXjK1cq6IYkU+Eg/JizXw+TD2vRNw==",
            "deprecated": "Use @eslint/config-array instead",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "@humanwhocodes/object-schema": "^2.0.3",
                "debug": "^4.3.1",
                "minimatch": "^3.0.5"
            },
            "engines": {
                "node": ">=10.10.0"
            }
        },
        "node_modules/@humanwhocodes/module-importer": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/@humanwhocodes/module-importer/-/module-importer-1.0.1.tgz",
            "integrity": "sha512-bxveV4V8v5Yb4ncFTT3rPSgZBOpCkjfK0y4oVVVJwIuDVBRMDXrPyXRL988i5ap9m9bnyEEjWfm5WkBmtffLfA==",
            "dev": true,
            "license": "Apache-2.0",
            "engines": {
                "node": ">=12.22"
            },
            "funding": {
                "type": "github",
                "url": "https://github.com/sponsors/nzakas"
            }
        },
        "node_modules/@humanwhocodes/object-schema": {
            "version": "2.0.3",
            "resolved": "https://registry.npmjs.org/@humanwhocodes/object-schema/-/object-schema-2.0.3.tgz",
            "integrity": "sha512-93zYdMES/c1D69yZiKDBj0V24vqNzB/koF26KPaagAfd3P/4gUlh3Dys5ogAK+Exi9QyzlD8x/08Zt7wIKcDcA==",
            "deprecated": "Use @eslint/object-schema instead",
            "dev": true,
            "license": "BSD-3-Clause"
        },
        "node_modules/@img/sharp-darwin-arm64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-darwin-arm64/-/sharp-darwin-arm64-0.33.5.tgz",
            "integrity": "sha512-UT4p+iz/2H4twwAoLCqfA9UH5pI6DggwKEGuaPy7nCVQ8ZsiY5PIcrRvD1DzuY3qYL07NtIQcWnBSY/heikIFQ==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-darwin-arm64": "1.0.4"
            }
        },
        "node_modules/@img/sharp-darwin-x64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-darwin-x64/-/sharp-darwin-x64-0.33.5.tgz",
            "integrity": "sha512-fyHac4jIc1ANYGRDxtiqelIbdWkIuQaI84Mv45KvGRRxSAa7o7d1ZKAOBaYbnepLC1WqxfpimdeWfvqqSGwR2Q==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-darwin-x64": "1.0.4"
            }
        },
        "node_modules/@img/sharp-libvips-darwin-arm64": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-darwin-arm64/-/sharp-libvips-darwin-arm64-1.0.4.tgz",
            "integrity": "sha512-XblONe153h0O2zuFfTAbQYAX2JhYmDHeWikp1LM9Hul9gVPjFY427k6dFEcOL72O01QxQsWi761svJ/ev9xEDg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "darwin"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-darwin-x64": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-darwin-x64/-/sharp-libvips-darwin-x64-1.0.4.tgz",
            "integrity": "sha512-xnGR8YuZYfJGmWPvmlunFaWJsb9T/AO2ykoP3Fz/0X5XV2aoYBPkX6xqCQvUTKKiLddarLaxpzNe+b1hjeWHAQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "darwin"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-linux-arm": {
            "version": "1.0.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-arm/-/sharp-libvips-linux-arm-1.0.5.tgz",
            "integrity": "sha512-gvcC4ACAOPRNATg/ov8/MnbxFDJqf/pDePbBnuBDcjsI8PssmjoKMAz4LtLaVi+OnSb5FK/yIOamqDwGmXW32g==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "linux"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-linux-arm64": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-arm64/-/sharp-libvips-linux-arm64-1.0.4.tgz",
            "integrity": "sha512-9B+taZ8DlyyqzZQnoeIvDVR/2F4EbMepXMc/NdVbkzsJbzkUjhXv/70GQJ7tdLA4YJgNP25zukcxpX2/SueNrA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "linux"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-linux-s390x": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-s390x/-/sharp-libvips-linux-s390x-1.0.4.tgz",
            "integrity": "sha512-u7Wz6ntiSSgGSGcjZ55im6uvTrOxSIS8/dgoVMoiGE9I6JAfU50yH5BoDlYA1tcuGS7g/QNtetJnxA6QEsCVTA==",
            "cpu": [
                "s390x"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "linux"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-linux-x64": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-x64/-/sharp-libvips-linux-x64-1.0.4.tgz",
            "integrity": "sha512-MmWmQ3iPFZr0Iev+BAgVMb3ZyC4KeFc3jFxnNbEPas60e1cIfevbtuyf9nDGIzOaW9PdnDciJm+wFFaTlj5xYw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "linux"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-linuxmusl-arm64": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-arm64/-/sharp-libvips-linuxmusl-arm64-1.0.4.tgz",
            "integrity": "sha512-9Ti+BbTYDcsbp4wfYib8Ctm1ilkugkA/uscUn6UXK1ldpC1JjiXbLfFZtRlBhjPZ5o1NCLiDbg8fhUPKStHoTA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "linux"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-libvips-linuxmusl-x64": {
            "version": "1.0.4",
            "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-x64/-/sharp-libvips-linuxmusl-x64-1.0.4.tgz",
            "integrity": "sha512-viYN1KX9m+/hGkJtvYYp+CCLgnJXwiQB39damAO7WMdKWlIhmYTfHjwSbQeUK/20vY154mwezd9HflVFM1wVSw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "linux"
            ],
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-linux-arm": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-linux-arm/-/sharp-linux-arm-0.33.5.tgz",
            "integrity": "sha512-JTS1eldqZbJxjvKaAkxhZmBqPRGmxgu+qFKSInv8moZ2AmT5Yib3EQ1c6gp493HvrvV8QgdOXdyaIBrhvFhBMQ==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-linux-arm": "1.0.5"
            }
        },
        "node_modules/@img/sharp-linux-arm64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-linux-arm64/-/sharp-linux-arm64-0.33.5.tgz",
            "integrity": "sha512-JMVv+AMRyGOHtO1RFBiJy/MBsgz0x4AWrT6QoEVVTyh1E39TrCUpTRI7mx9VksGX4awWASxqCYLCV4wBZHAYxA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-linux-arm64": "1.0.4"
            }
        },
        "node_modules/@img/sharp-linux-s390x": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-linux-s390x/-/sharp-linux-s390x-0.33.5.tgz",
            "integrity": "sha512-y/5PCd+mP4CA/sPDKl2961b+C9d+vPAveS33s6Z3zfASk2j5upL6fXVPZi7ztePZ5CuH+1kW8JtvxgbuXHRa4Q==",
            "cpu": [
                "s390x"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-linux-s390x": "1.0.4"
            }
        },
        "node_modules/@img/sharp-linux-x64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-linux-x64/-/sharp-linux-x64-0.33.5.tgz",
            "integrity": "sha512-opC+Ok5pRNAzuvq1AG0ar+1owsu842/Ab+4qvU879ippJBHvyY5n2mxF1izXqkPYlGuP/M556uh53jRLJmzTWA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-linux-x64": "1.0.4"
            }
        },
        "node_modules/@img/sharp-linuxmusl-arm64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-linuxmusl-arm64/-/sharp-linuxmusl-arm64-0.33.5.tgz",
            "integrity": "sha512-XrHMZwGQGvJg2V/oRSUfSAfjfPxO+4DkiRh6p2AFjLQztWUuY/o8Mq0eMQVIY7HJ1CDQUJlxGGZRw1a5bqmd1g==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-linuxmusl-arm64": "1.0.4"
            }
        },
        "node_modules/@img/sharp-linuxmusl-x64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-linuxmusl-x64/-/sharp-linuxmusl-x64-0.33.5.tgz",
            "integrity": "sha512-WT+d/cgqKkkKySYmqoZ8y3pxx7lx9vVejxW/W4DOFMYVSkErR+w7mf2u8m/y4+xHe7yY9DAXQMWQhpnMuFfScw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-libvips-linuxmusl-x64": "1.0.4"
            }
        },
        "node_modules/@img/sharp-wasm32": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-wasm32/-/sharp-wasm32-0.33.5.tgz",
            "integrity": "sha512-ykUW4LVGaMcU9lu9thv85CbRMAwfeadCJHRsg2GmeRa/cJxsVY9Rbd57JcMxBkKHag5U/x7TSBpScF4U8ElVzg==",
            "cpu": [
                "wasm32"
            ],
            "dev": true,
            "license": "Apache-2.0 AND LGPL-3.0-or-later AND MIT",
            "optional": true,
            "dependencies": {
                "@emnapi/runtime": "^1.2.0"
            },
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-win32-ia32": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-win32-ia32/-/sharp-win32-ia32-0.33.5.tgz",
            "integrity": "sha512-T36PblLaTwuVJ/zw/LaH0PdZkRz5rd3SmMHX8GSmR7vtNSP5Z6bQkExdSK7xGWyxLw4sUknBuugTelgw2faBbQ==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "Apache-2.0 AND LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@img/sharp-win32-x64": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/@img/sharp-win32-x64/-/sharp-win32-x64-0.33.5.tgz",
            "integrity": "sha512-MpY/o8/8kj+EcnxwvrP4aTJSWw/aZ7JIGR4aBeZkZw5B7/Jn+tY9/VNwtcoGmdT7GfggGIU4kygOMSbYnOrAbg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "Apache-2.0 AND LGPL-3.0-or-later",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            }
        },
        "node_modules/@jridgewell/gen-mapping": {
            "version": "0.3.13",
            "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
            "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/sourcemap-codec": "^1.5.0",
                "@jridgewell/trace-mapping": "^0.3.24"
            }
        },
        "node_modules/@jridgewell/gen-mapping/node_modules/@jridgewell/trace-mapping": {
            "version": "0.3.31",
            "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.31.tgz",
            "integrity": "sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/resolve-uri": "^3.1.0",
                "@jridgewell/sourcemap-codec": "^1.4.14"
            }
        },
        "node_modules/@jridgewell/resolve-uri": {
            "version": "3.1.2",
            "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
            "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6.0.0"
            }
        },
        "node_modules/@jridgewell/sourcemap-codec": {
            "version": "1.5.5",
            "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.5.tgz",
            "integrity": "sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/@jridgewell/trace-mapping": {
            "version": "0.3.9",
            "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.9.tgz",
            "integrity": "sha512-3Belt6tdc8bPgAtbcmdtNJlirVoTmEb5e2gC94PnkwEW9jI6CAHUeoG85tjWP5WquqfavoMtMwiG4P926ZKKuQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/resolve-uri": "^3.0.3",
                "@jridgewell/sourcemap-codec": "^1.4.10"
            }
        },
        "node_modules/@noble/curves": {
            "version": "1.9.7",
            "resolved": "https://registry.npmjs.org/@noble/curves/-/curves-1.9.7.tgz",
            "integrity": "sha512-gbKGcRUYIjA3/zCCNaWDciTMFI0dCkvou3TL8Zmy5Nc7sJ47a0jtOeZoTaMxkuqRo9cRhjOdZJXegxYE5FN/xw==",
            "license": "MIT",
            "dependencies": {
                "@noble/hashes": "1.8.0"
            },
            "engines": {
                "node": "^14.21.3 || >=16"
            },
            "funding": {
                "url": "https://paulmillr.com/funding/"
            }
        },
        "node_modules/@noble/hashes": {
            "version": "1.8.0",
            "resolved": "https://registry.npmjs.org/@noble/hashes/-/hashes-1.8.0.tgz",
            "integrity": "sha512-jCs9ldd7NwzpgXDIf6P3+NrHh9/sD6CQdxHyjQI+h/6rDNo88ypBxxz45UDuZHz9r3tNz7N/VInSVoVdtXEI4A==",
            "license": "MIT",
            "engines": {
                "node": "^14.21.3 || >=16"
            },
            "funding": {
                "url": "https://paulmillr.com/funding/"
            }
        },
        "node_modules/@nodelib/fs.scandir": {
            "version": "2.1.5",
            "resolved": "https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz",
            "integrity": "sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@nodelib/fs.stat": "2.0.5",
                "run-parallel": "^1.1.9"
            },
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/@nodelib/fs.stat": {
            "version": "2.0.5",
            "resolved": "https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.5.tgz",
            "integrity": "sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/@nodelib/fs.walk": {
            "version": "1.2.8",
            "resolved": "https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.8.tgz",
            "integrity": "sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@nodelib/fs.scandir": "2.1.5",
                "fastq": "^1.6.0"
            },
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/@poppinss/colors": {
            "version": "4.1.6",
            "resolved": "https://registry.npmjs.org/@poppinss/colors/-/colors-4.1.6.tgz",
            "integrity": "sha512-H9xkIdFswbS8n1d6vmRd8+c10t2Qe+rZITbbDHHkQixH5+2x1FDGmi/0K+WgWiqQFKPSlIYB7jlH6Kpfn6Fleg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "kleur": "^4.1.5"
            }
        },
        "node_modules/@poppinss/dumper": {
            "version": "0.6.5",
            "resolved": "https://registry.npmjs.org/@poppinss/dumper/-/dumper-0.6.5.tgz",
            "integrity": "sha512-NBdYIb90J7LfOI32dOewKI1r7wnkiH6m920puQ3qHUeZkxNkQiFnXVWoE6YtFSv6QOiPPf7ys6i+HWWecDz7sw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@poppinss/colors": "^4.1.5",
                "@sindresorhus/is": "^7.0.2",
                "supports-color": "^10.0.0"
            }
        },
        "node_modules/@poppinss/dumper/node_modules/supports-color": {
            "version": "10.2.2",
            "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-10.2.2.tgz",
            "integrity": "sha512-SS+jx45GF1QjgEXQx4NJZV9ImqmO2NPz5FNsIHrsDjh2YsHnawpan7SNQ1o8NuhrbHZy9AZhIoCUiCeaW/C80g==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "url": "https://github.com/chalk/supports-color?sponsor=1"
            }
        },
        "node_modules/@poppinss/exception": {
            "version": "1.2.3",
            "resolved": "https://registry.npmjs.org/@poppinss/exception/-/exception-1.2.3.tgz",
            "integrity": "sha512-dCED+QRChTVatE9ibtoaxc+WkdzOSjYTKi/+uacHWIsfodVfpsueo3+DKpgU5Px8qXjgmXkSvhXvSCz3fnP9lw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/@puppeteer/browsers": {
            "version": "2.3.0",
            "resolved": "https://registry.npmjs.org/@puppeteer/browsers/-/browsers-2.3.0.tgz",
            "integrity": "sha512-ioXoq9gPxkss4MYhD+SFaU9p1IHFUX0ILAWFPyjGaBdjLsYAlZw6j1iLA0N/m12uVHLFDfSYNF7EQccjinIMDA==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "debug": "^4.3.5",
                "extract-zip": "^2.0.1",
                "progress": "^2.0.3",
                "proxy-agent": "^6.4.0",
                "semver": "^7.6.3",
                "tar-fs": "^3.0.6",
                "unbzip2-stream": "^1.4.3",
                "yargs": "^17.7.2"
            },
            "bin": {
                "browsers": "lib/cjs/main-cli.js"
            },
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@rollup/rollup-android-arm-eabi": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm-eabi/-/rollup-android-arm-eabi-4.54.0.tgz",
            "integrity": "sha512-OywsdRHrFvCdvsewAInDKCNyR3laPA2mc9bRYJ6LBp5IyvF3fvXbbNR0bSzHlZVFtn6E0xw2oZlyjg4rKCVcng==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ]
        },
        "node_modules/@rollup/rollup-android-arm64": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm64/-/rollup-android-arm64-4.54.0.tgz",
            "integrity": "sha512-Skx39Uv+u7H224Af+bDgNinitlmHyQX1K/atIA32JP3JQw6hVODX5tkbi2zof/E69M1qH2UoN3Xdxgs90mmNYw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ]
        },
        "node_modules/@rollup/rollup-darwin-arm64": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-arm64/-/rollup-darwin-arm64-4.54.0.tgz",
            "integrity": "sha512-k43D4qta/+6Fq+nCDhhv9yP2HdeKeP56QrUUTW7E6PhZP1US6NDqpJj4MY0jBHlJivVJD5P8NxrjuobZBJTCRw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ]
        },
        "node_modules/@rollup/rollup-darwin-x64": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-x64/-/rollup-darwin-x64-4.54.0.tgz",
            "integrity": "sha512-cOo7biqwkpawslEfox5Vs8/qj83M/aZCSSNIWpVzfU2CYHa2G3P1UN5WF01RdTHSgCkri7XOlTdtk17BezlV3A==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ]
        },
        "node_modules/@rollup/rollup-freebsd-arm64": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-arm64/-/rollup-freebsd-arm64-4.54.0.tgz",
            "integrity": "sha512-miSvuFkmvFbgJ1BevMa4CPCFt5MPGw094knM64W9I0giUIMMmRYcGW/JWZDriaw/k1kOBtsWh1z6nIFV1vPNtA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ]
        },
        "node_modules/@rollup/rollup-freebsd-x64": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-x64/-/rollup-freebsd-x64-4.54.0.tgz",
            "integrity": "sha512-KGXIs55+b/ZfZsq9aR026tmr/+7tq6VG6MsnrvF4H8VhwflTIuYh+LFUlIsRdQSgrgmtM3fVATzEAj4hBQlaqQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ]
        },
        "node_modules/@rollup/rollup-linux-arm-gnueabihf": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-gnueabihf/-/rollup-linux-arm-gnueabihf-4.54.0.tgz",
            "integrity": "sha512-EHMUcDwhtdRGlXZsGSIuXSYwD5kOT9NVnx9sqzYiwAc91wfYOE1g1djOEDseZJKKqtHAHGwnGPQu3kytmfaXLQ==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-arm-musleabihf": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-musleabihf/-/rollup-linux-arm-musleabihf-4.54.0.tgz",
            "integrity": "sha512-+pBrqEjaakN2ySv5RVrj/qLytYhPKEUwk+e3SFU5jTLHIcAtqh2rLrd/OkbNuHJpsBgxsD8ccJt5ga/SeG0JmA==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-arm64-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-gnu/-/rollup-linux-arm64-gnu-4.54.0.tgz",
            "integrity": "sha512-NSqc7rE9wuUaRBsBp5ckQ5CVz5aIRKCwsoa6WMF7G01sX3/qHUw/z4pv+D+ahL1EIKy6Enpcnz1RY8pf7bjwng==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-arm64-musl": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-musl/-/rollup-linux-arm64-musl-4.54.0.tgz",
            "integrity": "sha512-gr5vDbg3Bakga5kbdpqx81m2n9IX8M6gIMlQQIXiLTNeQW6CucvuInJ91EuCJ/JYvc+rcLLsDFcfAD1K7fMofg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-loong64-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-loong64-gnu/-/rollup-linux-loong64-gnu-4.54.0.tgz",
            "integrity": "sha512-gsrtB1NA3ZYj2vq0Rzkylo9ylCtW/PhpLEivlgWe0bpgtX5+9j9EZa0wtZiCjgu6zmSeZWyI/e2YRX1URozpIw==",
            "cpu": [
                "loong64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-ppc64-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-ppc64-gnu/-/rollup-linux-ppc64-gnu-4.54.0.tgz",
            "integrity": "sha512-y3qNOfTBStmFNq+t4s7Tmc9hW2ENtPg8FeUD/VShI7rKxNW7O4fFeaYbMsd3tpFlIg1Q8IapFgy7Q9i2BqeBvA==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-riscv64-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-gnu/-/rollup-linux-riscv64-gnu-4.54.0.tgz",
            "integrity": "sha512-89sepv7h2lIVPsFma8iwmccN7Yjjtgz0Rj/Ou6fEqg3HDhpCa+Et+YSufy27i6b0Wav69Qv4WBNl3Rs6pwhebQ==",
            "cpu": [
                "riscv64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-riscv64-musl": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-musl/-/rollup-linux-riscv64-musl-4.54.0.tgz",
            "integrity": "sha512-ZcU77ieh0M2Q8Ur7D5X7KvK+UxbXeDHwiOt/CPSBTI1fBmeDMivW0dPkdqkT4rOgDjrDDBUed9x4EgraIKoR2A==",
            "cpu": [
                "riscv64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-s390x-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-s390x-gnu/-/rollup-linux-s390x-gnu-4.54.0.tgz",
            "integrity": "sha512-2AdWy5RdDF5+4YfG/YesGDDtbyJlC9LHmL6rZw6FurBJ5n4vFGupsOBGfwMRjBYH7qRQowT8D/U4LoSvVwOhSQ==",
            "cpu": [
                "s390x"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-x64-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-gnu/-/rollup-linux-x64-gnu-4.54.0.tgz",
            "integrity": "sha512-WGt5J8Ij/rvyqpFexxk3ffKqqbLf9AqrTBbWDk7ApGUzaIs6V+s2s84kAxklFwmMF/vBNGrVdYgbblCOFFezMQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-x64-musl": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-musl/-/rollup-linux-x64-musl-4.54.0.tgz",
            "integrity": "sha512-JzQmb38ATzHjxlPHuTH6tE7ojnMKM2kYNzt44LO/jJi8BpceEC8QuXYA908n8r3CNuG/B3BV8VR3Hi1rYtmPiw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-openharmony-arm64": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-openharmony-arm64/-/rollup-openharmony-arm64-4.54.0.tgz",
            "integrity": "sha512-huT3fd0iC7jigGh7n3q/+lfPcXxBi+om/Rs3yiFxjvSxbSB6aohDFXbWvlspaqjeOh+hx7DDHS+5Es5qRkWkZg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openharmony"
            ]
        },
        "node_modules/@rollup/rollup-win32-arm64-msvc": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-arm64-msvc/-/rollup-win32-arm64-msvc-4.54.0.tgz",
            "integrity": "sha512-c2V0W1bsKIKfbLMBu/WGBz6Yci8nJ/ZJdheE0EwB73N3MvHYKiKGs3mVilX4Gs70eGeDaMqEob25Tw2Gb9Nqyw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ]
        },
        "node_modules/@rollup/rollup-win32-ia32-msvc": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-ia32-msvc/-/rollup-win32-ia32-msvc-4.54.0.tgz",
            "integrity": "sha512-woEHgqQqDCkAzrDhvDipnSirm5vxUXtSKDYTVpZG3nUdW/VVB5VdCYA2iReSj/u3yCZzXID4kuKG7OynPnB3WQ==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ]
        },
        "node_modules/@rollup/rollup-win32-x64-gnu": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-gnu/-/rollup-win32-x64-gnu-4.54.0.tgz",
            "integrity": "sha512-dzAc53LOuFvHwbCEOS0rPbXp6SIhAf2txMP5p6mGyOXXw5mWY8NGGbPMPrs4P1WItkfApDathBj/NzMLUZ9rtQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ]
        },
        "node_modules/@rollup/rollup-win32-x64-msvc": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-msvc/-/rollup-win32-x64-msvc-4.54.0.tgz",
            "integrity": "sha512-hYT5d3YNdSh3mbCU1gwQyPgQd3T2ne0A3KG8KSBdav5TiBg6eInVmV+TeR5uHufiIgSFg0XsOWGW5/RhNcSvPg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ]
        },
        "node_modules/@scure/base": {
            "version": "1.2.6",
            "resolved": "https://registry.npmjs.org/@scure/base/-/base-1.2.6.tgz",
            "integrity": "sha512-g/nm5FgUa//MCj1gV09zTJTaM6KBAHqLN907YVQqf7zC49+DcO4B1so4ZX07Ef10Twr6nuqYEH9GEggFXA4Fmg==",
            "license": "MIT",
            "funding": {
                "url": "https://paulmillr.com/funding/"
            }
        },
        "node_modules/@scure/btc-signer": {
            "version": "1.8.1",
            "resolved": "https://registry.npmjs.org/@scure/btc-signer/-/btc-signer-1.8.1.tgz",
            "integrity": "sha512-8nX9T++dFyKpvqksNHfSi9CgRsGnHAQtCdIQ1y1GmbCGLpV97v4MUyemUUT6uDumKL3oo3m4niyY6A32nmdLuQ==",
            "license": "MIT",
            "dependencies": {
                "@noble/curves": "~1.9.0",
                "@noble/hashes": "~1.8.0",
                "@scure/base": "~1.2.5",
                "micro-packed": "~0.7.3"
            },
            "funding": {
                "url": "https://paulmillr.com/funding/"
            }
        },
        "node_modules/@sindresorhus/is": {
            "version": "7.2.0",
            "resolved": "https://registry.npmjs.org/@sindresorhus/is/-/is-7.2.0.tgz",
            "integrity": "sha512-P1Cz1dWaFfR4IR+U13mqqiGsLFf1KbayybWwdd2vfctdV6hDpUkgCY0nKOLLTMSoRd/jJNjtbqzf13K8DCCXQw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "url": "https://github.com/sindresorhus/is?sponsor=1"
            }
        },
        "node_modules/@speed-highlight/core": {
            "version": "1.2.12",
            "resolved": "https://registry.npmjs.org/@speed-highlight/core/-/core-1.2.12.tgz",
            "integrity": "sha512-uilwrK0Ygyri5dToHYdZSjcvpS2ZwX0w5aSt3GCEN9hrjxWCoeV4Z2DTXuxjwbntaLQIEEAlCeNQss5SoHvAEA==",
            "dev": true,
            "license": "CC0-1.0"
        },
        "node_modules/@tootallnate/quickjs-emscripten": {
            "version": "0.23.0",
            "resolved": "https://registry.npmjs.org/@tootallnate/quickjs-emscripten/-/quickjs-emscripten-0.23.0.tgz",
            "integrity": "sha512-C5Mc6rdnsaJDjO3UpGW/CQTHtCKaYlScZTly4JIu97Jxo/odCiH0ITnDXSJPTOrEKk/ycSZ0AOgTmkDtkOsvIA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/@types/estree": {
            "version": "1.0.8",
            "resolved": "https://registry.npmjs.org/@types/estree/-/estree-1.0.8.tgz",
            "integrity": "sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/@types/sarif": {
            "version": "2.1.7",
            "resolved": "https://registry.npmjs.org/@types/sarif/-/sarif-2.1.7.tgz",
            "integrity": "sha512-kRz0VEkJqWLf1LLVN4pT1cg1Z9wAuvI6L97V3m2f5B76Tg8d413ddvLBPTEHAZJlnn4XSvu0FkZtViCQGVyrXQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/@types/yauzl": {
            "version": "2.10.3",
            "resolved": "https://registry.npmjs.org/@types/yauzl/-/yauzl-2.10.3.tgz",
            "integrity": "sha512-oJoftv0LSuaDZE3Le4DbKX+KS9G36NzOeSap90UIK0yMA/NhKJhqlSGtNDORNRaIbQfzjXDrQa0ytJ6mNRGz/Q==",
            "dev": true,
            "license": "MIT",
            "optional": true,
            "dependencies": {
                "@types/node": "*"
            }
        },
        "node_modules/@ungap/structured-clone": {
            "version": "1.3.0",
            "resolved": "https://registry.npmjs.org/@ungap/structured-clone/-/structured-clone-1.3.0.tgz",
            "integrity": "sha512-WmoN8qaIAo7WTYWbAZuG8PYEhn5fkz7dZrqTBZ7dtt//lL2Gwms1IcnQ5yHqjDfX8Ft5j4YzDM23f87zBfDe9g==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/accepts": {
            "version": "1.3.8",
            "resolved": "https://registry.npmjs.org/accepts/-/accepts-1.3.8.tgz",
            "integrity": "sha512-PYAthTa2m2VKxuvSD3DPC/Gy+U+sOA1LAuT8mkmRuvw+NACSaeXEQ+NHcVF7rONl6qcaxV3Uuemwawk+7+SJLw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "mime-types": "~2.1.34",
                "negotiator": "0.6.3"
            },
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/accepts/node_modules/mime-db": {
            "version": "1.52.0",
            "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
            "integrity": "sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/accepts/node_modules/mime-types": {
            "version": "2.1.35",
            "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz",
            "integrity": "sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "mime-db": "1.52.0"
            },
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/acorn": {
            "version": "8.14.0",
            "resolved": "https://registry.npmjs.org/acorn/-/acorn-8.14.0.tgz",
            "integrity": "sha512-cl669nCJTZBsL97OF4kUQm5g5hC2uihk0NxY3WENAC0TYdILVkAyHymAntgxGkl7K+t0cXIrH5siy5S4XkFycA==",
            "dev": true,
            "license": "MIT",
            "peer": true,
            "bin": {
                "acorn": "bin/acorn"
            },
            "engines": {
                "node": ">=0.4.0"
            }
        },
        "node_modules/acorn-jsx": {
            "version": "5.3.2",
            "resolved": "https://registry.npmjs.org/acorn-jsx/-/acorn-jsx-5.3.2.tgz",
            "integrity": "sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==",
            "dev": true,
            "license": "MIT",
            "peerDependencies": {
                "acorn": "^6.0.0 || ^7.0.0 || ^8.0.0"
            }
        },
        "node_modules/acorn-walk": {
            "version": "8.3.2",
            "resolved": "https://registry.npmjs.org/acorn-walk/-/acorn-walk-8.3.2.tgz",
            "integrity": "sha512-cjkyv4OtNCIeqhHrfS81QWXoCBPExR/J62oyEqepVw8WaQeSqpW2uhuLPh1m9eWhDuOo/jUXVTlifvesOWp/4A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.4.0"
            }
        },
        "node_modules/agent-base": {
            "version": "7.1.4",
            "resolved": "https://registry.npmjs.org/agent-base/-/agent-base-7.1.4.tgz",
            "integrity": "sha512-MnA+YT8fwfJPgBx3m60MNqakm30XOkyIoH1y6huTQvC0PwZG7ki8NacLBcrPbNoo8vEZy7Jpuk7+jMO+CUovTQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/ajv": {
            "version": "6.12.6",
            "resolved": "https://registry.npmjs.org/ajv/-/ajv-6.12.6.tgz",
            "integrity": "sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "fast-deep-equal": "^3.1.1",
                "fast-json-stable-stringify": "^2.0.0",
                "json-schema-traverse": "^0.4.1",
                "uri-js": "^4.2.2"
            },
            "funding": {
                "type": "github",
                "url": "https://github.com/sponsors/epoberezkin"
            }
        },
        "node_modules/ansi-regex": {
            "version": "5.0.1",
            "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
            "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/ansi-styles": {
            "version": "4.3.0",
            "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
            "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "color-convert": "^2.0.1"
            },
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
            }
        },
        "node_modules/any-promise": {
            "version": "1.3.0",
            "resolved": "https://registry.npmjs.org/any-promise/-/any-promise-1.3.0.tgz",
            "integrity": "sha512-7UvmKalWRt1wgjL1RrGxoSJW/0QZFIegpeGvZG9kjp8vrRu55XTHbwnqq2GpXm9uLbcuhxm3IqX9OB4MZR1b2A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/anymatch": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-2.0.0.tgz",
            "integrity": "sha512-5teOsQWABXHHBFP9y3skS5P3d/WfWXpv3FUpy+LorMrNYaT9pI4oLMQX7jzQ2KklNpGpWHzdCXTDT2Y3XGlZBw==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "micromatch": "^3.1.4",
                "normalize-path": "^2.1.1"
            }
        },
        "node_modules/anymatch/node_modules/normalize-path": {
            "version": "2.1.1",
            "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-2.1.1.tgz",
            "integrity": "sha512-3pKJwH184Xo/lnH6oyP1q2pMd7HcypqqmRs91/6/i2CGtWwIKGCkOOMTm/zXbgTEWHw1uNpNi/igc3ePOYHb6w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "remove-trailing-separator": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/apache-crypt": {
            "version": "1.2.6",
            "resolved": "https://registry.npmjs.org/apache-crypt/-/apache-crypt-1.2.6.tgz",
            "integrity": "sha512-072WetlM4blL8PREJVeY+WHiUh1R5VNt2HfceGS8aKqttPHcmqE5pkKuXPz/ULmJOFkc8Hw3kfKl6vy7Qka6DA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "unix-crypt-td-js": "^1.1.4"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/apache-md5": {
            "version": "1.1.8",
            "resolved": "https://registry.npmjs.org/apache-md5/-/apache-md5-1.1.8.tgz",
            "integrity": "sha512-FCAJojipPn0bXjuEpjOOOMN8FZDkxfWWp4JGN9mifU2IhxvKyXZYqpzPHdnTSUpmPDy+tsslB6Z1g+Vg6nVbYA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/arg": {
            "version": "5.0.2",
            "resolved": "https://registry.npmjs.org/arg/-/arg-5.0.2.tgz",
            "integrity": "sha512-PYjyFOLKQ9y57JvQ6QLo8dAgNqswh8M1RMJYdQduT6xbWSgK36P/Z/v+p888pM69jMMfS8Xd8F6I1kQ/I9HUGg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/argparse": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/argparse/-/argparse-2.0.1.tgz",
            "integrity": "sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==",
            "dev": true,
            "license": "Python-2.0"
        },
        "node_modules/arr-diff": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/arr-diff/-/arr-diff-4.0.0.tgz",
            "integrity": "sha512-YVIQ82gZPGBebQV/a8dar4AitzCQs0jjXwMPZllpXMaGjXPYVUawSxQrRsjhjupyVxEvbHgUmIhKVlND+j02kA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/arr-flatten": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/arr-flatten/-/arr-flatten-1.1.0.tgz",
            "integrity": "sha512-L3hKV5R/p5o81R7O02IGnwpDmkp6E982XhtbuwSe3O4qOtMMMtodicASA1Cny2U+aCXcNpml+m4dPsvsJ3jatg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/arr-union": {
            "version": "3.1.0",
            "resolved": "https://registry.npmjs.org/arr-union/-/arr-union-3.1.0.tgz",
            "integrity": "sha512-sKpyeERZ02v1FeCZT8lrfJq5u6goHCtpTAzPwJYe7c8SPFOboNjNg1vz2L4VTn9T4PQxEx13TbXLmYUcS6Ug7Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/array-unique": {
            "version": "0.3.2",
            "resolved": "https://registry.npmjs.org/array-unique/-/array-unique-0.3.2.tgz",
            "integrity": "sha512-SleRWjh9JUud2wH1hPs9rZBZ33H6T9HOiL0uwGnGx9FpE6wKGyfWugmbkEOIs6qWrZhg0LWeLziLrEwQJhs5mQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/assign-symbols": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/assign-symbols/-/assign-symbols-1.0.0.tgz",
            "integrity": "sha512-Q+JC7Whu8HhmTdBph/Tq59IoRtoy6KAm5zzPv00WdujX82lbAL8K7WVjne7vdCsAmbF4AYaDOPyO3k0kl8qIrw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/ast-types": {
            "version": "0.13.4",
            "resolved": "https://registry.npmjs.org/ast-types/-/ast-types-0.13.4.tgz",
            "integrity": "sha512-x1FCFnFifvYDDzTaLII71vG5uvDwgtmDTEVWAxrgeiR8VjMONcCXJx7E+USjDtHlwFmt9MysbqgF9b9Vjr6w+w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "tslib": "^2.0.1"
            },
            "engines": {
                "node": ">=4"
            }
        },
        "node_modules/async": {
            "version": "3.2.6",
            "resolved": "https://registry.npmjs.org/async/-/async-3.2.6.tgz",
            "integrity": "sha512-htCUDlxyyCLMgaM3xXg0C0LW2xqfuQ6p05pCEIsXuyQ+a1koYKTuBMzRNwmybfLgvJDMd0r1LTn4+E0Ti6C2AA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/async-each": {
            "version": "1.0.6",
            "resolved": "https://registry.npmjs.org/async-each/-/async-each-1.0.6.tgz",
            "integrity": "sha512-c646jH1avxr+aVpndVMeAfYw7wAa6idufrlN3LPA4PmKS0QEGp6PIC9nwz0WQkkvBGAMEki3pFdtxaF39J9vvg==",
            "dev": true,
            "funding": [
                {
                    "type": "individual",
                    "url": "https://paulmillr.com/funding/"
                }
            ],
            "license": "MIT"
        },
        "node_modules/atob": {
            "version": "2.1.2",
            "resolved": "https://registry.npmjs.org/atob/-/atob-2.1.2.tgz",
            "integrity": "sha512-Wm6ukoaOGJi/73p/cl2GvLjTI5JM1k/O14isD73YML8StrH/7/lRFgmg8nICZgD3bZZvjwCGxtMOD3wWNAu8cg==",
            "dev": true,
            "license": "(MIT OR Apache-2.0)",
            "bin": {
                "atob": "bin/atob.js"
            },
            "engines": {
                "node": ">= 4.5.0"
            }
        },
        "node_modules/autoprefixer": {
            "version": "10.4.23",
            "resolved": "https://registry.npmjs.org/autoprefixer/-/autoprefixer-10.4.23.tgz",
            "integrity": "sha512-YYTXSFulfwytnjAPlw8QHncHJmlvFKtczb8InXaAx9Q0LbfDnfEYDE55omerIJKihhmU61Ft+cAOSzQVaBUmeA==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/postcss/"
                },
                {
                    "type": "tidelift",
                    "url": "https://tidelift.com/funding/github/npm/autoprefixer"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "browserslist": "^4.28.1",
                "caniuse-lite": "^1.0.30001760",
                "fraction.js": "^5.3.4",
                "picocolors": "^1.1.1",
                "postcss-value-parser": "^4.2.0"
            },
            "bin": {
                "autoprefixer": "bin/autoprefixer"
            },
            "engines": {
                "node": "^10 || ^12 || >=14"
            },
            "peerDependencies": {
                "postcss": "^8.1.0"
            }
        },
        "node_modules/balanced-match": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
            "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/bare-events": {
            "version": "2.8.2",
            "resolved": "https://registry.npmjs.org/bare-events/-/bare-events-2.8.2.tgz",
            "integrity": "sha512-riJjyv1/mHLIPX4RwiK+oW9/4c3TEUeORHKefKAKnZ5kyslbN+HXowtbaVEqt4IMUB7OXlfixcs6gsFeo/jhiQ==",
            "dev": true,
            "license": "Apache-2.0",
            "peerDependencies": {
                "bare-abort-controller": "*"
            },
            "peerDependenciesMeta": {
                "bare-abort-controller": {
                    "optional": true
                }
            }
        },
        "node_modules/bare-fs": {
            "version": "4.5.2",
            "resolved": "https://registry.npmjs.org/bare-fs/-/bare-fs-4.5.2.tgz",
            "integrity": "sha512-veTnRzkb6aPHOvSKIOy60KzURfBdUflr5VReI+NSaPL6xf+XLdONQgZgpYvUuZLVQ8dCqxpBAudaOM1+KpAUxw==",
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "dependencies": {
                "bare-events": "^2.5.4",
                "bare-path": "^3.0.0",
                "bare-stream": "^2.6.4",
                "bare-url": "^2.2.2",
                "fast-fifo": "^1.3.2"
            },
            "engines": {
                "bare": ">=1.16.0"
            },
            "peerDependencies": {
                "bare-buffer": "*"
            },
            "peerDependenciesMeta": {
                "bare-buffer": {
                    "optional": true
                }
            }
        },
        "node_modules/bare-os": {
            "version": "3.6.2",
            "resolved": "https://registry.npmjs.org/bare-os/-/bare-os-3.6.2.tgz",
            "integrity": "sha512-T+V1+1srU2qYNBmJCXZkUY5vQ0B4FSlL3QDROnKQYOqeiQR8UbjNHlPa+TIbM4cuidiN9GaTaOZgSEgsvPbh5A==",
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "engines": {
                "bare": ">=1.14.0"
            }
        },
        "node_modules/bare-path": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/bare-path/-/bare-path-3.0.0.tgz",
            "integrity": "sha512-tyfW2cQcB5NN8Saijrhqn0Zh7AnFNsnczRcuWODH0eYAXBsJ5gVxAUuNr7tsHSC6IZ77cA0SitzT+s47kot8Mw==",
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "dependencies": {
                "bare-os": "^3.0.1"
            }
        },
        "node_modules/bare-stream": {
            "version": "2.7.0",
            "resolved": "https://registry.npmjs.org/bare-stream/-/bare-stream-2.7.0.tgz",
            "integrity": "sha512-oyXQNicV1y8nc2aKffH+BUHFRXmx6VrPzlnaEvMhram0nPBrKcEdcyBg5r08D0i8VxngHFAiVyn1QKXpSG0B8A==",
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "dependencies": {
                "streamx": "^2.21.0"
            },
            "peerDependencies": {
                "bare-buffer": "*",
                "bare-events": "*"
            },
            "peerDependenciesMeta": {
                "bare-buffer": {
                    "optional": true
                },
                "bare-events": {
                    "optional": true
                }
            }
        },
        "node_modules/bare-url": {
            "version": "2.3.2",
            "resolved": "https://registry.npmjs.org/bare-url/-/bare-url-2.3.2.tgz",
            "integrity": "sha512-ZMq4gd9ngV5aTMa5p9+UfY0b3skwhHELaDkhEHetMdX0LRkW9kzaym4oo/Eh+Ghm0CCDuMTsRIGM/ytUc1ZYmw==",
            "dev": true,
            "license": "Apache-2.0",
            "optional": true,
            "dependencies": {
                "bare-path": "^3.0.0"
            }
        },
        "node_modules/base": {
            "version": "0.11.2",
            "resolved": "https://registry.npmjs.org/base/-/base-0.11.2.tgz",
            "integrity": "sha512-5T6P4xPgpp0YDFvSWwEZ4NoE3aM4QBQXDzmVbraCkFj8zHM+mba8SyqB5DbZWyR7mYHo6Y7BdQo3MoA4m0TeQg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "cache-base": "^1.0.1",
                "class-utils": "^0.3.5",
                "component-emitter": "^1.2.1",
                "define-property": "^1.0.0",
                "isobject": "^3.0.1",
                "mixin-deep": "^1.2.0",
                "pascalcase": "^0.1.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/base/node_modules/define-property": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-1.0.0.tgz",
            "integrity": "sha512-cZTYKFWspt9jZsMscWo8sc/5lbPC9Q0N5nBLgb+Yd915iL3udB1uFgS3B8YCx66UVHq018DAVFoee7x+gxggeA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/base64-js": {
            "version": "1.5.1",
            "resolved": "https://registry.npmjs.org/base64-js/-/base64-js-1.5.1.tgz",
            "integrity": "sha512-AKpaYlHn8t4SVbOHCy+b5+KKgvR4vrsD8vbvrbiQJps7fKDTkjkDry6ji0rUJjC0kzbNePLwzxq8iypo41qeWA==",
            "dev": true,
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/feross"
                },
                {
                    "type": "patreon",
                    "url": "https://www.patreon.com/feross"
                },
                {
                    "type": "consulting",
                    "url": "https://feross.org/support"
                }
            ],
            "license": "MIT"
        },
        "node_modules/baseline-browser-mapping": {
            "version": "2.9.11",
            "resolved": "https://registry.npmjs.org/baseline-browser-mapping/-/baseline-browser-mapping-2.9.11.tgz",
            "integrity": "sha512-Sg0xJUNDU1sJNGdfGWhVHX0kkZ+HWcvmVymJbj6NSgZZmW/8S9Y2HQ5euytnIgakgxN6papOAWiwDo1ctFDcoQ==",
            "dev": true,
            "license": "Apache-2.0",
            "bin": {
                "baseline-browser-mapping": "dist/cli.js"
            }
        },
        "node_modules/basic-auth": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/basic-auth/-/basic-auth-2.0.1.tgz",
            "integrity": "sha512-NF+epuEdnUYVlGuhaxbbq+dvJttwLnGY+YixlXlME5KpQ5W3CnXA5cVTneY3SPbPDRkcjMbifrwmFYcClgOZeg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "safe-buffer": "5.1.2"
            },
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/basic-ftp": {
            "version": "5.1.0",
            "resolved": "https://registry.npmjs.org/basic-ftp/-/basic-ftp-5.1.0.tgz",
            "integrity": "sha512-RkaJzeJKDbaDWTIPiJwubyljaEPwpVWkm9Rt5h9Nd6h7tEXTJ3VB4qxdZBioV7JO5yLUaOKwz7vDOzlncUsegw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=10.0.0"
            }
        },
        "node_modules/batch": {
            "version": "0.6.1",
            "resolved": "https://registry.npmjs.org/batch/-/batch-0.6.1.tgz",
            "integrity": "sha512-x+VAiMRL6UPkx+kudNvxTl6hB2XNNCG2r+7wixVfIYwu/2HKRXimwQyaumLjMveWvT2Hkd/cAJw+QBMfJ/EKVw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/bcryptjs": {
            "version": "2.4.3",
            "resolved": "https://registry.npmjs.org/bcryptjs/-/bcryptjs-2.4.3.tgz",
            "integrity": "sha512-V/Hy/X9Vt7f3BbPJEi8BdVFMByHi+jNXrYkW3huaybV/kQ0KJg0Y6PkEMbn+zeT+i+SiKZ/HMqJGIIt4LZDqNQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/binary-extensions": {
            "version": "1.13.1",
            "resolved": "https://registry.npmjs.org/binary-extensions/-/binary-extensions-1.13.1.tgz",
            "integrity": "sha512-Un7MIEDdUC5gNpcGDV97op1Ywk748MpHcFTHoYs6qnj1Z3j7I53VG3nwZhKzoBZmbdRNnb6WRdFlwl7tSDuZGw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/bindings": {
            "version": "1.5.0",
            "resolved": "https://registry.npmjs.org/bindings/-/bindings-1.5.0.tgz",
            "integrity": "sha512-p2q/t/mhvuOj/UeLlV6566GD/guowlr0hHxClI0W9m7MWYkL1F0hLo+0Aexs9HSPCtR1SXQ0TD3MMKrXZajbiQ==",
            "dev": true,
            "license": "MIT",
            "optional": true,
            "dependencies": {
                "file-uri-to-path": "1.0.0"
            }
        },
        "node_modules/blake3-wasm": {
            "version": "2.1.5",
            "resolved": "https://registry.npmjs.org/blake3-wasm/-/blake3-wasm-2.1.5.tgz",
            "integrity": "sha512-F1+K8EbfOZE49dtoPtmxUQrpXaBIl3ICvasLh+nJta0xkz+9kF/7uet9fLnwKqhDrmj6g+6K3Tw9yQPUg2ka5g==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/brace-expansion": {
            "version": "1.1.12",
            "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz",
            "integrity": "sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "balanced-match": "^1.0.0",
                "concat-map": "0.0.1"
            }
        },
        "node_modules/braces": {
            "version": "2.3.2",
            "resolved": "https://registry.npmjs.org/braces/-/braces-2.3.2.tgz",
            "integrity": "sha512-aNdbnj9P8PjdXU4ybaWLK2IF3jc/EoDYbC7AazW6to3TRsfXxscC9UXOB5iDiEQrkyIbWp2SLQda4+QAa7nc3w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "arr-flatten": "^1.1.0",
                "array-unique": "^0.3.2",
                "extend-shallow": "^2.0.1",
                "fill-range": "^4.0.0",
                "isobject": "^3.0.1",
                "repeat-element": "^1.1.2",
                "snapdragon": "^0.8.1",
                "snapdragon-node": "^2.0.1",
                "split-string": "^3.0.2",
                "to-regex": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/browserslist": {
            "version": "4.28.1",
            "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.28.1.tgz",
            "integrity": "sha512-ZC5Bd0LgJXgwGqUknZY/vkUQ04r8NXnJZ3yYi4vDmSiZmC/pdSN0NbNRPxZpbtO4uAfDUAFffO8IZoM3Gj8IkA==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/browserslist"
                },
                {
                    "type": "tidelift",
                    "url": "https://tidelift.com/funding/github/npm/browserslist"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "peer": true,
            "dependencies": {
                "baseline-browser-mapping": "^2.9.0",
                "caniuse-lite": "^1.0.30001759",
                "electron-to-chromium": "^1.5.263",
                "node-releases": "^2.0.27",
                "update-browserslist-db": "^1.2.0"
            },
            "bin": {
                "browserslist": "cli.js"
            },
            "engines": {
                "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
            }
        },
        "node_modules/buffer": {
            "version": "5.7.1",
            "resolved": "https://registry.npmjs.org/buffer/-/buffer-5.7.1.tgz",
            "integrity": "sha512-EHcyIPBQ4BSGlvjB16k5KgAJ27CIsHY/2JBmCRReo48y9rQ3MaUzWX3KVlBa4U7MyX02HdVj0K7C3WaB3ju7FQ==",
            "dev": true,
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/feross"
                },
                {
                    "type": "patreon",
                    "url": "https://www.patreon.com/feross"
                },
                {
                    "type": "consulting",
                    "url": "https://feross.org/support"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "base64-js": "^1.3.1",
                "ieee754": "^1.1.13"
            }
        },
        "node_modules/buffer-crc32": {
            "version": "0.2.13",
            "resolved": "https://registry.npmjs.org/buffer-crc32/-/buffer-crc32-0.2.13.tgz",
            "integrity": "sha512-VO9Ht/+p3SN7SKWqcrgEzjGbRSJYTx+Q1pTQC0wrWqHx0vpJraQ6GtHx8tvcg1rlK1byhU5gccxgOgj7B0TDkQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": "*"
            }
        },
        "node_modules/cache-base": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/cache-base/-/cache-base-1.0.1.tgz",
            "integrity": "sha512-AKcdTnFSWATd5/GCPRxr2ChwIJ85CeyrEyjRHlKxQ56d4XJMGym0uAiKn0xbLOGOl3+yRpOTi484dVCEc5AUzQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "collection-visit": "^1.0.0",
                "component-emitter": "^1.2.1",
                "get-value": "^2.0.6",
                "has-value": "^1.0.0",
                "isobject": "^3.0.1",
                "set-value": "^2.0.0",
                "to-object-path": "^0.3.0",
                "union-value": "^1.0.0",
                "unset-value": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/callsites": {
            "version": "3.1.0",
            "resolved": "https://registry.npmjs.org/callsites/-/callsites-3.1.0.tgz",
            "integrity": "sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/camelcase-css": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/camelcase-css/-/camelcase-css-2.0.1.tgz",
            "integrity": "sha512-QOSvevhslijgYwRx6Rv7zKdMF8lbRmx+uQGx2+vDc+KI/eBnsy9kit5aj23AgGu3pa4t9AgwbnXWqS+iOY+2aA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/caniuse-lite": {
            "version": "1.0.30001762",
            "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001762.tgz",
            "integrity": "sha512-PxZwGNvH7Ak8WX5iXzoK1KPZttBXNPuaOvI2ZYU7NrlM+d9Ov+TUvlLOBNGzVXAntMSMMlJPd+jY6ovrVjSmUw==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/browserslist"
                },
                {
                    "type": "tidelift",
                    "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "CC-BY-4.0"
        },
        "node_modules/chalk": {
            "version": "4.1.2",
            "resolved": "https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz",
            "integrity": "sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ansi-styles": "^4.1.0",
                "supports-color": "^7.1.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/chalk/chalk?sponsor=1"
            }
        },
        "node_modules/chalk/node_modules/supports-color": {
            "version": "7.2.0",
            "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz",
            "integrity": "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "has-flag": "^4.0.0"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/chokidar": {
            "version": "2.1.8",
            "resolved": "https://registry.npmjs.org/chokidar/-/chokidar-2.1.8.tgz",
            "integrity": "sha512-ZmZUazfOzf0Nve7duiCKD23PFSCs4JPoYyccjUFF3aQkQadqBhfzhjkwBH2mNOG9cTBwhamM37EIsIkZw3nRgg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "anymatch": "^2.0.0",
                "async-each": "^1.0.1",
                "braces": "^2.3.2",
                "glob-parent": "^3.1.0",
                "inherits": "^2.0.3",
                "is-binary-path": "^1.0.0",
                "is-glob": "^4.0.0",
                "normalize-path": "^3.0.0",
                "path-is-absolute": "^1.0.0",
                "readdirp": "^2.2.1",
                "upath": "^1.1.1"
            },
            "optionalDependencies": {
                "fsevents": "^1.2.7"
            }
        },
        "node_modules/chokidar/node_modules/fsevents": {
            "version": "1.2.13",
            "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-1.2.13.tgz",
            "integrity": "sha512-oWb1Z6mkHIskLzEJ/XWX0srkpkTQ7vaopMQkyaEIoq0fmtFVxOthb8cCxeT+p3ynTdkk/RZwbgG4brR5BeWECw==",
            "deprecated": "Upgrade to fsevents v2 to mitigate potential security issues",
            "dev": true,
            "hasInstallScript": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "dependencies": {
                "bindings": "^1.5.0",
                "nan": "^2.12.1"
            },
            "engines": {
                "node": ">= 4.0"
            }
        },
        "node_modules/chokidar/node_modules/glob-parent": {
            "version": "3.1.0",
            "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-3.1.0.tgz",
            "integrity": "sha512-E8Ak/2+dZY6fnzlR7+ueWvhsH1SjHr4jjss4YS/h4py44jY9MhK/VFdaZJAWDz6BbL21KeteKxFSFpq8OS5gVA==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "is-glob": "^3.1.0",
                "path-dirname": "^1.0.0"
            }
        },
        "node_modules/chokidar/node_modules/glob-parent/node_modules/is-glob": {
            "version": "3.1.0",
            "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-3.1.0.tgz",
            "integrity": "sha512-UFpDDrPgM6qpnFNI+rh/p3bUaq9hKLZN8bMUWzxmcnZVS3omf4IPK+BrewlnWjO1WmUsMYuSjKh4UJuV4+Lqmw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-extglob": "^2.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/chromium-bidi": {
            "version": "0.6.3",
            "resolved": "https://registry.npmjs.org/chromium-bidi/-/chromium-bidi-0.6.3.tgz",
            "integrity": "sha512-qXlsCmpCZJAnoTYI83Iu6EdYQpMYdVkCfq08KDh2pmlVqK5t5IA9mGs4/LwCwp4fqisSOMXZxP3HIh8w8aRn0A==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "mitt": "3.0.1",
                "urlpattern-polyfill": "10.0.0",
                "zod": "3.23.8"
            },
            "peerDependencies": {
                "devtools-protocol": "*"
            }
        },
        "node_modules/chromium-bidi/node_modules/zod": {
            "version": "3.23.8",
            "resolved": "https://registry.npmjs.org/zod/-/zod-3.23.8.tgz",
            "integrity": "sha512-XBx9AXhXktjUqnepgTiE5flcKIYWi/rme0Eaj+5Y0lftuGBq+jyRu/md4WnuxqgP1ubdpNCsYEYPxrzVHD8d6g==",
            "dev": true,
            "license": "MIT",
            "funding": {
                "url": "https://github.com/sponsors/colinhacks"
            }
        },
        "node_modules/class-utils": {
            "version": "0.3.6",
            "resolved": "https://registry.npmjs.org/class-utils/-/class-utils-0.3.6.tgz",
            "integrity": "sha512-qOhPa/Fj7s6TY8H8esGu5QNpMMQxz79h+urzrNYN6mn+9BnxlDGf5QZ+XeCDsxSjPqsSR56XOZOJmpeurnLMeg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "arr-union": "^3.1.0",
                "define-property": "^0.2.5",
                "isobject": "^3.0.0",
                "static-extend": "^0.1.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/class-utils/node_modules/define-property": {
            "version": "0.2.5",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz",
            "integrity": "sha512-Rr7ADjQZenceVOAKop6ALkkRAmH1A4Gx9hV/7ZujPUN2rkATqFO0JZLZInbAjpZYoJ1gUx8MRMQVkYemcbMSTA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/class-utils/node_modules/is-descriptor": {
            "version": "0.1.7",
            "resolved": "https://registry.npmjs.org/is-descriptor/-/is-descriptor-0.1.7.tgz",
            "integrity": "sha512-C3grZTvObeN1xud4cRWl366OMXZTj0+HGyk4hvfpx4ZHt1Pb60ANSXqCK7pdOTeUQpRzECBSTphqvD7U+l22Eg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-accessor-descriptor": "^1.0.1",
                "is-data-descriptor": "^1.0.1"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/cliui": {
            "version": "8.0.1",
            "resolved": "https://registry.npmjs.org/cliui/-/cliui-8.0.1.tgz",
            "integrity": "sha512-BSeNnyus75C4//NQ9gQt1/csTXyo/8Sb+afLAkzAptFuMsod9HFokGNudZpi/oQV73hnVK+sR+5PVRMd+Dr7YQ==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "string-width": "^4.2.0",
                "strip-ansi": "^6.0.1",
                "wrap-ansi": "^7.0.0"
            },
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/collection-visit": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/collection-visit/-/collection-visit-1.0.0.tgz",
            "integrity": "sha512-lNkKvzEeMBBjUGHZ+q6z9pSJla0KWAQPvtzhEV9+iGyQYG+pBpl7xKDhxoNSOZH2hhv0v5k0y2yAM4o4SjoSkw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "map-visit": "^1.0.0",
                "object-visit": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/color": {
            "version": "4.2.3",
            "resolved": "https://registry.npmjs.org/color/-/color-4.2.3.tgz",
            "integrity": "sha512-1rXeuUUiGGrykh+CeBdu5Ie7OJwinCgQY0bc7GCRxy5xVHy+moaqkpL/jqQq0MtQOeYcrqEz4abc5f0KtU7W4A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "color-convert": "^2.0.1",
                "color-string": "^1.9.0"
            },
            "engines": {
                "node": ">=12.5.0"
            }
        },
        "node_modules/color-convert": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
            "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "color-name": "~1.1.4"
            },
            "engines": {
                "node": ">=7.0.0"
            }
        },
        "node_modules/color-name": {
            "version": "1.1.4",
            "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
            "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/color-string": {
            "version": "1.9.1",
            "resolved": "https://registry.npmjs.org/color-string/-/color-string-1.9.1.tgz",
            "integrity": "sha512-shrVawQFojnZv6xM40anx4CkoDP+fZsw/ZerEMsW/pyzsRbElpsL/DBVW7q3ExxwusdNXI3lXpuhEZkzs8p5Eg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "color-name": "^1.0.0",
                "simple-swizzle": "^0.2.2"
            }
        },
        "node_modules/colors": {
            "version": "1.4.0",
            "resolved": "https://registry.npmjs.org/colors/-/colors-1.4.0.tgz",
            "integrity": "sha512-a+UqTh4kgZg/SlGvfbzDHpgRu7AAQOmmqRHJnxhRZICKFUT91brVhNNt58CMWU9PsBbv3PDCZUHbVxuDiH2mtA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.1.90"
            }
        },
        "node_modules/commander": {
            "version": "11.1.0",
            "resolved": "https://registry.npmjs.org/commander/-/commander-11.1.0.tgz",
            "integrity": "sha512-yPVavfyCcRhmorC7rWlkHn15b4wDVgVmBA7kV4QVBsF7kv/9TKJAbAXVTxvTnwP8HHKjRCJDClKbciiYS7p0DQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/component-emitter": {
            "version": "1.3.1",
            "resolved": "https://registry.npmjs.org/component-emitter/-/component-emitter-1.3.1.tgz",
            "integrity": "sha512-T0+barUSQRTUQASh8bx02dl+DhF54GtIDY13Y3m9oWTklKbb3Wv974meRpeZ3lp1JpLVECWWNHC4vaG2XHXouQ==",
            "dev": true,
            "license": "MIT",
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/concat-map": {
            "version": "0.0.1",
            "resolved": "https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz",
            "integrity": "sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/concurrently": {
            "version": "8.2.2",
            "resolved": "https://registry.npmjs.org/concurrently/-/concurrently-8.2.2.tgz",
            "integrity": "sha512-1dP4gpXFhei8IOtlXRE/T/4H88ElHgTiUzh71YUmtjTEHMSRS2Z/fgOxHSxxusGHogsRfxNq1vyAwxSC+EVyDg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "chalk": "^4.1.2",
                "date-fns": "^2.30.0",
                "lodash": "^4.17.21",
                "rxjs": "^7.8.1",
                "shell-quote": "^1.8.1",
                "spawn-command": "0.0.2",
                "supports-color": "^8.1.1",
                "tree-kill": "^1.2.2",
                "yargs": "^17.7.2"
            },
            "bin": {
                "conc": "dist/bin/concurrently.js",
                "concurrently": "dist/bin/concurrently.js"
            },
            "engines": {
                "node": "^14.13.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://github.com/open-cli-tools/concurrently?sponsor=1"
            }
        },
        "node_modules/connect": {
            "version": "3.7.0",
            "resolved": "https://registry.npmjs.org/connect/-/connect-3.7.0.tgz",
            "integrity": "sha512-ZqRXc+tZukToSNmh5C2iWMSoV3X1YUcPbqEM4DkEG5tNQXrQUZCNVGGv3IuicnkMtPfGf3Xtp8WCXs295iQ1pQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "debug": "2.6.9",
                "finalhandler": "1.1.2",
                "parseurl": "~1.3.3",
                "utils-merge": "1.0.1"
            },
            "engines": {
                "node": ">= 0.10.0"
            }
        },
        "node_modules/connect/node_modules/debug": {
            "version": "2.6.9",
            "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
            "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "2.0.0"
            }
        },
        "node_modules/connect/node_modules/ms": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
            "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/cookie": {
            "version": "1.1.1",
            "resolved": "https://registry.npmjs.org/cookie/-/cookie-1.1.1.tgz",
            "integrity": "sha512-ei8Aos7ja0weRpFzJnEA9UHJ/7XQmqglbRwnf2ATjcB9Wq874VKH9kfjjirM6UhU2/E5fFYadylyhFldcqSidQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/express"
            }
        },
        "node_modules/copy-descriptor": {
            "version": "0.1.1",
            "resolved": "https://registry.npmjs.org/copy-descriptor/-/copy-descriptor-0.1.1.tgz",
            "integrity": "sha512-XgZ0pFcakEUlbwQEVNg3+QAis1FyTL3Qel9FYy8pSkQqoG3PNoT0bOCQtOXcOkur21r2Eq2kI+IE+gsmAEVlYw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/core-util-is": {
            "version": "1.0.3",
            "resolved": "https://registry.npmjs.org/core-util-is/-/core-util-is-1.0.3.tgz",
            "integrity": "sha512-ZQBvi1DcpJ4GDqanjucZ2Hj3wEO5pZDS89BWbkcrvdxksJorwUDDZamX9ldFkp9aw2lmBDLgkObEA4DWNJ9FYQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/cors": {
            "version": "2.8.5",
            "resolved": "https://registry.npmjs.org/cors/-/cors-2.8.5.tgz",
            "integrity": "sha512-KIHbLJqu73RGr/hnbrO9uBeixNGuvSQjul/jdFvS/KFSIH1hWVd1ng7zOHx+YrEfInLG7q4n6GHQ9cDtxv/P6g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "object-assign": "^4",
                "vary": "^1"
            },
            "engines": {
                "node": ">= 0.10"
            }
        },
        "node_modules/cosmiconfig": {
            "version": "9.0.0",
            "resolved": "https://registry.npmjs.org/cosmiconfig/-/cosmiconfig-9.0.0.tgz",
            "integrity": "sha512-itvL5h8RETACmOTFc4UfIyB2RfEHi71Ax6E/PivVxq9NseKbOWpeyHEOIbmAw1rs8Ak0VursQNww7lf7YtUwzg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "env-paths": "^2.2.1",
                "import-fresh": "^3.3.0",
                "js-yaml": "^4.1.0",
                "parse-json": "^5.2.0"
            },
            "engines": {
                "node": ">=14"
            },
            "funding": {
                "url": "https://github.com/sponsors/d-fischer"
            },
            "peerDependencies": {
                "typescript": ">=4.9.5"
            },
            "peerDependenciesMeta": {
                "typescript": {
                    "optional": true
                }
            }
        },
        "node_modules/cross-spawn": {
            "version": "7.0.6",
            "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
            "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "path-key": "^3.1.0",
                "shebang-command": "^2.0.0",
                "which": "^2.0.1"
            },
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/cssesc": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/cssesc/-/cssesc-3.0.0.tgz",
            "integrity": "sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==",
            "dev": true,
            "license": "MIT",
            "bin": {
                "cssesc": "bin/cssesc"
            },
            "engines": {
                "node": ">=4"
            }
        },
        "node_modules/data-uri-to-buffer": {
            "version": "6.0.2",
            "resolved": "https://registry.npmjs.org/data-uri-to-buffer/-/data-uri-to-buffer-6.0.2.tgz",
            "integrity": "sha512-7hvf7/GW8e86rW0ptuwS3OcBGDjIi6SZva7hCyWC0yYry2cOPmLIjXAUHI6DK2HsnwJd9ifmt57i8eV2n4YNpw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/date-fns": {
            "version": "2.30.0",
            "resolved": "https://registry.npmjs.org/date-fns/-/date-fns-2.30.0.tgz",
            "integrity": "sha512-fnULvOpxnC5/Vg3NCiWelDsLiUc9bRwAPs/+LfTLNvetFCtCTN+yQz15C/fs4AwX1R9K5GLtLfn8QW+dWisaAw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@babel/runtime": "^7.21.0"
            },
            "engines": {
                "node": ">=0.11"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/date-fns"
            }
        },
        "node_modules/debug": {
            "version": "4.4.3",
            "resolved": "https://registry.npmjs.org/debug/-/debug-4.4.3.tgz",
            "integrity": "sha512-RGwwWnwQvkVfavKVt22FGLw+xYSdzARwm0ru6DhTVA3umU5hZc28V3kO4stgYryrTlLpuvgI9GiijltAjNbcqA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "^2.1.3"
            },
            "engines": {
                "node": ">=6.0"
            },
            "peerDependenciesMeta": {
                "supports-color": {
                    "optional": true
                }
            }
        },
        "node_modules/decode-uri-component": {
            "version": "0.2.2",
            "resolved": "https://registry.npmjs.org/decode-uri-component/-/decode-uri-component-0.2.2.tgz",
            "integrity": "sha512-FqUYQ+8o158GyGTrMFJms9qh3CqTKvAqgqsTnkLI8sKu0028orqBhxNMFkFen0zGyg6epACD32pjVk58ngIErQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10"
            }
        },
        "node_modules/deep-is": {
            "version": "0.1.4",
            "resolved": "https://registry.npmjs.org/deep-is/-/deep-is-0.1.4.tgz",
            "integrity": "sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/define-property": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-2.0.2.tgz",
            "integrity": "sha512-jwK2UV4cnPpbcG7+VRARKTZPUWowwXA8bzH5NP6ud0oeAxyYPuGZUAC7hMugpCdz4BeSZl2Dl9k66CHJ/46ZYQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^1.0.2",
                "isobject": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/degenerator": {
            "version": "5.0.1",
            "resolved": "https://registry.npmjs.org/degenerator/-/degenerator-5.0.1.tgz",
            "integrity": "sha512-TllpMR/t0M5sqCXfj85i4XaAzxmS5tVA16dqvdkMwGmzI+dXLXnw3J+3Vdv7VKw+ThlTMboK6i9rnZ6Nntj5CQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ast-types": "^0.13.4",
                "escodegen": "^2.1.0",
                "esprima": "^4.0.1"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/depd": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/depd/-/depd-2.0.0.tgz",
            "integrity": "sha512-g7nH6P6dyDioJogAAGprGpCtVImJhpPk/roCzdb3fIh61/s/nPsfR6onyMwkCAR/OlC3yBC0lESvUoQEAssIrw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/detect-libc": {
            "version": "2.1.2",
            "resolved": "https://registry.npmjs.org/detect-libc/-/detect-libc-2.1.2.tgz",
            "integrity": "sha512-Btj2BOOO83o3WyH59e8MgXsxEQVcarkUOpEYrubB0urwnN10yQ364rsiByU11nZlqWYZm05i/of7io4mzihBtQ==",
            "dev": true,
            "license": "Apache-2.0",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/devtools-protocol": {
            "version": "0.0.1312386",
            "resolved": "https://registry.npmjs.org/devtools-protocol/-/devtools-protocol-0.0.1312386.tgz",
            "integrity": "sha512-DPnhUXvmvKT2dFA/j7B+riVLUt9Q6RKJlcppojL5CoRywJJKLDYnRlw0gTFKfgDPHP5E04UoB71SxoJlVZy8FA==",
            "dev": true,
            "license": "BSD-3-Clause",
            "peer": true
        },
        "node_modules/didyoumean": {
            "version": "1.2.2",
            "resolved": "https://registry.npmjs.org/didyoumean/-/didyoumean-1.2.2.tgz",
            "integrity": "sha512-gxtyfqMg7GKyhQmb056K7M3xszy/myH8w+B4RT+QXBQsvAOdc3XymqDDPHx1BgPgsdAA5SIifona89YtRATDzw==",
            "dev": true,
            "license": "Apache-2.0"
        },
        "node_modules/dlv": {
            "version": "1.1.3",
            "resolved": "https://registry.npmjs.org/dlv/-/dlv-1.1.3.tgz",
            "integrity": "sha512-+HlytyjlPKnIG8XuRG8WvmBP8xs8P71y+SKKS6ZXWoEgLuePxtDoUEiH7WkdePWrQ5JBpE6aoVqfZfJUQkjXwA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/doctrine": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/doctrine/-/doctrine-3.0.0.tgz",
            "integrity": "sha512-yS+Q5i3hBf7GBkd4KG8a7eBNNWNGLTaEwwYWUijIYM7zrlYDM0BFXHjjPWlWZ1Rg7UaddZeIDmi9jF3HmqiQ2w==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "esutils": "^2.0.2"
            },
            "engines": {
                "node": ">=6.0.0"
            }
        },
        "node_modules/duplexer": {
            "version": "0.1.2",
            "resolved": "https://registry.npmjs.org/duplexer/-/duplexer-0.1.2.tgz",
            "integrity": "sha512-jtD6YG370ZCIi/9GTaJKQxWTZD045+4R4hTk/x1UyoqadyJ9x9CgSi1RlVDQF8U2sxLLSnFkCaMihqljHIWgMg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/ee-first": {
            "version": "1.1.1",
            "resolved": "https://registry.npmjs.org/ee-first/-/ee-first-1.1.1.tgz",
            "integrity": "sha512-WMwm9LhRUo+WUaRN+vRuETqG89IgZphVSNkdFgeb6sS/E4OrDIN7t48CAewSHXc6C8lefD8KKfr5vY61brQlow==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/electron-to-chromium": {
            "version": "1.5.267",
            "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.267.tgz",
            "integrity": "sha512-0Drusm6MVRXSOJpGbaSVgcQsuB4hEkMpHXaVstcPmhu5LIedxs1xNK/nIxmQIU/RPC0+1/o0AVZfBTkTNJOdUw==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/emoji-regex": {
            "version": "8.0.0",
            "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
            "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/encodeurl": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/encodeurl/-/encodeurl-1.0.2.tgz",
            "integrity": "sha512-TPJXq8JqFaVYm2CWmPvnP2Iyo4ZSM7/QKcSmuMLDObfpH5fi7RUGmd/rTDf+rut/saiDiQEeVTNgAmJEdAOx0w==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/end-of-stream": {
            "version": "1.4.5",
            "resolved": "https://registry.npmjs.org/end-of-stream/-/end-of-stream-1.4.5.tgz",
            "integrity": "sha512-ooEGc6HP26xXq/N+GCGOT0JKCLDGrq2bQUZrQ7gyrJiZANJ/8YDTxTpQBXGMn+WbIQXNVpyWymm7KYVICQnyOg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "once": "^1.4.0"
            }
        },
        "node_modules/env-paths": {
            "version": "2.2.1",
            "resolved": "https://registry.npmjs.org/env-paths/-/env-paths-2.2.1.tgz",
            "integrity": "sha512-+h1lkLKhZMTYjog1VEpJNG7NZJWcuc2DDk/qsqSTRRCOXiLjeQ1d1/udrUGhqMxUgAlwKNZ0cf2uqan5GLuS2A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/error-ex": {
            "version": "1.3.4",
            "resolved": "https://registry.npmjs.org/error-ex/-/error-ex-1.3.4.tgz",
            "integrity": "sha512-sqQamAnR14VgCr1A618A3sGrygcpK+HEbenA/HiEAkkUwcZIIB/tgWqHFxWgOyDh4nB4JCRimh79dR5Ywc9MDQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-arrayish": "^0.2.1"
            }
        },
        "node_modules/error-ex/node_modules/is-arrayish": {
            "version": "0.2.1",
            "resolved": "https://registry.npmjs.org/is-arrayish/-/is-arrayish-0.2.1.tgz",
            "integrity": "sha512-zz06S8t0ozoDXMG+ube26zeCTNXcKIPJZJi8hBrF4idCLms4CG9QtK7qBl1boi5ODzFpjswb5JPmHCbMpjaYzg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/error-stack-parser-es": {
            "version": "1.0.5",
            "resolved": "https://registry.npmjs.org/error-stack-parser-es/-/error-stack-parser-es-1.0.5.tgz",
            "integrity": "sha512-5qucVt2XcuGMcEGgWI7i+yZpmpByQ8J1lHhcL7PwqCwu9FPP3VUXzT4ltHe5i2z9dePwEHcDVOAfSnHsOlCXRA==",
            "dev": true,
            "license": "MIT",
            "funding": {
                "url": "https://github.com/sponsors/antfu"
            }
        },
        "node_modules/esbuild": {
            "version": "0.27.0",
            "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.27.0.tgz",
            "integrity": "sha512-jd0f4NHbD6cALCyGElNpGAOtWxSq46l9X/sWB0Nzd5er4Kz2YTm+Vl0qKFT9KUJvD8+fiO8AvoHhFvEatfVixA==",
            "dev": true,
            "hasInstallScript": true,
            "license": "MIT",
            "bin": {
                "esbuild": "bin/esbuild"
            },
            "engines": {
                "node": ">=18"
            },
            "optionalDependencies": {
                "@esbuild/aix-ppc64": "0.27.0",
                "@esbuild/android-arm": "0.27.0",
                "@esbuild/android-arm64": "0.27.0",
                "@esbuild/android-x64": "0.27.0",
                "@esbuild/darwin-arm64": "0.27.0",
                "@esbuild/darwin-x64": "0.27.0",
                "@esbuild/freebsd-arm64": "0.27.0",
                "@esbuild/freebsd-x64": "0.27.0",
                "@esbuild/linux-arm": "0.27.0",
                "@esbuild/linux-arm64": "0.27.0",
                "@esbuild/linux-ia32": "0.27.0",
                "@esbuild/linux-loong64": "0.27.0",
                "@esbuild/linux-mips64el": "0.27.0",
                "@esbuild/linux-ppc64": "0.27.0",
                "@esbuild/linux-riscv64": "0.27.0",
                "@esbuild/linux-s390x": "0.27.0",
                "@esbuild/linux-x64": "0.27.0",
                "@esbuild/netbsd-arm64": "0.27.0",
                "@esbuild/netbsd-x64": "0.27.0",
                "@esbuild/openbsd-arm64": "0.27.0",
                "@esbuild/openbsd-x64": "0.27.0",
                "@esbuild/openharmony-arm64": "0.27.0",
                "@esbuild/sunos-x64": "0.27.0",
                "@esbuild/win32-arm64": "0.27.0",
                "@esbuild/win32-ia32": "0.27.0",
                "@esbuild/win32-x64": "0.27.0"
            }
        },
        "node_modules/escalade": {
            "version": "3.2.0",
            "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
            "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/escape-html": {
            "version": "1.0.3",
            "resolved": "https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz",
            "integrity": "sha512-NiSupZ4OeuGwr68lGIeym/ksIZMJodUGOSCZ/FSnTxcrekbvqrgdUxlJOMpijaKZVjAJrWrGs/6Jy8OMuyj9ow==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/escape-string-regexp": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-4.0.0.tgz",
            "integrity": "sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/escodegen": {
            "version": "2.1.0",
            "resolved": "https://registry.npmjs.org/escodegen/-/escodegen-2.1.0.tgz",
            "integrity": "sha512-2NlIDTwUWJN0mRPQOdtQBzbUHvdGY2P1VXSyU83Q3xKxM7WHX2Ql8dKq782Q9TgQUNOLEzEYu9bzLNj1q88I5w==",
            "dev": true,
            "license": "BSD-2-Clause",
            "dependencies": {
                "esprima": "^4.0.1",
                "estraverse": "^5.2.0",
                "esutils": "^2.0.2"
            },
            "bin": {
                "escodegen": "bin/escodegen.js",
                "esgenerate": "bin/esgenerate.js"
            },
            "engines": {
                "node": ">=6.0"
            },
            "optionalDependencies": {
                "source-map": "~0.6.1"
            }
        },
        "node_modules/eslint": {
            "version": "8.57.1",
            "resolved": "https://registry.npmjs.org/eslint/-/eslint-8.57.1.tgz",
            "integrity": "sha512-ypowyDxpVSYpkXr9WPv2PAZCtNip1Mv5KTW0SCurXv/9iOpcrH9PaqUElksqEB6pChqHGDRCFTyrZlGhnLNGiA==",
            "deprecated": "This version is no longer supported. Please see https://eslint.org/version-support for other options.",
            "dev": true,
            "license": "MIT",
            "peer": true,
            "dependencies": {
                "@eslint-community/eslint-utils": "^4.2.0",
                "@eslint-community/regexpp": "^4.6.1",
                "@eslint/eslintrc": "^2.1.4",
                "@eslint/js": "8.57.1",
                "@humanwhocodes/config-array": "^0.13.0",
                "@humanwhocodes/module-importer": "^1.0.1",
                "@nodelib/fs.walk": "^1.2.8",
                "@ungap/structured-clone": "^1.2.0",
                "ajv": "^6.12.4",
                "chalk": "^4.0.0",
                "cross-spawn": "^7.0.2",
                "debug": "^4.3.2",
                "doctrine": "^3.0.0",
                "escape-string-regexp": "^4.0.0",
                "eslint-scope": "^7.2.2",
                "eslint-visitor-keys": "^3.4.3",
                "espree": "^9.6.1",
                "esquery": "^1.4.2",
                "esutils": "^2.0.2",
                "fast-deep-equal": "^3.1.3",
                "file-entry-cache": "^6.0.1",
                "find-up": "^5.0.0",
                "glob-parent": "^6.0.2",
                "globals": "^13.19.0",
                "graphemer": "^1.4.0",
                "ignore": "^5.2.0",
                "imurmurhash": "^0.1.4",
                "is-glob": "^4.0.0",
                "is-path-inside": "^3.0.3",
                "js-yaml": "^4.1.0",
                "json-stable-stringify-without-jsonify": "^1.0.1",
                "levn": "^0.4.1",
                "lodash.merge": "^4.6.2",
                "minimatch": "^3.1.2",
                "natural-compare": "^1.4.0",
                "optionator": "^0.9.3",
                "strip-ansi": "^6.0.1",
                "text-table": "^0.2.0"
            },
            "bin": {
                "eslint": "bin/eslint.js"
            },
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/eslint"
            }
        },
        "node_modules/eslint-scope": {
            "version": "7.2.2",
            "resolved": "https://registry.npmjs.org/eslint-scope/-/eslint-scope-7.2.2.tgz",
            "integrity": "sha512-dOt21O7lTMhDM+X9mB4GX+DZrZtCUJPL/wlcTqxyrx5IvO0IYtILdtrQGQp+8n5S0gwSVmOf9NQrjMOgfQZlIg==",
            "dev": true,
            "license": "BSD-2-Clause",
            "dependencies": {
                "esrecurse": "^4.3.0",
                "estraverse": "^5.2.0"
            },
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/eslint"
            }
        },
        "node_modules/eslint-visitor-keys": {
            "version": "3.4.3",
            "resolved": "https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-3.4.3.tgz",
            "integrity": "sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==",
            "dev": true,
            "license": "Apache-2.0",
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/eslint"
            }
        },
        "node_modules/espree": {
            "version": "9.6.1",
            "resolved": "https://registry.npmjs.org/espree/-/espree-9.6.1.tgz",
            "integrity": "sha512-oruZaFkjorTpF32kDSI5/75ViwGeZginGGy2NoOSg3Q9bnwlnmDm4HLnkl0RE3n+njDXR037aY1+x58Z/zFdwQ==",
            "dev": true,
            "license": "BSD-2-Clause",
            "dependencies": {
                "acorn": "^8.9.0",
                "acorn-jsx": "^5.3.2",
                "eslint-visitor-keys": "^3.4.1"
            },
            "engines": {
                "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/eslint"
            }
        },
        "node_modules/esprima": {
            "version": "4.0.1",
            "resolved": "https://registry.npmjs.org/esprima/-/esprima-4.0.1.tgz",
            "integrity": "sha512-eGuFFw7Upda+g4p+QHvnW0RyTX/SVeJBDM/gCtMARO0cLuT2HcEKnTPvhjV6aGeqrCB/sbNop0Kszm0jsaWU4A==",
            "dev": true,
            "license": "BSD-2-Clause",
            "bin": {
                "esparse": "bin/esparse.js",
                "esvalidate": "bin/esvalidate.js"
            },
            "engines": {
                "node": ">=4"
            }
        },
        "node_modules/esquery": {
            "version": "1.6.0",
            "resolved": "https://registry.npmjs.org/esquery/-/esquery-1.6.0.tgz",
            "integrity": "sha512-ca9pw9fomFcKPvFLXhBKUK90ZvGibiGOvRJNbjljY7s7uq/5YO4BOzcYtJqExdx99rF6aAcnRxHmcUHcz6sQsg==",
            "dev": true,
            "license": "BSD-3-Clause",
            "dependencies": {
                "estraverse": "^5.1.0"
            },
            "engines": {
                "node": ">=0.10"
            }
        },
        "node_modules/esrecurse": {
            "version": "4.3.0",
            "resolved": "https://registry.npmjs.org/esrecurse/-/esrecurse-4.3.0.tgz",
            "integrity": "sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag==",
            "dev": true,
            "license": "BSD-2-Clause",
            "dependencies": {
                "estraverse": "^5.2.0"
            },
            "engines": {
                "node": ">=4.0"
            }
        },
        "node_modules/estraverse": {
            "version": "5.3.0",
            "resolved": "https://registry.npmjs.org/estraverse/-/estraverse-5.3.0.tgz",
            "integrity": "sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==",
            "dev": true,
            "license": "BSD-2-Clause",
            "engines": {
                "node": ">=4.0"
            }
        },
        "node_modules/esutils": {
            "version": "2.0.3",
            "resolved": "https://registry.npmjs.org/esutils/-/esutils-2.0.3.tgz",
            "integrity": "sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==",
            "dev": true,
            "license": "BSD-2-Clause",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/etag": {
            "version": "1.8.1",
            "resolved": "https://registry.npmjs.org/etag/-/etag-1.8.1.tgz",
            "integrity": "sha512-aIL5Fx7mawVa300al2BnEE4iNvo1qETxLrPI/o05L7z6go7fCw1J6EQmbK4FmJ2AS7kgVF/KEZWufBfdClMcPg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/event-stream": {
            "version": "3.3.4",
            "resolved": "https://registry.npmjs.org/event-stream/-/event-stream-3.3.4.tgz",
            "integrity": "sha512-QHpkERcGsR0T7Qm3HNJSyXKEEj8AHNxkY3PK8TS2KJvQ7NiSHe3DDpwVKKtoYprL/AreyzFBeIkBIWChAqn60g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "duplexer": "~0.1.1",
                "from": "~0",
                "map-stream": "~0.1.0",
                "pause-stream": "0.0.11",
                "split": "0.3",
                "stream-combiner": "~0.0.4",
                "through": "~2.3.1"
            }
        },
        "node_modules/events-universal": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/events-universal/-/events-universal-1.0.1.tgz",
            "integrity": "sha512-LUd5euvbMLpwOF8m6ivPCbhQeSiYVNb8Vs0fQ8QjXo0JTkEHpz8pxdQf0gStltaPpw0Cca8b39KxvK9cfKRiAw==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "bare-events": "^2.7.0"
            }
        },
        "node_modules/exit-hook": {
            "version": "2.2.1",
            "resolved": "https://registry.npmjs.org/exit-hook/-/exit-hook-2.2.1.tgz",
            "integrity": "sha512-eNTPlAD67BmP31LDINZ3U7HSF8l57TxOY2PmBJ1shpCvpnxBF93mWCE8YHBnXs8qiUZJc9WDcWIeC3a2HIAMfw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/expand-brackets": {
            "version": "2.1.4",
            "resolved": "https://registry.npmjs.org/expand-brackets/-/expand-brackets-2.1.4.tgz",
            "integrity": "sha512-w/ozOKR9Obk3qoWeY/WDi6MFta9AoMR+zud60mdnbniMcBxRuFJyDt2LdX/14A1UABeqk+Uk+LDfUpvoGKppZA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "debug": "^2.3.3",
                "define-property": "^0.2.5",
                "extend-shallow": "^2.0.1",
                "posix-character-classes": "^0.1.0",
                "regex-not": "^1.0.0",
                "snapdragon": "^0.8.1",
                "to-regex": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/expand-brackets/node_modules/debug": {
            "version": "2.6.9",
            "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
            "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "2.0.0"
            }
        },
        "node_modules/expand-brackets/node_modules/define-property": {
            "version": "0.2.5",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz",
            "integrity": "sha512-Rr7ADjQZenceVOAKop6ALkkRAmH1A4Gx9hV/7ZujPUN2rkATqFO0JZLZInbAjpZYoJ1gUx8MRMQVkYemcbMSTA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/expand-brackets/node_modules/is-descriptor": {
            "version": "0.1.7",
            "resolved": "https://registry.npmjs.org/is-descriptor/-/is-descriptor-0.1.7.tgz",
            "integrity": "sha512-C3grZTvObeN1xud4cRWl366OMXZTj0+HGyk4hvfpx4ZHt1Pb60ANSXqCK7pdOTeUQpRzECBSTphqvD7U+l22Eg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-accessor-descriptor": "^1.0.1",
                "is-data-descriptor": "^1.0.1"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/expand-brackets/node_modules/ms": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
            "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/extend-shallow": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz",
            "integrity": "sha512-zCnTtlxNoAiDc3gqY2aYAWFx7XWWiasuF2K8Me5WbN8otHKTUKBwjPtNpRs/rbUZm7KxWAaNj7P1a/p52GbVug==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-extendable": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/extglob": {
            "version": "2.0.4",
            "resolved": "https://registry.npmjs.org/extglob/-/extglob-2.0.4.tgz",
            "integrity": "sha512-Nmb6QXkELsuBr24CJSkilo6UHHgbekK5UiZgfE6UHD3Eb27YC6oD+bhcT+tJ6cl8dmsgdQxnWlcry8ksBIBLpw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "array-unique": "^0.3.2",
                "define-property": "^1.0.0",
                "expand-brackets": "^2.1.4",
                "extend-shallow": "^2.0.1",
                "fragment-cache": "^0.2.1",
                "regex-not": "^1.0.0",
                "snapdragon": "^0.8.1",
                "to-regex": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/extglob/node_modules/define-property": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-1.0.0.tgz",
            "integrity": "sha512-cZTYKFWspt9jZsMscWo8sc/5lbPC9Q0N5nBLgb+Yd915iL3udB1uFgS3B8YCx66UVHq018DAVFoee7x+gxggeA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/extract-zip": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/extract-zip/-/extract-zip-2.0.1.tgz",
            "integrity": "sha512-GDhU9ntwuKyGXdZBUgTIe+vXnWj0fppUEtMDL0+idd5Sta8TGpHssn/eusA9mrPr9qNDym6SxAYZjNvCn/9RBg==",
            "dev": true,
            "license": "BSD-2-Clause",
            "dependencies": {
                "debug": "^4.1.1",
                "get-stream": "^5.1.0",
                "yauzl": "^2.10.0"
            },
            "bin": {
                "extract-zip": "cli.js"
            },
            "engines": {
                "node": ">= 10.17.0"
            },
            "optionalDependencies": {
                "@types/yauzl": "^2.9.1"
            }
        },
        "node_modules/fast-deep-equal": {
            "version": "3.1.3",
            "resolved": "https://registry.npmjs.org/fast-deep-equal/-/fast-deep-equal-3.1.3.tgz",
            "integrity": "sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/fast-fifo": {
            "version": "1.3.2",
            "resolved": "https://registry.npmjs.org/fast-fifo/-/fast-fifo-1.3.2.tgz",
            "integrity": "sha512-/d9sfos4yxzpwkDkuN7k2SqFKtYNmCTzgfEpz82x34IM9/zc8KGxQoXg1liNC/izpRM/MBdt44Nmx41ZWqk+FQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/fast-glob": {
            "version": "3.3.3",
            "resolved": "https://registry.npmjs.org/fast-glob/-/fast-glob-3.3.3.tgz",
            "integrity": "sha512-7MptL8U0cqcFdzIzwOTHoilX9x5BrNqye7Z/LuC7kCMRio1EMSyqRK3BEAUD7sXRq4iT4AzTVuZdhgQ2TCvYLg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@nodelib/fs.stat": "^2.0.2",
                "@nodelib/fs.walk": "^1.2.3",
                "glob-parent": "^5.1.2",
                "merge2": "^1.3.0",
                "micromatch": "^4.0.8"
            },
            "engines": {
                "node": ">=8.6.0"
            }
        },
        "node_modules/fast-glob/node_modules/braces": {
            "version": "3.0.3",
            "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
            "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "fill-range": "^7.1.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/fast-glob/node_modules/fill-range": {
            "version": "7.1.1",
            "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
            "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "to-regex-range": "^5.0.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/fast-glob/node_modules/glob-parent": {
            "version": "5.1.2",
            "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
            "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "is-glob": "^4.0.1"
            },
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/fast-glob/node_modules/is-number": {
            "version": "7.0.0",
            "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
            "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.12.0"
            }
        },
        "node_modules/fast-glob/node_modules/micromatch": {
            "version": "4.0.8",
            "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
            "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "braces": "^3.0.3",
                "picomatch": "^2.3.1"
            },
            "engines": {
                "node": ">=8.6"
            }
        },
        "node_modules/fast-glob/node_modules/picomatch": {
            "version": "2.3.1",
            "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
            "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8.6"
            },
            "funding": {
                "url": "https://github.com/sponsors/jonschlinkert"
            }
        },
        "node_modules/fast-glob/node_modules/to-regex-range": {
            "version": "5.0.1",
            "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
            "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-number": "^7.0.0"
            },
            "engines": {
                "node": ">=8.0"
            }
        },
        "node_modules/fast-json-stable-stringify": {
            "version": "2.1.0",
            "resolved": "https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz",
            "integrity": "sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/fast-levenshtein": {
            "version": "2.0.6",
            "resolved": "https://registry.npmjs.org/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz",
            "integrity": "sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/fastq": {
            "version": "1.19.1",
            "resolved": "https://registry.npmjs.org/fastq/-/fastq-1.19.1.tgz",
            "integrity": "sha512-GwLTyxkCXjXbxqIhTsMI2Nui8huMPtnxg7krajPJAjnEG/iiOS7i+zCtWGZR9G0NBKbXKh6X9m9UIsYX/N6vvQ==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "reusify": "^1.0.4"
            }
        },
        "node_modules/faye-websocket": {
            "version": "0.11.4",
            "resolved": "https://registry.npmjs.org/faye-websocket/-/faye-websocket-0.11.4.tgz",
            "integrity": "sha512-CzbClwlXAuiRQAlUyfqPgvPoNKTckTPGfwZV4ZdAhVcP2lh9KUxJg2b5GkE7XbjKQ3YJnQ9z6D9ntLAlB+tP8g==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "websocket-driver": ">=0.5.1"
            },
            "engines": {
                "node": ">=0.8.0"
            }
        },
        "node_modules/fd-slicer": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/fd-slicer/-/fd-slicer-1.1.0.tgz",
            "integrity": "sha512-cE1qsB/VwyQozZ+q1dGxR8LBYNZeofhEdUNGSMbQD3Gw2lAzX9Zb3uIU6Ebc/Fmyjo9AWWfnn0AUCHqtevs/8g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "pend": "~1.2.0"
            }
        },
        "node_modules/fdir": {
            "version": "6.5.0",
            "resolved": "https://registry.npmjs.org/fdir/-/fdir-6.5.0.tgz",
            "integrity": "sha512-tIbYtZbucOs0BRGqPJkshJUYdL+SDH7dVM8gjy+ERp3WAUjLEFJE+02kanyHtwjWOnwrKYBiwAmM0p4kLJAnXg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=12.0.0"
            },
            "peerDependencies": {
                "picomatch": "^3 || ^4"
            },
            "peerDependenciesMeta": {
                "picomatch": {
                    "optional": true
                }
            }
        },
        "node_modules/file-entry-cache": {
            "version": "6.0.1",
            "resolved": "https://registry.npmjs.org/file-entry-cache/-/file-entry-cache-6.0.1.tgz",
            "integrity": "sha512-7Gps/XWymbLk2QLYK4NzpMOrYjMhdIxXuIvy2QBsLE6ljuodKvdkWs/cpyJJ3CVIVpH0Oi1Hvg1ovbMzLdFBBg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "flat-cache": "^3.0.4"
            },
            "engines": {
                "node": "^10.12.0 || >=12.0.0"
            }
        },
        "node_modules/file-uri-to-path": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/file-uri-to-path/-/file-uri-to-path-1.0.0.tgz",
            "integrity": "sha512-0Zt+s3L7Vf1biwWZ29aARiVYLx7iMGnEUl9x33fbB/j3jR81u/O2LbqK+Bm1CDSNDKVtJ/YjwY7TUd5SkeLQLw==",
            "dev": true,
            "license": "MIT",
            "optional": true
        },
        "node_modules/fill-range": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-4.0.0.tgz",
            "integrity": "sha512-VcpLTWqWDiTerugjj8e3+esbg+skS3M9e54UuR3iCeIDMXCLTsAH8hTSzDQU/X6/6t3eYkOKoZSef2PlU6U1XQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "extend-shallow": "^2.0.1",
                "is-number": "^3.0.0",
                "repeat-string": "^1.6.1",
                "to-regex-range": "^2.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/finalhandler": {
            "version": "1.1.2",
            "resolved": "https://registry.npmjs.org/finalhandler/-/finalhandler-1.1.2.tgz",
            "integrity": "sha512-aAWcW57uxVNrQZqFXjITpW3sIUQmHGG3qSb9mUah9MgMC4NeWhNOlNjXEYq3HjRAvL6arUviZGGJsBg6z0zsWA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "debug": "2.6.9",
                "encodeurl": "~1.0.2",
                "escape-html": "~1.0.3",
                "on-finished": "~2.3.0",
                "parseurl": "~1.3.3",
                "statuses": "~1.5.0",
                "unpipe": "~1.0.0"
            },
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/finalhandler/node_modules/debug": {
            "version": "2.6.9",
            "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
            "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "2.0.0"
            }
        },
        "node_modules/finalhandler/node_modules/ms": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
            "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/find-up": {
            "version": "5.0.0",
            "resolved": "https://registry.npmjs.org/find-up/-/find-up-5.0.0.tgz",
            "integrity": "sha512-78/PXT1wlLLDgTzDs7sjq9hzz0vXD+zn+7wypEe4fXQxCmdmqfGsEPQxmiCSQI3ajFV91bVSsvNtrJRiW6nGng==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "locate-path": "^6.0.0",
                "path-exists": "^4.0.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/flat-cache": {
            "version": "3.2.0",
            "resolved": "https://registry.npmjs.org/flat-cache/-/flat-cache-3.2.0.tgz",
            "integrity": "sha512-CYcENa+FtcUKLmhhqyctpclsq7QF38pKjZHsGNiSQF5r4FtoKDWabFDl3hzaEQMvT1LHEysw5twgLvpYYb4vbw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "flatted": "^3.2.9",
                "keyv": "^4.5.3",
                "rimraf": "^3.0.2"
            },
            "engines": {
                "node": "^10.12.0 || >=12.0.0"
            }
        },
        "node_modules/flatted": {
            "version": "3.3.3",
            "resolved": "https://registry.npmjs.org/flatted/-/flatted-3.3.3.tgz",
            "integrity": "sha512-GX+ysw4PBCz0PzosHDepZGANEuFCMLrnRTiEy9McGjmkCQYwRq4A/X786G/fjM/+OjsWSU1ZrY5qyARZmO/uwg==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/for-in": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/for-in/-/for-in-1.0.2.tgz",
            "integrity": "sha512-7EwmXrOjyL+ChxMhmG5lnW9MPt1aIeZEwKhQzoBUdTV0N3zuwWDZYVJatDvZ2OyzPUvdIAZDsCetk3coyMfcnQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/fraction.js": {
            "version": "5.3.4",
            "resolved": "https://registry.npmjs.org/fraction.js/-/fraction.js-5.3.4.tgz",
            "integrity": "sha512-1X1NTtiJphryn/uLQz3whtY6jK3fTqoE3ohKs0tT+Ujr1W59oopxmoEh7Lu5p6vBaPbgoM0bzveAW4Qi5RyWDQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": "*"
            },
            "funding": {
                "type": "github",
                "url": "https://github.com/sponsors/rawify"
            }
        },
        "node_modules/fragment-cache": {
            "version": "0.2.1",
            "resolved": "https://registry.npmjs.org/fragment-cache/-/fragment-cache-0.2.1.tgz",
            "integrity": "sha512-GMBAbW9antB8iZRHLoGw0b3HANt57diZYFO/HL1JGIC1MjKrdmhxvrJbupnVvpys0zsz7yBApXdQyfepKly2kA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "map-cache": "^0.2.2"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/fresh": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/fresh/-/fresh-2.0.0.tgz",
            "integrity": "sha512-Rx/WycZ60HOaqLKAi6cHRKKI7zxWbJ31MhntmtwMoaTeF7XFH9hhBp8vITaMidfljRQ6eYWCKkaTK+ykVJHP2A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/from": {
            "version": "0.1.7",
            "resolved": "https://registry.npmjs.org/from/-/from-0.1.7.tgz",
            "integrity": "sha512-twe20eF1OxVxp/ML/kq2p1uc6KvFK/+vs8WjEbeKmV2He22MKm7YF2ANIt+EOqhJ5L3K/SuuPhk0hWQDjOM23g==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/fs-extra": {
            "version": "11.3.2",
            "resolved": "https://registry.npmjs.org/fs-extra/-/fs-extra-11.3.2.tgz",
            "integrity": "sha512-Xr9F6z6up6Ws+NjzMCZc6WXg2YFRlrLP9NQDO3VQrWrfiojdhS56TzueT88ze0uBdCTwEIhQ3ptnmKeWGFAe0A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "graceful-fs": "^4.2.0",
                "jsonfile": "^6.0.1",
                "universalify": "^2.0.0"
            },
            "engines": {
                "node": ">=14.14"
            }
        },
        "node_modules/fs.realpath": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/fs.realpath/-/fs.realpath-1.0.0.tgz",
            "integrity": "sha512-OO0pH2lK6a0hZnAdau5ItzHPI6pUlvI7jMVnxUQRtw4owF2wk8lOSabtGDCTP4Ggrg2MbGnWO9X8K1t4+fGMDw==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/fsevents": {
            "version": "2.3.3",
            "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
            "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
            "dev": true,
            "hasInstallScript": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
            }
        },
        "node_modules/function-bind": {
            "version": "1.1.2",
            "resolved": "https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz",
            "integrity": "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==",
            "dev": true,
            "license": "MIT",
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/get-caller-file": {
            "version": "2.0.5",
            "resolved": "https://registry.npmjs.org/get-caller-file/-/get-caller-file-2.0.5.tgz",
            "integrity": "sha512-DyFP3BM/3YHTQOCUL/w0OZHR0lpKeGrxotcHWcqNEdnltqFwXVfhEBQ94eIo34AfQpo0rGki4cyIiftY06h2Fg==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": "6.* || 8.* || >= 10.*"
            }
        },
        "node_modules/get-stream": {
            "version": "5.2.0",
            "resolved": "https://registry.npmjs.org/get-stream/-/get-stream-5.2.0.tgz",
            "integrity": "sha512-nBF+F1rAZVCu/p7rjzgA+Yb4lfYXrpl7a6VmJrU8wF9I1CKvP/QwPNZHnOlwbTkY6dvtFIzFMSyQXbLoTQPRpA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "pump": "^3.0.0"
            },
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/get-uri": {
            "version": "6.0.5",
            "resolved": "https://registry.npmjs.org/get-uri/-/get-uri-6.0.5.tgz",
            "integrity": "sha512-b1O07XYq8eRuVzBNgJLstU6FYc1tS6wnMtF1I1D9lE8LxZSOGZ7LhxN54yPP6mGw5f2CkXY2BQUL9Fx41qvcIg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "basic-ftp": "^5.0.2",
                "data-uri-to-buffer": "^6.0.2",
                "debug": "^4.3.4"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/get-value": {
            "version": "2.0.6",
            "resolved": "https://registry.npmjs.org/get-value/-/get-value-2.0.6.tgz",
            "integrity": "sha512-Ln0UQDlxH1BapMu3GPtf7CuYNwRZf2gwCuPqbyG6pB8WfmFpzqcy4xtAaAMUhnNqjMKTiCPZG2oMT3YSx8U2NA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/glob": {
            "version": "9.3.5",
            "resolved": "https://registry.npmjs.org/glob/-/glob-9.3.5.tgz",
            "integrity": "sha512-e1LleDykUz2Iu+MTYdkSsuWX8lvAjAcs0Xef0lNIu0S2wOAzuTxCJtcd9S3cijlwYF18EsU3rzb8jPVobxDh9Q==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "fs.realpath": "^1.0.0",
                "minimatch": "^8.0.2",
                "minipass": "^4.2.4",
                "path-scurry": "^1.6.1"
            },
            "engines": {
                "node": ">=16 || 14 >=14.17"
            },
            "funding": {
                "url": "https://github.com/sponsors/isaacs"
            }
        },
        "node_modules/glob-parent": {
            "version": "6.0.2",
            "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz",
            "integrity": "sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "is-glob": "^4.0.3"
            },
            "engines": {
                "node": ">=10.13.0"
            }
        },
        "node_modules/glob-to-regexp": {
            "version": "0.4.1",
            "resolved": "https://registry.npmjs.org/glob-to-regexp/-/glob-to-regexp-0.4.1.tgz",
            "integrity": "sha512-lkX1HJXwyMcprw/5YUZc2s7DrpAiHB21/V+E1rHUrVNokkvB6bqMzT0VfV6/86ZNabt1k14YOIaT7nDvOX3Iiw==",
            "dev": true,
            "license": "BSD-2-Clause"
        },
        "node_modules/glob/node_modules/brace-expansion": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
            "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "balanced-match": "^1.0.0"
            }
        },
        "node_modules/glob/node_modules/minimatch": {
            "version": "8.0.4",
            "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-8.0.4.tgz",
            "integrity": "sha512-W0Wvr9HyFXZRGIDgCicunpQ299OKXs9RgZfaukz4qAW/pJhcpUfupc9c+OObPOFueNy8VSrZgEmDtk6Kh4WzDA==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "brace-expansion": "^2.0.1"
            },
            "engines": {
                "node": ">=16 || 14 >=14.17"
            },
            "funding": {
                "url": "https://github.com/sponsors/isaacs"
            }
        },
        "node_modules/globals": {
            "version": "13.24.0",
            "resolved": "https://registry.npmjs.org/globals/-/globals-13.24.0.tgz",
            "integrity": "sha512-AhO5QUcj8llrbG09iWhPU2B204J1xnPeL8kQmVorSsy+Sjj1sk8gIyh6cUocGmH4L0UuhAJy+hJMRA4mgA4mFQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "type-fest": "^0.20.2"
            },
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/graceful-fs": {
            "version": "4.2.11",
            "resolved": "https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz",
            "integrity": "sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/graphemer": {
            "version": "1.4.0",
            "resolved": "https://registry.npmjs.org/graphemer/-/graphemer-1.4.0.tgz",
            "integrity": "sha512-EtKwoO6kxCL9WO5xipiHTZlSzBm7WLT627TqC/uVRd0HKmq8NXyebnNYxDoBi7wt8eTWrUrKXCOVaFq9x1kgag==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/has-flag": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz",
            "integrity": "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/has-value": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/has-value/-/has-value-1.0.0.tgz",
            "integrity": "sha512-IBXk4GTsLYdQ7Rvt+GRBrFSVEkmuOUy4re0Xjd9kJSUQpnTrWR4/y9RpfexN9vkAPMFuQoeWKwqzPozRTlasGw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "get-value": "^2.0.6",
                "has-values": "^1.0.0",
                "isobject": "^3.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/has-values": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/has-values/-/has-values-1.0.0.tgz",
            "integrity": "sha512-ODYZC64uqzmtfGMEAX/FvZiRyWLpAC3vYnNunURUnkGVTS+mI0smVsWaPydRBsE3g+ok7h960jChO8mFcWlHaQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-number": "^3.0.0",
                "kind-of": "^4.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/has-values/node_modules/kind-of": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/kind-of/-/kind-of-4.0.0.tgz",
            "integrity": "sha512-24XsCxmEbRwEDbz/qz3stgin8TTzZ1ESR56OMCN0ujYg+vRutNSiOj9bHH9u85DKgXguraugV5sFuvbD4FW/hw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-buffer": "^1.1.5"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/hasown": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz",
            "integrity": "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "function-bind": "^1.1.2"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/htmlhint": {
            "version": "1.8.0",
            "resolved": "https://registry.npmjs.org/htmlhint/-/htmlhint-1.8.0.tgz",
            "integrity": "sha512-RT1UsSM3ldlVQ7DDqWnbbRY1Rf6wwudmdYwiJzIyZVapA0jcka5r2lE2RkMLzTDN5c8Vc06yis57TaTpZ6o3Dg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "async": "3.2.6",
                "chalk": "4.1.2",
                "commander": "11.1.0",
                "glob": "^9.0.0",
                "is-glob": "^4.0.3",
                "node-sarif-builder": "^3.3.1",
                "strip-json-comments": "3.1.1",
                "xml": "1.0.1"
            },
            "bin": {
                "htmlhint": "bin/htmlhint"
            },
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "type": "Open Collective",
                "url": "https://opencollective.com/htmlhint"
            }
        },
        "node_modules/http-auth": {
            "version": "3.1.3",
            "resolved": "https://registry.npmjs.org/http-auth/-/http-auth-3.1.3.tgz",
            "integrity": "sha512-Jbx0+ejo2IOx+cRUYAGS1z6RGc6JfYUNkysZM4u4Sfk1uLlGv814F7/PIjQQAuThLdAWxb74JMGd5J8zex1VQg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "apache-crypt": "^1.1.2",
                "apache-md5": "^1.0.6",
                "bcryptjs": "^2.3.0",
                "uuid": "^3.0.0"
            },
            "engines": {
                "node": ">=4.6.1"
            }
        },
        "node_modules/http-errors": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/http-errors/-/http-errors-2.0.1.tgz",
            "integrity": "sha512-4FbRdAX+bSdmo4AUFuS0WNiPz8NgFt+r8ThgNWmlrjQjt1Q7ZR9+zTlce2859x4KSXrwIsaeTqDoKQmtP8pLmQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "depd": "~2.0.0",
                "inherits": "~2.0.4",
                "setprototypeof": "~1.2.0",
                "statuses": "~2.0.2",
                "toidentifier": "~1.0.1"
            },
            "engines": {
                "node": ">= 0.8"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/express"
            }
        },
        "node_modules/http-errors/node_modules/statuses": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/statuses/-/statuses-2.0.2.tgz",
            "integrity": "sha512-DvEy55V3DB7uknRo+4iOGT5fP1slR8wQohVdknigZPMpMstaKJQWhwiYBACJE3Ul2pTnATihhBYnRhZQHGBiRw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/http-parser-js": {
            "version": "0.5.10",
            "resolved": "https://registry.npmjs.org/http-parser-js/-/http-parser-js-0.5.10.tgz",
            "integrity": "sha512-Pysuw9XpUq5dVc/2SMHpuTY01RFl8fttgcyunjL7eEMhGM3cI4eOmiCycJDVCo/7O7ClfQD3SaI6ftDzqOXYMA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/http-proxy-agent": {
            "version": "7.0.2",
            "resolved": "https://registry.npmjs.org/http-proxy-agent/-/http-proxy-agent-7.0.2.tgz",
            "integrity": "sha512-T1gkAiYYDWYx3V5Bmyu7HcfcvL7mUrTWiM6yOfa3PIphViJ/gFPbvidQ+veqSOHci/PxBcDabeUNCzpOODJZig==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "agent-base": "^7.1.0",
                "debug": "^4.3.4"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/https-proxy-agent": {
            "version": "7.0.6",
            "resolved": "https://registry.npmjs.org/https-proxy-agent/-/https-proxy-agent-7.0.6.tgz",
            "integrity": "sha512-vK9P5/iUfdl95AI+JVyUuIcVtd4ofvtrOr3HNtM2yxC9bnMbEdp3x01OhQNnjb8IJYi38VlTE3mBXwcfvywuSw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "agent-base": "^7.1.2",
                "debug": "4"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/ieee754": {
            "version": "1.2.1",
            "resolved": "https://registry.npmjs.org/ieee754/-/ieee754-1.2.1.tgz",
            "integrity": "sha512-dcyqhDvX1C46lXZcVqCpK+FtMRQVdIMN6/Df5js2zouUsqG7I6sFxitIC+7KYK29KdXOLHdu9zL4sFnoVQnqaA==",
            "dev": true,
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/feross"
                },
                {
                    "type": "patreon",
                    "url": "https://www.patreon.com/feross"
                },
                {
                    "type": "consulting",
                    "url": "https://feross.org/support"
                }
            ],
            "license": "BSD-3-Clause"
        },
        "node_modules/ignore": {
            "version": "5.3.2",
            "resolved": "https://registry.npmjs.org/ignore/-/ignore-5.3.2.tgz",
            "integrity": "sha512-hsBTNUqQTDwkWtcdYI2i06Y/nUBEsNEDJKjWdigLvegy8kDuJAS8uRlpkkcQpyEXL0Z/pjDy5HBmMjRCJ2gq+g==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 4"
            }
        },
        "node_modules/import-fresh": {
            "version": "3.3.1",
            "resolved": "https://registry.npmjs.org/import-fresh/-/import-fresh-3.3.1.tgz",
            "integrity": "sha512-TR3KfrTZTYLPB6jUjfx6MF9WcWrHL9su5TObK4ZkYgBdWKPOFoSoQIdEuTuR82pmtxH2spWG9h6etwfr1pLBqQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "parent-module": "^1.0.0",
                "resolve-from": "^4.0.0"
            },
            "engines": {
                "node": ">=6"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/imurmurhash": {
            "version": "0.1.4",
            "resolved": "https://registry.npmjs.org/imurmurhash/-/imurmurhash-0.1.4.tgz",
            "integrity": "sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.8.19"
            }
        },
        "node_modules/inflight": {
            "version": "1.0.6",
            "resolved": "https://registry.npmjs.org/inflight/-/inflight-1.0.6.tgz",
            "integrity": "sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==",
            "deprecated": "This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "once": "^1.3.0",
                "wrappy": "1"
            }
        },
        "node_modules/inherits": {
            "version": "2.0.4",
            "resolved": "https://registry.npmjs.org/inherits/-/inherits-2.0.4.tgz",
            "integrity": "sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/ip-address": {
            "version": "10.1.0",
            "resolved": "https://registry.npmjs.org/ip-address/-/ip-address-10.1.0.tgz",
            "integrity": "sha512-XXADHxXmvT9+CRxhXg56LJovE+bmWnEWB78LB83VZTprKTmaC5QfruXocxzTZ2Kl0DNwKuBdlIhjL8LeY8Sf8Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 12"
            }
        },
        "node_modules/is-accessor-descriptor": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-accessor-descriptor/-/is-accessor-descriptor-1.0.1.tgz",
            "integrity": "sha512-YBUanLI8Yoihw923YeFUS5fs0fF2f5TSFTNiYAAzhhDscDa3lEqYuz1pDOEP5KvX94I9ey3vsqjJcLVFVU+3QA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "hasown": "^2.0.0"
            },
            "engines": {
                "node": ">= 0.10"
            }
        },
        "node_modules/is-arrayish": {
            "version": "0.3.4",
            "resolved": "https://registry.npmjs.org/is-arrayish/-/is-arrayish-0.3.4.tgz",
            "integrity": "sha512-m6UrgzFVUYawGBh1dUsWR5M2Clqic9RVXC/9f8ceNlv2IcO9j9J/z8UoCLPqtsPBFNzEpfR3xftohbfqDx8EQA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/is-binary-path": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-binary-path/-/is-binary-path-1.0.1.tgz",
            "integrity": "sha512-9fRVlXc0uCxEDj1nQzaWONSpbTfx0FmJfzHF7pwlI8DkWGoHBBea4Pg5Ky0ojwwxQmnSifgbKkI06Qv0Ljgj+Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "binary-extensions": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-buffer": {
            "version": "1.1.6",
            "resolved": "https://registry.npmjs.org/is-buffer/-/is-buffer-1.1.6.tgz",
            "integrity": "sha512-NcdALwpXkTm5Zvvbk7owOUSvVvBKDgKP5/ewfXEznmQFfs4ZRmanOeKBTjRVjka3QFoN6XJ+9F3USqfHqTaU5w==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/is-core-module": {
            "version": "2.16.1",
            "resolved": "https://registry.npmjs.org/is-core-module/-/is-core-module-2.16.1.tgz",
            "integrity": "sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "hasown": "^2.0.2"
            },
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/is-data-descriptor": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-data-descriptor/-/is-data-descriptor-1.0.1.tgz",
            "integrity": "sha512-bc4NlCDiCr28U4aEsQ3Qs2491gVq4V8G7MQyws968ImqjKuYtTJXrl7Vq7jsN7Ly/C3xj5KWFrY7sHNeDkAzXw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "hasown": "^2.0.0"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/is-descriptor": {
            "version": "1.0.3",
            "resolved": "https://registry.npmjs.org/is-descriptor/-/is-descriptor-1.0.3.tgz",
            "integrity": "sha512-JCNNGbwWZEVaSPtS45mdtrneRWJFp07LLmykxeFV5F6oBvNF8vHSfJuJgoT472pSfk+Mf8VnlrspaFBHWM8JAw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-accessor-descriptor": "^1.0.1",
                "is-data-descriptor": "^1.0.1"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/is-extendable": {
            "version": "0.1.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-0.1.1.tgz",
            "integrity": "sha512-5BMULNob1vgFX6EjQw5izWDxrecWK9AM72rugNr0TFldMOi0fj6Jk+zeKIt0xGj4cEfQIJth4w3OKWOJ4f+AFw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-extglob": {
            "version": "2.1.1",
            "resolved": "https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz",
            "integrity": "sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-fullwidth-code-point": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
            "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/is-glob": {
            "version": "4.0.3",
            "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz",
            "integrity": "sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-extglob": "^2.1.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-number": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/is-number/-/is-number-3.0.0.tgz",
            "integrity": "sha512-4cboCqIpliH+mAvFNegjZQ4kgKc3ZUhQVr3HvWbSh5q3WH2v82ct+T2Y1hdU5Gdtorx/cLifQjqCbL7bpznLTg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "kind-of": "^3.0.2"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-path-inside": {
            "version": "3.0.3",
            "resolved": "https://registry.npmjs.org/is-path-inside/-/is-path-inside-3.0.3.tgz",
            "integrity": "sha512-Fd4gABb+ycGAmKou8eMftCupSir5lRxqf4aD/vd0cD2qc4HL07OjCeuHMr8Ro4CoMaeCKDB0/ECBOVWjTwUvPQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/is-plain-object": {
            "version": "2.0.4",
            "resolved": "https://registry.npmjs.org/is-plain-object/-/is-plain-object-2.0.4.tgz",
            "integrity": "sha512-h5PpgXkWitc38BBMYawTYMWJHFZJVnBquFE57xFpjB8pJFiF6gZ+bU+WyI/yqXiFR5mdLsgYNaPe8uao6Uv9Og==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "isobject": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-windows": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/is-windows/-/is-windows-1.0.2.tgz",
            "integrity": "sha512-eXK1UInq2bPmjyX6e3VHIzMLobc4J94i4AWn+Hpq3OU5KkrRC96OAcR3PRJ/pGu6m8TRnBHP9dkXQVsT/COVIA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/is-wsl": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/is-wsl/-/is-wsl-1.1.0.tgz",
            "integrity": "sha512-gfygJYZ2gLTDlmbWMI0CE2MwnFzSN/2SZfkMlItC4K/JBlsWVDB0bO6XhqcY13YXE7iMcAJnzTCJjPiTeJJ0Mw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=4"
            }
        },
        "node_modules/isarray": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/isarray/-/isarray-1.0.0.tgz",
            "integrity": "sha512-VLghIWNM6ELQzo7zwmcg0NmTVyWKYjvIeM83yjp0wRDTmUnrM678fQbcKBo6n2CJEF0szoG//ytg+TKla89ALQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/isexe": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
            "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/isobject": {
            "version": "3.0.1",
            "resolved": "https://registry.npmjs.org/isobject/-/isobject-3.0.1.tgz",
            "integrity": "sha512-WhB9zCku7EGTj/HQQRz5aUQEUeoQZH2bWcltRErOpymJ4boYE6wL9Tbr23krRPSZ+C5zqNSrSw+Cc7sZZ4b7vg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/jiti": {
            "version": "1.21.7",
            "resolved": "https://registry.npmjs.org/jiti/-/jiti-1.21.7.tgz",
            "integrity": "sha512-/imKNG4EbWNrVjoNC/1H5/9GFy+tqjGBHCaSsN+P2RnPqjsLmv6UD3Ej+Kj8nBWaRAwyk7kK5ZUc+OEatnTR3A==",
            "dev": true,
            "license": "MIT",
            "peer": true,
            "bin": {
                "jiti": "bin/jiti.js"
            }
        },
        "node_modules/js-tokens": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
            "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/js-yaml": {
            "version": "4.1.1",
            "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-4.1.1.tgz",
            "integrity": "sha512-qQKT4zQxXl8lLwBtHMWwaTcGfFOZviOJet3Oy/xmGk2gZH677CJM9EvtfdSkgWcATZhj/55JZ0rmy3myCT5lsA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "argparse": "^2.0.1"
            },
            "bin": {
                "js-yaml": "bin/js-yaml.js"
            }
        },
        "node_modules/json-buffer": {
            "version": "3.0.1",
            "resolved": "https://registry.npmjs.org/json-buffer/-/json-buffer-3.0.1.tgz",
            "integrity": "sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/json-parse-even-better-errors": {
            "version": "2.3.1",
            "resolved": "https://registry.npmjs.org/json-parse-even-better-errors/-/json-parse-even-better-errors-2.3.1.tgz",
            "integrity": "sha512-xyFwyhro/JEof6Ghe2iz2NcXoj2sloNsWr/XsERDK/oiPCfaNhl5ONfp+jQdAZRQQ0IJWNzH9zIZF7li91kh2w==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/json-schema-traverse": {
            "version": "0.4.1",
            "resolved": "https://registry.npmjs.org/json-schema-traverse/-/json-schema-traverse-0.4.1.tgz",
            "integrity": "sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/json-stable-stringify-without-jsonify": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/json-stable-stringify-without-jsonify/-/json-stable-stringify-without-jsonify-1.0.1.tgz",
            "integrity": "sha512-Bdboy+l7tA3OGW6FjyFHWkP5LuByj1Tk33Ljyq0axyzdk9//JSi2u3fP1QSmd1KNwq6VOKYGlAu87CisVir6Pw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/jsonfile": {
            "version": "6.2.0",
            "resolved": "https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz",
            "integrity": "sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "universalify": "^2.0.0"
            },
            "optionalDependencies": {
                "graceful-fs": "^4.1.6"
            }
        },
        "node_modules/keyv": {
            "version": "4.5.4",
            "resolved": "https://registry.npmjs.org/keyv/-/keyv-4.5.4.tgz",
            "integrity": "sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "json-buffer": "3.0.1"
            }
        },
        "node_modules/kind-of": {
            "version": "3.2.2",
            "resolved": "https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz",
            "integrity": "sha512-NOW9QQXMoZGg/oqnVNoNTTIFEIid1627WCffUBJEdMxYApq7mNE7CpzucIPc+ZQg25Phej7IJSmX3hO+oblOtQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-buffer": "^1.1.5"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/kleur": {
            "version": "4.1.5",
            "resolved": "https://registry.npmjs.org/kleur/-/kleur-4.1.5.tgz",
            "integrity": "sha512-o+NO+8WrRiQEE4/7nwRJhN1HWpVmJm511pBHUxPLtp0BUISzlBplORYSmTclCnJvQq2tKu/sgl3xVpkc7ZWuQQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/levn": {
            "version": "0.4.1",
            "resolved": "https://registry.npmjs.org/levn/-/levn-0.4.1.tgz",
            "integrity": "sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "prelude-ls": "^1.2.1",
                "type-check": "~0.4.0"
            },
            "engines": {
                "node": ">= 0.8.0"
            }
        },
        "node_modules/lilconfig": {
            "version": "3.1.3",
            "resolved": "https://registry.npmjs.org/lilconfig/-/lilconfig-3.1.3.tgz",
            "integrity": "sha512-/vlFKAoH5Cgt3Ie+JLhRbwOsCQePABiU3tJ1egGvyQ+33R/vcwM2Zl2QR/LzjsBeItPt3oSVXapn+m4nQDvpzw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=14"
            },
            "funding": {
                "url": "https://github.com/sponsors/antonk52"
            }
        },
        "node_modules/lines-and-columns": {
            "version": "1.2.4",
            "resolved": "https://registry.npmjs.org/lines-and-columns/-/lines-and-columns-1.2.4.tgz",
            "integrity": "sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/live-server": {
            "version": "1.2.2",
            "resolved": "https://registry.npmjs.org/live-server/-/live-server-1.2.2.tgz",
            "integrity": "sha512-t28HXLjITRGoMSrCOv4eZ88viHaBVIjKjdI5PO92Vxlu+twbk6aE0t7dVIaz6ZWkjPilYFV6OSdMYl9ybN2B4w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "chokidar": "^2.0.4",
                "colors": "1.4.0",
                "connect": "^3.6.6",
                "cors": "latest",
                "event-stream": "3.3.4",
                "faye-websocket": "0.11.x",
                "http-auth": "3.1.x",
                "morgan": "^1.9.1",
                "object-assign": "latest",
                "opn": "latest",
                "proxy-middleware": "latest",
                "send": "latest",
                "serve-index": "^1.9.1"
            },
            "bin": {
                "live-server": "live-server.js"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/locate-path": {
            "version": "6.0.0",
            "resolved": "https://registry.npmjs.org/locate-path/-/locate-path-6.0.0.tgz",
            "integrity": "sha512-iPZK6eYjbxRu3uB4/WZ3EsEIMJFMqAoopl3R+zuq0UjcAm/MO6KCweDgPfP3elTztoKP3KtnVHxTn2NHBSDVUw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "p-locate": "^5.0.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/lodash": {
            "version": "4.17.21",
            "resolved": "https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz",
            "integrity": "sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/lodash.merge": {
            "version": "4.6.2",
            "resolved": "https://registry.npmjs.org/lodash.merge/-/lodash.merge-4.6.2.tgz",
            "integrity": "sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/lru-cache": {
            "version": "10.4.3",
            "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
            "integrity": "sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/map-cache": {
            "version": "0.2.2",
            "resolved": "https://registry.npmjs.org/map-cache/-/map-cache-0.2.2.tgz",
            "integrity": "sha512-8y/eV9QQZCiyn1SprXSrCmqJN0yNRATe+PO8ztwqrvrbdRLA3eYJF0yaR0YayLWkMbsQSKWS9N2gPcGEc4UsZg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/map-stream": {
            "version": "0.1.0",
            "resolved": "https://registry.npmjs.org/map-stream/-/map-stream-0.1.0.tgz",
            "integrity": "sha512-CkYQrPYZfWnu/DAmVCpTSX/xHpKZ80eKh2lAkyA6AJTef6bW+6JpbQZN5rofum7da+SyN1bi5ctTm+lTfcCW3g==",
            "dev": true
        },
        "node_modules/map-visit": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/map-visit/-/map-visit-1.0.0.tgz",
            "integrity": "sha512-4y7uGv8bd2WdM9vpQsiQNo41Ln1NvhvDRuVt0k2JZQ+ezN2uaQes7lZeZ+QQUHOLQAtDaBJ+7wCbi+ab/KFs+w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "object-visit": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/merge2": {
            "version": "1.4.1",
            "resolved": "https://registry.npmjs.org/merge2/-/merge2-1.4.1.tgz",
            "integrity": "sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/micro-packed": {
            "version": "0.7.3",
            "resolved": "https://registry.npmjs.org/micro-packed/-/micro-packed-0.7.3.tgz",
            "integrity": "sha512-2Milxs+WNC00TRlem41oRswvw31146GiSaoCT7s3Xi2gMUglW5QBeqlQaZeHr5tJx9nm3i57LNXPqxOOaWtTYg==",
            "license": "MIT",
            "dependencies": {
                "@scure/base": "~1.2.5"
            },
            "funding": {
                "url": "https://paulmillr.com/funding/"
            }
        },
        "node_modules/micromatch": {
            "version": "3.1.10",
            "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-3.1.10.tgz",
            "integrity": "sha512-MWikgl9n9M3w+bpsY3He8L+w9eF9338xRl8IAO5viDizwSzziFEyUzo2xrrloB64ADbTf8uA8vRqqttDTOmccg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "arr-diff": "^4.0.0",
                "array-unique": "^0.3.2",
                "braces": "^2.3.1",
                "define-property": "^2.0.2",
                "extend-shallow": "^3.0.2",
                "extglob": "^2.0.4",
                "fragment-cache": "^0.2.1",
                "kind-of": "^6.0.2",
                "nanomatch": "^1.2.9",
                "object.pick": "^1.3.0",
                "regex-not": "^1.0.0",
                "snapdragon": "^0.8.1",
                "to-regex": "^3.0.2"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/micromatch/node_modules/extend-shallow": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-3.0.2.tgz",
            "integrity": "sha512-BwY5b5Ql4+qZoefgMj2NUmx+tehVTH/Kf4k1ZEtOHNFcm2wSxMRo992l6X3TIgni2eZVTZ85xMOjF31fwZAj6Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "assign-symbols": "^1.0.0",
                "is-extendable": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/micromatch/node_modules/is-extendable": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz",
            "integrity": "sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-plain-object": "^2.0.4"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/micromatch/node_modules/kind-of": {
            "version": "6.0.3",
            "resolved": "https://registry.npmjs.org/kind-of/-/kind-of-6.0.3.tgz",
            "integrity": "sha512-dcS1ul+9tmeD95T+x28/ehLgd9mENa3LsvDTtzm3vyBEO7RPptvAD+t44WVXaUjTBRcrpFeFlC8WCruUR456hw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/mime": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/mime/-/mime-3.0.0.tgz",
            "integrity": "sha512-jSCU7/VB1loIWBZe14aEYHU/+1UMEHoaO7qxCOVJOw9GgH72VAWppxNcjU+x9a2k3GSIBXNKxXQFqRvvZ7vr3A==",
            "dev": true,
            "license": "MIT",
            "bin": {
                "mime": "cli.js"
            },
            "engines": {
                "node": ">=10.0.0"
            }
        },
        "node_modules/mime-db": {
            "version": "1.54.0",
            "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.54.0.tgz",
            "integrity": "sha512-aU5EJuIN2WDemCcAp2vFBfp/m4EAhWJnUNSSw0ixs7/kXbd6Pg64EmwJkNdFhB8aWt1sH2CTXrLxo/iAGV3oPQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/mime-types": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-3.0.2.tgz",
            "integrity": "sha512-Lbgzdk0h4juoQ9fCKXW4by0UJqj+nOOrI9MJ1sSj4nI8aI2eo1qmvQEie4VD1glsS250n15LsWsYtCugiStS5A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "mime-db": "^1.54.0"
            },
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/express"
            }
        },
        "node_modules/miniflare": {
            "version": "4.20251210.0",
            "resolved": "https://registry.npmjs.org/miniflare/-/miniflare-4.20251210.0.tgz",
            "integrity": "sha512-k6kIoXwGVqlPZb0hcn+X7BmnK+8BjIIkusQPY22kCo2RaQJ/LzAjtxHQdGXerlHSnJyQivDQsL6BJHMpQfUFyw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@cspotcode/source-map-support": "0.8.1",
                "acorn": "8.14.0",
                "acorn-walk": "8.3.2",
                "exit-hook": "2.2.1",
                "glob-to-regexp": "0.4.1",
                "sharp": "^0.33.5",
                "stoppable": "1.1.0",
                "undici": "7.14.0",
                "workerd": "1.20251210.0",
                "ws": "8.18.0",
                "youch": "4.1.0-beta.10",
                "zod": "3.22.3"
            },
            "bin": {
                "miniflare": "bootstrap.js"
            },
            "engines": {
                "node": ">=18.0.0"
            }
        },
        "node_modules/minimatch": {
            "version": "3.1.2",
            "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz",
            "integrity": "sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "brace-expansion": "^1.1.7"
            },
            "engines": {
                "node": "*"
            }
        },
        "node_modules/minipass": {
            "version": "4.2.8",
            "resolved": "https://registry.npmjs.org/minipass/-/minipass-4.2.8.tgz",
            "integrity": "sha512-fNzuVyifolSLFL4NzpF+wEF4qrgqaaKX0haXPQEdQ7NKAN+WecoKMHV09YcuL/DHxrUsYQOK3MiuDf7Ip2OXfQ==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/mitt": {
            "version": "3.0.1",
            "resolved": "https://registry.npmjs.org/mitt/-/mitt-3.0.1.tgz",
            "integrity": "sha512-vKivATfr97l2/QBCYAkXYDbrIWPM2IIKEl7YPhjCvKlG3kE2gm+uBo6nEXK3M5/Ffh/FLpKExzOQ3JJoJGFKBw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/mixin-deep": {
            "version": "1.3.2",
            "resolved": "https://registry.npmjs.org/mixin-deep/-/mixin-deep-1.3.2.tgz",
            "integrity": "sha512-WRoDn//mXBiJ1H40rqa3vH0toePwSsGb45iInWlTySa+Uu4k3tYUSxa2v1KqAiLtvlrSzaExqS1gtk96A9zvEA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "for-in": "^1.0.2",
                "is-extendable": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/mixin-deep/node_modules/is-extendable": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz",
            "integrity": "sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-plain-object": "^2.0.4"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/morgan": {
            "version": "1.10.1",
            "resolved": "https://registry.npmjs.org/morgan/-/morgan-1.10.1.tgz",
            "integrity": "sha512-223dMRJtI/l25dJKWpgij2cMtywuG/WiUKXdvwfbhGKBhy1puASqXwFzmWZ7+K73vUPoR7SS2Qz2cI/g9MKw0A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "basic-auth": "~2.0.1",
                "debug": "2.6.9",
                "depd": "~2.0.0",
                "on-finished": "~2.3.0",
                "on-headers": "~1.1.0"
            },
            "engines": {
                "node": ">= 0.8.0"
            }
        },
        "node_modules/morgan/node_modules/debug": {
            "version": "2.6.9",
            "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
            "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "2.0.0"
            }
        },
        "node_modules/morgan/node_modules/ms": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
            "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/ms": {
            "version": "2.1.3",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
            "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/mz": {
            "version": "2.7.0",
            "resolved": "https://registry.npmjs.org/mz/-/mz-2.7.0.tgz",
            "integrity": "sha512-z81GNO7nnYMEhrGh9LeymoE4+Yr0Wn5McHIZMK5cfQCl+NDX08sCZgUc9/6MHni9IWuFLm1Z3HTCXu2z9fN62Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "any-promise": "^1.0.0",
                "object-assign": "^4.0.1",
                "thenify-all": "^1.0.0"
            }
        },
        "node_modules/nan": {
            "version": "2.24.0",
            "resolved": "https://registry.npmjs.org/nan/-/nan-2.24.0.tgz",
            "integrity": "sha512-Vpf9qnVW1RaDkoNKFUvfxqAbtI8ncb8OJlqZ9wwpXzWPEsvsB1nvdUi6oYrHIkQ1Y/tMDnr1h4nczS0VB9Xykg==",
            "dev": true,
            "license": "MIT",
            "optional": true
        },
        "node_modules/nanoid": {
            "version": "3.3.11",
            "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
            "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
            "dev": true,
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "bin": {
                "nanoid": "bin/nanoid.cjs"
            },
            "engines": {
                "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
            }
        },
        "node_modules/nanomatch": {
            "version": "1.2.13",
            "resolved": "https://registry.npmjs.org/nanomatch/-/nanomatch-1.2.13.tgz",
            "integrity": "sha512-fpoe2T0RbHwBTBUOftAfBPaDEi06ufaUai0mE6Yn1kacc3SnTErfb/h+X94VXzI64rKFHYImXSvdwGGCmwOqCA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "arr-diff": "^4.0.0",
                "array-unique": "^0.3.2",
                "define-property": "^2.0.2",
                "extend-shallow": "^3.0.2",
                "fragment-cache": "^0.2.1",
                "is-windows": "^1.0.2",
                "kind-of": "^6.0.2",
                "object.pick": "^1.3.0",
                "regex-not": "^1.0.0",
                "snapdragon": "^0.8.1",
                "to-regex": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/nanomatch/node_modules/extend-shallow": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-3.0.2.tgz",
            "integrity": "sha512-BwY5b5Ql4+qZoefgMj2NUmx+tehVTH/Kf4k1ZEtOHNFcm2wSxMRo992l6X3TIgni2eZVTZ85xMOjF31fwZAj6Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "assign-symbols": "^1.0.0",
                "is-extendable": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/nanomatch/node_modules/is-extendable": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz",
            "integrity": "sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-plain-object": "^2.0.4"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/nanomatch/node_modules/kind-of": {
            "version": "6.0.3",
            "resolved": "https://registry.npmjs.org/kind-of/-/kind-of-6.0.3.tgz",
            "integrity": "sha512-dcS1ul+9tmeD95T+x28/ehLgd9mENa3LsvDTtzm3vyBEO7RPptvAD+t44WVXaUjTBRcrpFeFlC8WCruUR456hw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/natural-compare": {
            "version": "1.4.0",
            "resolved": "https://registry.npmjs.org/natural-compare/-/natural-compare-1.4.0.tgz",
            "integrity": "sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/negotiator": {
            "version": "0.6.3",
            "resolved": "https://registry.npmjs.org/negotiator/-/negotiator-0.6.3.tgz",
            "integrity": "sha512-+EUsqGPLsM+j/zdChZjsnX51g4XrHFOIXwfnCVPGlQk/k5giakcKsuxCObBRu6DSm9opw/O6slWbJdghQM4bBg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/netmask": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/netmask/-/netmask-2.0.2.tgz",
            "integrity": "sha512-dBpDMdxv9Irdq66304OLfEmQ9tbNRFnFTuZiLo+bD+r332bBmMJ8GBLXklIXXgxd3+v9+KUnZaUR5PJMa75Gsg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4.0"
            }
        },
        "node_modules/node-releases": {
            "version": "2.0.27",
            "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.27.tgz",
            "integrity": "sha512-nmh3lCkYZ3grZvqcCH+fjmQ7X+H0OeZgP40OierEaAptX4XofMh5kwNbWh7lBduUzCcV/8kZ+NDLCwm2iorIlA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/node-sarif-builder": {
            "version": "3.3.1",
            "resolved": "https://registry.npmjs.org/node-sarif-builder/-/node-sarif-builder-3.3.1.tgz",
            "integrity": "sha512-8z5dAbhpxmk/WRQHXlv4V0h+9Y4Ugk+w08lyhV/7E/CQX9yDdBc3025/EG+RSMJU2aPFh/IQ7XDV7Ti5TLt/TA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@types/sarif": "^2.1.7",
                "fs-extra": "^11.1.1"
            },
            "engines": {
                "node": ">=20"
            }
        },
        "node_modules/normalize-path": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-3.0.0.tgz",
            "integrity": "sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/object-assign": {
            "version": "4.1.1",
            "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
            "integrity": "sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/object-copy": {
            "version": "0.1.0",
            "resolved": "https://registry.npmjs.org/object-copy/-/object-copy-0.1.0.tgz",
            "integrity": "sha512-79LYn6VAb63zgtmAteVOWo9Vdj71ZVBy3Pbse+VqxDpEP83XuujMrGqHIwAXJ5I/aM0zU7dIyIAhifVTPrNItQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "copy-descriptor": "^0.1.0",
                "define-property": "^0.2.5",
                "kind-of": "^3.0.3"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/object-copy/node_modules/define-property": {
            "version": "0.2.5",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz",
            "integrity": "sha512-Rr7ADjQZenceVOAKop6ALkkRAmH1A4Gx9hV/7ZujPUN2rkATqFO0JZLZInbAjpZYoJ1gUx8MRMQVkYemcbMSTA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/object-copy/node_modules/is-descriptor": {
            "version": "0.1.7",
            "resolved": "https://registry.npmjs.org/is-descriptor/-/is-descriptor-0.1.7.tgz",
            "integrity": "sha512-C3grZTvObeN1xud4cRWl366OMXZTj0+HGyk4hvfpx4ZHt1Pb60ANSXqCK7pdOTeUQpRzECBSTphqvD7U+l22Eg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-accessor-descriptor": "^1.0.1",
                "is-data-descriptor": "^1.0.1"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/object-hash": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/object-hash/-/object-hash-3.0.0.tgz",
            "integrity": "sha512-RSn9F68PjH9HqtltsSnqYC1XXoWe9Bju5+213R98cNGttag9q9yAOTzdbsqvIa7aNm5WffBZFpWYr2aWrklWAw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/object-visit": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/object-visit/-/object-visit-1.0.1.tgz",
            "integrity": "sha512-GBaMwwAVK9qbQN3Scdo0OyvgPW7l3lnaVMj84uTOZlswkX0KpF6fyDBJhtTthf7pymztoN36/KEr1DyhF96zEA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "isobject": "^3.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/object.pick": {
            "version": "1.3.0",
            "resolved": "https://registry.npmjs.org/object.pick/-/object.pick-1.3.0.tgz",
            "integrity": "sha512-tqa/UMy/CCoYmj+H5qc07qvSL9dqcs/WZENZ1JbtWBlATP+iVOe778gE6MSijnyCnORzDuX6hU+LA4SZ09YjFQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "isobject": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/on-finished": {
            "version": "2.3.0",
            "resolved": "https://registry.npmjs.org/on-finished/-/on-finished-2.3.0.tgz",
            "integrity": "sha512-ikqdkGAAyf/X/gPhXGvfgAytDZtDbr+bkNUJ0N9h5MI/dmdgCs3l6hoHrcUv41sRKew3jIwrp4qQDXiK99Utww==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ee-first": "1.1.1"
            },
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/on-headers": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/on-headers/-/on-headers-1.1.0.tgz",
            "integrity": "sha512-737ZY3yNnXy37FHkQxPzt4UZ2UWPWiCZWLvFZ4fu5cueciegX0zGPnrlY6bwRg4FdQOe9YU8MkmJwGhoMybl8A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/once": {
            "version": "1.4.0",
            "resolved": "https://registry.npmjs.org/once/-/once-1.4.0.tgz",
            "integrity": "sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "wrappy": "1"
            }
        },
        "node_modules/opn": {
            "version": "6.0.0",
            "resolved": "https://registry.npmjs.org/opn/-/opn-6.0.0.tgz",
            "integrity": "sha512-I9PKfIZC+e4RXZ/qr1RhgyCnGgYX0UEIlXgWnCOVACIvFgaC9rz6Won7xbdhoHrd8IIhV7YEpHjreNUNkqCGkQ==",
            "deprecated": "The package has been renamed to `open`",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-wsl": "^1.1.0"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/optionator": {
            "version": "0.9.4",
            "resolved": "https://registry.npmjs.org/optionator/-/optionator-0.9.4.tgz",
            "integrity": "sha512-6IpQ7mKUxRcZNLIObR0hz7lxsapSSIYNZJwXPGeF0mTVqGKFIXj1DQcMoT22S3ROcLyY/rz0PWaWZ9ayWmad9g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "deep-is": "^0.1.3",
                "fast-levenshtein": "^2.0.6",
                "levn": "^0.4.1",
                "prelude-ls": "^1.2.1",
                "type-check": "^0.4.0",
                "word-wrap": "^1.2.5"
            },
            "engines": {
                "node": ">= 0.8.0"
            }
        },
        "node_modules/p-limit": {
            "version": "3.1.0",
            "resolved": "https://registry.npmjs.org/p-limit/-/p-limit-3.1.0.tgz",
            "integrity": "sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "yocto-queue": "^0.1.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/p-locate": {
            "version": "5.0.0",
            "resolved": "https://registry.npmjs.org/p-locate/-/p-locate-5.0.0.tgz",
            "integrity": "sha512-LaNjtRWUBY++zB5nE/NwcaoMylSPk+S+ZHNB1TzdbMJMny6dynpAGt7X/tl/QYq3TIeE6nxHppbo2LGymrG5Pw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "p-limit": "^3.0.2"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/pac-proxy-agent": {
            "version": "7.2.0",
            "resolved": "https://registry.npmjs.org/pac-proxy-agent/-/pac-proxy-agent-7.2.0.tgz",
            "integrity": "sha512-TEB8ESquiLMc0lV8vcd5Ql/JAKAoyzHFXaStwjkzpOpC5Yv+pIzLfHvjTSdf3vpa2bMiUQrg9i6276yn8666aA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@tootallnate/quickjs-emscripten": "^0.23.0",
                "agent-base": "^7.1.2",
                "debug": "^4.3.4",
                "get-uri": "^6.0.1",
                "http-proxy-agent": "^7.0.0",
                "https-proxy-agent": "^7.0.6",
                "pac-resolver": "^7.0.1",
                "socks-proxy-agent": "^8.0.5"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/pac-resolver": {
            "version": "7.0.1",
            "resolved": "https://registry.npmjs.org/pac-resolver/-/pac-resolver-7.0.1.tgz",
            "integrity": "sha512-5NPgf87AT2STgwa2ntRMr45jTKrYBGkVU36yT0ig/n/GMAa3oPqhZfIQ2kMEimReg0+t9kZViDVZ83qfVUlckg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "degenerator": "^5.0.0",
                "netmask": "^2.0.2"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/parent-module": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/parent-module/-/parent-module-1.0.1.tgz",
            "integrity": "sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "callsites": "^3.0.0"
            },
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/parse-json": {
            "version": "5.2.0",
            "resolved": "https://registry.npmjs.org/parse-json/-/parse-json-5.2.0.tgz",
            "integrity": "sha512-ayCKvm/phCGxOkYRSCM82iDwct8/EonSEgCSxWxD7ve6jHggsFl4fZVQBPRNgQoKiuV/odhFrGzQXZwbifC8Rg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@babel/code-frame": "^7.0.0",
                "error-ex": "^1.3.1",
                "json-parse-even-better-errors": "^2.3.0",
                "lines-and-columns": "^1.1.6"
            },
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/parseurl": {
            "version": "1.3.3",
            "resolved": "https://registry.npmjs.org/parseurl/-/parseurl-1.3.3.tgz",
            "integrity": "sha512-CiyeOxFT/JZyN5m0z9PfXw4SCBJ6Sygz1Dpl0wqjlhDEGGBP1GnsUVEL0p63hoG1fcj3fHynXi9NYO4nWOL+qQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/pascalcase": {
            "version": "0.1.1",
            "resolved": "https://registry.npmjs.org/pascalcase/-/pascalcase-0.1.1.tgz",
            "integrity": "sha512-XHXfu/yOQRy9vYOtUDVMN60OEJjW013GoObG1o+xwQTpB9eYJX/BjXMsdW13ZDPruFhYYn0AG22w0xgQMwl3Nw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/path-dirname": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/path-dirname/-/path-dirname-1.0.2.tgz",
            "integrity": "sha512-ALzNPpyNq9AqXMBjeymIjFDAkAFH06mHJH/cSBHAgU0s4vfpBn6b2nf8tiRLvagKD8RbTpq2FKTBg7cl9l3c7Q==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/path-exists": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/path-exists/-/path-exists-4.0.0.tgz",
            "integrity": "sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/path-is-absolute": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/path-is-absolute/-/path-is-absolute-1.0.1.tgz",
            "integrity": "sha512-AVbw3UJ2e9bq64vSaS9Am0fje1Pa8pbGqTTsmXfaIiMpnr5DlDhfJOuLj9Sf95ZPVDAUerDfEk88MPmPe7UCQg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/path-key": {
            "version": "3.1.1",
            "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
            "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/path-parse": {
            "version": "1.0.7",
            "resolved": "https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz",
            "integrity": "sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/path-scurry": {
            "version": "1.11.1",
            "resolved": "https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz",
            "integrity": "sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==",
            "dev": true,
            "license": "BlueOak-1.0.0",
            "dependencies": {
                "lru-cache": "^10.2.0",
                "minipass": "^5.0.0 || ^6.0.2 || ^7.0.0"
            },
            "engines": {
                "node": ">=16 || 14 >=14.18"
            },
            "funding": {
                "url": "https://github.com/sponsors/isaacs"
            }
        },
        "node_modules/path-scurry/node_modules/minipass": {
            "version": "7.1.2",
            "resolved": "https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz",
            "integrity": "sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": ">=16 || 14 >=14.17"
            }
        },
        "node_modules/path-to-regexp": {
            "version": "6.3.0",
            "resolved": "https://registry.npmjs.org/path-to-regexp/-/path-to-regexp-6.3.0.tgz",
            "integrity": "sha512-Yhpw4T9C6hPpgPeA28us07OJeqZ5EzQTkbfwuhsUg0c237RomFoETJgmp2sa3F/41gfLE6G5cqcYwznmeEeOlQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/pathe": {
            "version": "2.0.3",
            "resolved": "https://registry.npmjs.org/pathe/-/pathe-2.0.3.tgz",
            "integrity": "sha512-WUjGcAqP1gQacoQe+OBJsFA7Ld4DyXuUIjZ5cc75cLHvJ7dtNsTugphxIADwspS+AraAUePCKrSVtPLFj/F88w==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/pause-stream": {
            "version": "0.0.11",
            "resolved": "https://registry.npmjs.org/pause-stream/-/pause-stream-0.0.11.tgz",
            "integrity": "sha512-e3FBlXLmN/D1S+zHzanP4E/4Z60oFAa3O051qt1pxa7DEJWKAyil6upYVXCWadEnuoqa4Pkc9oUx9zsxYeRv8A==",
            "dev": true,
            "license": [
                "MIT",
                "Apache2"
            ],
            "dependencies": {
                "through": "~2.3"
            }
        },
        "node_modules/pend": {
            "version": "1.2.0",
            "resolved": "https://registry.npmjs.org/pend/-/pend-1.2.0.tgz",
            "integrity": "sha512-F3asv42UuXchdzt+xXqfW1OGlVBe+mxa2mqI0pg5yAHZPvFmY3Y6drSf/GQ1A86WgWEN9Kzh/WrgKa6iGcHXLg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/picocolors": {
            "version": "1.1.1",
            "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
            "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/picomatch": {
            "version": "4.0.3",
            "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-4.0.3.tgz",
            "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
            "dev": true,
            "license": "MIT",
            "peer": true,
            "engines": {
                "node": ">=12"
            },
            "funding": {
                "url": "https://github.com/sponsors/jonschlinkert"
            }
        },
        "node_modules/pify": {
            "version": "2.3.0",
            "resolved": "https://registry.npmjs.org/pify/-/pify-2.3.0.tgz",
            "integrity": "sha512-udgsAY+fTnvv7kI7aaxbqwWNb0AHiB0qBO89PZKPkoTmGOgdbrHDKD+0B2X4uTfJ/FT1R09r9gTsjUjNJotuog==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/pirates": {
            "version": "4.0.7",
            "resolved": "https://registry.npmjs.org/pirates/-/pirates-4.0.7.tgz",
            "integrity": "sha512-TfySrs/5nm8fQJDcBDuUng3VOUKsd7S+zqvbOTiGXHfxX4wK31ard+hoNuvkicM/2YFzlpDgABOevKSsB4G/FA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/posix-character-classes": {
            "version": "0.1.1",
            "resolved": "https://registry.npmjs.org/posix-character-classes/-/posix-character-classes-0.1.1.tgz",
            "integrity": "sha512-xTgYBc3fuo7Yt7JbiuFxSYGToMoz8fLoE6TC9Wx1P/u+LfeThMOAqmuyECnlBaaJb+u1m9hHiXUEtwW4OzfUJg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/postcss": {
            "version": "8.5.6",
            "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.6.tgz",
            "integrity": "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/postcss/"
                },
                {
                    "type": "tidelift",
                    "url": "https://tidelift.com/funding/github/npm/postcss"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "peer": true,
            "dependencies": {
                "nanoid": "^3.3.11",
                "picocolors": "^1.1.1",
                "source-map-js": "^1.2.1"
            },
            "engines": {
                "node": "^10 || ^12 || >=14"
            }
        },
        "node_modules/postcss-import": {
            "version": "15.1.0",
            "resolved": "https://registry.npmjs.org/postcss-import/-/postcss-import-15.1.0.tgz",
            "integrity": "sha512-hpr+J05B2FVYUAXHeK1YyI267J/dDDhMU6B6civm8hSY1jYJnBXxzKDKDswzJmtLHryrjhnDjqqp/49t8FALew==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "postcss-value-parser": "^4.0.0",
                "read-cache": "^1.0.0",
                "resolve": "^1.1.7"
            },
            "engines": {
                "node": ">=14.0.0"
            },
            "peerDependencies": {
                "postcss": "^8.0.0"
            }
        },
        "node_modules/postcss-js": {
            "version": "4.1.0",
            "resolved": "https://registry.npmjs.org/postcss-js/-/postcss-js-4.1.0.tgz",
            "integrity": "sha512-oIAOTqgIo7q2EOwbhb8UalYePMvYoIeRY2YKntdpFQXNosSu3vLrniGgmH9OKs/qAkfoj5oB3le/7mINW1LCfw==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/postcss/"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "camelcase-css": "^2.0.1"
            },
            "engines": {
                "node": "^12 || ^14 || >= 16"
            },
            "peerDependencies": {
                "postcss": "^8.4.21"
            }
        },
        "node_modules/postcss-load-config": {
            "version": "6.0.1",
            "resolved": "https://registry.npmjs.org/postcss-load-config/-/postcss-load-config-6.0.1.tgz",
            "integrity": "sha512-oPtTM4oerL+UXmx+93ytZVN82RrlY/wPUV8IeDxFrzIjXOLF1pN+EmKPLbubvKHT2HC20xXsCAH2Z+CKV6Oz/g==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/postcss/"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "lilconfig": "^3.1.1"
            },
            "engines": {
                "node": ">= 18"
            },
            "peerDependencies": {
                "jiti": ">=1.21.0",
                "postcss": ">=8.0.9",
                "tsx": "^4.8.1",
                "yaml": "^2.4.2"
            },
            "peerDependenciesMeta": {
                "jiti": {
                    "optional": true
                },
                "postcss": {
                    "optional": true
                },
                "tsx": {
                    "optional": true
                },
                "yaml": {
                    "optional": true
                }
            }
        },
        "node_modules/postcss-nested": {
            "version": "6.2.0",
            "resolved": "https://registry.npmjs.org/postcss-nested/-/postcss-nested-6.2.0.tgz",
            "integrity": "sha512-HQbt28KulC5AJzG+cZtj9kvKB93CFCdLvog1WFLf1D+xmMvPGlBstkpTEZfK5+AN9hfJocyBFCNiqyS48bpgzQ==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/postcss/"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "postcss-selector-parser": "^6.1.1"
            },
            "engines": {
                "node": ">=12.0"
            },
            "peerDependencies": {
                "postcss": "^8.2.14"
            }
        },
        "node_modules/postcss-selector-parser": {
            "version": "6.1.2",
            "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.1.2.tgz",
            "integrity": "sha512-Q8qQfPiZ+THO/3ZrOrO0cJJKfpYCagtMUkXbnEfmgUjwXg6z/WBeOyS9APBBPCTSiDV+s4SwQGu8yFsiMRIudg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "cssesc": "^3.0.0",
                "util-deprecate": "^1.0.2"
            },
            "engines": {
                "node": ">=4"
            }
        },
        "node_modules/postcss-value-parser": {
            "version": "4.2.0",
            "resolved": "https://registry.npmjs.org/postcss-value-parser/-/postcss-value-parser-4.2.0.tgz",
            "integrity": "sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/prelude-ls": {
            "version": "1.2.1",
            "resolved": "https://registry.npmjs.org/prelude-ls/-/prelude-ls-1.2.1.tgz",
            "integrity": "sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8.0"
            }
        },
        "node_modules/prettier": {
            "version": "3.7.4",
            "resolved": "https://registry.npmjs.org/prettier/-/prettier-3.7.4.tgz",
            "integrity": "sha512-v6UNi1+3hSlVvv8fSaoUbggEM5VErKmmpGA7Pl3HF8V6uKY7rvClBOJlH6yNwQtfTueNkGVpOv/mtWL9L4bgRA==",
            "dev": true,
            "license": "MIT",
            "bin": {
                "prettier": "bin/prettier.cjs"
            },
            "engines": {
                "node": ">=14"
            },
            "funding": {
                "url": "https://github.com/prettier/prettier?sponsor=1"
            }
        },
        "node_modules/process-nextick-args": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/process-nextick-args/-/process-nextick-args-2.0.1.tgz",
            "integrity": "sha512-3ouUOpQhtgrbOa17J7+uxOTpITYWaGP7/AhoR3+A+/1e9skrzelGi/dXzEYyvbxubEF6Wn2ypscTKiKJFFn1ag==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/progress": {
            "version": "2.0.3",
            "resolved": "https://registry.npmjs.org/progress/-/progress-2.0.3.tgz",
            "integrity": "sha512-7PiHtLll5LdnKIMw100I+8xJXR5gW2QwWYkT6iJva0bXitZKa/XMrSbdmg3r2Xnaidz9Qumd0VPaMrZlF9V9sA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.4.0"
            }
        },
        "node_modules/proxy-agent": {
            "version": "6.5.0",
            "resolved": "https://registry.npmjs.org/proxy-agent/-/proxy-agent-6.5.0.tgz",
            "integrity": "sha512-TmatMXdr2KlRiA2CyDu8GqR8EjahTG3aY3nXjdzFyoZbmB8hrBsTyMezhULIXKnC0jpfjlmiZ3+EaCzoInSu/A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "agent-base": "^7.1.2",
                "debug": "^4.3.4",
                "http-proxy-agent": "^7.0.1",
                "https-proxy-agent": "^7.0.6",
                "lru-cache": "^7.14.1",
                "pac-proxy-agent": "^7.1.0",
                "proxy-from-env": "^1.1.0",
                "socks-proxy-agent": "^8.0.5"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/proxy-agent/node_modules/lru-cache": {
            "version": "7.18.3",
            "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-7.18.3.tgz",
            "integrity": "sha512-jumlc0BIUrS3qJGgIkWZsyfAM7NCWiBcCDhnd+3NNM5KbBmLTgHVfWBcg6W+rLUsIpzpERPsvwUP7CckAQSOoA==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/proxy-from-env": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/proxy-from-env/-/proxy-from-env-1.1.0.tgz",
            "integrity": "sha512-D+zkORCbA9f1tdWRK0RaCR3GPv50cMxcrz4X8k5LTSUD1Dkw47mKJEZQNunItRTkWwgtaUSo1RVFRIG9ZXiFYg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/proxy-middleware": {
            "version": "0.15.0",
            "resolved": "https://registry.npmjs.org/proxy-middleware/-/proxy-middleware-0.15.0.tgz",
            "integrity": "sha512-EGCG8SeoIRVMhsqHQUdDigB2i7qU7fCsWASwn54+nPutYO8n4q6EiwMzyfWlC+dzRFExP+kvcnDFdBDHoZBU7Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.8.0"
            }
        },
        "node_modules/pump": {
            "version": "3.0.3",
            "resolved": "https://registry.npmjs.org/pump/-/pump-3.0.3.tgz",
            "integrity": "sha512-todwxLMY7/heScKmntwQG8CXVkWUOdYxIvY2s0VWAAMh/nd8SoYiRaKjlr7+iCs984f2P8zvrfWcDDYVb73NfA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "end-of-stream": "^1.1.0",
                "once": "^1.3.1"
            }
        },
        "node_modules/punycode": {
            "version": "2.3.1",
            "resolved": "https://registry.npmjs.org/punycode/-/punycode-2.3.1.tgz",
            "integrity": "sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/puppeteer": {
            "version": "22.15.0",
            "resolved": "https://registry.npmjs.org/puppeteer/-/puppeteer-22.15.0.tgz",
            "integrity": "sha512-XjCY1SiSEi1T7iSYuxS82ft85kwDJUS7wj1Z0eGVXKdtr5g4xnVcbjwxhq5xBnpK/E7x1VZZoJDxpjAOasHT4Q==",
            "deprecated": "< 24.15.0 is no longer supported",
            "dev": true,
            "hasInstallScript": true,
            "license": "Apache-2.0",
            "dependencies": {
                "@puppeteer/browsers": "2.3.0",
                "cosmiconfig": "^9.0.0",
                "devtools-protocol": "0.0.1312386",
                "puppeteer-core": "22.15.0"
            },
            "bin": {
                "puppeteer": "lib/esm/puppeteer/node/cli.js"
            },
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/puppeteer-core": {
            "version": "22.15.0",
            "resolved": "https://registry.npmjs.org/puppeteer-core/-/puppeteer-core-22.15.0.tgz",
            "integrity": "sha512-cHArnywCiAAVXa3t4GGL2vttNxh7GqXtIYGym99egkNJ3oG//wL9LkvO4WE8W1TJe95t1F1ocu9X4xWaGsOKOA==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "@puppeteer/browsers": "2.3.0",
                "chromium-bidi": "0.6.3",
                "debug": "^4.3.6",
                "devtools-protocol": "0.0.1312386",
                "ws": "^8.18.0"
            },
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/queue-microtask": {
            "version": "1.2.3",
            "resolved": "https://registry.npmjs.org/queue-microtask/-/queue-microtask-1.2.3.tgz",
            "integrity": "sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==",
            "dev": true,
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/feross"
                },
                {
                    "type": "patreon",
                    "url": "https://www.patreon.com/feross"
                },
                {
                    "type": "consulting",
                    "url": "https://feross.org/support"
                }
            ],
            "license": "MIT"
        },
        "node_modules/range-parser": {
            "version": "1.2.1",
            "resolved": "https://registry.npmjs.org/range-parser/-/range-parser-1.2.1.tgz",
            "integrity": "sha512-Hrgsx+orqoygnmhFbKaHE6c296J+HTAQXoxEF6gNupROmmGJRoyzfG3ccAveqCBrwr/2yxQ5BVd/GTl5agOwSg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/read-cache": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/read-cache/-/read-cache-1.0.0.tgz",
            "integrity": "sha512-Owdv/Ft7IjOgm/i0xvNDZ1LrRANRfew4b2prF3OWMQLxLfu3bS8FVhCsrSCMK4lR56Y9ya+AThoTpDCTxCmpRA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "pify": "^2.3.0"
            }
        },
        "node_modules/readable-stream": {
            "version": "2.3.8",
            "resolved": "https://registry.npmjs.org/readable-stream/-/readable-stream-2.3.8.tgz",
            "integrity": "sha512-8p0AUk4XODgIewSi0l8Epjs+EVnWiK7NoDIEGU0HhE7+ZyY8D1IMY7odu5lRrFXGg71L15KG8QrPmum45RTtdA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "core-util-is": "~1.0.0",
                "inherits": "~2.0.3",
                "isarray": "~1.0.0",
                "process-nextick-args": "~2.0.0",
                "safe-buffer": "~5.1.1",
                "string_decoder": "~1.1.1",
                "util-deprecate": "~1.0.1"
            }
        },
        "node_modules/readdirp": {
            "version": "2.2.1",
            "resolved": "https://registry.npmjs.org/readdirp/-/readdirp-2.2.1.tgz",
            "integrity": "sha512-1JU/8q+VgFZyxwrJ+SVIOsh+KywWGpds3NTqikiKpDMZWScmAYyKIgqkO+ARvNWJfXeXR1zxz7aHF4u4CyH6vQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "graceful-fs": "^4.1.11",
                "micromatch": "^3.1.10",
                "readable-stream": "^2.0.2"
            },
            "engines": {
                "node": ">=0.10"
            }
        },
        "node_modules/regex-not": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/regex-not/-/regex-not-1.0.2.tgz",
            "integrity": "sha512-J6SDjUgDxQj5NusnOtdFxDwN/+HWykR8GELwctJ7mdqhcyy1xEc4SRFHUXvxTp661YaVKAjfRLZ9cCqS6tn32A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "extend-shallow": "^3.0.2",
                "safe-regex": "^1.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/regex-not/node_modules/extend-shallow": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-3.0.2.tgz",
            "integrity": "sha512-BwY5b5Ql4+qZoefgMj2NUmx+tehVTH/Kf4k1ZEtOHNFcm2wSxMRo992l6X3TIgni2eZVTZ85xMOjF31fwZAj6Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "assign-symbols": "^1.0.0",
                "is-extendable": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/regex-not/node_modules/is-extendable": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz",
            "integrity": "sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-plain-object": "^2.0.4"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/remove-trailing-separator": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/remove-trailing-separator/-/remove-trailing-separator-1.1.0.tgz",
            "integrity": "sha512-/hS+Y0u3aOfIETiaiirUFwDBDzmXPvO+jAfKTitUngIPzdKc6Z0LoFjM/CK5PL4C+eKwHohlHAb6H0VFfmmUsw==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/repeat-element": {
            "version": "1.1.4",
            "resolved": "https://registry.npmjs.org/repeat-element/-/repeat-element-1.1.4.tgz",
            "integrity": "sha512-LFiNfRcSu7KK3evMyYOuCzv3L10TW7yC1G2/+StMjK8Y6Vqd2MG7r/Qjw4ghtuCOjFvlnms/iMmLqpvW/ES/WQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/repeat-string": {
            "version": "1.6.1",
            "resolved": "https://registry.npmjs.org/repeat-string/-/repeat-string-1.6.1.tgz",
            "integrity": "sha512-PV0dzCYDNfRi1jCDbJzpW7jNNDRuCOG/jI5ctQcGKt/clZD+YcPS3yIlWuTJMmESC8aevCFmWJy5wjAFgNqN6w==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10"
            }
        },
        "node_modules/require-directory": {
            "version": "2.1.1",
            "resolved": "https://registry.npmjs.org/require-directory/-/require-directory-2.1.1.tgz",
            "integrity": "sha512-fGxEI7+wsG9xrvdjsrlmL22OMTTiHRwAMroiEeMgq8gzoLC/PQr7RsRDSTLUg/bZAZtF+TVIkHc6/4RIKrui+Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/resolve": {
            "version": "1.22.11",
            "resolved": "https://registry.npmjs.org/resolve/-/resolve-1.22.11.tgz",
            "integrity": "sha512-RfqAvLnMl313r7c9oclB1HhUEAezcpLjz95wFH4LVuhk9JF/r22qmVP9AMmOU4vMX7Q8pN8jwNg/CSpdFnMjTQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-core-module": "^2.16.1",
                "path-parse": "^1.0.7",
                "supports-preserve-symlinks-flag": "^1.0.0"
            },
            "bin": {
                "resolve": "bin/resolve"
            },
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/resolve-from": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/resolve-from/-/resolve-from-4.0.0.tgz",
            "integrity": "sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=4"
            }
        },
        "node_modules/resolve-url": {
            "version": "0.2.1",
            "resolved": "https://registry.npmjs.org/resolve-url/-/resolve-url-0.2.1.tgz",
            "integrity": "sha512-ZuF55hVUQaaczgOIwqWzkEcEidmlD/xl44x1UZnhOXcYuFN2S6+rcxpG+C1N3So0wvNI3DmJICUFfu2SxhBmvg==",
            "deprecated": "https://github.com/lydell/resolve-url#deprecated",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/ret": {
            "version": "0.1.15",
            "resolved": "https://registry.npmjs.org/ret/-/ret-0.1.15.tgz",
            "integrity": "sha512-TTlYpa+OL+vMMNG24xSlQGEJ3B/RzEfUlLct7b5G/ytav+wPrplCpVMFuwzXbkecJrb6IYo1iFb0S9v37754mg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.12"
            }
        },
        "node_modules/reusify": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/reusify/-/reusify-1.1.0.tgz",
            "integrity": "sha512-g6QUff04oZpHs0eG5p83rFLhHeV00ug/Yf9nZM6fLeUrPguBTkTQOdpAWWspMh55TZfVQDPaN3NQJfbVRAxdIw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "iojs": ">=1.0.0",
                "node": ">=0.10.0"
            }
        },
        "node_modules/rimraf": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/rimraf/-/rimraf-3.0.2.tgz",
            "integrity": "sha512-JZkJMZkAGFFPP2YqXZXPbMlMBgsxzE8ILs4lMIX/2o0L9UBw9O/Y3o6wFw/i9YLapcUJWwqbi3kdxIPdC62TIA==",
            "deprecated": "Rimraf versions prior to v4 are no longer supported",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "glob": "^7.1.3"
            },
            "bin": {
                "rimraf": "bin.js"
            },
            "funding": {
                "url": "https://github.com/sponsors/isaacs"
            }
        },
        "node_modules/rimraf/node_modules/glob": {
            "version": "7.2.3",
            "resolved": "https://registry.npmjs.org/glob/-/glob-7.2.3.tgz",
            "integrity": "sha512-nFR0zLpU2YCaRxwoCJvL6UvCH2JFyFVIvwTLsIf21AuHlMskA1hhTdk+LlYJtOlYt9v6dvszD2BGRqBL+iQK9Q==",
            "deprecated": "Glob versions prior to v9 are no longer supported",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "fs.realpath": "^1.0.0",
                "inflight": "^1.0.4",
                "inherits": "2",
                "minimatch": "^3.1.1",
                "once": "^1.3.0",
                "path-is-absolute": "^1.0.0"
            },
            "engines": {
                "node": "*"
            },
            "funding": {
                "url": "https://github.com/sponsors/isaacs"
            }
        },
        "node_modules/rollup": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/rollup/-/rollup-4.54.0.tgz",
            "integrity": "sha512-3nk8Y3a9Ea8szgKhinMlGMhGMw89mqule3KWczxhIzqudyHdCIOHw8WJlj/r329fACjKLEh13ZSk7oE22kyeIw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@types/estree": "1.0.8"
            },
            "bin": {
                "rollup": "dist/bin/rollup"
            },
            "engines": {
                "node": ">=18.0.0",
                "npm": ">=8.0.0"
            },
            "optionalDependencies": {
                "@rollup/rollup-android-arm-eabi": "4.54.0",
                "@rollup/rollup-android-arm64": "4.54.0",
                "@rollup/rollup-darwin-arm64": "4.54.0",
                "@rollup/rollup-darwin-x64": "4.54.0",
                "@rollup/rollup-freebsd-arm64": "4.54.0",
                "@rollup/rollup-freebsd-x64": "4.54.0",
                "@rollup/rollup-linux-arm-gnueabihf": "4.54.0",
                "@rollup/rollup-linux-arm-musleabihf": "4.54.0",
                "@rollup/rollup-linux-arm64-gnu": "4.54.0",
                "@rollup/rollup-linux-arm64-musl": "4.54.0",
                "@rollup/rollup-linux-loong64-gnu": "4.54.0",
                "@rollup/rollup-linux-ppc64-gnu": "4.54.0",
                "@rollup/rollup-linux-riscv64-gnu": "4.54.0",
                "@rollup/rollup-linux-riscv64-musl": "4.54.0",
                "@rollup/rollup-linux-s390x-gnu": "4.54.0",
                "@rollup/rollup-linux-x64-gnu": "4.54.0",
                "@rollup/rollup-linux-x64-musl": "4.54.0",
                "@rollup/rollup-openharmony-arm64": "4.54.0",
                "@rollup/rollup-win32-arm64-msvc": "4.54.0",
                "@rollup/rollup-win32-ia32-msvc": "4.54.0",
                "@rollup/rollup-win32-x64-gnu": "4.54.0",
                "@rollup/rollup-win32-x64-msvc": "4.54.0",
                "fsevents": "~2.3.2"
            }
        },
        "node_modules/run-parallel": {
            "version": "1.2.0",
            "resolved": "https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz",
            "integrity": "sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==",
            "dev": true,
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/feross"
                },
                {
                    "type": "patreon",
                    "url": "https://www.patreon.com/feross"
                },
                {
                    "type": "consulting",
                    "url": "https://feross.org/support"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "queue-microtask": "^1.2.2"
            }
        },
        "node_modules/rxjs": {
            "version": "7.8.2",
            "resolved": "https://registry.npmjs.org/rxjs/-/rxjs-7.8.2.tgz",
            "integrity": "sha512-dhKf903U/PQZY6boNNtAGdWbG85WAbjT/1xYoZIC7FAY0yWapOBQVsVrDl58W86//e1VpMNBtRV4MaXfdMySFA==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "tslib": "^2.1.0"
            }
        },
        "node_modules/safe-buffer": {
            "version": "5.1.2",
            "resolved": "https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.1.2.tgz",
            "integrity": "sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/safe-regex": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/safe-regex/-/safe-regex-1.1.0.tgz",
            "integrity": "sha512-aJXcif4xnaNUzvUuC5gcb46oTS7zvg4jpMTnuqtrEPlR3vFr4pxtdTwaF1Qs3Enjn9HK+ZlwQui+a7z0SywIzg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ret": "~0.1.10"
            }
        },
        "node_modules/semver": {
            "version": "7.7.3",
            "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
            "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
            "dev": true,
            "license": "ISC",
            "bin": {
                "semver": "bin/semver.js"
            },
            "engines": {
                "node": ">=10"
            }
        },
        "node_modules/send": {
            "version": "1.2.1",
            "resolved": "https://registry.npmjs.org/send/-/send-1.2.1.tgz",
            "integrity": "sha512-1gnZf7DFcoIcajTjTwjwuDjzuz4PPcY2StKPlsGAQ1+YH20IRVrBaXSWmdjowTJ6u8Rc01PoYOGHXfP1mYcZNQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "debug": "^4.4.3",
                "encodeurl": "^2.0.0",
                "escape-html": "^1.0.3",
                "etag": "^1.8.1",
                "fresh": "^2.0.0",
                "http-errors": "^2.0.1",
                "mime-types": "^3.0.2",
                "ms": "^2.1.3",
                "on-finished": "^2.4.1",
                "range-parser": "^1.2.1",
                "statuses": "^2.0.2"
            },
            "engines": {
                "node": ">= 18"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/express"
            }
        },
        "node_modules/send/node_modules/encodeurl": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/encodeurl/-/encodeurl-2.0.0.tgz",
            "integrity": "sha512-Q0n9HRi4m6JuGIV1eFlmvJB7ZEVxu93IrMyiMsGC0lrMJMWzRgx6WGquyfQgZVb31vhGgXnfmPNNXmxnOkRBrg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/send/node_modules/on-finished": {
            "version": "2.4.1",
            "resolved": "https://registry.npmjs.org/on-finished/-/on-finished-2.4.1.tgz",
            "integrity": "sha512-oVlzkg3ENAhCk2zdv7IJwd/QUD4z2RxRwpkcGY8psCVcCYZNq4wYnVWALHM+brtuJjePWiYF/ClmuDr8Ch5+kg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ee-first": "1.1.1"
            },
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/send/node_modules/statuses": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/statuses/-/statuses-2.0.2.tgz",
            "integrity": "sha512-DvEy55V3DB7uknRo+4iOGT5fP1slR8wQohVdknigZPMpMstaKJQWhwiYBACJE3Ul2pTnATihhBYnRhZQHGBiRw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/serve-index": {
            "version": "1.9.1",
            "resolved": "https://registry.npmjs.org/serve-index/-/serve-index-1.9.1.tgz",
            "integrity": "sha512-pXHfKNP4qujrtteMrSBb0rc8HJ9Ms/GrXwcUtUtD5s4ewDJI8bT3Cz2zTVRMKtri49pLx2e0Ya8ziP5Ya2pZZw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "accepts": "~1.3.4",
                "batch": "0.6.1",
                "debug": "2.6.9",
                "escape-html": "~1.0.3",
                "http-errors": "~1.6.2",
                "mime-types": "~2.1.17",
                "parseurl": "~1.3.2"
            },
            "engines": {
                "node": ">= 0.8.0"
            }
        },
        "node_modules/serve-index/node_modules/debug": {
            "version": "2.6.9",
            "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
            "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "2.0.0"
            }
        },
        "node_modules/serve-index/node_modules/depd": {
            "version": "1.1.2",
            "resolved": "https://registry.npmjs.org/depd/-/depd-1.1.2.tgz",
            "integrity": "sha512-7emPTl6Dpo6JRXOXjLRxck+FlLRX5847cLKEn00PLAgc3g2hTZZgr+e4c2v6QpSmLeFP3n5yUo7ft6avBK/5jQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/serve-index/node_modules/http-errors": {
            "version": "1.6.3",
            "resolved": "https://registry.npmjs.org/http-errors/-/http-errors-1.6.3.tgz",
            "integrity": "sha512-lks+lVC8dgGyh97jxvxeYTWQFvh4uw4yC12gVl63Cg30sjPX4wuGcdkICVXDAESr6OJGjqGA8Iz5mkeN6zlD7A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "depd": "~1.1.2",
                "inherits": "2.0.3",
                "setprototypeof": "1.1.0",
                "statuses": ">= 1.4.0 < 2"
            },
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/serve-index/node_modules/inherits": {
            "version": "2.0.3",
            "resolved": "https://registry.npmjs.org/inherits/-/inherits-2.0.3.tgz",
            "integrity": "sha512-x00IRNXNy63jwGkJmzPigoySHbaqpNuzKbBOmzK+g2OdZpQ9w+sxCN+VSB3ja7IAge2OP2qpfxTjeNcyjmW1uw==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/serve-index/node_modules/mime-db": {
            "version": "1.52.0",
            "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
            "integrity": "sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/serve-index/node_modules/mime-types": {
            "version": "2.1.35",
            "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz",
            "integrity": "sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "mime-db": "1.52.0"
            },
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/serve-index/node_modules/ms": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
            "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/serve-index/node_modules/setprototypeof": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/setprototypeof/-/setprototypeof-1.1.0.tgz",
            "integrity": "sha512-BvE/TwpZX4FXExxOxZyRGQQv651MSwmWKZGqvmPcRIjDqWub67kTKuIMx43cZZrS/cBBzwBcNDWoFxt2XEFIpQ==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/set-value": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/set-value/-/set-value-2.0.1.tgz",
            "integrity": "sha512-JxHc1weCN68wRY0fhCoXpyK55m/XPHafOmK4UWD7m2CI14GMcFypt4w/0+NV5f/ZMby2F6S2wwA7fgynh9gWSw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "extend-shallow": "^2.0.1",
                "is-extendable": "^0.1.1",
                "is-plain-object": "^2.0.3",
                "split-string": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/setprototypeof": {
            "version": "1.2.0",
            "resolved": "https://registry.npmjs.org/setprototypeof/-/setprototypeof-1.2.0.tgz",
            "integrity": "sha512-E5LDX7Wrp85Kil5bhZv46j8jOeboKq5JMmYM3gVGdGH8xFpPWXUMsNrlODCrkoxMEeNi/XZIwuRvY4XNwYMJpw==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/sharp": {
            "version": "0.33.5",
            "resolved": "https://registry.npmjs.org/sharp/-/sharp-0.33.5.tgz",
            "integrity": "sha512-haPVm1EkS9pgvHrQ/F3Xy+hgcuMV0Wm9vfIBSiwZ05k+xgb0PkBQpGsAA/oWdDobNaZTH5ppvHtzCFbnSEwHVw==",
            "dev": true,
            "hasInstallScript": true,
            "license": "Apache-2.0",
            "dependencies": {
                "color": "^4.2.3",
                "detect-libc": "^2.0.3",
                "semver": "^7.6.3"
            },
            "engines": {
                "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
            },
            "funding": {
                "url": "https://opencollective.com/libvips"
            },
            "optionalDependencies": {
                "@img/sharp-darwin-arm64": "0.33.5",
                "@img/sharp-darwin-x64": "0.33.5",
                "@img/sharp-libvips-darwin-arm64": "1.0.4",
                "@img/sharp-libvips-darwin-x64": "1.0.4",
                "@img/sharp-libvips-linux-arm": "1.0.5",
                "@img/sharp-libvips-linux-arm64": "1.0.4",
                "@img/sharp-libvips-linux-s390x": "1.0.4",
                "@img/sharp-libvips-linux-x64": "1.0.4",
                "@img/sharp-libvips-linuxmusl-arm64": "1.0.4",
                "@img/sharp-libvips-linuxmusl-x64": "1.0.4",
                "@img/sharp-linux-arm": "0.33.5",
                "@img/sharp-linux-arm64": "0.33.5",
                "@img/sharp-linux-s390x": "0.33.5",
                "@img/sharp-linux-x64": "0.33.5",
                "@img/sharp-linuxmusl-arm64": "0.33.5",
                "@img/sharp-linuxmusl-x64": "0.33.5",
                "@img/sharp-wasm32": "0.33.5",
                "@img/sharp-win32-ia32": "0.33.5",
                "@img/sharp-win32-x64": "0.33.5"
            }
        },
        "node_modules/shebang-command": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
            "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "shebang-regex": "^3.0.0"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/shebang-regex": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
            "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/shell-quote": {
            "version": "1.8.3",
            "resolved": "https://registry.npmjs.org/shell-quote/-/shell-quote-1.8.3.tgz",
            "integrity": "sha512-ObmnIF4hXNg1BqhnHmgbDETF8dLPCggZWBjkQfhZpbszZnYur5DUljTcCHii5LC3J5E0yeO/1LIMyH+UvHQgyw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/simple-swizzle": {
            "version": "0.2.4",
            "resolved": "https://registry.npmjs.org/simple-swizzle/-/simple-swizzle-0.2.4.tgz",
            "integrity": "sha512-nAu1WFPQSMNr2Zn9PGSZK9AGn4t/y97lEm+MXTtUDwfP0ksAIX4nO+6ruD9Jwut4C49SB1Ws+fbXsm/yScWOHw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-arrayish": "^0.3.1"
            }
        },
        "node_modules/smart-buffer": {
            "version": "4.2.0",
            "resolved": "https://registry.npmjs.org/smart-buffer/-/smart-buffer-4.2.0.tgz",
            "integrity": "sha512-94hK0Hh8rPqQl2xXc3HsaBoOXKV20MToPkcXvwbISWLEs+64sBq5kFgn2kJDHb1Pry9yrP0dxrCI9RRci7RXKg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 6.0.0",
                "npm": ">= 3.0.0"
            }
        },
        "node_modules/snapdragon": {
            "version": "0.8.2",
            "resolved": "https://registry.npmjs.org/snapdragon/-/snapdragon-0.8.2.tgz",
            "integrity": "sha512-FtyOnWN/wCHTVXOMwvSv26d+ko5vWlIDD6zoUJ7LW8vh+ZBC8QdljveRP+crNrtBwioEUWy/4dMtbBjA4ioNlg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "base": "^0.11.1",
                "debug": "^2.2.0",
                "define-property": "^0.2.5",
                "extend-shallow": "^2.0.1",
                "map-cache": "^0.2.2",
                "source-map": "^0.5.6",
                "source-map-resolve": "^0.5.0",
                "use": "^3.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/snapdragon-node": {
            "version": "2.1.1",
            "resolved": "https://registry.npmjs.org/snapdragon-node/-/snapdragon-node-2.1.1.tgz",
            "integrity": "sha512-O27l4xaMYt/RSQ5TR3vpWCAB5Kb/czIcqUFOM/C4fYcLnbZUc1PkjTAMjof2pBWaSTwOUd6qUHcFGVGj7aIwnw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "define-property": "^1.0.0",
                "isobject": "^3.0.0",
                "snapdragon-util": "^3.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/snapdragon-node/node_modules/define-property": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-1.0.0.tgz",
            "integrity": "sha512-cZTYKFWspt9jZsMscWo8sc/5lbPC9Q0N5nBLgb+Yd915iL3udB1uFgS3B8YCx66UVHq018DAVFoee7x+gxggeA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/snapdragon-util": {
            "version": "3.0.1",
            "resolved": "https://registry.npmjs.org/snapdragon-util/-/snapdragon-util-3.0.1.tgz",
            "integrity": "sha512-mbKkMdQKsjX4BAL4bRYTj21edOf8cN7XHdYUJEe+Zn99hVEYcMvKPct1IqNe7+AZPirn8BCDOQBHQZknqmKlZQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "kind-of": "^3.2.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/snapdragon/node_modules/debug": {
            "version": "2.6.9",
            "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
            "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ms": "2.0.0"
            }
        },
        "node_modules/snapdragon/node_modules/define-property": {
            "version": "0.2.5",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz",
            "integrity": "sha512-Rr7ADjQZenceVOAKop6ALkkRAmH1A4Gx9hV/7ZujPUN2rkATqFO0JZLZInbAjpZYoJ1gUx8MRMQVkYemcbMSTA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/snapdragon/node_modules/is-descriptor": {
            "version": "0.1.7",
            "resolved": "https://registry.npmjs.org/is-descriptor/-/is-descriptor-0.1.7.tgz",
            "integrity": "sha512-C3grZTvObeN1xud4cRWl366OMXZTj0+HGyk4hvfpx4ZHt1Pb60ANSXqCK7pdOTeUQpRzECBSTphqvD7U+l22Eg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-accessor-descriptor": "^1.0.1",
                "is-data-descriptor": "^1.0.1"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/snapdragon/node_modules/ms": {
            "version": "2.0.0",
            "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
            "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/snapdragon/node_modules/source-map": {
            "version": "0.5.7",
            "resolved": "https://registry.npmjs.org/source-map/-/source-map-0.5.7.tgz",
            "integrity": "sha512-LbrmJOMUSdEVxIKvdcJzQC+nQhe8FUZQTXQy6+I75skNgn3OoQ0DZA8YnFa7gp8tqtL3KPf1kmo0R5DoApeSGQ==",
            "dev": true,
            "license": "BSD-3-Clause",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/socks": {
            "version": "2.8.7",
            "resolved": "https://registry.npmjs.org/socks/-/socks-2.8.7.tgz",
            "integrity": "sha512-HLpt+uLy/pxB+bum/9DzAgiKS8CX1EvbWxI4zlmgGCExImLdiad2iCwXT5Z4c9c3Eq8rP2318mPW2c+QbtjK8A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ip-address": "^10.0.1",
                "smart-buffer": "^4.2.0"
            },
            "engines": {
                "node": ">= 10.0.0",
                "npm": ">= 3.0.0"
            }
        },
        "node_modules/socks-proxy-agent": {
            "version": "8.0.5",
            "resolved": "https://registry.npmjs.org/socks-proxy-agent/-/socks-proxy-agent-8.0.5.tgz",
            "integrity": "sha512-HehCEsotFqbPW9sJ8WVYB6UbmIMv7kUUORIF2Nncq4VQvBfNBLibW9YZR5dlYCSUhwcD628pRllm7n+E+YTzJw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "agent-base": "^7.1.2",
                "debug": "^4.3.4",
                "socks": "^2.8.3"
            },
            "engines": {
                "node": ">= 14"
            }
        },
        "node_modules/source-map": {
            "version": "0.6.1",
            "resolved": "https://registry.npmjs.org/source-map/-/source-map-0.6.1.tgz",
            "integrity": "sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g==",
            "dev": true,
            "license": "BSD-3-Clause",
            "optional": true,
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/source-map-js": {
            "version": "1.2.1",
            "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
            "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
            "dev": true,
            "license": "BSD-3-Clause",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/source-map-resolve": {
            "version": "0.5.3",
            "resolved": "https://registry.npmjs.org/source-map-resolve/-/source-map-resolve-0.5.3.tgz",
            "integrity": "sha512-Htz+RnsXWk5+P2slx5Jh3Q66vhQj1Cllm0zvnaY98+NFx+Dv2CF/f5O/t8x+KaNdrdIAsruNzoh/KpialbqAnw==",
            "deprecated": "See https://github.com/lydell/source-map-resolve#deprecated",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "atob": "^2.1.2",
                "decode-uri-component": "^0.2.0",
                "resolve-url": "^0.2.1",
                "source-map-url": "^0.4.0",
                "urix": "^0.1.0"
            }
        },
        "node_modules/source-map-url": {
            "version": "0.4.1",
            "resolved": "https://registry.npmjs.org/source-map-url/-/source-map-url-0.4.1.tgz",
            "integrity": "sha512-cPiFOTLUKvJFIg4SKVScy4ilPPW6rFgMgfuZJPNoDuMs3nC1HbMUycBoJw77xFIp6z1UJQJOfx6C9GMH80DiTw==",
            "deprecated": "See https://github.com/lydell/source-map-url#deprecated",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/spawn-command": {
            "version": "0.0.2",
            "resolved": "https://registry.npmjs.org/spawn-command/-/spawn-command-0.0.2.tgz",
            "integrity": "sha512-zC8zGoGkmc8J9ndvml8Xksr1Amk9qBujgbF0JAIWO7kXr43w0h/0GJNM/Vustixu+YE8N/MTrQ7N31FvHUACxQ==",
            "dev": true
        },
        "node_modules/split": {
            "version": "0.3.3",
            "resolved": "https://registry.npmjs.org/split/-/split-0.3.3.tgz",
            "integrity": "sha512-wD2AeVmxXRBoX44wAycgjVpMhvbwdI2aZjCkvfNcH1YqHQvJVa1duWc73OyVGJUc05fhFaTZeQ/PYsrmyH0JVA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "through": "2"
            },
            "engines": {
                "node": "*"
            }
        },
        "node_modules/split-string": {
            "version": "3.1.0",
            "resolved": "https://registry.npmjs.org/split-string/-/split-string-3.1.0.tgz",
            "integrity": "sha512-NzNVhJDYpwceVVii8/Hu6DKfD2G+NrQHlS/V/qgv763EYudVwEcMQNxd2lh+0VrUByXN/oJkl5grOhYWvQUYiw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "extend-shallow": "^3.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/split-string/node_modules/extend-shallow": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-3.0.2.tgz",
            "integrity": "sha512-BwY5b5Ql4+qZoefgMj2NUmx+tehVTH/Kf4k1ZEtOHNFcm2wSxMRo992l6X3TIgni2eZVTZ85xMOjF31fwZAj6Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "assign-symbols": "^1.0.0",
                "is-extendable": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/split-string/node_modules/is-extendable": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz",
            "integrity": "sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-plain-object": "^2.0.4"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/static-extend": {
            "version": "0.1.2",
            "resolved": "https://registry.npmjs.org/static-extend/-/static-extend-0.1.2.tgz",
            "integrity": "sha512-72E9+uLc27Mt718pMHt9VMNiAL4LMsmDbBva8mxWUCkT07fSzEGMYUCk0XWY6lp0j6RBAG4cJ3mWuZv2OE3s0g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "define-property": "^0.2.5",
                "object-copy": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/static-extend/node_modules/define-property": {
            "version": "0.2.5",
            "resolved": "https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz",
            "integrity": "sha512-Rr7ADjQZenceVOAKop6ALkkRAmH1A4Gx9hV/7ZujPUN2rkATqFO0JZLZInbAjpZYoJ1gUx8MRMQVkYemcbMSTA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-descriptor": "^0.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/static-extend/node_modules/is-descriptor": {
            "version": "0.1.7",
            "resolved": "https://registry.npmjs.org/is-descriptor/-/is-descriptor-0.1.7.tgz",
            "integrity": "sha512-C3grZTvObeN1xud4cRWl366OMXZTj0+HGyk4hvfpx4ZHt1Pb60ANSXqCK7pdOTeUQpRzECBSTphqvD7U+l22Eg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-accessor-descriptor": "^1.0.1",
                "is-data-descriptor": "^1.0.1"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/statuses": {
            "version": "1.5.0",
            "resolved": "https://registry.npmjs.org/statuses/-/statuses-1.5.0.tgz",
            "integrity": "sha512-OpZ3zP+jT1PI7I8nemJX4AKmAX070ZkYPVWV/AaKTJl+tXCTGyVdC1a4SL8RUQYEwk/f34ZX8UTykN68FwrqAA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/stoppable": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/stoppable/-/stoppable-1.1.0.tgz",
            "integrity": "sha512-KXDYZ9dszj6bzvnEMRYvxgeTHU74QBFL54XKtP3nyMuJ81CFYtABZ3bAzL2EdFUaEwJOBOgENyFj3R7oTzDyyw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=4",
                "npm": ">=6"
            }
        },
        "node_modules/stream-combiner": {
            "version": "0.0.4",
            "resolved": "https://registry.npmjs.org/stream-combiner/-/stream-combiner-0.0.4.tgz",
            "integrity": "sha512-rT00SPnTVyRsaSz5zgSPma/aHSOic5U1prhYdRy5HS2kTZviFpmDgzilbtsJsxiroqACmayynDN/9VzIbX5DOw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "duplexer": "~0.1.1"
            }
        },
        "node_modules/streamx": {
            "version": "2.23.0",
            "resolved": "https://registry.npmjs.org/streamx/-/streamx-2.23.0.tgz",
            "integrity": "sha512-kn+e44esVfn2Fa/O0CPFcex27fjIL6MkVae0Mm6q+E6f0hWv578YCERbv+4m02cjxvDsPKLnmxral/rR6lBMAg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "events-universal": "^1.0.0",
                "fast-fifo": "^1.3.2",
                "text-decoder": "^1.1.0"
            }
        },
        "node_modules/string_decoder": {
            "version": "1.1.1",
            "resolved": "https://registry.npmjs.org/string_decoder/-/string_decoder-1.1.1.tgz",
            "integrity": "sha512-n/ShnvDi6FHbbVfviro+WojiFzv+s8MPMHBczVePfUpDJLwoLT0ht1l4YwBCbi8pJAveEEdnkHyPyTP/mzRfwg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "safe-buffer": "~5.1.0"
            }
        },
        "node_modules/string-width": {
            "version": "4.2.3",
            "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
            "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "emoji-regex": "^8.0.0",
                "is-fullwidth-code-point": "^3.0.0",
                "strip-ansi": "^6.0.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/strip-ansi": {
            "version": "6.0.1",
            "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
            "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ansi-regex": "^5.0.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/strip-json-comments": {
            "version": "3.1.1",
            "resolved": "https://registry.npmjs.org/strip-json-comments/-/strip-json-comments-3.1.1.tgz",
            "integrity": "sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/sucrase": {
            "version": "3.35.1",
            "resolved": "https://registry.npmjs.org/sucrase/-/sucrase-3.35.1.tgz",
            "integrity": "sha512-DhuTmvZWux4H1UOnWMB3sk0sbaCVOoQZjv8u1rDoTV0HTdGem9hkAZtl4JZy8P2z4Bg0nT+YMeOFyVr4zcG5Tw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/gen-mapping": "^0.3.2",
                "commander": "^4.0.0",
                "lines-and-columns": "^1.1.6",
                "mz": "^2.7.0",
                "pirates": "^4.0.1",
                "tinyglobby": "^0.2.11",
                "ts-interface-checker": "^0.1.9"
            },
            "bin": {
                "sucrase": "bin/sucrase",
                "sucrase-node": "bin/sucrase-node"
            },
            "engines": {
                "node": ">=16 || 14 >=14.17"
            }
        },
        "node_modules/sucrase/node_modules/commander": {
            "version": "4.1.1",
            "resolved": "https://registry.npmjs.org/commander/-/commander-4.1.1.tgz",
            "integrity": "sha512-NOKm8xhkzAjzFx8B2v5OAHT+u5pRQc2UCa2Vq9jYL/31o2wi9mxBA7LIFs3sV5VSC49z6pEhfbMULvShKj26WA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/supports-color": {
            "version": "8.1.1",
            "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-8.1.1.tgz",
            "integrity": "sha512-MpUEN2OodtUzxvKQl72cUF7RQ5EiHsGvSsVG0ia9c5RbWGL2CI4C7EpPS8UTBIplnlzZiNuV56w+FuNxy3ty2Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "has-flag": "^4.0.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/chalk/supports-color?sponsor=1"
            }
        },
        "node_modules/supports-preserve-symlinks-flag": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz",
            "integrity": "sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/tailwindcss": {
            "version": "3.4.19",
            "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-3.4.19.tgz",
            "integrity": "sha512-3ofp+LL8E+pK/JuPLPggVAIaEuhvIz4qNcf3nA1Xn2o/7fb7s/TYpHhwGDv1ZU3PkBluUVaF8PyCHcm48cKLWQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@alloc/quick-lru": "^5.2.0",
                "arg": "^5.0.2",
                "chokidar": "^3.6.0",
                "didyoumean": "^1.2.2",
                "dlv": "^1.1.3",
                "fast-glob": "^3.3.2",
                "glob-parent": "^6.0.2",
                "is-glob": "^4.0.3",
                "jiti": "^1.21.7",
                "lilconfig": "^3.1.3",
                "micromatch": "^4.0.8",
                "normalize-path": "^3.0.0",
                "object-hash": "^3.0.0",
                "picocolors": "^1.1.1",
                "postcss": "^8.4.47",
                "postcss-import": "^15.1.0",
                "postcss-js": "^4.0.1",
                "postcss-load-config": "^4.0.2 || ^5.0 || ^6.0",
                "postcss-nested": "^6.2.0",
                "postcss-selector-parser": "^6.1.2",
                "resolve": "^1.22.8",
                "sucrase": "^3.35.0"
            },
            "bin": {
                "tailwind": "lib/cli.js",
                "tailwindcss": "lib/cli.js"
            },
            "engines": {
                "node": ">=14.0.0"
            }
        },
        "node_modules/tailwindcss/node_modules/anymatch": {
            "version": "3.1.3",
            "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-3.1.3.tgz",
            "integrity": "sha512-KMReFUr0B4t+D+OBkjR3KYqvocp2XaSzO55UcB6mgQMd3KbcE+mWTyvVV7D/zsdEbNnV6acZUutkiHQXvTr1Rw==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "normalize-path": "^3.0.0",
                "picomatch": "^2.0.4"
            },
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/tailwindcss/node_modules/binary-extensions": {
            "version": "2.3.0",
            "resolved": "https://registry.npmjs.org/binary-extensions/-/binary-extensions-2.3.0.tgz",
            "integrity": "sha512-Ceh+7ox5qe7LJuLHoY0feh3pHuUDHAcRUeyL2VYghZwfpkNIy/+8Ocg0a3UuSoYzavmylwuLWQOf3hl0jjMMIw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/tailwindcss/node_modules/braces": {
            "version": "3.0.3",
            "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
            "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "fill-range": "^7.1.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/tailwindcss/node_modules/chokidar": {
            "version": "3.6.0",
            "resolved": "https://registry.npmjs.org/chokidar/-/chokidar-3.6.0.tgz",
            "integrity": "sha512-7VT13fmjotKpGipCW9JEQAusEPE+Ei8nl6/g4FBAmIm0GOOLMua9NDDo/DWp0ZAxCr3cPq5ZpBqmPAQgDda2Pw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "anymatch": "~3.1.2",
                "braces": "~3.0.2",
                "glob-parent": "~5.1.2",
                "is-binary-path": "~2.1.0",
                "is-glob": "~4.0.1",
                "normalize-path": "~3.0.0",
                "readdirp": "~3.6.0"
            },
            "engines": {
                "node": ">= 8.10.0"
            },
            "funding": {
                "url": "https://paulmillr.com/funding/"
            },
            "optionalDependencies": {
                "fsevents": "~2.3.2"
            }
        },
        "node_modules/tailwindcss/node_modules/chokidar/node_modules/glob-parent": {
            "version": "5.1.2",
            "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
            "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "is-glob": "^4.0.1"
            },
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/tailwindcss/node_modules/fill-range": {
            "version": "7.1.1",
            "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
            "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "to-regex-range": "^5.0.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/tailwindcss/node_modules/is-binary-path": {
            "version": "2.1.0",
            "resolved": "https://registry.npmjs.org/is-binary-path/-/is-binary-path-2.1.0.tgz",
            "integrity": "sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "binary-extensions": "^2.0.0"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/tailwindcss/node_modules/is-number": {
            "version": "7.0.0",
            "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
            "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.12.0"
            }
        },
        "node_modules/tailwindcss/node_modules/micromatch": {
            "version": "4.0.8",
            "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
            "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "braces": "^3.0.3",
                "picomatch": "^2.3.1"
            },
            "engines": {
                "node": ">=8.6"
            }
        },
        "node_modules/tailwindcss/node_modules/picomatch": {
            "version": "2.3.1",
            "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
            "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8.6"
            },
            "funding": {
                "url": "https://github.com/sponsors/jonschlinkert"
            }
        },
        "node_modules/tailwindcss/node_modules/readdirp": {
            "version": "3.6.0",
            "resolved": "https://registry.npmjs.org/readdirp/-/readdirp-3.6.0.tgz",
            "integrity": "sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "picomatch": "^2.2.1"
            },
            "engines": {
                "node": ">=8.10.0"
            }
        },
        "node_modules/tailwindcss/node_modules/to-regex-range": {
            "version": "5.0.1",
            "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
            "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-number": "^7.0.0"
            },
            "engines": {
                "node": ">=8.0"
            }
        },
        "node_modules/tar-fs": {
            "version": "3.1.1",
            "resolved": "https://registry.npmjs.org/tar-fs/-/tar-fs-3.1.1.tgz",
            "integrity": "sha512-LZA0oaPOc2fVo82Txf3gw+AkEd38szODlptMYejQUhndHMLQ9M059uXR+AfS7DNo0NpINvSqDsvyaCrBVkptWg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "pump": "^3.0.0",
                "tar-stream": "^3.1.5"
            },
            "optionalDependencies": {
                "bare-fs": "^4.0.1",
                "bare-path": "^3.0.0"
            }
        },
        "node_modules/tar-stream": {
            "version": "3.1.7",
            "resolved": "https://registry.npmjs.org/tar-stream/-/tar-stream-3.1.7.tgz",
            "integrity": "sha512-qJj60CXt7IU1Ffyc3NJMjh6EkuCFej46zUqJ4J7pqYlThyd9bO0XBTmcOIhSzZJVWfsLks0+nle/j538YAW9RQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "b4a": "^1.6.4",
                "fast-fifo": "^1.2.0",
                "streamx": "^2.15.0"
            }
        },
        "node_modules/tar-stream/node_modules/b4a": {
            "version": "1.7.3",
            "resolved": "https://registry.npmjs.org/b4a/-/b4a-1.7.3.tgz",
            "integrity": "sha512-5Q2mfq2WfGuFp3uS//0s6baOJLMoVduPYVeNmDYxu5OUA1/cBfvr2RIS7vi62LdNj/urk1hfmj867I3qt6uZ7Q==",
            "dev": true,
            "license": "Apache-2.0",
            "peerDependencies": {
                "react-native-b4a": "*"
            },
            "peerDependenciesMeta": {
                "react-native-b4a": {
                    "optional": true
                }
            }
        },
        "node_modules/text-decoder": {
            "version": "1.2.3",
            "resolved": "https://registry.npmjs.org/text-decoder/-/text-decoder-1.2.3.tgz",
            "integrity": "sha512-3/o9z3X0X0fTupwsYvR03pJ/DjWuqqrfwBgTQzdWDiQSm9KitAyz/9WqsT2JQW7KV2m+bC2ol/zqpW37NHxLaA==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "b4a": "^1.6.4"
            }
        },
        "node_modules/text-decoder/node_modules/b4a": {
            "version": "1.7.3",
            "resolved": "https://registry.npmjs.org/b4a/-/b4a-1.7.3.tgz",
            "integrity": "sha512-5Q2mfq2WfGuFp3uS//0s6baOJLMoVduPYVeNmDYxu5OUA1/cBfvr2RIS7vi62LdNj/urk1hfmj867I3qt6uZ7Q==",
            "dev": true,
            "license": "Apache-2.0",
            "peerDependencies": {
                "react-native-b4a": "*"
            },
            "peerDependenciesMeta": {
                "react-native-b4a": {
                    "optional": true
                }
            }
        },
        "node_modules/text-table": {
            "version": "0.2.0",
            "resolved": "https://registry.npmjs.org/text-table/-/text-table-0.2.0.tgz",
            "integrity": "sha512-N+8UisAXDGk8PFXP4HAzVR9nbfmVJ3zYLAWiTIoqC5v5isinhr+r5uaO8+7r3BMfuNIufIsA7RdpVgacC2cSpw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/thenify": {
            "version": "3.3.1",
            "resolved": "https://registry.npmjs.org/thenify/-/thenify-3.3.1.tgz",
            "integrity": "sha512-RVZSIV5IG10Hk3enotrhvz0T9em6cyHBLkH/YAZuKqd8hRkKhSfCGIcP2KUY0EPxndzANBmNllzWPwak+bheSw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "any-promise": "^1.0.0"
            }
        },
        "node_modules/thenify-all": {
            "version": "1.6.0",
            "resolved": "https://registry.npmjs.org/thenify-all/-/thenify-all-1.6.0.tgz",
            "integrity": "sha512-RNxQH/qI8/t3thXJDwcstUO4zeqo64+Uy/+sNVRBx4Xn2OX+OZ9oP+iJnNFqplFra2ZUVeKCSa2oVWi3T4uVmA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "thenify": ">= 3.1.0 < 4"
            },
            "engines": {
                "node": ">=0.8"
            }
        },
        "node_modules/through": {
            "version": "2.3.8",
            "resolved": "https://registry.npmjs.org/through/-/through-2.3.8.tgz",
            "integrity": "sha512-w89qg7PI8wAdvX60bMDP+bFoD5Dvhm9oLheFp5O4a2QF0cSBGsBX4qZmadPMvVqlLJBBci+WqGGOAPvcDeNSVg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/tinyglobby": {
            "version": "0.2.15",
            "resolved": "https://registry.npmjs.org/tinyglobby/-/tinyglobby-0.2.15.tgz",
            "integrity": "sha512-j2Zq4NyQYG5XMST4cbs02Ak8iJUdxRM0XI5QyxXuZOzKOINmWurp3smXu3y5wDcJrptwpSjgXHzIQxR0omXljQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "fdir": "^6.5.0",
                "picomatch": "^4.0.3"
            },
            "engines": {
                "node": ">=12.0.0"
            },
            "funding": {
                "url": "https://github.com/sponsors/SuperchupuDev"
            }
        },
        "node_modules/to-object-path": {
            "version": "0.3.0",
            "resolved": "https://registry.npmjs.org/to-object-path/-/to-object-path-0.3.0.tgz",
            "integrity": "sha512-9mWHdnGRuh3onocaHzukyvCZhzvr6tiflAy/JRFXcJX0TjgfWA9pk9t8CMbzmBE4Jfw58pXbkngtBtqYxzNEyg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "kind-of": "^3.0.2"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/to-regex": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/to-regex/-/to-regex-3.0.2.tgz",
            "integrity": "sha512-FWtleNAtZ/Ki2qtqej2CXTOayOH9bHDQF+Q48VpWyDXjbYxA4Yz8iDB31zXOBUlOHHKidDbqGVrTUvQMPmBGBw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "define-property": "^2.0.2",
                "extend-shallow": "^3.0.2",
                "regex-not": "^1.0.2",
                "safe-regex": "^1.1.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/to-regex-range": {
            "version": "2.1.1",
            "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-2.1.1.tgz",
            "integrity": "sha512-ZZWNfCjUokXXDGXFpZehJIkZqq91BcULFq/Pi7M5i4JnxXdhMKAK682z8bCW3o8Hj1wuuzoKcW3DfVzaP6VuNg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-number": "^3.0.0",
                "repeat-string": "^1.6.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/to-regex/node_modules/extend-shallow": {
            "version": "3.0.2",
            "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-3.0.2.tgz",
            "integrity": "sha512-BwY5b5Ql4+qZoefgMj2NUmx+tehVTH/Kf4k1ZEtOHNFcm2wSxMRo992l6X3TIgni2eZVTZ85xMOjF31fwZAj6Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "assign-symbols": "^1.0.0",
                "is-extendable": "^1.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/to-regex/node_modules/is-extendable": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz",
            "integrity": "sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "is-plain-object": "^2.0.4"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/toidentifier": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/toidentifier/-/toidentifier-1.0.1.tgz",
            "integrity": "sha512-o5sSPKEkg/DIQNmH43V0/uerLrpzVedkUh8tGNvaeXpfpuwjKenlSox/2O/BTlZUtEe+JG7s5YhEz608PlAHRA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.6"
            }
        },
        "node_modules/tree-kill": {
            "version": "1.2.2",
            "resolved": "https://registry.npmjs.org/tree-kill/-/tree-kill-1.2.2.tgz",
            "integrity": "sha512-L0Orpi8qGpRG//Nd+H90vFB+3iHnue1zSSGmNOOCh1GLJ7rUKVwV2HvijphGQS2UmhUZewS9VgvxYIdgr+fG1A==",
            "dev": true,
            "license": "MIT",
            "bin": {
                "tree-kill": "cli.js"
            }
        },
        "node_modules/ts-interface-checker": {
            "version": "0.1.13",
            "resolved": "https://registry.npmjs.org/ts-interface-checker/-/ts-interface-checker-0.1.13.tgz",
            "integrity": "sha512-Y/arvbn+rrz3JCKl9C4kVNfTfSm2/mEp5FSz5EsZSANGPSlQrpRI5M4PKF+mJnE52jOO90PnPSc3Ur3bTQw0gA==",
            "dev": true,
            "license": "Apache-2.0"
        },
        "node_modules/tslib": {
            "version": "2.8.1",
            "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.8.1.tgz",
            "integrity": "sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==",
            "dev": true,
            "license": "0BSD"
        },
        "node_modules/type-check": {
            "version": "0.4.0",
            "resolved": "https://registry.npmjs.org/type-check/-/type-check-0.4.0.tgz",
            "integrity": "sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "prelude-ls": "^1.2.1"
            },
            "engines": {
                "node": ">= 0.8.0"
            }
        },
        "node_modules/type-fest": {
            "version": "0.20.2",
            "resolved": "https://registry.npmjs.org/type-fest/-/type-fest-0.20.2.tgz",
            "integrity": "sha512-Ne+eE4r0/iWnpAxD852z3A+N0Bt5RN//NjJwRd2VFHEmrywxf5vsZlh4R6lixl6B+wz/8d+maTSAkN1FIkI3LQ==",
            "dev": true,
            "license": "(MIT OR CC0-1.0)",
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/typescript": {
            "version": "5.9.3",
            "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.9.3.tgz",
            "integrity": "sha512-jl1vZzPDinLr9eUt3J/t7V6FgNEw9QjvBPdysz9KfQDD41fQrC2Y4vKQdiaUpFT4bXlb1RHhLpp8wtm6M5TgSw==",
            "dev": true,
            "license": "Apache-2.0",
            "peer": true,
            "bin": {
                "tsc": "bin/tsc",
                "tsserver": "bin/tsserver"
            },
            "engines": {
                "node": ">=14.17"
            }
        },
        "node_modules/unbzip2-stream": {
            "version": "1.4.3",
            "resolved": "https://registry.npmjs.org/unbzip2-stream/-/unbzip2-stream-1.4.3.tgz",
            "integrity": "sha512-mlExGW4w71ebDJviH16lQLtZS32VKqsSfk80GCfUlwT/4/hNRFsoscrF/c++9xinkMzECL1uL9DDwXqFWkruPg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "buffer": "^5.2.1",
                "through": "^2.3.8"
            }
        },
        "node_modules/undici": {
            "version": "7.14.0",
            "resolved": "https://registry.npmjs.org/undici/-/undici-7.14.0.tgz",
            "integrity": "sha512-Vqs8HTzjpQXZeXdpsfChQTlafcMQaaIwnGwLam1wudSSjlJeQ3bw1j+TLPePgrCnCpUXx7Ba5Pdpf5OBih62NQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=20.18.1"
            }
        },
        "node_modules/undici-types": {
            "version": "7.16.0",
            "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-7.16.0.tgz",
            "integrity": "sha512-Zz+aZWSj8LE6zoxD+xrjh4VfkIG8Ya6LvYkZqtUQGJPZjYl53ypCaUwWqo7eI0x66KBGeRo+mlBEkMSeSZ38Nw==",
            "dev": true,
            "license": "MIT",
            "optional": true
        },
        "node_modules/unenv": {
            "version": "2.0.0-rc.24",
            "resolved": "https://registry.npmjs.org/unenv/-/unenv-2.0.0-rc.24.tgz",
            "integrity": "sha512-i7qRCmY42zmCwnYlh9H2SvLEypEFGye5iRmEMKjcGi7zk9UquigRjFtTLz0TYqr0ZGLZhaMHl/foy1bZR+Cwlw==",
            "dev": true,
            "license": "MIT",
            "peer": true,
            "dependencies": {
                "pathe": "^2.0.3"
            }
        },
        "node_modules/union-value": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/union-value/-/union-value-1.0.1.tgz",
            "integrity": "sha512-tJfXmxMeWYnczCVs7XAEvIV7ieppALdyepWMkHkwciRpZraG/xwT+s2JN8+pr1+8jCRf80FFzvr+MpQeeoF4Xg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "arr-union": "^3.1.0",
                "get-value": "^2.0.6",
                "is-extendable": "^0.1.1",
                "set-value": "^2.0.1"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/universalify": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz",
            "integrity": "sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 10.0.0"
            }
        },
        "node_modules/unix-crypt-td-js": {
            "version": "1.1.4",
            "resolved": "https://registry.npmjs.org/unix-crypt-td-js/-/unix-crypt-td-js-1.1.4.tgz",
            "integrity": "sha512-8rMeVYWSIyccIJscb9NdCfZKSRBKYTeVnwmiRYT2ulE3qd1RaDQ0xQDP+rI3ccIWbhu/zuo5cgN8z73belNZgw==",
            "dev": true,
            "license": "BSD-3-Clause"
        },
        "node_modules/unpipe": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/unpipe/-/unpipe-1.0.0.tgz",
            "integrity": "sha512-pjy2bYhSsufwWlKwPc+l3cN7+wuJlK6uz0YdJEOlQDbl6jo/YlPi4mb8agUkVC8BF7V8NuzeyPNqRksA3hztKQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/unset-value": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/unset-value/-/unset-value-1.0.0.tgz",
            "integrity": "sha512-PcA2tsuGSF9cnySLHTLSh2qrQiJ70mn+r+Glzxv2TWZblxsxCC52BDlZoPCsz7STd9pN7EZetkWZBAvk4cgZdQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "has-value": "^0.3.1",
                "isobject": "^3.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/unset-value/node_modules/has-value": {
            "version": "0.3.1",
            "resolved": "https://registry.npmjs.org/has-value/-/has-value-0.3.1.tgz",
            "integrity": "sha512-gpG936j8/MzaeID5Yif+577c17TxaDmhuyVgSwtnL/q8UUTySg8Mecb+8Cf1otgLoD7DDH75axp86ER7LFsf3Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "get-value": "^2.0.3",
                "has-values": "^0.1.4",
                "isobject": "^2.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/unset-value/node_modules/has-value/node_modules/isobject": {
            "version": "2.1.0",
            "resolved": "https://registry.npmjs.org/isobject/-/isobject-2.1.0.tgz",
            "integrity": "sha512-+OUdGJlgjOBZDfxnDjYYG6zp487z0JGNQq3cYQYg5f5hKR+syHMsaztzGeml/4kGG55CSpKSpWTY+jYGgsHLgA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "isarray": "1.0.0"
            },
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/unset-value/node_modules/has-values": {
            "version": "0.1.4",
            "resolved": "https://registry.npmjs.org/has-values/-/has-values-0.1.4.tgz",
            "integrity": "sha512-J8S0cEdWuQbqD9//tlZxiMuMNmxB8PlEwvYwuxsTmR1G5RXUePEX/SJn7aD0GMLieuZYSwNH0cQuJGwnYunXRQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/upath": {
            "version": "1.2.0",
            "resolved": "https://registry.npmjs.org/upath/-/upath-1.2.0.tgz",
            "integrity": "sha512-aZwGpamFO61g3OlfT7OQCHqhGnW43ieH9WZeP7QxN/G/jS4jfqUkZxoryvJgVPEcrl5NL/ggHsSmLMHuH64Lhg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=4",
                "yarn": "*"
            }
        },
        "node_modules/update-browserslist-db": {
            "version": "1.2.3",
            "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.2.3.tgz",
            "integrity": "sha512-Js0m9cx+qOgDxo0eMiFGEueWztz+d4+M3rGlmKPT+T4IS/jP4ylw3Nwpu6cpTTP8R1MAC1kF4VbdLt3ARf209w==",
            "dev": true,
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/browserslist"
                },
                {
                    "type": "tidelift",
                    "url": "https://tidelift.com/funding/github/npm/browserslist"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "escalade": "^3.2.0",
                "picocolors": "^1.1.1"
            },
            "bin": {
                "update-browserslist-db": "cli.js"
            },
            "peerDependencies": {
                "browserslist": ">= 4.21.0"
            }
        },
        "node_modules/uri-js": {
            "version": "4.4.1",
            "resolved": "https://registry.npmjs.org/uri-js/-/uri-js-4.4.1.tgz",
            "integrity": "sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==",
            "dev": true,
            "license": "BSD-2-Clause",
            "dependencies": {
                "punycode": "^2.1.0"
            }
        },
        "node_modules/urix": {
            "version": "0.1.0",
            "resolved": "https://registry.npmjs.org/urix/-/urix-0.1.0.tgz",
            "integrity": "sha512-Am1ousAhSLBeB9cG/7k7r2R0zj50uDRlZHPGbazid5s9rlF1F/QKYObEKSIunSjIOkJZqwRRLpvewjEkM7pSqg==",
            "deprecated": "Please see https://github.com/lydell/urix#deprecated",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/urlpattern-polyfill": {
            "version": "10.0.0",
            "resolved": "https://registry.npmjs.org/urlpattern-polyfill/-/urlpattern-polyfill-10.0.0.tgz",
            "integrity": "sha512-H/A06tKD7sS1O1X2SshBVeA5FLycRpjqiBeqGKmBwBDBy28EnRjORxTNe269KSSr5un5qyWi1iL61wLxpd+ZOg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/use": {
            "version": "3.1.1",
            "resolved": "https://registry.npmjs.org/use/-/use-3.1.1.tgz",
            "integrity": "sha512-cwESVXlO3url9YWlFW/TA9cshCEhtu7IKJ/p5soJ/gGpj7vbvFrAY/eIioQ6Dw23KjZhYgiIo8HOs1nQ2vr/oQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/util-deprecate": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz",
            "integrity": "sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/utils-merge": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/utils-merge/-/utils-merge-1.0.1.tgz",
            "integrity": "sha512-pMZTvIkT1d+TFGvDOqodOclx0QWkkgi6Tdoa8gC8ffGAAqz9pzPTZWAybbsHHoED/ztMtkv/VoYTYyShUn81hA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4.0"
            }
        },
        "node_modules/uuid": {
            "version": "3.4.0",
            "resolved": "https://registry.npmjs.org/uuid/-/uuid-3.4.0.tgz",
            "integrity": "sha512-HjSDRw6gZE5JMggctHBcjVak08+KEVhSIiDzFnT9S9aegmp85S/bReBVTb4QTFaRNptJ9kuYaNhnbNEOkbKb/A==",
            "deprecated": "Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.",
            "dev": true,
            "license": "MIT",
            "bin": {
                "uuid": "bin/uuid"
            }
        },
        "node_modules/vary": {
            "version": "1.1.2",
            "resolved": "https://registry.npmjs.org/vary/-/vary-1.1.2.tgz",
            "integrity": "sha512-BNGbWLfd0eUPabhkXUVm0j8uuvREyTh5ovRa/dyow/BqAbZJyC+5fU+IzQOzmAKzYqYRAISoRhdQr3eIZ/PXqg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/vite": {
            "version": "5.4.21",
            "resolved": "https://registry.npmjs.org/vite/-/vite-5.4.21.tgz",
            "integrity": "sha512-o5a9xKjbtuhY6Bi5S3+HvbRERmouabWbyUcpXXUA1u+GNUKoROi9byOJ8M0nHbHYHkYICiMlqxkg1KkYmm25Sw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "esbuild": "^0.21.3",
                "postcss": "^8.4.43",
                "rollup": "^4.20.0"
            },
            "bin": {
                "vite": "bin/vite.js"
            },
            "engines": {
                "node": "^18.0.0 || >=20.0.0"
            },
            "funding": {
                "url": "https://github.com/vitejs/vite?sponsor=1"
            },
            "optionalDependencies": {
                "fsevents": "~2.3.3"
            },
            "peerDependencies": {
                "@types/node": "^18.0.0 || >=20.0.0",
                "less": "*",
                "lightningcss": "^1.21.0",
                "sass": "*",
                "sass-embedded": "*",
                "stylus": "*",
                "sugarss": "*",
                "terser": "^5.4.0"
            },
            "peerDependenciesMeta": {
                "@types/node": {
                    "optional": true
                },
                "less": {
                    "optional": true
                },
                "lightningcss": {
                    "optional": true
                },
                "sass": {
                    "optional": true
                },
                "sass-embedded": {
                    "optional": true
                },
                "stylus": {
                    "optional": true
                },
                "sugarss": {
                    "optional": true
                },
                "terser": {
                    "optional": true
                }
            }
        },
        "node_modules/vite/node_modules/@esbuild/aix-ppc64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.21.5.tgz",
            "integrity": "sha512-1SDgH6ZSPTlggy1yI6+Dbkiz8xzpHJEVAlF/AM1tHPLsf5STom9rwtjE4hKAF20FfXXNTFqEYXyJNWh1GiZedQ==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "aix"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/android-arm": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.21.5.tgz",
            "integrity": "sha512-vCPvzSjpPHEi1siZdlvAlsPxXl7WbOVUBBAowWug4rJHb68Ox8KualB+1ocNvT5fjv6wpkX6o/iEpbDrf68zcg==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/android-arm64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.21.5.tgz",
            "integrity": "sha512-c0uX9VAUBQ7dTDCjq+wdyGLowMdtR/GoC2U5IYk/7D1H1JYC0qseD7+11iMP2mRLN9RcCMRcjC4YMclCzGwS/A==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/android-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.21.5.tgz",
            "integrity": "sha512-D7aPRUUNHRBwHxzxRvp856rjUHRFW1SdQATKXH2hqA0kAZb1hKmi02OpYRacl0TxIGz/ZmXWlbZgjwWYaCakTA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/darwin-arm64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.21.5.tgz",
            "integrity": "sha512-DwqXqZyuk5AiWWf3UfLiRDJ5EDd49zg6O9wclZ7kUMv2WRFr4HKjXp/5t8JZ11QbQfUS6/cRCKGwYhtNAY88kQ==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/darwin-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.21.5.tgz",
            "integrity": "sha512-se/JjF8NlmKVG4kNIuyWMV/22ZaerB+qaSi5MdrXtd6R08kvs2qCN4C09miupktDitvh8jRFflwGFBQcxZRjbw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/freebsd-arm64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.21.5.tgz",
            "integrity": "sha512-5JcRxxRDUJLX8JXp/wcBCy3pENnCgBR9bN6JsY4OmhfUtIHe3ZW0mawA7+RDAcMLrMIZaf03NlQiX9DGyB8h4g==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/freebsd-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.21.5.tgz",
            "integrity": "sha512-J95kNBj1zkbMXtHVH29bBriQygMXqoVQOQYA+ISs0/2l3T9/kj42ow2mpqerRBxDJnmkUDCaQT/dfNXWX/ZZCQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-arm": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.21.5.tgz",
            "integrity": "sha512-bPb5AHZtbeNGjCKVZ9UGqGwo8EUu4cLq68E95A53KlxAPRmUyYv2D6F0uUI65XisGOL1hBP5mTronbgo+0bFcA==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-arm64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.21.5.tgz",
            "integrity": "sha512-ibKvmyYzKsBeX8d8I7MH/TMfWDXBF3db4qM6sy+7re0YXya+K1cem3on9XgdT2EQGMu4hQyZhan7TeQ8XkGp4Q==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-ia32": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.21.5.tgz",
            "integrity": "sha512-YvjXDqLRqPDl2dvRODYmmhz4rPeVKYvppfGYKSNGdyZkA01046pLWyRKKI3ax8fbJoK5QbxblURkwK/MWY18Tg==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-loong64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.21.5.tgz",
            "integrity": "sha512-uHf1BmMG8qEvzdrzAqg2SIG/02+4/DHB6a9Kbya0XDvwDEKCoC8ZRWI5JJvNdUjtciBGFQ5PuBlpEOXQj+JQSg==",
            "cpu": [
                "loong64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-mips64el": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.21.5.tgz",
            "integrity": "sha512-IajOmO+KJK23bj52dFSNCMsz1QP1DqM6cwLUv3W1QwyxkyIWecfafnI555fvSGqEKwjMXVLokcV5ygHW5b3Jbg==",
            "cpu": [
                "mips64el"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-ppc64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.21.5.tgz",
            "integrity": "sha512-1hHV/Z4OEfMwpLO8rp7CvlhBDnjsC3CttJXIhBi+5Aj5r+MBvy4egg7wCbe//hSsT+RvDAG7s81tAvpL2XAE4w==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-riscv64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.21.5.tgz",
            "integrity": "sha512-2HdXDMd9GMgTGrPWnJzP2ALSokE/0O5HhTUvWIbD3YdjME8JwvSCnNGBnTThKGEB91OZhzrJ4qIIxk/SBmyDDA==",
            "cpu": [
                "riscv64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-s390x": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.21.5.tgz",
            "integrity": "sha512-zus5sxzqBJD3eXxwvjN1yQkRepANgxE9lgOW2qLnmr8ikMTphkjgXu1HR01K4FJg8h1kEEDAqDcZQtbrRnB41A==",
            "cpu": [
                "s390x"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/linux-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.21.5.tgz",
            "integrity": "sha512-1rYdTpyv03iycF1+BhzrzQJCdOuAOtaqHTWJZCWvijKD2N5Xu0TtVC8/+1faWqcP9iBCWOmjmhoH94dH82BxPQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/netbsd-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.21.5.tgz",
            "integrity": "sha512-Woi2MXzXjMULccIwMnLciyZH4nCIMpWQAs049KEeMvOcNADVxo0UBIQPfSmxB3CWKedngg7sWZdLvLczpe0tLg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "netbsd"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/openbsd-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.21.5.tgz",
            "integrity": "sha512-HLNNw99xsvx12lFBUwoT8EVCsSvRNDVxNpjZ7bPn947b8gJPzeHWyNVhFsaerc0n3TsbOINvRP2byTZ5LKezow==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openbsd"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/sunos-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.21.5.tgz",
            "integrity": "sha512-6+gjmFpfy0BHU5Tpptkuh8+uw3mnrvgs+dSPQXQOv3ekbordwnzTVEb4qnIvQcYXq6gzkyTnoZ9dZG+D4garKg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "sunos"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/win32-arm64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.21.5.tgz",
            "integrity": "sha512-Z0gOTd75VvXqyq7nsl93zwahcTROgqvuAcYDUr+vOv8uHhNSKROyU961kgtCD1e95IqPKSQKH7tBTslnS3tA8A==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/win32-ia32": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.21.5.tgz",
            "integrity": "sha512-SWXFF1CL2RVNMaVs+BBClwtfZSvDgtL//G/smwAc5oVK/UPu2Gu9tIaRgFmYFFKrmg3SyAjSrElf0TiJ1v8fYA==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/@esbuild/win32-x64": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.21.5.tgz",
            "integrity": "sha512-tQd/1efJuzPC6rCFwEvLtci/xNFcTZknmXs98FYDfGE4wP9ClFV98nyKrzJKVPMhdDnjzLhdUyMX4PsQAPjwIw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/vite/node_modules/esbuild": {
            "version": "0.21.5",
            "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.21.5.tgz",
            "integrity": "sha512-mg3OPMV4hXywwpoDxu3Qda5xCKQi+vCTZq8S9J/EpkhB2HzKXq4SNFZE3+NK93JYxc8VMSep+lOUSC/RVKaBqw==",
            "dev": true,
            "hasInstallScript": true,
            "license": "MIT",
            "bin": {
                "esbuild": "bin/esbuild"
            },
            "engines": {
                "node": ">=12"
            },
            "optionalDependencies": {
                "@esbuild/aix-ppc64": "0.21.5",
                "@esbuild/android-arm": "0.21.5",
                "@esbuild/android-arm64": "0.21.5",
                "@esbuild/android-x64": "0.21.5",
                "@esbuild/darwin-arm64": "0.21.5",
                "@esbuild/darwin-x64": "0.21.5",
                "@esbuild/freebsd-arm64": "0.21.5",
                "@esbuild/freebsd-x64": "0.21.5",
                "@esbuild/linux-arm": "0.21.5",
                "@esbuild/linux-arm64": "0.21.5",
                "@esbuild/linux-ia32": "0.21.5",
                "@esbuild/linux-loong64": "0.21.5",
                "@esbuild/linux-mips64el": "0.21.5",
                "@esbuild/linux-ppc64": "0.21.5",
                "@esbuild/linux-riscv64": "0.21.5",
                "@esbuild/linux-s390x": "0.21.5",
                "@esbuild/linux-x64": "0.21.5",
                "@esbuild/netbsd-x64": "0.21.5",
                "@esbuild/openbsd-x64": "0.21.5",
                "@esbuild/sunos-x64": "0.21.5",
                "@esbuild/win32-arm64": "0.21.5",
                "@esbuild/win32-ia32": "0.21.5",
                "@esbuild/win32-x64": "0.21.5"
            }
        },
        "node_modules/websocket-driver": {
            "version": "0.7.4",
            "resolved": "https://registry.npmjs.org/websocket-driver/-/websocket-driver-0.7.4.tgz",
            "integrity": "sha512-b17KeDIQVjvb0ssuSDF2cYXSg2iztliJ4B9WdsuB6J952qCPKmnVq4DyW5motImXHDC1cBT/1UezrJVsKw5zjg==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "http-parser-js": ">=0.5.1",
                "safe-buffer": ">=5.1.0",
                "websocket-extensions": ">=0.1.1"
            },
            "engines": {
                "node": ">=0.8.0"
            }
        },
        "node_modules/websocket-extensions": {
            "version": "0.1.4",
            "resolved": "https://registry.npmjs.org/websocket-extensions/-/websocket-extensions-0.1.4.tgz",
            "integrity": "sha512-OqedPIGOfsDlo31UNwYbCFMSaO9m9G/0faIHj5/dZFDMFqPTcx6UwqyOy3COEaEOg/9VsGIpdqn62W5KhoKSpg==",
            "dev": true,
            "license": "Apache-2.0",
            "engines": {
                "node": ">=0.8.0"
            }
        },
        "node_modules/which": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
            "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "isexe": "^2.0.0"
            },
            "bin": {
                "node-which": "bin/node-which"
            },
            "engines": {
                "node": ">= 8"
            }
        },
        "node_modules/word-wrap": {
            "version": "1.2.5",
            "resolved": "https://registry.npmjs.org/word-wrap/-/word-wrap-1.2.5.tgz",
            "integrity": "sha512-BN22B5eaMMI9UMtjrGd5g5eCYPpCPDUy0FJXbYsaT5zYxjFOckS53SQDE3pWkVoWpHXVb3BrYcEN4Twa55B5cA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/workerd": {
            "version": "1.20251210.0",
            "resolved": "https://registry.npmjs.org/workerd/-/workerd-1.20251210.0.tgz",
            "integrity": "sha512-9MUUneP1BnRE9XAYi94FXxHmiLGbO75EHQZsgWqSiOXjoXSqJCw8aQbIEPxCy19TclEl/kHUFYce8ST2W+Qpjw==",
            "dev": true,
            "hasInstallScript": true,
            "license": "Apache-2.0",
            "peer": true,
            "bin": {
                "workerd": "bin/workerd"
            },
            "engines": {
                "node": ">=16"
            },
            "optionalDependencies": {
                "@cloudflare/workerd-darwin-64": "1.20251210.0",
                "@cloudflare/workerd-darwin-arm64": "1.20251210.0",
                "@cloudflare/workerd-linux-64": "1.20251210.0",
                "@cloudflare/workerd-linux-arm64": "1.20251210.0",
                "@cloudflare/workerd-windows-64": "1.20251210.0"
            }
        },
        "node_modules/wrangler": {
            "version": "4.54.0",
            "resolved": "https://registry.npmjs.org/wrangler/-/wrangler-4.54.0.tgz",
            "integrity": "sha512-bANFsjDwJLbprYoBK+hUDZsVbUv2SqJd8QvArLIcZk+fPq4h/Ohtj5vkKXD3k0s2bD1DXLk08D+hYmeNH+xC6A==",
            "dev": true,
            "license": "MIT OR Apache-2.0",
            "dependencies": {
                "@cloudflare/kv-asset-handler": "0.4.1",
                "@cloudflare/unenv-preset": "2.7.13",
                "blake3-wasm": "2.1.5",
                "esbuild": "0.27.0",
                "miniflare": "4.20251210.0",
                "path-to-regexp": "6.3.0",
                "unenv": "2.0.0-rc.24",
                "workerd": "1.20251210.0"
            },
            "bin": {
                "wrangler": "bin/wrangler.js",
                "wrangler2": "bin/wrangler.js"
            },
            "engines": {
                "node": ">=20.0.0"
            },
            "optionalDependencies": {
                "fsevents": "~2.3.2"
            },
            "peerDependencies": {
                "@cloudflare/workers-types": "^4.20251210.0"
            },
            "peerDependenciesMeta": {
                "@cloudflare/workers-types": {
                    "optional": true
                }
            }
        },
        "node_modules/wrap-ansi": {
            "version": "7.0.0",
            "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
            "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ansi-styles": "^4.0.0",
                "string-width": "^4.1.0",
                "strip-ansi": "^6.0.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
            }
        },
        "node_modules/wrappy": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz",
            "integrity": "sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/ws": {
            "version": "8.18.0",
            "resolved": "https://registry.npmjs.org/ws/-/ws-8.18.0.tgz",
            "integrity": "sha512-8VbfWfHLbbwu3+N6OKsOMpBdT4kXPDDB9cJk2bJ6mh9ucxdlnNvH1e+roYkKmN9Nxw2yjz7VzeO9oOz2zJ04Pw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=10.0.0"
            },
            "peerDependencies": {
                "bufferutil": "^4.0.1",
                "utf-8-validate": ">=5.0.2"
            },
            "peerDependenciesMeta": {
                "bufferutil": {
                    "optional": true
                },
                "utf-8-validate": {
                    "optional": true
                }
            }
        },
        "node_modules/xml": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/xml/-/xml-1.0.1.tgz",
            "integrity": "sha512-huCv9IH9Tcf95zuYCsQraZtWnJvBtLVE0QHMOs8bWyZAFZNDcYjsPq1nEx8jKA9y+Beo9v+7OBPRisQTjinQMw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/y18n": {
            "version": "5.0.8",
            "resolved": "https://registry.npmjs.org/y18n/-/y18n-5.0.8.tgz",
            "integrity": "sha512-0pfFzegeDWJHJIAmTLRP2DwHjdF5s7jo9tuztdQxAhINCdvS+3nGINqPd00AphqJR/0LhANUS6/+7SCb98YOfA==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": ">=10"
            }
        },
        "node_modules/yargs": {
            "version": "17.7.2",
            "resolved": "https://registry.npmjs.org/yargs/-/yargs-17.7.2.tgz",
            "integrity": "sha512-7dSzzRQ++CKnNI/krKnYRV7JKKPUXMEh61soaHKg9mrWEhzFWhFnxPxGl+69cD1Ou63C13NUPCnmIcrvqCuM6w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "cliui": "^8.0.1",
                "escalade": "^3.1.1",
                "get-caller-file": "^2.0.5",
                "require-directory": "^2.1.1",
                "string-width": "^4.2.3",
                "y18n": "^5.0.5",
                "yargs-parser": "^21.1.1"
            },
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/yargs-parser": {
            "version": "21.1.1",
            "resolved": "https://registry.npmjs.org/yargs-parser/-/yargs-parser-21.1.1.tgz",
            "integrity": "sha512-tVpsJW7DdjecAiFpbIB1e3qxIQsE6NoPc5/eTdrbbIC4h0LVsWhnoa3g+m2HclBIujHzsxZ4VJVA+GUuc2/LBw==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/yauzl": {
            "version": "2.10.0",
            "resolved": "https://registry.npmjs.org/yauzl/-/yauzl-2.10.0.tgz",
            "integrity": "sha512-p4a9I6X6nu6IhoGmBqAcbJy1mlC4j27vEPZX9F4L4/vZT3Lyq1VkFHw/V/PUcB9Buo+DG3iHkT0x3Qya58zc3g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "buffer-crc32": "~0.2.3",
                "fd-slicer": "~1.1.0"
            }
        },
        "node_modules/yocto-queue": {
            "version": "0.1.0",
            "resolved": "https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz",
            "integrity": "sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
            }
        },
        "node_modules/youch": {
            "version": "4.1.0-beta.10",
            "resolved": "https://registry.npmjs.org/youch/-/youch-4.1.0-beta.10.tgz",
            "integrity": "sha512-rLfVLB4FgQneDr0dv1oddCVZmKjcJ6yX6mS4pU82Mq/Dt9a3cLZQ62pDBL4AUO+uVrCvtWz3ZFUL2HFAFJ/BXQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@poppinss/colors": "^4.1.5",
                "@poppinss/dumper": "^0.6.4",
                "@speed-highlight/core": "^1.2.7",
                "cookie": "^1.0.2",
                "youch-core": "^0.3.3"
            }
        },
        "node_modules/youch-core": {
            "version": "0.3.3",
            "resolved": "https://registry.npmjs.org/youch-core/-/youch-core-0.3.3.tgz",
            "integrity": "sha512-ho7XuGjLaJ2hWHoK8yFnsUGy2Y5uDpqSTq1FkHLK4/oqKtyUU1AFbOOxY4IpC9f0fTLjwYbslUz0Po5BpD1wrA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@poppinss/exception": "^1.2.2",
                "error-stack-parser-es": "^1.0.5"
            }
        },
        "node_modules/zod": {
            "version": "3.22.3",
            "resolved": "https://registry.npmjs.org/zod/-/zod-3.22.3.tgz",
            "integrity": "sha512-EjIevzuJRiRPbVH4mGc8nApb/lVLKVpmUhAaR5R5doKGfAnGJ6Gr3CViAVjP+4FWSxCsybeWQdcgCtbX+7oZug==",
            "dev": true,
            "license": "MIT",
            "funding": {
                "url": "https://github.com/sponsors/colinhacks"
            }
        }
    }
}

==================================================
FILE PATH: \package.json
==================================================

{
    "name": "fennec-swap",
    "version": "1.0.0",
    "description": "Fennec Swap - Fractal Bitcoin Token Exchange",
    "dependencies": {
        "@scure/base": "^1.2.6",
        "@scure/btc-signer": "^1.7.0"
    },
    "scripts": {
        "deploy:worker": "wrangler deploy",
        "deploy:pages": "wrangler pages deploy . --project-name=fennec-swap --commit-dirty=true",
        "deploy-worker": "npm run deploy:worker",
        "deploy-pages": "npm run deploy:pages",
        "deploy": "npm run deploy:worker && npm run deploy:pages",
        "dev:worker": "wrangler dev",
        "dev": "live-server --port=3000 --open=/index.html --watch=index.html,worker.js,api",
        "dev:all": "concurrently \"npm run dev\" \"npm run dev:worker\"",
        "stats:snapshot": "node scripts/fractal_stats_snapshot.mjs",
        "login": "wrangler login",
        "lint": "eslint worker.js api/*.js --fix",
        "lint:html": "htmlhint index.html",
        "format": "prettier --write \"**/*.{js,html,css,json}\" --ignore-path .prettierignore",
        "format:check": "prettier --check \"**/*.{js,html,css,json}\"",
        "validate": "npm run lint && npm run lint:html && npm run format:check",
        "test:worker": "wrangler dev --local",
        "qa:cycle": "node qa-bridge.js"
    },
    "devDependencies": {
        "autoprefixer": "^10.4.20",
        "wrangler": "^4.54.0",
        "live-server": "^1.2.2",
        "concurrently": "^8.2.2",
        "eslint": "^8.57.0",
        "postcss": "^8.4.49",
        "prettier": "^3.2.5",
        "tailwindcss": "^3.4.15",
        "typescript": "^5.6.3",
        "vite": "^5.4.11",
        "htmlhint": "^1.1.4",
        "puppeteer": "^22.0.0"
    },
    "engines": {
        "node": ">=18.0.0"
    }
}

==================================================
FILE PATH: \preview-vfx-evolution.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fennec VFX Evolution Matrix - Production Grade</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                background: linear-gradient(135deg, #0a0a0f 0%, #1a1428 50%, #0a0a0f 100%);
                min-height: 100vh;
                padding: 40px 20px;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                color: white;
            }

            .page-title {
                font-size: 2.5rem;
                font-weight: 900;
                text-align: center;
                margin-bottom: 0.5rem;
                text-transform: uppercase;
                letter-spacing: 0.1em;
                background: linear-gradient(90deg, #ff6b35, #8a2be2, #00ffff);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            .page-subtitle {
                text-align: center;
                color: rgba(255, 255, 255, 0.5);
                font-size: 0.875rem;
                margin-bottom: 3rem;
                letter-spacing: 0.05em;
            }

            .section-title {
                font-size: 1.75rem;
                font-weight: 800;
                margin: 3rem auto 1.5rem;
                text-transform: uppercase;
                letter-spacing: 0.08em;
                color: #ff6b35;
                text-shadow: 0 0 20px rgba(255, 107, 53, 0.5);
                max-width: 1600px;
            }

            .border-showcase {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
                gap: 40px;
                max-width: 1600px;
                margin: 0 auto 60px;
                padding: 20px;
            }

            .matrix-grid {
                display: grid;
                grid-template-columns: 150px repeat(4, 1fr);
                gap: 20px;
                max-width: 1600px;
                margin: 0 auto 30px;
            }

            .matrix-label {
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: 700;
                font-size: 0.875rem;
                text-transform: uppercase;
                letter-spacing: 0.05em;
                background: rgba(255, 107, 53, 0.1);
                border-radius: 8px;
                border: 1px solid rgba(255, 107, 53, 0.2);
                padding: 1rem;
            }

            .card-wrapper {
                position: relative;
                aspect-ratio: 2.5 / 3.5;
            }

            .card-wrapper::before {
                content: '';
                position: absolute;
                inset: -4px;
                border-radius: calc(20px + 4px);
                z-index: -1;
                pointer-events: none;
            }

            .card-face {
                position: relative;
                width: 100%;
                height: 100%;
                border-radius: 20px;
                overflow: hidden;
                background-color: #1a1a1a;
                border: 1px solid rgba(255, 255, 255, 0.1);
            }

            .card-image {
                position: absolute;
                inset: 0;
                width: 100%;
                height: 100%;
                object-fit: cover;
                z-index: 1;
            }

            .card-vfx {
                position: absolute;
                inset: 0;
                z-index: 2;
                pointer-events: none;
                overflow: hidden;
            }

            .tier-2 .card-vfx {
                opacity: 0.4;
            }

            .tier-3 .card-vfx {
                opacity: 0.9;
            }

            .showcase-content {
                position: absolute;
                inset: 0;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 60;
            }

            .border-title {
                font-size: 1.25rem;
                font-weight: 800;
                text-transform: uppercase;
                letter-spacing: 0.1em;
                margin-bottom: 0.5rem;
                text-shadow: 0 2px 8px rgba(0, 0, 0, 0.9);
            }

            .border-desc {
                font-size: 0.75rem;
                opacity: 0.7;
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.9);
            }

            @property --scout-angle {
                syntax: '<angle>';
                initial-value: 0deg;
                inherits: false;
            }

            @property --hunter-angle {
                syntax: '<angle>';
                initial-value: 0deg;
                inherits: false;
            }

            @property --spirit-angle {
                syntax: '<angle>';
                initial-value: 0deg;
                inherits: false;
            }

            .border-cub::before {
                background: linear-gradient(135deg, #3a3a3a, #5a5a5a, #6a6a6a, #5a5a5a, #3a3a3a);
                box-shadow: 0 0 15px rgba(90, 90, 90, 0.5);
            }

            .border-scout::before {
                background: conic-gradient(
                    from var(--scout-angle),
                    rgba(34, 197, 94, 0.6) 0%,
                    rgba(34, 197, 94, 0.6) 70%,
                    rgba(34, 197, 94, 1) 85%,
                    #22c55e 100%
                );
                animation: scoutBeam 4s linear infinite;
                box-shadow:
                    0 0 15px rgba(34, 197, 94, 0.5),
                    inset 0 0 10px rgba(34, 197, 94, 0.3);
            }

            @keyframes scoutBeam {
                0% {
                    --scout-angle: 0deg;
                }
                100% {
                    --scout-angle: 360deg;
                }
            }

            .border-hunter::before {
                background: conic-gradient(
                    from var(--hunter-angle),
                    rgba(14, 165, 233, 0.6) 0%,
                    rgba(14, 165, 233, 0.6) 70%,
                    rgba(14, 165, 233, 1) 85%,
                    #0ea5e9 100%
                );
                animation: hunterBeam 4s linear infinite;
                box-shadow:
                    0 0 15px rgba(14, 165, 233, 0.5),
                    inset 0 0 10px rgba(14, 165, 233, 0.3);
            }

            @keyframes hunterBeam {
                0% {
                    --hunter-angle: 0deg;
                }
                100% {
                    --hunter-angle: 360deg;
                }
            }

            .border-alpha::before {
                background: conic-gradient(
                    from var(--hunter-angle),
                    #450a0a 0deg,
                    #7f1d1d 60deg,
                    #dc2626 120deg,
                    #f97316 180deg,
                    #dc2626 240deg,
                    #7f1d1d 300deg,
                    #450a0a 360deg
                );
                animation: hunterBeam 8s linear infinite;
                filter: blur(2px);
                box-shadow: 0 0 25px rgba(255, 0, 0, 0.8);
            }

            .border-elder::before {
                background: linear-gradient(135deg, #a47e1b 0%, #f9d976 25%, #ffffff 50%, #f9d976 75%, #a47e1b 100%);
                background-size: 200% 200%;
                animation: goldShimmer 5s ease-in-out infinite;
                box-shadow: 0 0 30px rgba(255, 215, 0, 0.7);
            }

            @keyframes goldShimmer {
                0%,
                100% {
                    background-position: 0% 50%;
                }
                50% {
                    background-position: 100% 50%;
                }
            }

            .border-spirit::before {
                background: conic-gradient(
                    from var(--spirit-angle),
                    #ff0000 0deg,
                    #ff7f00 51deg,
                    #ffff00 102deg,
                    #00ff00 153deg,
                    #00ffff 204deg,
                    #0000ff 255deg,
                    #8b00ff 306deg,
                    #ff0000 360deg
                );
                animation: spiritSpinGradient 3s linear infinite;
                box-shadow:
                    0 0 40px rgba(255, 255, 255, 0.8),
                    0 0 60px rgba(138, 43, 226, 0.6);
            }

            @keyframes spiritSpinGradient {
                0% {
                    --spirit-angle: 0deg;
                }
                100% {
                    --spirit-angle: 360deg;
                }
            }

            .tier-0 .card-image {
                filter: grayscale(40%) sepia(10%) brightness(95%) contrast(90%);
            }

            .tier-1 .card-image {
                filter: none;
            }

            .tier-2 .card-image {
                filter: contrast(105%) brightness(102%) saturate(110%);
            }

            .tier-3 .card-image {
                filter: contrast(110%) brightness(105%) saturate(120%);
            }

            .vfx-drifter::before {
                content: '';
                position: absolute;
                inset: -200%;
                background:
                    radial-gradient(ellipse at 50% 150%, rgba(255, 107, 53, 0.8) 0%, transparent 35%),
                    linear-gradient(to top, rgba(255, 107, 53, 0.5) 0%, transparent 45%);
                animation: heatHaze 3s ease-in-out infinite;
                mix-blend-mode: hard-light;
                filter: blur(12px);
                opacity: 0.6;
            }

            @keyframes heatHaze {
                0%,
                100% {
                    transform: scale(1) translateY(0);
                }
                50% {
                    transform: scale(1.05) translateY(-8px);
                }
            }

            .vfx-walker::before {
                content: '';
                position: absolute;
                inset: -200%;
                background:
                    radial-gradient(ellipse at 0% 50%, rgba(59, 130, 246, 0.7) 0%, transparent 40%),
                    radial-gradient(ellipse at 100% 50%, rgba(59, 130, 246, 0.7) 0%, transparent 40%);
                animation: phaseShift 6s ease-in-out infinite;
                mix-blend-mode: screen;
                opacity: 0.6;
            }

            @keyframes phaseShift {
                0%,
                100% {
                    transform: translate(0, 0) rotate(0deg);
                }
                50% {
                    transform: translate(30px, -30px) rotate(180deg);
                }
            }

            .vfx-merchant::before {
                content: '';
                position: absolute;
                inset: -200%;
                background: linear-gradient(
                    120deg,
                    transparent 0%,
                    transparent 48%,
                    rgba(255, 215, 0, 0.9) 50%,
                    transparent 52%,
                    transparent 100%
                );
                animation: razorSweep 15s ease-in-out infinite;
                mix-blend-mode: screen;
            }

            @keyframes razorSweep {
                0% {
                    transform: translateX(-150%) translateY(-150%);
                }
                100% {
                    transform: translateX(150%) translateY(150%);
                }
            }

            .vfx-engineer::before {
                content: '';
                position: absolute;
                inset: 0;
                background: repeating-linear-gradient(
                    0deg,
                    transparent 0px,
                    rgba(0, 255, 255, 0.25) 2px,
                    transparent 4px
                );
                animation: scanlineMove 8s linear infinite;
                mix-blend-mode: screen;
                opacity: 0.2;
            }

            .vfx-engineer::after {
                content: '';
                position: absolute;
                inset: -200%;
                background: linear-gradient(
                    90deg,
                    rgba(255, 0, 0, 0.4) 0%,
                    rgba(0, 255, 0, 0.4) 50%,
                    rgba(0, 0, 255, 0.4) 100%
                );
                animation: engineerGlitch 5s ease-in-out infinite;
                mix-blend-mode: screen;
            }

            @keyframes scanlineMove {
                0% {
                    transform: translateY(0);
                }
                100% {
                    transform: translateY(100%);
                }
            }

            @keyframes engineerGlitch {
                0%,
                90% {
                    transform: translateX(0);
                    opacity: 0;
                }
                91%,
                93%,
                95% {
                    transform: translateX(-4px);
                    opacity: 0.7;
                }
                92%,
                94%,
                96% {
                    transform: translateX(4px);
                    opacity: 0.7;
                }
                97%,
                100% {
                    opacity: 0;
                }
            }

            .vfx-shaman::before {
                content: '';
                position: absolute;
                inset: -100%;
                background: conic-gradient(
                    from 0deg,
                    rgba(138, 43, 226, 0.6) 0deg,
                    transparent 60deg,
                    rgba(147, 51, 234, 0.7) 120deg,
                    transparent 180deg,
                    rgba(186, 85, 211, 0.5) 240deg,
                    transparent 300deg,
                    rgba(138, 43, 226, 0.6) 360deg
                );
                animation: spiritMist 8s linear infinite;
                mix-blend-mode: color-dodge;
                filter: blur(10px);
            }

            @keyframes spiritMist {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }

            .vfx-keeper::before {
                content: '';
                position: absolute;
                inset: -200%;
                background: radial-gradient(
                    circle at 50% 100%,
                    rgba(251, 146, 60, 0.8) 0%,
                    rgba(255, 193, 7, 0.6) 15%,
                    rgba(251, 191, 36, 0.4) 30%,
                    transparent 50%
                );
                animation: flameFlicker 2.5s ease-in-out infinite;
                mix-blend-mode: screen;
                opacity: 0.6;
            }

            @keyframes flameFlicker {
                0%,
                100% {
                    transform: translateY(0) scale(1);
                }
                50% {
                    transform: translateY(-15px) scale(1.1);
                }
            }

            .vfx-lord::before {
                content: '';
                position: absolute;
                inset: -150%;
                background: radial-gradient(
                    ellipse at 50% 120%,
                    rgba(0, 100, 200, 0.8) 0%,
                    rgba(0, 200, 255, 0.6) 25%,
                    rgba(0, 255, 255, 0.4) 40%,
                    transparent 60%
                );
                animation: deepOcean 5s ease-in-out infinite;
                mix-blend-mode: screen;
            }

            @keyframes deepOcean {
                0%,
                100% {
                    transform: translateY(10%) scale(1);
                    filter: brightness(0.8);
                }
                50% {
                    transform: translateY(-5%) scale(1.05);
                    filter: brightness(1.2);
                }
            }

            .vfx-prime::before {
                content: '';
                position: absolute;
                inset: -100%;
                background: radial-gradient(
                    circle at 50% 30%,
                    rgba(255, 255, 255, 0.95) 0%,
                    rgba(240, 240, 255, 0.7) 12%,
                    transparent 40%
                );
                opacity: 0.3;
                animation: platinumGlow 4s ease-in-out infinite;
                mix-blend-mode: soft-light;
            }

            .tier-3 .vfx-prime {
                opacity: 0.3;
            }

            @keyframes platinumGlow {
                0%,
                100% {
                    transform: scale(0.9);
                    opacity: 0.7;
                }
                50% {
                    transform: scale(1.15);
                    opacity: 1;
                }
            }

            .vfx-singularity::before {
                content: '';
                position: absolute;
                inset: -200%;
                background: radial-gradient(
                    ellipse at 50% 50%,
                    rgba(138, 43, 226, 1) 0%,
                    rgba(0, 255, 255, 0.8) 22%,
                    rgba(255, 215, 0, 0.6) 45%,
                    transparent 70%
                );
                opacity: 0.25;
                animation: voidChaos 14s linear infinite;
                mix-blend-mode: exclusion;
            }

            @keyframes voidChaos {
                0% {
                    transform: rotate(0deg) scale(1);
                    filter: hue-rotate(0deg);
                }
                100% {
                    transform: rotate(360deg) scale(1.15);
                    filter: hue-rotate(180deg);
                }
            }
        </style>
    </head>
    <body>
        <div class="max-w-[1700px] mx-auto">
            <h1 class="page-title">FENNEC VFX EVOLUTION MATRIX</h1>
            <p class="page-subtitle">
                Static Border Containers ‚Ä¢ Animated Gradients ‚Ä¢ Refined VFX Intensity ‚Ä¢ Perfect Geometry
            </p>

            <h2 class="section-title">üî• RARITY BORDERS (PRODUCTION GRADE)</h2>
            <div class="border-showcase">
                <div class="card-wrapper border-cub">
                    <div class="card-face" style="background: linear-gradient(135deg, #1a1428, #0f0c1d)">
                        <div class="showcase-content">
                            <div class="border-title" style="color: #6a6a6a">CUB</div>
                            <div class="border-desc">Static Grey</div>
                        </div>
                    </div>
                </div>

                <div class="card-wrapper border-scout">
                    <div class="card-face" style="background: linear-gradient(135deg, #0f3d2f, #0a1f1a)">
                        <div class="showcase-content">
                            <div class="border-title" style="color: #22c55e">SCOUT</div>
                            <div class="border-desc">Gradient Beam</div>
                        </div>
                    </div>
                </div>

                <div class="card-wrapper border-hunter">
                    <div class="card-face" style="background: linear-gradient(135deg, #1e3a5f, #0f1d2f)">
                        <div class="showcase-content">
                            <div class="border-title" style="color: #0ea5e9">HUNTER</div>
                            <div class="border-desc">Gradient Beam</div>
                        </div>
                    </div>
                </div>

                <div class="card-wrapper border-alpha">
                    <div class="card-face" style="background: linear-gradient(135deg, #3d0f0f, #1f0a0a)">
                        <div class="showcase-content">
                            <div class="border-title" style="color: #ff4444">ALPHA</div>
                            <div class="border-desc">Lava Flow</div>
                        </div>
                    </div>
                </div>

                <div class="card-wrapper border-elder">
                    <div class="card-face" style="background: linear-gradient(135deg, #3d2f0f, #1f180a)">
                        <div class="showcase-content">
                            <div class="border-title" style="color: #f9d976">ELDER</div>
                            <div class="border-desc">Shimmer Gold</div>
                        </div>
                    </div>
                </div>

                <div class="card-wrapper border-spirit">
                    <div class="card-face" style="background: linear-gradient(135deg, #2d1a3d, #1a0f2f)">
                        <div class="showcase-content">
                            <div class="border-title" style="color: #8b00ff">SPIRIT</div>
                            <div class="border-desc">Prismatic</div>
                        </div>
                    </div>
                </div>
            </div>

            <h2 class="section-title">üìä ARCHETYPE EVOLUTION (T0‚ÜíT3)</h2>
            <div id="matrixContainer"></div>
        </div>

        <script>
            const archetypes = [
                { name: 'DRIFTER', img: 'img/drifter.png', border: 'alpha' },
                { name: 'WALKER', img: 'img/walker.png', border: 'hunter' },
                { name: 'MERCHANT', img: 'img/merchant.png', border: 'elder' },
                { name: 'ENGINEER', img: 'img/engineer.png', border: 'hunter' },
                { name: 'SHAMAN', img: 'img/shaman.png', border: 'scout' },
                { name: 'KEEPER', img: 'img/keeper.png', border: 'alpha' },
                { name: 'LORD', img: 'img/oasis.png', border: 'elder' },
                { name: 'PRIME', img: 'img/prime.png', border: 'spirit' },
                { name: 'SINGULARITY', img: 'img/singularity.png', border: 'spirit' }
            ];

            const container = document.getElementById('matrixContainer');

            archetypes.forEach(arch => {
                const row = document.createElement('div');
                row.className = 'matrix-grid';

                const label = document.createElement('div');
                label.className = 'matrix-label';
                label.textContent = arch.name;
                row.appendChild(label);

                for (let tier = 0; tier <= 3; tier++) {
                    const wrapper = document.createElement('div');
                    wrapper.className = 'card-wrapper';

                    if (tier === 0) {
                        wrapper.classList.add('border-cub');
                    } else if (tier === 3) {
                        wrapper.classList.add(`border-${arch.border}`);
                    }

                    const face = document.createElement('div');
                    face.className = `card-face tier-${tier}`;

                    const img = document.createElement('img');
                    img.className = 'card-image';
                    img.src = arch.img;
                    img.alt = arch.name;
                    face.appendChild(img);

                    if (tier >= 2) {
                        const vfx = document.createElement('div');
                        vfx.className = `card-vfx vfx-${arch.name.toLowerCase()}`;
                        face.appendChild(vfx);
                    }

                    wrapper.appendChild(face);
                    row.appendChild(wrapper);
                }

                container.appendChild(row);
            });
        </script>
    </body>
</html>

==================================================
FILE PATH: \qa-bridge.js
==================================================

#!/usr/bin/env node
/**
 * QA Bridge - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Gemini AI
 * –ó–∞–ø—É—Å–∫: node qa-bridge.js –∏–ª–∏ npm run qa:cycle
 */

const puppeteer = require('puppeteer');

const CONFIG = {
    targetUrl: 'https://main.fennec-swap.pages.dev',
    workerUrl: 'https://fennec-api.warninghejo.workers.dev',
    timeout: 30000,
    maxRetries: 5
};

async function runQACycle() {
    console.log('\nü§ñ === FENNEC QA CYCLE START ===\n');

    let browser = null;
    let retryCount = 0;

    while (retryCount < CONFIG.maxRetries) {
        try {
            // –ó–∞–ø—É—Å–∫ –±—Ä–∞—É–∑–µ—Ä–∞
            console.log(`üåê –ó–∞–ø—É—Å–∫ –±—Ä–∞—É–∑–µ—Ä–∞ (–ø–æ–ø—ã—Ç–∫–∞ ${retryCount + 1}/${CONFIG.maxRetries})...`);
            browser = await puppeteer.launch({
                headless: 'new',
                args: ['--no-sandbox', '--disable-setuid-sandbox']
            });

            const page = await browser.newPage();

            // –°–±–æ—Ä –æ—à–∏–±–æ–∫ –∫–æ–Ω—Å–æ–ª–∏
            const consoleLogs = [];
            const networkErrors = [];

            page.on('console', msg => {
                const type = msg.type();
                const text = msg.text();
                consoleLogs.push({ type, text, timestamp: Date.now() });

                if (type === 'error') {
                    console.log(`‚ùå Console Error: ${text}`);
                }
            });

            page.on('pageerror', error => {
                consoleLogs.push({
                    type: 'error',
                    text: error.toString(),
                    stack: error.stack,
                    timestamp: Date.now()
                });
                console.log(`‚ùå Page Error: ${error.toString()}`);
            });

            page.on('requestfailed', request => {
                networkErrors.push({
                    url: request.url(),
                    failure: request.failure()
                });
                console.log(`‚ö†Ô∏è Network Error: ${request.url()}`);
            });

            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            console.log(`üìÑ –ó–∞–≥—Ä—É–∑–∫–∞ ${CONFIG.targetUrl}...`);
            await page.goto(CONFIG.targetUrl, {
                waitUntil: 'networkidle2',
                timeout: CONFIG.timeout
            });

            // –ñ–¥–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
            await page.waitForTimeout(3000);

            // –°–±–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            const pageState = await page.evaluate(() => {
                const state = {
                    url: window.location.href,
                    userAddress: window.userAddress || null,
                    modalOpen: !!document.querySelector('[id*="modal"]')?.offsetParent,
                    visibleTabs: Array.from(document.querySelectorAll('[role="tablist"] button')).map(b =>
                        b.textContent.trim()
                    ),
                    balances: {
                        fb: document.querySelector('[data-balance-fb]')?.textContent || 'N/A',
                        cats: document.querySelector('[data-balance-cats]')?.textContent || 'N/A'
                    },
                    fennecIdStatus: !!document.getElementById('fennecIdIframe'),
                    aiProbe: window.aiProbe || null
                };
                return state;
            });

            console.log('\nüìä –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:', JSON.stringify(pageState, null, 2));

            // –ü—Ä–æ–∫–ª–∏–∫–∏–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)
            try {
                const tabs = ['Swap', 'Deposit', 'Audit'];
                for (const tab of tabs) {
                    try {
                        const button = await page.$x(`//button[contains(text(), "${tab}")]`);
                        if (button.length > 0) {
                            await button[0].click();
                            await page.waitForTimeout(1000);
                            console.log(`‚úÖ –ö–ª–∏–∫–Ω—É–ª –≤–∫–ª–∞–¥–∫—É: ${tab}`);
                        }
                    } catch (e) {
                        console.log(`‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∫–ª–∏–∫–Ω—É—Ç—å ${tab}: ${e.message}`);
                    }
                }
            } catch (e) {
                console.log(`‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–∫–ª–∏–∫–∏–≤–∞–Ω–∏–∏: ${e.message}`);
            }

            // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ QA Agent (Gemini)
            console.log('\nüß† –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Gemini QA Agent...');

            const qaPayload = {
                page_state: pageState,
                console_logs: consoleLogs,
                network_errors: networkErrors,
                timestamp: new Date().toISOString()
            };

            const response = await fetch(`${CONFIG.workerUrl}?action=qa_agent_check`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(qaPayload)
            });

            const result = await response.json();

            console.log('\nü§ñ === GEMINI QA REPORT ===');
            console.log(`–°—Ç–∞—Ç—É—Å: ${result.status || 'UNKNOWN'}`);

            if (result.status === 'PASS') {
                console.log('‚úÖ –í–°–ï –°–ò–°–¢–ï–ú–´ –†–ê–ë–û–¢–ê–Æ–¢ –ù–û–†–ú–ê–õ–¨–ù–û');
                console.log(result.message || '');
                await browser.close();
                process.exit(0);
            } else if (result.status === 'FAIL') {
                console.log('‚ùå –û–ë–ù–ê–†–£–ñ–ï–ù–´ –û–®–ò–ë–ö–ò');
                console.log('\nüìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Windsurf:');
                console.log(result.windsurf_instruction || '–ù–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π');
                console.log('\n‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è...');
                retryCount++;
                await browser.close();

                if (retryCount >= CONFIG.maxRetries) {
                    console.log('\n‚ùå –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –ø–æ–ø—ã—Ç–æ–∫. –û—Å—Ç–∞–Ω–æ–≤–∫–∞.');
                    process.exit(1);
                }

                // –ñ–¥–µ–º –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π
                console.log('\n‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π...');
                await new Promise(resolve => setTimeout(resolve, 5000));
            } else {
                console.log('‚ö†Ô∏è –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å –æ—Ç AI');
                console.log(JSON.stringify(result, null, 2));
                await browser.close();
                process.exit(1);
            }
        } catch (error) {
            console.error(`\n‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ QA —Ü–∏–∫–ª–∞: ${error.message}`);
            console.error(error.stack);

            if (browser) {
                await browser.close();
            }

            retryCount++;

            if (retryCount >= CONFIG.maxRetries) {
                console.log('\n‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å QA —Ü–∏–∫–ª –ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫.');
                process.exit(1);
            }

            console.log('\n‚è≥ –ü–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥...');
            await new Promise(resolve => setTimeout(resolve, 5000));
        }
    }
}

// –ó–∞–ø—É—Å–∫
runQACycle().catch(error => {
    console.error('Fatal error:', error);
    process.exit(1);
});

==================================================
FILE PATH: \README_DEV.md
==================================================

# –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Fennec Swap

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- `npm run dev` - –ó–∞–ø—É—Å–∫–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–ø–æ—Ä—Ç 3000)
- `npm run dev:worker` - –ó–∞–ø—É—Å–∫–∞–µ—Ç Cloudflare Worker –ª–æ–∫–∞–ª—å–Ω–æ
- `npm run dev:all` - –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏ —Å–µ—Ä–≤–µ—Ä, –∏ worker –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### –î–µ–ø–ª–æ–π
- `npm run deploy:worker` - –î–µ–ø–ª–æ–π Worker –Ω–∞ Cloudflare
- `npm run deploy:pages` - –î–µ–ø–ª–æ–π Pages –Ω–∞ Cloudflare
- `npm run deploy` - –î–µ–ø–ª–æ–π –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
- `npm run lint` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ JavaScript –∫–æ–¥–∞
- `npm run lint:html` - –ü—Ä–æ–≤–µ—Ä–∫–∞ HTML
- `npm run format` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –∫–æ–¥–∞
- `npm run format:check` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `npm run validate` - –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ (lint + format check)

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è VS Code

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏–∑ `.vscode/extensions.json`:
- Prettier - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- ESLint - –ø—Ä–æ–≤–µ—Ä–∫–∞ JavaScript
- HTMLHint - –ø—Ä–æ–≤–µ—Ä–∫–∞ HTML
- Live Server - –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `index.html` - –û—Å–Ω–æ–≤–Ω–æ–π HTML —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `worker.js` - Cloudflare Worker (API backend)
- `api/proxy.js` - Vercel API proxy
- `wrangler.toml` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Cloudflare Worker
- `vercel.json` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel

## –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run dev` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
3. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—é—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –û—Ç–ª–∞–¥–∫–∞ Worker
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run dev:worker`
2. Worker –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –ø–æ—Ä—Ç—É (–æ–±—ã—á–Ω–æ 8787)
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `console.log` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### Browser DevTools
- Chrome DevTools: F12 –∏–ª–∏ Ctrl+Shift+I
- Network tab - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –∑–∞–ø—Ä–æ—Å–æ–≤
- Console - –¥–ª—è –ª–æ–≥–æ–≤ –∏ –æ—à–∏–±–æ–∫
- Application tab - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ localStorage

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

1. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Prettier)
2. **–õ–∏–Ω—Ç–∏–Ω–≥**: –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ VS Code
3. **Live Reload**: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ HTML/CSS/JS –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. **Worker Debugging**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `wrangler tail` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–æ–º 3000
–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `package.json` –∏–ª–∏ `.vscode/settings.json`

### ESLint –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`

### Prettier –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å ESLint
–û–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –Ω–æ –µ—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `.eslintrc.json` –∏ `.prettierrc`


==================================================
FILE PATH: \README.md
==================================================

# ü¶ä Fennec Swap - Fractal Bitcoin Token Exchange

Modern swap interface for Fractal Bitcoin with InSwap integration.

## üöÄ Quick Start - Auto Deploy

### First Time Setup (–æ–¥–∏–Ω —Ä–∞–∑):

1. **–£—Å—Ç–∞–Ω–æ–≤–∏ Node.js** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç):
   - –°–∫–∞—á–∞–π: https://nodejs.org/
   - –í–µ—Ä—Å–∏—è: 18+ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

2. **–£—Å—Ç–∞–Ω–æ–≤–∏ Wrangler** (Cloudflare CLI):
   ```bash
   npm install -g wrangler
   ```

3. **–ó–∞–ª–æ–≥–∏–Ω—å—Å—è –≤ Cloudflare**:
   ```bash
   wrangler login
   ```
   –û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä - –ø–æ–¥—Ç–≤–µ—Ä–¥–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

4. **–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (–≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞):
   ```bash
   npm install
   ```

### –î–µ–ø–ª–æ–π (–∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π):

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Cursor IDE (—Å–∞–º—ã–π —É–¥–æ–±–Ω—ã–π) üéØ
1. –ù–∞–∂–º–∏ `Ctrl+Shift+P` (–∏–ª–∏ `Cmd+Shift+P` –Ω–∞ Mac)
2. –ù–∞–±–µ—Ä–∏ "Run Task"
3. –í—ã–±–µ—Ä–∏ "üöÄ Deploy to Cloudflare"
4. –ì–æ—Ç–æ–≤–æ!

**–ò–ª–∏:**
- –ù–∞–∂–º–∏ `Ctrl+Shift+B` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

#### –°–ø–æ—Å–æ–± 2: –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ ‚ö°
–ü—Ä–æ—Å—Ç–æ **–¥–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏ –Ω–∞ `deploy.bat`** - –≤—Å—ë –∑–∞–¥–µ–ø–ª–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

#### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª
```bash
# –î–µ–ø–ª–æ–π –≤—Å–µ–≥–æ (Worker + Pages)
npm run deploy

# –ò–õ–ò –æ—Ç–¥–µ–ª—å–Ω–æ:
npm run deploy-worker   # –¢–æ–ª—å–∫–æ Worker (API)
npm run deploy-pages    # –¢–æ–ª—å–∫–æ Pages (Frontend)
```

#### –°–ø–æ—Å–æ–± 4: –í—Ä—É—á–Ω—É—é
```bash
# Worker
wrangler deploy

# Pages
wrangler pages deploy . --project-name=fennec-swap
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Fennec site/
‚îú‚îÄ‚îÄ index.html          # Frontend (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
‚îú‚îÄ‚îÄ worker.txt          # Worker –∫–æ–¥ (–∏—Å—Ö–æ–¥–Ω–∏–∫)
‚îú‚îÄ‚îÄ worker.js           # Worker –∫–æ–¥ (–¥–ª—è –¥–µ–ø–ª–æ—è)
‚îú‚îÄ‚îÄ wrangler.toml       # Cloudflare Worker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ package.json        # NPM –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ deploy.bat          # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (Windows)
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Worker (wrangler.toml)

–ò–∑–º–µ–Ω–∏ `name` –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –¥—Ä—É–≥–æ–µ –∏–º—è Worker:
```toml
name = "fennec-api"  # –ë—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞: fennec-api.—Ç–≤–æ–π-–∞–∫–∫–∞—É–Ω—Ç.workers.dev
```

### Frontend (index.html)

URL Worker –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞:
```javascript
const BACKEND_URL = "https://fennec-api.warninghejo.workers.dev";
```

–ò–∑–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è Worker.

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)
npm run dev:worker      # Worker –Ω–∞ http://localhost:8787

# –õ–æ–≥–∏ Worker –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
wrangler tail

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
wrangler whoami
```

## üìù Workflow –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

1. **–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å –∫–æ–¥** –≤ `index.html` –∏–ª–∏ `worker.txt`
2. **–ó–∞–ø—É—Å–∫–∞–µ—à—å** `deploy.bat` (–∏–ª–∏ `npm run deploy`)
3. **–ì–æ—Ç–æ–≤–æ!** –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## üêõ Troubleshooting

### "wrangler: command not found"
```bash
npm install -g wrangler
```

### "Not logged in"
```bash
wrangler login
```

### Worker –¥–µ–ø–ª–æ–∏—Ç—Å—è, Pages –Ω–µ—Ç
–°–æ–∑–¥–∞–π Pages –ø—Ä–æ–µ–∫—Ç –≤—Ä—É—á–Ω—É—é:
1. –ó–∞–π–¥–∏ –Ω–∞ https://dash.cloudflare.com/
2. Pages ‚Üí Create project ‚Üí Direct upload
3. –ù–∞–∑–æ–≤–∏ `fennec-swap`

### –û—à–∏–±–∫–∞ "account_id required"
–î–æ–±–∞–≤—å –≤ `wrangler.toml`:
```toml
account_id = "—Ç–≤–æ–π_account_id"
```
–ù–∞–π—Ç–∏ –º–æ–∂–Ω–æ: `wrangler whoami`

## üåü Features

- ‚úÖ Swap FB ‚Üî FENNEC
- ‚úÖ Deposit FB/FENNEC to InSwap
- ‚úÖ Withdraw from InSwap
- ‚úÖ Real-time balance checking
- ‚úÖ Transaction status tracking
- ‚úÖ Auto-detect deposit confirmations
- ‚úÖ Mobile responsive

## üîó Links

- **Worker API**: https://fennec-api.warninghejo.workers.dev
- **InSwap**: https://inswap.cc
- **Fractal Bitcoin**: https://fractalbitcoin.io
- **UniSat Wallet**: https://unisat.io

## üìÑ License

MIT

---

Made with ‚ù§Ô∏è for Fractal Bitcoin Community


==================================================
FILE PATH: \tailwind.config.ts
==================================================

import type { Config } from 'tailwindcss';

export default {
    content: ['./index.html', './recursive_inscriptions/**/*.{js,ts}', './preview/**/*.{html,js,css}'],
    corePlugins: {
        preflight: false
    },
    theme: {
        extend: {
            colors: {
                fennec: {
                    orange: '#FF6B35',
                    amber: '#FFB347',
                    brown: '#3E2723',
                    dark: '#0C0C0C',
                    cyan: '#00E5FF',
                    purple: '#9D4EDD'
                },
                muted: {
                    DEFAULT: '#1F1F1F',
                    foreground: '#A1A1A1'
                }
            },
            fontFamily: {
                orbitron: ['Orbitron', 'monospace'],
                rajdhani: ['Rajdhani', 'sans-serif']
            },
            keyframes: {
                'card-float': {
                    '0%, 100%': { transform: 'translateY(0) rotateX(2deg)' },
                    '50%': { transform: 'translateY(-15px) rotateX(5deg)' }
                },
                'text-flicker': {
                    '0%, 100%': { opacity: '1' },
                    '50%': { opacity: '0.85' }
                },
                'scan-line': {
                    '0%': { top: '-100%' },
                    '100%': { top: '200%' }
                },
                'pulse-glow': {
                    '0%, 100%': { opacity: '1', filter: 'brightness(1)' },
                    '50%': { opacity: '0.8', filter: 'brightness(1.3)' }
                },
                'particle-float': {
                    '0%': { transform: 'translateY(100vh) scale(0)', opacity: '0' },
                    '10%': { opacity: '1' },
                    '90%': { opacity: '1' },
                    '100%': { transform: 'translateY(-10vh) scale(1)', opacity: '0' }
                }
            },
            animation: {
                'card-float': 'card-float 6s ease-in-out infinite',
                'text-flicker': 'text-flicker 3s ease-in-out infinite',
                'scan-line': 'scan-line 2.5s ease-in-out infinite',
                'pulse-glow': 'pulse-glow 2s ease-in-out infinite',
                'particle-float': 'particle-float 8s ease-out infinite'
            }
        }
    },
    plugins: []
} satisfies Config;

==================================================
FILE PATH: \terminal.html
==================================================

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="fennec-embed" content="0" />
        <meta name="fennec-manifest" content="/recursive_inscriptions/fennec_manifest_live.json" />
        <meta
            name="description"
            content="$FENNEC - The Desert Fox Protocol. Swap, deposit and withdraw on Fractal's fastest DEX with Fennec ID."
        />
        <title>$FENNEC | The Desert Fox Protocol</title>

        <!-- FAVICONS -->
        <link rel="icon" href="img/phav.png" type="image/png" />
        <link rel="apple-touch-icon" href="img/phav.png" />

        <!-- –¶–≤–µ—Ç –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (—á—Ç–æ–±—ã –Ω–∞ –º–æ–±–∏–ª–∫–∞—Ö —Å–ª–∏–≤–∞–ª–æ—Å—å —Å —à–∞–ø–∫–æ–π) -->
        <meta name="theme-color" content="#000000" />

        <!-- Preconnect –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <link rel="preconnect" href="https://cdn.tailwindcss.com" />
        <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="dns-prefetch" href="https://fennec-api.warninghejo.workers.dev" />
        <link rel="dns-prefetch" href="https://open-api-fractal.unisat.io" />

        <!-- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
        <link
            href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;500;700;900&display=swap"
            rel="stylesheet"
            media="print"
            onload="this.media = 'all'"
        />
        <noscript
            ><link
                href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;500;700;900&rel=stylesheet"
        /></noscript>

        <script src="assets/storage_shim.js?v=2026-01-13-1"></script>
        <link rel="stylesheet" href="assets/app.css?v=2026-01-13-1" />
    </head>
    <body>
        <!-- DEV CONSOLE INTERCEPTOR - AI Error Analysis -->
        <script src="assets/dev_console_interceptor.js?v=2026-01-13-1"></script>
        <div id="animatedBackground" class="fixed top-0 left-0 w-full h-full pointer-events-none" style="z-index: 0">
            <canvas id="animatedBackgroundCanvas" class="w-full h-full"></canvas>
        </div>

        <!-- Notifications Container -->
        <div
            id="notificationsContainer"
            style="
                position: fixed;
                top: 80px;
                right: 20px;
                z-index: 10000;
                display: flex;
                flex-direction: column;
                gap: 12px;
                align-items: flex-end;
            "
        ></div>

        <!-- LIVE TICKER -->
        <div
            id="liveTickerBar"
            class="fixed bottom-0 left-0 right-0 w-full z-[100] py-1 overflow-hidden pointer-events-none flex items-center"
            style="
                background: linear-gradient(
                    90deg,
                    rgba(13, 6, 4, 0.95) 0%,
                    rgba(20, 10, 6, 0.98) 50%,
                    rgba(13, 6, 4, 0.95) 100%
                );
                border-top: 1px solid rgba(255, 107, 53, 0.15);
                box-shadow:
                    0 -4px 20px rgba(255, 107, 53, 0.08),
                    inset 0 1px 0 rgba(255, 107, 53, 0.1);
                backdrop-filter: blur(12px);
                height: 28px;
            "
        >
            <div
                class="ticker-container"
                style="
                    overflow: hidden;
                    position: relative;
                    width: 100%;
                    height: 100%;
                    display: flex;
                    align-items: center;
                "
            >
                <div
                    class="ticker-content"
                    id="liveTicker"
                    style="
                        display: inline-flex;
                        align-items: center;
                        white-space: nowrap;
                        font-size: 13px;
                        font-weight: 700;
                        letter-spacing: 0.05em;
                        text-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
                        line-height: 28px;
                    "
                >
                    <div class="ticker-marquee">
                        <span class="ticker-item text-fennec"
                            ><img
                                src="img/phav.png"
                                class="w-5 h-5 inline-block object-contain"
                                style="filter: drop-shadow(0 0 8px rgba(255, 107, 53, 0.5))"
                            />
                            <span>FENNEC SYSTEM ONLINE</span></span
                        >
                    </div>
                </div>
            </div>
        </div>

        <!-- HEADER -->
        <header class="fixed w-full z-50 border-b border-white/5 bg-[#2c1a12]/90 backdrop-blur-md">
            <div class="max-w-6xl mx-auto px-4 h-16 grid grid-cols-[1fr_auto_1fr] items-center">
                <a class="flex items-center gap-3 cursor-pointer group" href="index.html" data-link>
                    <img
                        src="img/phav.png"
                        class="neon-logo w-9 h-9 rounded-full border border-fennec/50 group-hover:scale-110 transition shadow-lg shadow-fennec/20 object-contain"
                    />
                    <div>
                        <h1
                            class="font-display font-bold text-xl leading-none tracking-tight text-fennec"
                            style="text-shadow: 0 0 18px rgba(255, 107, 53, 0.35)"
                        >
                            FENNEC
                        </h1>
                    </div>
                </a>

                <nav class="flex gap-8 text-xs font-bold text-gray-400 uppercase tracking-widest justify-self-center">
                    <a
                        href="index.html"
                        class="nav-link hover:text-white transition py-5"
                        id="nav-home"
                        data-t="nav_home"
                        data-link
                    >
                        VISION
                    </a>
                    <a
                        href="terminal.html"
                        class="nav-link hover:text-white transition py-5 active"
                        id="nav-terminal"
                        data-t="nav_terminal"
                        data-link
                    >
                        TERMINAL
                    </a>
                    <a
                        href="id.html"
                        class="nav-link hover:text-white transition py-5"
                        id="nav-audit"
                        data-t="nav_audit"
                        data-link
                    >
                        FENNEC ID
                    </a>
                </nav>

                <div class="flex items-center gap-3 justify-self-end">
                    <a
                        href="https://x.com/FennecBTC"
                        target="_blank"
                        class="text-gray-400 hover:text-white transition flex items-center justify-center text-2xl w-10 h-10"
                        aria-label="Twitter"
                    >
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a
                        href="https://t.me/FennecBTC"
                        target="_blank"
                        class="text-gray-400 hover:text-white transition flex items-center justify-center text-2xl w-10 h-10"
                        aria-label="Telegram"
                    >
                        <i class="fab fa-telegram"></i>
                    </a>
                    <button
                        onclick="window.manualRefresh()"
                        id="refreshBtn"
                        class="hidden bg-gradient-to-br from-fennec/25 via-orange-600/20 to-orange-700/15 text-fennec px-3.5 py-2 rounded-xl font-bold hover:brightness-125 hover:scale-105 transition-all duration-200 text-[11px] border border-fennec/40 flex items-center gap-2 shadow-[0_0_20px_rgba(255,107,53,0.3)] hover:shadow-[0_0_32px_rgba(255,107,53,0.5)] backdrop-blur-sm"
                    >
                        <i id="refreshIcon" class="fas fa-sync-alt"></i>
                        <span id="refreshText">REFRESH</span>
                        <span id="refreshTimer" class="hidden text-[10px] opacity-75"></span>
                    </button>
                    <button
                        onclick="window.disconnectWallet()"
                        id="disconnectBtn"
                        class="hidden bg-red-600/20 text-red-400 px-4 py-2 rounded-lg font-bold hover:bg-red-600/30 transition text-xs border border-red-500/50 flex items-center gap-2"
                    >
                        <i class="fas fa-sign-out-alt"></i> <span id="disconnectBtnText">DISCONNECT</span>
                    </button>
                    <button
                        onclick="window.connectWallet()"
                        id="connectBtn"
                        class="bg-gradient-to-r from-fennec to-orange-600 text-black px-4 py-2 rounded-lg font-bold hover:brightness-110 transition text-xs shadow-[0_0_20px_rgba(255,107,53,0.4)] flex items-center gap-2"
                        data-t="connect"
                    >
                        <i class="fas fa-wallet"></i> <span>CONNECT</span>
                    </button>
                </div>
            </div>
        </header>

        <main id="router-view" class="router-view">
            <!-- === SECTION 2: TERMINAL (SWAP) === -->
            <section
                id="sec-terminal"
                class="page-section active flex flex-col justify-start pt-32 pb-20 px-4 max-w-4xl mx-auto relative z-10"
            >
                <!-- CHART -->
                <div class="glass-panel p-6 rounded-2xl mb-6">
                    <div class="flex justify-between items-end mb-4">
                        <div>
                            <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold">
                                Market Price (FB)
                            </div>
                            <div class="flex items-baseline gap-3">
                                <div class="text-3xl font-bold font-mono text-white tracking-tighter" id="chartPrice">
                                    --
                                </div>
                                <div class="text-lg font-bold" id="chartPriceChange">--</div>
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <button
                                onclick="setChartTimeframe('1h')"
                                class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                            >
                                1H
                            </button>
                            <button
                                onclick="setChartTimeframe('24h')"
                                class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                            >
                                24H
                            </button>
                            <button
                                onclick="setChartTimeframe('7d')"
                                class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                            >
                                7D
                            </button>
                            <button
                                onclick="setChartTimeframe('30d')"
                                class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                            >
                                30D
                            </button>
                            <button
                                onclick="setChartTimeframe('all')"
                                class="text-xs px-2 py-1 rounded bg-white/5 hover:bg-fennec/20 transition"
                            >
                                ALL
                            </button>
                        </div>
                    </div>
                    <div class="chart-container" style="height: 250px; width: 100%; position: relative">
                        <canvas id="priceChart"></canvas>
                    </div>
                    <!-- Market Stats -->
                    <div class="grid grid-cols-4 gap-4 mt-3 pt-4 border-t border-white/5">
                        <div class="text-center">
                            <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                24h Volume
                            </div>
                            <div class="text-lg font-bold font-mono text-white" id="volume24h">--</div>
                        </div>
                        <div class="text-center">
                            <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                7d Volume
                            </div>
                            <div class="text-lg font-bold font-mono text-white" id="volume7d">--</div>
                        </div>
                        <div class="text-center">
                            <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                30d Volume
                            </div>
                            <div class="text-lg font-bold font-mono text-white" id="volume30d">--</div>
                        </div>
                        <div class="text-center">
                            <div class="text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1">
                                Market Cap
                            </div>
                            <div class="text-lg font-bold font-mono text-white" id="marketCap">--</div>
                        </div>
                    </div>
                </div>

                <!-- MAIN INTERFACE -->
                <div
                    class="glass-panel p-6 rounded-2xl relative shadow-[0_0_50px_rgba(0,0,0,0.3)] border border-fennec/20"
                >
                    <div
                        id="swapSuccessOverlay"
                        class="absolute inset-0 z-40 items-center justify-center"
                        style="display: none"
                    >
                        <div
                            class="px-6 py-4 rounded-2xl bg-black/70 border border-fennec/30 backdrop-blur-md flex items-center gap-3"
                        >
                            <div
                                class="w-10 h-10 rounded-full bg-fennec/15 border border-fennec/40 flex items-center justify-center text-fennec text-xl"
                            >
                                <i class="fas fa-check"></i>
                            </div>
                            <div>
                                <div class="text-xs tracking-[0.25em] text-gray-300 uppercase font-bold">
                                    Swap confirmed
                                </div>
                                <div class="text-[11px] text-gray-400">Balances are updating‚Ä¶</div>
                            </div>
                        </div>
                    </div>
                    <!-- TABS -->
                    <div class="flex border-b border-white/10 mb-6">
                        <button class="tab-btn active w-1/4" onclick="switchTab('swap')" id="tab-swap" data-t="swap">
                            SWAP
                        </button>
                        <button class="tab-btn w-1/4" onclick="switchTab('deposit')" id="tab-deposit" data-t="deposit">
                            DEPOSIT
                        </button>
                        <button
                            class="tab-btn w-1/4"
                            onclick="switchTab('withdraw')"
                            id="tab-withdraw"
                            data-t="withdraw"
                        >
                            WITHDRAW
                        </button>
                        <button class="tab-btn w-1/4" onclick="switchTab('pending')" id="tab-pending" data-t="activity">
                            PENDING
                        </button>
                    </div>

                    <!-- SWAP TAB -->
                    <div id="view-swap" class="tab-content active">
                        <div class="flex gap-2 mb-4">
                            <div
                                onclick="setSwapPair('FB_FENNEC')"
                                id="pair-fb-fennec"
                                class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition hover:bg-fennec/20 cursor-pointer"
                                role="button"
                                tabindex="0"
                            >
                                <div class="flex flex-col items-center justify-center leading-tight">
                                    <div>FB / FENNEC</div>
                                </div>
                            </div>
                            <div
                                onclick="setSwapPair('BTC_FB')"
                                id="pair-btc-fb"
                                class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition hover:bg-white/5 cursor-pointer"
                                role="button"
                                tabindex="0"
                            >
                                <div class="flex flex-col items-center justify-center leading-tight">
                                    <div>BTC / FB</div>
                                </div>
                            </div>
                        </div>

                        <div
                            class="bg-black/40 rounded-xl p-4 mb-2 border border-white/5 focus-within:border-fennec/50 transition"
                        >
                            <div class="flex justify-between text-xs mb-2 text-gray-400">
                                <span data-t="you_pay" class="font-bold">YOU PAY</span>
                                <div class="flex gap-2 items-center">
                                    <span id="balIn" class="font-mono text-[10px] text-gray-500">Bal: --</span>
                                    <button
                                        onclick="setMaxAmount()"
                                        class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    >
                                        MAX
                                    </button>
                                </div>
                            </div>
                            <div class="flex justify-between items-center relative">
                                <input
                                    type="number"
                                    id="swapIn"
                                    placeholder="0.0"
                                    class="bg-transparent text-3xl font-bold w-full outline-none text-white placeholder-gray-700"
                                    oninput="debounceQuote()"
                                />
                                <div class="flex flex-col items-center gap-1">
                                    <div
                                        class="flex items-center gap-2 px-3 py-1.5 cursor-pointer min-w-[80px] justify-center"
                                    >
                                        <img id="iconIn" src="img/FB.png" class="w-6 h-6 rounded-full flex-shrink-0" />
                                        <span id="tickerIn" class="font-bold text-sm whitespace-nowrap">FB</span>
                                    </div>
                                    <!-- Liquidity Plus Button moved under the coins -->
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-center items-center gap-4 -my-5 relative z-10">
                            <button
                                onclick="switchDir()"
                                class="bg-[#2b1d1a] border border-fennec/30 p-3 rounded-full text-fennec shadow-xl hover:scale-110 transition hover:border-fennec rotate-90"
                                title="Switch direction"
                            >
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>

                        <div class="bg-black/40 rounded-xl p-4 mt-2 border border-white/5">
                            <div class="flex justify-between text-xs mb-2 text-gray-400">
                                <span data-t="you_receive" class="font-bold">YOU RECEIVE</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <input
                                    type="number"
                                    id="swapOut"
                                    placeholder="0.0"
                                    class="bg-transparent text-3xl font-bold w-full outline-none text-white placeholder-gray-700"
                                    oninput="debounceReverse()"
                                />
                                <div class="flex items-center gap-2 px-3 py-1.5 min-w-[80px] justify-center">
                                    <img id="iconOut" src="img/phav.png" class="w-6 h-6 rounded-full flex-shrink-0" />
                                    <span id="tickerOut" class="font-bold text-sm whitespace-nowrap">FENNEC</span>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-between items-center text-xs text-gray-400 mt-4 px-2 font-mono gap-3">
                            <span id="rateVal" class="font-semibold">Rate: --</span>
                            <button
                                type="button"
                                onclick="openAddLiquidityModal(currentSwapPair)"
                                class="px-4 py-2 text-[11px] font-black bg-fennec/15 text-fennec border border-fennec/30 rounded-lg hover:bg-fennec/25 transition shadow-lg tracking-widest"
                                title="Manage Liquidity"
                            >
                                Liquidity
                            </button>
                        </div>

                        <button
                            onclick="doSwap()"
                            id="swapBtn"
                            class="w-full bg-fennec text-black font-black text-xl py-4 rounded-xl mt-6 hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide flex items-center justify-center gap-2"
                            data-t="swap_action"
                        >
                            <img src="img/phav.png" class="w-6 h-6 inline-block object-contain" /> GET FENNEC
                        </button>

                        <!-- Recent Swaps -->
                        <div class="mt-6 pt-4 border-t border-white/10">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                    >Recent Swaps</span
                                >
                            </div>
                            <div id="swapHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                <div class="text-center py-4 text-gray-600 text-xs">No swaps yet</div>
                            </div>
                        </div>
                    </div>

                    <!-- DEPOSIT TAB -->
                    <div id="view-deposit" class="tab-content hidden">
                        <div class="flex gap-2 mb-6">
                            <button
                                onclick="setDepositToken('BTC')"
                                id="dep-btc"
                                class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg"
                            >
                                BTC
                            </button>
                            <button
                                onclick="setDepositToken('sFB')"
                                id="dep-sfb"
                                class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                            >
                                FB
                            </button>
                            <button
                                onclick="setDepositToken('FENNEC')"
                                id="dep-fennec"
                                class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                            >
                                FENNEC
                            </button>
                        </div>

                        <div id="dep-native-ui">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-xs text-gray-400" id="depBalance">Balance: --</span>
                                <div class="flex items-center gap-2">
                                    <button
                                        onclick="setMaxDepositAmount()"
                                        class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    >
                                        MAX
                                    </button>
                                </div>
                            </div>
                            <div
                                class="bg-black/40 rounded-xl p-4 mb-4 border border-white/5 flex justify-between items-center"
                            >
                                <input
                                    type="number"
                                    id="depAmount"
                                    placeholder="0.001"
                                    class="bg-transparent text-2xl font-bold w-full outline-none text-white"
                                />
                                <span class="font-bold text-gray-400" id="depTickerLabel">BTC</span>
                            </div>

                            <!-- Fee Selection -->
                            <div class="mb-4">
                                <div class="text-[10px] font-bold text-gray-400 tracking-wider mb-2">NETWORK FEE</div>
                                <div class="flex gap-2" id="depFeeSelector">
                                    <button
                                        onclick="setDepositFee('medium')"
                                        id="dep-fee-medium"
                                        class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition"
                                    >
                                        <div>MEDIUM</div>
                                        <div class="text-[10px] text-fennec/70" id="dep-fee-medium-value">--</div>
                                    </button>
                                    <button
                                        onclick="setDepositFee('fast')"
                                        id="dep-fee-fast"
                                        class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                    >
                                        <div>FAST</div>
                                        <div class="text-[10px] text-gray-600" id="dep-fee-fast-value">--</div>
                                    </button>
                                    <button
                                        onclick="setDepositFee('custom')"
                                        id="dep-fee-custom"
                                        class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                    >
                                        <div>CUSTOM</div>
                                        <input
                                            type="number"
                                            id="dep-fee-custom-input"
                                            placeholder="sat/vB"
                                            min="1"
                                            step="1"
                                            class="text-[10px] bg-black/40 border border-white/20 rounded w-full text-center mt-1 text-white px-1"
                                            style="display: none"
                                            onchange="setDepositFeeCustom(this.value)"
                                        />
                                    </button>
                                </div>
                            </div>

                            <button
                                onclick="doDeposit()"
                                id="btnDeposit"
                                class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide"
                                data-t="deposit_btc_btn"
                            >
                                DEPOSIT
                            </button>
                        </div>
                        <div id="dep-brc20-ui" style="display: none">
                            <div class="mb-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-xs text-gray-400"
                                        >Available: <span id="fennecAvailable">--</span></span
                                    >
                                    <span class="text-xs text-gray-400"
                                        >Transferable: <span id="fennecTransferable">--</span></span
                                    >
                                </div>
                            </div>
                            <div id="inscriptionCards" class="grid grid-cols-3 gap-3 mb-4 max-h-64 overflow-y-auto">
                                <div class="text-center py-8 text-gray-500 text-xs">Loading inscriptions...</div>
                            </div>
                            <div class="border-t border-white/10 pt-3 mb-4">
                                <div class="flex items-center justify-between text-sm">
                                    <span class="text-gray-400">Selected:</span>
                                    <span class="text-white font-bold" id="selectedAmount">0</span>
                                    <span class="text-fennec font-bold">FENNEC</span>
                                </div>
                            </div>
                            <button
                                onclick="depositSelectedInscriptions()"
                                id="btnDepositSelected"
                                class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white transition duration-200 shadow-lg mb-3"
                                disabled
                            >
                                DEPOSIT
                            </button>
                            <div class="text-center py-2 border-t border-white/10">
                                <div class="mb-3">
                                    <div class="flex items-center justify-center gap-2 mb-2">
                                        <input
                                            type="number"
                                            id="depFennecAmount"
                                            placeholder="Enter amount"
                                            min="0.00000001"
                                            step="0.00000001"
                                            class="bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white text-sm w-32 text-center focus:border-fennec transition"
                                            style="outline: none"
                                        />
                                        <span class="text-xs text-gray-400">FENNEC</span>
                                    </div>
                                    <button
                                        onclick="setMaxFennecAmount()"
                                        class="text-[10px] text-fennec hover:text-white bg-fennec/10 px-3 py-1 rounded border border-fennec/30 mb-2"
                                    >
                                        Use Max
                                    </button>
                                </div>
                                <button
                                    onclick="createFennecInscription()"
                                    id="btnCreateInscription"
                                    class="text-xs text-fennec hover:text-white bg-fennec/10 px-4 py-2 rounded-lg border border-fennec/30 transition hover:bg-fennec/20"
                                >
                                    Create Transfer Inscription
                                </button>
                            </div>
                        </div>

                        <!-- Recent Deposits -->
                        <div class="mt-6 pt-4 border-t border-white/10">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                    >Recent Deposits</span
                                >
                            </div>
                            <div id="depositHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                <div class="text-center py-4 text-gray-600 text-xs">No deposits yet</div>
                            </div>
                        </div>
                    </div>

                    <!-- WITHDRAW TAB -->
                    <div id="view-withdraw" class="tab-content hidden">
                        <div class="flex gap-2 mb-6">
                            <button
                                onclick="setWithdrawToken('sFB')"
                                id="wd-sfb"
                                class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg"
                            >
                                FB
                            </button>
                            <button
                                onclick="setWithdrawToken('FENNEC')"
                                id="wd-fennec"
                                class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg"
                            >
                                FENNEC
                            </button>
                        </div>
                        <div class="flex justify-between text-xs mb-2 text-gray-400">
                            <span id="wd-bal">Available: --</span>
                            <div class="flex items-center gap-2">
                                <button
                                    onclick="setMaxWithdrawAmount()"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                >
                                    MAX
                                </button>
                            </div>
                        </div>
                        <div
                            class="bg-black/40 rounded-xl p-4 mb-4 border border-white/5 flex justify-between items-center"
                        >
                            <input
                                type="number"
                                id="wdAmount"
                                placeholder="0.0"
                                class="bg-transparent text-2xl font-bold w-full outline-none text-white"
                            />
                            <span class="font-bold text-gray-400" id="wdTickerLabel">FB</span>
                        </div>

                        <!-- Fee Selection -->
                        <div class="mb-4">
                            <div class="text-[10px] font-bold text-gray-400 tracking-wider mb-2">NETWORK FEE</div>
                            <div class="flex gap-2" id="wdFeeSelector">
                                <button
                                    onclick="setWithdrawFee('medium')"
                                    id="wd-fee-medium"
                                    class="flex-1 py-2 text-xs font-bold border border-fennec bg-fennec/10 text-fennec rounded-lg transition"
                                >
                                    <div>MEDIUM</div>
                                    <div class="text-[10px] text-fennec/70" id="wd-fee-medium-value">--</div>
                                </button>
                                <button
                                    onclick="setWithdrawFee('fast')"
                                    id="wd-fee-fast"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                >
                                    <div>FAST</div>
                                    <div class="text-[10px] text-gray-600" id="wd-fee-fast-value">--</div>
                                </button>
                                <button
                                    onclick="setWithdrawFee('custom')"
                                    id="wd-fee-custom"
                                    class="flex-1 py-2 text-xs font-bold border border-white/10 text-gray-500 hover:text-white rounded-lg transition"
                                >
                                    <div>CUSTOM</div>
                                    <input
                                        type="number"
                                        id="wd-fee-custom-input"
                                        placeholder="sat/vB"
                                        min="1"
                                        step="1"
                                        class="text-[10px] bg-black/40 border border-white/20 rounded w-full text-center mt-1 text-white px-1"
                                        style="display: none"
                                        onchange="setWithdrawFeeCustom(this.value)"
                                    />
                                </button>
                            </div>
                        </div>

                        <button
                            onclick="doWithdraw()"
                            id="btnWithdraw"
                            class="w-full bg-fennec text-black font-black text-base py-4 rounded-xl hover:bg-white hover:scale-[1.01] transition shadow-[0_0_20px_rgba(255,107,53,0.3)] tracking-wide"
                            data-t="withdraw_btn"
                        >
                            WITHDRAW
                        </button>

                        <!-- Recent Withdrawals -->
                        <div class="mt-6 pt-4 border-t border-white/10">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest"
                                    >Recent Withdrawals</span
                                >
                            </div>
                            <div id="withdrawHistory" class="space-y-2 max-h-40 overflow-y-auto scrollbar-thin">
                                <div class="text-center py-4 text-gray-600 text-xs">No withdrawals yet</div>
                            </div>
                        </div>
                    </div>

                    <!-- PENDING TAB -->
                    <div id="view-pending" class="tab-content hidden">
                        <div
                            class="text-xs text-gray-500 font-bold uppercase mb-3 tracking-widest flex justify-between"
                        >
                            <span>Pending Operations</span>
                        </div>
                        <div id="pendingOperations" class="space-y-2 max-h-80 overflow-y-auto scrollbar-thin">
                            <div class="text-center py-8 text-gray-600 text-xs">No pending operations</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- FOOTER SPACER -->
        <div class="h-10"></div>

        <!-- MODALS -->
        <div
            id="errorModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('errorModal').classList.add('hidden')"
        >
            <div class="modal-box border-red-500/30" onclick="event.stopPropagation()">
                <h3 class="text-lg font-bold text-red-500 mb-2">Error</h3>
                <p id="errorMsg" class="text-gray-400 text-xs font-mono mb-4 break-all"></p>
                <button
                    onclick="document.getElementById('errorModal').classList.add('hidden')"
                    class="w-full bg-white/10 py-2 rounded-lg hover:bg-white/20 text-white text-sm font-bold"
                >
                    CLOSE
                </button>
            </div>
        </div>
        <div
            id="successModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('successModal').classList.add('hidden')"
        >
            <div class="modal-box border-green-500/30 text-center" onclick="event.stopPropagation()">
                <div class="text-4xl mb-3"></div>
                <h3 class="text-lg font-bold text-green-500 mb-2">Success!</h3>
                <p class="text-gray-400 text-xs mb-4 font-mono break-all bg-black/30 p-2 rounded" id="successTxId"></p>
                <button
                    onclick="document.getElementById('successModal').classList.add('hidden')"
                    class="w-full bg-green-600 text-black font-bold py-2 rounded-lg hover:bg-green-500 transition"
                >
                    OK
                </button>
            </div>
        </div>
        <div
            id="depositLinkModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('depositLinkModal').classList.add('hidden')"
        >
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <i class="fas fa-wallet text-3xl text-fennec mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">Insufficient Funds</h3>
                <button
                    onclick="
                        switchTab('deposit');
                        document.getElementById('depositLinkModal').classList.add('hidden');
                    "
                    class="w-full bg-fennec text-black py-3 rounded-xl font-bold hover:bg-white transition"
                >
                    GO TO DEPOSIT
                </button>
            </div>
        </div>

        <div id="addLiquidityModal" class="modal-overlay hidden" onclick="closeAddLiquidityModal()">
            <div
                class="modal-box border-fennec/30"
                style="max-width: 560px; width: 92%; padding: 22px"
                onclick="event.stopPropagation()"
            >
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">Liquidity</div>
                        <div class="text-lg font-black text-white">Manage Liquidity</div>
                    </div>
                    <div class="flex items-center gap-3">
                        <button type="button" onclick="closeAddLiquidityModal()" class="text-gray-500 hover:text-white">
                            ‚úï
                        </button>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="flex gap-2 mb-3">
                    <button
                        id="liqTabAdd"
                        onclick="switchLiquidityTab('add')"
                        class="flex-1 px-4 py-2 rounded-xl bg-fennec/15 border border-fennec/30 text-white font-black transition"
                    >
                        ADD
                    </button>
                    <button
                        id="liqTabRemove"
                        onclick="switchLiquidityTab('remove')"
                        class="flex-1 px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-gray-400 font-black transition"
                    >
                        REMOVE
                    </button>
                </div>

                <!-- Pair selector hidden - pair is fixed when modal opens -->
                <div class="hidden grid grid-cols-2 gap-2" id="liqPairSwitcher">
                    <button
                        id="liqPairFBF"
                        onclick="selectLiquidityPair('FB_FENNEC')"
                        class="px-4 py-3 rounded-xl bg-fennec/10 border border-fennec/25 text-white font-black hover:bg-fennec/15 hover:border-fennec/45 transition"
                    >
                        FB / FENNEC
                    </button>
                    <button
                        id="liqPairBFB"
                        onclick="selectLiquidityPair('BTC_FB')"
                        class="px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white font-black hover:bg-white/10 hover:border-white/20 transition"
                    >
                        BTC / FB
                    </button>
                </div>

                <!-- Add Liquidity Tab Content -->
                <div id="liqAddContent">
                    <!-- Display fixed pair -->
                    <div class="text-center py-3 px-4 bg-fennec/10 border border-fennec/30 rounded-xl">
                        <div class="text-xs text-gray-400 uppercase tracking-widest mb-1">Selected Pair</div>
                        <div id="liqFixedPairDisplay" class="text-xl font-black text-white">FB / FENNEC</div>
                    </div>

                    <div id="liqSideRow" class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div
                            id="liqMyPos"
                            class="hidden bg-black/40 border border-white/10 rounded-xl p-3 md:col-span-2"
                        >
                            <div class="flex items-center justify-between gap-3">
                                <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                                    Your Position
                                </div>
                                <button
                                    type="button"
                                    onclick="refreshMyLiquidityForSelectedPair(true)"
                                    class="text-[10px] text-fennec hover:text-white underline decoration-dotted"
                                >
                                    Refresh
                                </button>
                            </div>
                            <div id="liqMyPosBody" class="mt-3 text-gray-200">--</div>
                        </div>

                        <div
                            id="liqWithdrawPanel"
                            class="hidden bg-black/40 border border-white/10 rounded-xl p-3 md:col-span-1"
                        >
                            <div class="flex items-center justify-between gap-3">
                                <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                                    Liquidity
                                </div>
                                <button
                                    id="liqWithdrawBtn"
                                    type="button"
                                    onclick="openRemoveLiquidityModal()"
                                    class="text-[10px] font-black bg-fennec/15 text-fennec border border-fennec/30 px-2 py-1 rounded-lg hover:bg-fennec/25 transition"
                                >
                                    Withdraw
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                            <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                                <span id="liqTick0Label">FENNEC</span>
                                <button
                                    onclick="setMaxLiqAmount(0)"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    type="button"
                                >
                                    MAX
                                </button>
                            </div>
                            <input
                                id="liqAmount0"
                                type="number"
                                inputmode="decimal"
                                placeholder="0.0"
                                class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                                oninput="syncLiquidityAmounts(0)"
                            />
                            <div class="text-[10px] text-gray-500 mt-1">Bal: <span id="liqBal0">--</span></div>
                        </div>
                        <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                            <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                                <span id="liqTick1Label">FB</span>
                                <button
                                    onclick="setMaxLiqAmount(1)"
                                    class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                                    type="button"
                                >
                                    MAX
                                </button>
                            </div>
                            <input
                                id="liqAmount1"
                                type="number"
                                inputmode="decimal"
                                placeholder="0.0"
                                class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                                oninput="syncLiquidityAmounts(1)"
                            />
                            <div class="text-[10px] text-gray-500 mt-1">Bal: <span id="liqBal1">--</span></div>
                        </div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                        <span>Expected LP: <span id="liqExpectedLP" class="text-white font-bold">--</span></span>
                    </div>

                    <button
                        onclick="doAddLiquidity()"
                        id="liqSupplyBtn"
                        class="mt-3 w-full bg-gradient-to-r from-fennec to-orange-400 text-black font-black text-base py-3 rounded-xl hover:brightness-110 transition opacity-50 cursor-not-allowed"
                        disabled
                    >
                        SUPPLY
                    </button>
                </div>

                <!-- Remove Liquidity Tab Content -->
                <div id="liqRemoveContent" class="hidden">
                    <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                        <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                            <span>LP Amount</span>
                            <button
                                type="button"
                                onclick="setMaxRemoveLp()"
                                class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                            >
                                MAX
                            </button>
                        </div>
                        <input
                            id="removeLpAmount"
                            type="number"
                            inputmode="decimal"
                            placeholder="0.0"
                            class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                        />
                        <div class="text-[10px] text-gray-500 mt-1">Your LP: <span id="removeLpBalance">--</span></div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                        <span>Est. Receive: <span id="removeReceive" class="text-white font-bold">--</span></span>
                        <span class="text-gray-600">Fees in FB</span>
                    </div>

                    <button
                        onclick="doRemoveLiquidity()"
                        id="removeLiqBtn"
                        class="mt-3 w-full bg-gradient-to-r from-fennec to-orange-400 text-black font-black text-base py-3 rounded-xl hover:brightness-110 transition opacity-50 cursor-not-allowed"
                        disabled
                    >
                        WITHDRAW
                    </button>
                </div>
            </div>
        </div>

        <div id="removeLiquidityModal" class="modal-overlay hidden" onclick="closeRemoveLiquidityModal()">
            <div
                class="modal-box border-fennec/30"
                style="max-width: 520px; width: 92%; padding: 22px"
                onclick="event.stopPropagation()"
            >
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">
                            Withdraw Liquidity
                        </div>
                        <div class="text-lg font-black text-white">Remove Liquidity</div>
                    </div>
                    <button type="button" onclick="closeRemoveLiquidityModal()" class="text-gray-500 hover:text-white">
                        ‚úï
                    </button>
                </div>

                <div class="bg-black/40 border border-white/10 rounded-xl p-3">
                    <div class="flex items-center justify-between text-[10px] text-gray-400 font-bold">
                        <span>LP Amount</span>
                        <button
                            type="button"
                            onclick="setMaxRemoveLp()"
                            class="text-[10px] text-fennec font-bold hover:text-white px-2 py-0.5 bg-fennec/10 rounded"
                        >
                            MAX
                        </button>
                    </div>
                    <input
                        id="removeLpAmount"
                        type="number"
                        inputmode="decimal"
                        placeholder="0.0"
                        class="mt-2 w-full bg-transparent text-2xl font-black outline-none text-white placeholder-gray-700"
                    />
                    <div class="text-[10px] text-gray-500 mt-1">Your LP: <span id="removeLpBalance">--</span></div>
                </div>

                <div class="mt-3 flex items-center justify-between text-[10px] text-gray-500 font-mono px-1">
                    <span>Est. Receive: <span id="removeReceive" class="text-white font-bold">--</span></span>
                    <span class="text-gray-600">Fees in FB</span>
                </div>

                <button
                    onclick="doRemoveLiquidity()"
                    id="removeLiqBtn"
                    class="mt-3 w-full bg-white/10 border border-white/10 text-white font-black text-base py-3 rounded-xl hover:bg-white/15 transition"
                >
                    WITHDRAW
                </button>
            </div>
        </div>

        <div
            id="inscriptionModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('inscriptionModal').classList.add('hidden')"
        >
            <div class="modal-box" onclick="event.stopPropagation()">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-white">Select Inscription</h3>
                    <button
                        onclick="document.getElementById('inscriptionModal').classList.add('hidden')"
                        class="text-gray-500 hover:text-white"
                    >
                        ‚úï
                    </button>
                </div>
                <div id="inscList" class="max-h-60 overflow-y-auto space-y-2">
                    <div class="text-center py-4 text-gray-500 text-xs">Loading...</div>
                </div>
            </div>
        </div>
        <div
            id="switchWalletModal"
            class="modal-overlay hidden"
            onclick="document.getElementById('switchWalletModal').classList.add('hidden')"
        >
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <i class="fas fa-exchange-alt text-3xl text-fennec mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">Switch Wallet?</h3>
                <p class="text-gray-400 text-sm mb-4">
                    You are about to switch from:<br /><span
                        class="text-fennec font-mono text-xs"
                        id="currentWalletAddress"
                    ></span
                    ><br /><br />Please confirm to continue.
                </p>
                <div class="flex gap-3">
                    <button
                        onclick="
                            document.getElementById('switchWalletModal').classList.add('hidden');
                            switchWalletConfirmed = true;
                            window.connectWallet();
                        "
                        class="flex-1 bg-fennec text-black py-3 rounded-xl font-bold hover:bg-white transition"
                    >
                        CONFIRM</button
                    ><button
                        onclick="
                            document.getElementById('switchWalletModal').classList.add('hidden');
                            switchWalletConfirmed = false;
                        "
                        class="flex-1 bg-white/10 text-white py-3 rounded-xl font-bold hover:bg-white/20 transition"
                    >
                        CANCEL
                    </button>
                </div>
            </div>
        </div>

        <!-- WHALE WATCHER NOTIFICATION -->
        <div
            id="whaleWatcher"
            class="whale-alert fixed bottom-4 right-4 bg-black/90 border border-fennec/50 p-4 rounded-xl shadow-[0_0_30px_rgba(255,107,53,0.3)] transform translate-y-[200%] transition-transform duration-500 z-50 flex items-center gap-4 max-w-sm hidden"
        >
            <div class="text-4xl"></div>
            <div>
                <div class="text-xs text-fennec font-bold uppercase tracking-widest mb-1">Whale Alert</div>
                <div id="whaleMsg" class="text-sm text-white font-mono leading-tight">Someone just swapped 500 FB!</div>
            </div>
            <button
                onclick="document.getElementById('whaleWatcher').classList.add('translate-y-[200%]')"
                class="absolute top-2 right-2 text-gray-500 hover:text-white"
            >
                √ó
            </button>
        </div>

        <!-- Progress Tracking Modal -->
        <div id="progressModal" class="modal-overlay hidden">
            <div class="modal-box border-fennec/30 text-center" onclick="event.stopPropagation()">
                <div class="text-4xl mb-4"><i class="fas fa-spinner fa-spin text-fennec"></i></div>
                <h3 class="text-lg font-bold text-white mb-3" id="progressTitle">Processing...</h3>
                <div class="bg-black/40 rounded-lg p-4 mb-4">
                    <div class="flex justify-between text-xs mb-2">
                        <span class="text-gray-400" id="progressStep">Waiting...</span
                        ><span class="text-fennec font-bold" id="progressPercent">0%</span>
                    </div>
                    <div class="w-full bg-white/10 rounded-full h-2 overflow-hidden">
                        <div
                            id="progressBar"
                            class="bg-gradient-to-r from-fennec to-sand h-full transition-all duration-300"
                            style="width: 0%"
                        ></div>
                    </div>
                </div>
                <p class="text-gray-400 text-xs font-mono break-all bg-black/30 p-2 rounded mb-4" id="progressTxId"></p>
                <button
                    onclick="closeProgress()"
                    class="w-full bg-white/10 py-2 rounded-lg hover:bg-white/20 text-white text-sm font-bold"
                >
                    CLOSE
                </button>
            </div>
        </div>

        <script src="js/router.js?v=2026-01-14-1"></script>
        <script src="assets/app.js?v=2026-01-14-1"></script>

        <!-- CHAT WIDGET -->
        <div id="chatWidget" class="fixed bottom-12 right-6 z-50 flex flex-col items-end pointer-events-none">
            <div
                id="chatWindow"
                class="mb-4 w-80 bg-[#1a100c]/95 backdrop-blur-xl border border-fennec/30 rounded-2xl shadow-[0_0_50px_rgba(255,107,53,0.15)] overflow-hidden transform origin-bottom-right scale-90 opacity-0 transition-all duration-300 pointer-events-auto hidden"
            >
                <div
                    class="bg-gradient-to-r from-fennec/20 to-transparent p-3 border-b border-white/5 flex justify-between items-center"
                >
                    <div class="flex items-center gap-2">
                        <div class="w-5 h-5 flex-shrink-0">
                            <img src="img/FENNECAI.png" class="w-full h-full object-contain ai-avatar" />
                        </div>
                        <span class="text-xs font-mono font-bold text-fennec tracking-widest">ASSISTANT</span>
                    </div>
                    <button onclick="window.toggleChat()" class="text-gray-500 hover:text-white">‚úï</button>
                </div>
                <div class="px-3 py-2 border-b border-white/5 bg-black/10">
                    <div class="flex flex-wrap gap-2 justify-center">
                        <button
                            onclick="oracleQuick('help')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            HELP
                        </button>
                        <button
                            onclick="oracleQuick('prices')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            PRICE
                        </button>
                        <button
                            onclick="oracleQuick('swap')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            SWAP
                        </button>
                        <button
                            onclick="oracleQuick('id')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            FENNEC ID
                        </button>
                        <button
                            onclick="oracleQuick('deposit')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            DEPOSIT
                        </button>
                        <button
                            onclick="oracleQuick('withdraw')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-fennec/40 hover:bg-fennec/10 transition"
                        >
                            WITHDRAW
                        </button>
                        <button
                            onclick="oracleQuick('clear')"
                            class="text-[10px] font-bold px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 hover:text-white hover:border-red-500/40 hover:bg-red-500/10 transition"
                        >
                            CLEAR
                        </button>
                    </div>
                    <div id="chatLoading" class="hidden mt-2 text-[10px] text-gray-500 font-mono">
                        Scanning the dunes...
                    </div>
                </div>
                <div id="chatMessages" class="h-80 overflow-y-auto p-4 space-y-3 scrollbar-thin text-xs text-gray-300">
                    <div class="flex gap-2 items-start">
                        <div class="w-6 h-6 flex-shrink-0">
                            <img src="img/FENNECAI.png" class="w-full h-full object-contain ai-avatar" />
                        </div>
                        <div class="bg-white/5 p-3 rounded-lg rounded-tl-none flex-1">
                            Ask me anything about Fennec.
                        </div>
                    </div>
                </div>
                <div class="p-3 border-t border-white/10 bg-black/20 relative">
                    <input
                        type="text"
                        id="chatInput"
                        placeholder="Ask..."
                        class="w-full bg-black/50 border border-white/10 rounded-lg pl-3 pr-12 py-3 text-xs text-white outline-none focus:border-fennec/50 transition"
                        onkeypress="if (event.key === 'Enter') sendMessage();"
                    />
                    <button
                        onclick="sendMessage()"
                        id="chatSendBtn"
                        class="absolute right-2 top-1/2 -translate-y-1/2 text-fennec w-9 h-9 flex items-center justify-center rounded-md bg-white/5 border border-white/10 hover:bg-fennec/10 hover:border-fennec/30"
                    >
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            <button
                onclick="window.toggleChat()"
                id="chatTrigger"
                class="pointer-events-auto w-14 h-14 bg-[#2b1d1a] rounded-full border border-fennec/50 shadow-lg flex items-center justify-center hover:scale-110 transition hover:bg-fennec hover:text-black overflow-hidden"
            >
                <img src="img/FENNECAI.png" class="w-10 h-10 object-contain ai-avatar" />
            </button>
        </div>

        <script src="assets/bg.js?v=2026-01-13-1"></script>
    </body>
</html>

==================================================
FILE PATH: \test_response.json
==================================================

{"error":"All Gemini models failed"}

==================================================
FILE PATH: \tsconfig.json
==================================================

{
    "compilerOptions": {
        "target": "ES2020",
        "useDefineForClassFields": true,
        "lib": ["ES2020", "DOM", "DOM.Iterable"],
        "module": "ESNext",
        "skipLibCheck": true,
        "moduleResolution": "Bundler",
        "allowJs": true,
        "checkJs": false,
        "resolveJsonModule": true,
        "isolatedModules": true,
        "noEmit": true,
        "strict": true,
        "types": ["vite/client"]
    },
    "include": ["worker.js", "api/**/*.js", "scripts/**/*.js", "scripts/**/*.mjs"]
}

==================================================
FILE PATH: \vercel.json
==================================================

{
    "name": "fennec-swap",
    "version": 2,
    "headers": [
        {
            "source": "/recursive_inscriptions/(.*)",
            "headers": [
                { "key": "Access-Control-Allow-Origin", "value": "*" },
                { "key": "Access-Control-Allow-Methods", "value": "GET, OPTIONS" },
                { "key": "Access-Control-Allow-Headers", "value": "*" }
            ]
        }
    ],
    "builds": [
        {
            "src": "index.html",
            "use": "@vercel/static"
        },
        {
            "src": "api/proxy.js",
            "use": "@vercel/node"
        }
    ],
    "routes": [
        {
            "src": "/api/(.*)",
            "dest": "/api/proxy.js"
        },
        {
            "src": "/(.*)",
            "dest": "/$1"
        }
    ]
}

==================================================
FILE PATH: \worker.js
==================================================

import * as btc from '@scure/btc-signer';
import { hex } from '@scure/base';

let __provenanceSigner = null;
let __provenanceSignerKeyId = null;
let __provenanceSignerJwkString = null;
let __provenanceSignerPublicJwk = null;

export default {
    async fetch(request, env, ctx) {
        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ
        const __workerBuild = '2026-01-13-final';
        const __allowedOrigins = new Set([
            'https://fennecbtc.xyz',
            'https://www.fennecbtc.xyz',
            'https://fennec-swap.pages.dev'
        ]);
        const __originHeader = String(request.headers.get('Origin') || '').trim();
        const __refererHeader = String(request.headers.get('Referer') || '').trim();
        const __originFromReferer = (() => {
            if (!__refererHeader) return '';
            try {
                return new URL(__refererHeader).origin;
            } catch (_) {
                void _;
                return '';
            }
        })();
        const __origin = __originHeader || __originFromReferer;
        const __isAllowedOrigin = origin => {
            const o = String(origin || '').trim();
            if (!o) return false;
            if (o === 'null') return true;
            if (
                o.startsWith('chrome-extension://') ||
                o.startsWith('moz-extension://') ||
                o.startsWith('safari-extension://')
            )
                return true;
            if (__allowedOrigins.has(o)) return true;
            try {
                const u = new URL(o);
                const host = String(u.hostname || '').toLowerCase();
                if (!host) return false;
                if (host === 'localhost' || host === '127.0.0.1') return true;
                if (host === 'fennecbtc.xyz' || host.endsWith('.fennecbtc.xyz')) return true;
                if (host === 'uniscan.cc' || host.endsWith('.uniscan.cc')) return true;
                if (host.endsWith('.pages.dev')) return true;
                if (host.endsWith('.warninghejo.workers.dev')) return true;
                return false;
            } catch (_) {
                void _;
                return false;
            }
        };
        const __allowOrigin = __isAllowedOrigin(__origin) ? __origin : '*';
        const corsHeaders = {
            'Access-Control-Allow-Origin': __allowOrigin,
            'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',
            'Access-Control-Allow-Headers': 'Content-Type, x-public-key, x-address, Authorization, x-internal',
            'Access-Control-Max-Age': '86400'
        };

        const __sensitiveActions = new Set([
            'sign_provenance',
            'chat',
            'create_inscription',
            'burn_remint_psbt',
            'push_psbt',
            'deposit_create',
            'deposit_confirm',
            'deposit_create_simple',
            'deposit_confirm_simple',
            'withdraw_create',
            'withdraw_confirm'
        ]);

        // Best-effort in-memory rate-limit (per isolate)
        const __rateState = globalThis.__fennecRateState || (globalThis.__fennecRateState = new Map());
        const __rateLimit = (key, limit, windowMs) => {
            const now = Date.now();
            const v = __rateState.get(key);
            if (!v || now - v.start >= windowMs) {
                __rateState.set(key, { start: now, count: 1 });
                return { ok: true };
            }
            if (v.count >= limit) return { ok: false, retryMs: windowMs - (now - v.start) };
            v.count += 1;
            return { ok: true };
        };

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ OPTIONS –∑–∞–ø—Ä–æ—Å–æ–≤
        if (request.method === 'OPTIONS') {
            return new Response(null, { headers: corsHeaders });
        }

        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –û–ø—Ä–µ–¥–µ–ª—è–µ–º sendJSON –î–û try –±–ª–æ–∫–∞, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –≤ catch
        const sendJSON = (data, status = 200, cacheSeconds = 0, cacheScope = 'private') => {
            const headers = { ...corsHeaders, 'Content-Type': 'application/json' };
            const isGet = String(request?.method || 'GET').toUpperCase() === 'GET';
            if (!isGet) {
                headers['Cache-Control'] = 'no-store';
            } else if (Number(cacheSeconds || 0) > 0) {
                const scope = cacheScope === 'public' ? 'public' : 'private';
                const secs = Math.max(1, Number(cacheSeconds) || 0);
                headers['Cache-Control'] =
                    scope === 'public' ? `public, max-age=${secs}, s-maxage=${secs}` : `private, max-age=${secs}`;
            } else {
                headers['Cache-Control'] = 'no-store';
            }
            return new Response(JSON.stringify(data), { status, headers });
        };

        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ CORS –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –ø—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ
        // –í–∫–ª—é—á–∞—è –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ URL
        try {
            const url = new URL(request.url);
            const pathname = url.pathname;

            // Handle /content/{inscriptionId} path for recursive inscriptions
            if (pathname.startsWith('/content/')) {
                const inscriptionId = pathname.replace('/content/', '').trim();
                if (inscriptionId) {
                    url.searchParams.set('action', 'inscription_content');
                    url.searchParams.set('inscriptionId', inscriptionId);
                    url.searchParams.set('raw', '1');
                }
            }

            const action = url.searchParams.get('action');

            const __debugEnabled = url.searchParams.get('debug') === '1';
            const __disableInswapByQuery =
                url.searchParams.get('no_inswap') === '1' || url.searchParams.get('basic') === '1';
            const __disableInswap =
                String(env?.DISABLE_INSWAP || env?.FENNEC_DISABLE_INSWAP || '').trim() === '1' ||
                __disableInswapByQuery;

            // Origin + simple rate limiting for sensitive endpoints
            try {
                const internal = String(request.headers.get('x-internal') || '').trim() === '1';
                if (!internal && action && __sensitiveActions.has(action)) {
                    if (!__isAllowedOrigin(__origin)) {
                        const includeDetails = __debugEnabled || action === 'sign_provenance';
                        let payload = { error: 'Forbidden' };
                        if (includeDetails) {
                            payload = {
                                error: 'Forbidden',
                                details: {
                                    reason: 'origin_not_allowed',
                                    worker_build: __workerBuild,
                                    action: action || null,
                                    method: String(request.method || 'GET').toUpperCase(),
                                    path: pathname || null,
                                    host: String(request.headers.get('Host') || '').trim() || null,
                                    origin: __originHeader || null,
                                    effective_origin: __origin || null,
                                    referer: __refererHeader || null,
                                    user_agent: String(request.headers.get('User-Agent') || '').trim() || null,
                                    cf_ip:
                                        String(request.headers.get('CF-Connecting-IP') || '').trim() ||
                                        String(request.headers.get('X-Forwarded-For') || '')
                                            .split(',')[0]
                                            .trim() ||
                                        null
                                }
                            };
                        }
                        return sendJSON(payload, 403);
                    }
                    const ip =
                        String(request.headers.get('CF-Connecting-IP') || '').trim() ||
                        String(request.headers.get('X-Forwarded-For') || '')
                            .split(',')[0]
                            .trim() ||
                        'unknown';
                    const limit = action === 'sign_provenance' ? 12 : 50;
                    const rl = __rateLimit(`ip:${ip}:action:${action}`, limit, 60_000);
                    if (!rl.ok) {
                        return sendJSON(
                            {
                                error: 'Rate limited',
                                retry_after_ms: rl.retryMs
                            },
                            429
                        );
                    }
                }
            } catch (_) {
                void _;
            }

            const API_KEY = env?.UNISAT_API_KEY || env?.API_KEY || '';
            const CMC_API_KEY = env?.CMC_API_KEY || env?.CMC_PRO_API_KEY || '';
            const GOOGLE_API_KEY = String(env?.GOOGLE_API_KEY || '').trim();

            const GEMINI_MODEL_CHAT_PRIMARY = 'gemini-3-flash';
            const GEMINI_MODEL_WORKHORSE = 'gemini-2.5-flash-lite';
            const GEMINI_MODEL_FALLBACK_1 = 'gemini-2.5-flash';
            const GEMINI_MODEL_FALLBACK_2 = 'gemini-2.5-pro';
            const GEMINI_MODEL_LEGACY_1 = 'gemini-2.0-flash-exp';
            const GEMINI_MODEL_LEGACY_2 = 'gemini-1.5-flash';
            const GEMINI_MODELS_WITH_SEARCH = new Set([
                'gemini-3-flash',
                'gemini-2.5-flash',
                'gemini-2.5-pro',
                'gemini-2.0-flash-exp',
                'gemini-1.5-flash'
            ]);

            const callGemini = async (prompt, options = {}) => {
                const {
                    useSearch = false,
                    systemInstruction = '',
                    temperature = 0.7,
                    purpose = 'generic',
                    model = '',
                    maxModelAttempts = 2,
                    timeoutMs = 12000
                } = options;

                if (!GOOGLE_API_KEY) {
                    throw new Error('GOOGLE_API_KEY not configured');
                }

                const desired = String(model || '').trim();
                const models = (() => {
                    if (desired) return [desired];
                    if (purpose === 'chat' || purpose === 'lore') {
                        return [
                            GEMINI_MODEL_CHAT_PRIMARY,
                            GEMINI_MODEL_WORKHORSE,
                            GEMINI_MODEL_FALLBACK_1,
                            GEMINI_MODEL_FALLBACK_2,
                            GEMINI_MODEL_LEGACY_1,
                            GEMINI_MODEL_LEGACY_2
                        ];
                    }
                    if (purpose === 'qa' || purpose === 'analysis') {
                        return [
                            GEMINI_MODEL_WORKHORSE,
                            GEMINI_MODEL_FALLBACK_1,
                            GEMINI_MODEL_CHAT_PRIMARY,
                            GEMINI_MODEL_FALLBACK_2,
                            GEMINI_MODEL_LEGACY_1,
                            GEMINI_MODEL_LEGACY_2
                        ];
                    }
                    return [
                        GEMINI_MODEL_WORKHORSE,
                        GEMINI_MODEL_CHAT_PRIMARY,
                        GEMINI_MODEL_FALLBACK_1,
                        GEMINI_MODEL_FALLBACK_2,
                        GEMINI_MODEL_LEGACY_1,
                        GEMINI_MODEL_LEGACY_2
                    ];
                })();

                const candidates = [];
                for (const m of models) {
                    const name = String(m || '').trim();
                    if (!name) continue;
                    if (useSearch && !GEMINI_MODELS_WITH_SEARCH.has(name)) continue;
                    if (candidates.includes(name)) continue;
                    candidates.push(name);
                }

                const attempts = candidates.slice(
                    0,
                    Math.max(1, Math.min(candidates.length, Number(maxModelAttempts) || 1))
                );
                let lastErr = null;

                const tryModel = async m => {
                    const body = {
                        contents: [{ role: 'user', parts: [{ text: String(prompt || '') }] }],
                        generationConfig: { temperature }
                    };

                    if (systemInstruction) {
                        body.systemInstruction = { parts: [{ text: String(systemInstruction || '') }] };
                    }

                    if (useSearch) {
                        body.tools = [{ googleSearch: {} }];
                    }

                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), timeoutMs);
                    try {
                        const res = await fetch(
                            `https://generativelanguage.googleapis.com/v1beta/models/${m}:generateContent?key=${GOOGLE_API_KEY}`,
                            {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify(body),
                                signal: controller.signal
                            }
                        );

                        if (!res.ok) {
                            const errText = await res.text().catch(() => '');
                            const shortErr = String(errText || '').slice(0, 400);
                            const e = new Error(`HTTP ${res.status}: ${shortErr}`);
                            e.status = res.status;
                            throw e;
                        }

                        const data = await res.json();
                        const parts = data?.candidates?.[0]?.content?.parts;
                        const text = Array.isArray(parts) ? parts.map(p => String(p?.text || '')).join('') : '';
                        const cleaned = String(text || '').trim();
                        if (!cleaned) throw new Error('Empty response');
                        return { text: cleaned, model: m };
                    } finally {
                        clearTimeout(timeoutId);
                    }
                };

                for (const m of attempts) {
                    try {
                        return await tryModel(m);
                    } catch (e) {
                        lastErr = e;
                        const status = Number(e?.status || 0) || 0;
                        if (status === 429 || status >= 500 || status === 404 || status === 403 || status === 400)
                            continue;
                        break;
                    }
                }

                throw new Error(`Gemini failed: ${String(lastErr?.message || lastErr || 'Unknown error')}`);
            };

            const analyzeServerCrash = async (error, context) => {
                try {
                    const prompt = `–¢—ã Senior Backend Developer. –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –≤ Cloudflare Worker.

Error: ${error.message}
Stack: ${error.stack || 'N/A'}
Request Context: ${JSON.stringify(context, null, 2)}

–ó–∞–¥–∞—á–∞:
1. –ù–∞–π–¥–∏ —Ç–æ—á–Ω—É—é —Å—Ç—Ä–æ–∫—É –∏ –ø—Ä–∏—á–∏–Ω—É —Å–±–æ—è.
2. –ï—Å–ª–∏ —ç—Ç–æ –æ—à–∏–±–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ API (404/429/500 –æ—Ç UniSat/InSwap), —É–∫–∞–∂–∏ —ç—Ç–æ —è–≤–Ω–æ.
3. –ù–∞–ø–∏—à–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –∏–ª–∏ JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–æ—Ç–æ—Ä—É—é –º—ã –æ–∂–∏–¥–∞–ª–∏.
–ë—É–¥—å –ø—Ä–µ–¥–µ–ª—å–Ω–æ —Ç–µ—Ö–Ω–∏—á–Ω—ã–º –∏ –∫—Ä–∞—Ç–∫–∏–º.`;

                    const result = await callGemini(prompt, {
                        purpose: 'analysis',
                        temperature: 0.3,
                        maxModelAttempts: 2,
                        timeoutMs: 12000
                    });
                    return result.text;
                } catch (e) {
                    return `AI analysis failed: ${e.message}`;
                }
            };
            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoints –∏–∑ UniSat Wallet –∫–æ–Ω—Å—Ç–∞–Ω—Ç
            // wallet-api —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –±–æ–ª—å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è 429 –æ—à–∏–±–æ–∫
            const WALLET_API_FRACTAL = 'https://wallet-api-fractal.unisat.io'; // Wallet API (—Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
            // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –†–∞–∑–¥–µ–ª—è–µ–º –∑–∞–ø—Ä–æ—Å—ã –º–µ–∂–¥—É –¥–≤—É–º—è API –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è rate limiting
            // –°—Ç—Ä–∞—Ç–µ–≥–∏—è: –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ open-api-fractal.unisat.io, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ Fractal-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            // –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É, –º–æ–∂–Ω–æ —á–∞—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞ open-api.unisat.io
            const FRACTAL_BASE = 'https://open-api-fractal.unisat.io/v1'; // Open API Fractal (–¥–ª—è –≤—Å–µ—Ö Fractal-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
            const __normHost = v =>
                String(v || '')
                    .trim()
                    .replace(/^https?:\/\//i, '')
                    .replace(/\/+$/, '');
            const __unisatHost =
                __normHost(env?.UNISAT_OPEN_API_HOST) ||
                __normHost(env?.UNISAT_HOST) ||
                __normHost(env?.OPEN_API_UNISAT_HOST) ||
                'open-api-staging.unisat.io';
            const UNISAT_BASE = `https://${__unisatHost}/v1`; // Open API –æ–±—â–∏–π (prod/staging via env)
            const BTC_BASE = `https://${__unisatHost}`;
            const INSWAP_URL = `${FRACTAL_BASE}/brc20-swap`; // –°—Ç–∞—Ä—ã–π URL –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
            const INSWAP_V1_URL = `${FRACTAL_BASE}/brc20-swap`; // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

            // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –î–ª—è brc20-swap —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º FRACTAL_BASE
            // –í—Å–µ brc20-swap –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –Ω–∞ open-api-fractal.unisat.io (–æ–Ω–∏ Fractal-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ)
            // –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UNISAT_BASE, –Ω–æ —ç—Ç–æ –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è Fractal —Å–µ—Ç–∏
            const SWAP_BASE = FRACTAL_BASE; // –î–ª—è brc20-swap –∏—Å–ø–æ–ª—å–∑—É–µ–º Fractal API (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Fractal —Å–µ—Ç–∏)

            const DEFAULT_FEE_TICK = 'sFB___000';

            const __normalizeSwapTick = t => {
                const v = String(t || '').trim();
                const u = v.toUpperCase();
                if (u === 'SFB') return 'sFB___000';
                if (u === 'SBTC') return 'sBTC___000';
                return v;
            };

            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –°—Ç—Ä–æ–≥–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏ timestamp - —É–±–∏–π—Ü–∞ –±—É–¥—É—â–µ–≥–æ
            const sanitizeTimestamp = ts => {
                if (!ts || ts === 0) return 0;
                // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã –≤ —Å–µ–∫—É–Ω–¥—ã
                if (ts > 1000000000000) ts = Math.floor(ts / 1000);

                const now = Math.floor(Date.now() / 1000);
                const minValid = 1700000000; // Nov 2023

                // –°–¢–†–û–ì–ê–Ø –ü–†–û–í–ï–†–ö–ê: –ï—Å–ª–∏ timestamp –≤ –±—É–¥—É—â–µ–º, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º 0
                if (ts > now) {
                    return 0; // –ñ–µ—Å—Ç–∫–æ –æ–±–Ω—É–ª—è–µ–º –ª—é–±—ã–µ –¥–∞—Ç—ã –∏–∑ –±—É–¥—É—â–µ–≥–æ
                }
                if (ts < minValid) {
                    return 0; // –°–ª–∏—à–∫–æ–º —Å—Ç–∞—Ä—ã–π
                }

                return ts;
            };

            // Headers forwarding
            const incomingPubKey = request.headers.get('x-public-key');
            const incomingAddress = request.headers.get('x-address');

            const upstreamHeaders = {
                'Content-Type': 'application/json',
                'User-Agent':
                    'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'
            };

            if (API_KEY) upstreamHeaders.Authorization = `Bearer ${API_KEY}`;

            const unisatApiHeaders = {
                ...upstreamHeaders,
                Accept: 'application/json, text/plain, */*'
            };

            const requireUniSatKey = () => {
                if (!API_KEY) {
                    throw new Error('UNISAT_API_KEY is not configured on the server.');
                }
            };

            const authHeaders = () => {
                requireUniSatKey();
                return { Authorization: `Bearer ${API_KEY}` };
            };

            if (incomingPubKey) upstreamHeaders['x-public-key'] = incomingPubKey;
            if (incomingAddress) upstreamHeaders['x-address'] = incomingAddress;

            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º debugInfo –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –≤–µ–∑–¥–µ
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –µ–≥–æ –∫–∞–∫ –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç, –æ–Ω –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω –ø–æ–∑–∂–µ –≤ fractal_audit
            const debugInfo = {};

            const stableSortObject = value => {
                if (value == null || typeof value !== 'object') return value;
                if (Array.isArray(value)) return value.map(stableSortObject);
                const keys = Object.keys(value).sort();
                const out = {};
                for (const k of keys) out[k] = stableSortObject(value[k]);
                return out;
            };

            const stableStringify = value => JSON.stringify(stableSortObject(value));

            const bytesToBase64 = bytes => {
                let binary = '';
                for (let i = 0; i < bytes.length; i += 1) binary += String.fromCharCode(bytes[i]);
                return btoa(binary);
            };

            const getProvenanceSigner = async () => {
                const jwkString = env?.PROVENANCE_SIGNING_KEY_JWK || env?.provenance_signing_key_jwk || '';
                if (!jwkString) return null;

                const keyId = env?.PROVENANCE_KEY_ID || env?.provenance_key_id || 'default';
                if (
                    __provenanceSigner &&
                    __provenanceSignerJwkString === jwkString &&
                    __provenanceSignerKeyId === keyId
                ) {
                    return {
                        key: __provenanceSigner,
                        publicJwk: __provenanceSignerPublicJwk,
                        keyId: __provenanceSignerKeyId
                    };
                }

                let jwk;
                try {
                    jwk = JSON.parse(jwkString);
                } catch (e) {
                    throw new Error('PROVENANCE_SIGNING_KEY_JWK is not valid JSON.');
                }

                const key = await crypto.subtle.importKey('jwk', jwk, { name: 'ECDSA', namedCurve: 'P-256' }, false, [
                    'sign'
                ]);

                const publicJwk = { ...jwk };
                delete publicJwk.d;
                publicJwk.key_ops = ['verify'];

                __provenanceSigner = key;
                __provenanceSignerJwkString = jwkString;
                __provenanceSignerKeyId = keyId;
                __provenanceSignerPublicJwk = publicJwk;

                return { key, publicJwk, keyId };
            };

            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±—Ä–∞–Ω–∞ –ø–æ–¥–ø–∏—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —ç—Ç–∏—Ö API
            // const userSignature = url.searchParams.get('signature') || '';
            // if (userSignature) {
            //     upstreamHeaders['x-signature'] = userSignature;
            //     debugInfo.user_signature_provided = true;
            //     debugInfo.user_signature_length = userSignature.length;
            // } else {
            //     debugInfo.user_signature_provided = false;
            // }

            // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω (Mempool Fractal –¥–ª—è BTC, –ø—É–ª –¥–ª—è FB)
            const getCMCPrices = async () => {
                let btcPrice = 0;
                let fbPrice = 0;

                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º Mempool Fractal API –¥–ª—è BTC (—Ä–∞–∑–≥—Ä—É–∂–∞–µ–º CoinGecko)
                try {
                    const mempoolRes = await fetch('https://mempool.fractalbitcoin.io/api/v1/prices', {
                        headers: { 'User-Agent': 'Mozilla/5.0' }
                    });
                    if (mempoolRes.ok) {
                        const mempoolJson = await mempoolRes.json();
                        // Mempool API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–Ω—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ { USD: price }
                        btcPrice = mempoolJson.USD || 0;
                    }
                } catch (e) {
                    console.error('Mempool Fractal BTC price error:', e);
                }

                // Fallback: CoinGecko –¥–ª—è BTC (–µ—Å–ª–∏ Mempool –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
                if (btcPrice === 0) {
                    try {
                        const cgRes = await fetch(
                            'https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd',
                            {
                                headers: { 'User-Agent': 'Mozilla/5.0' }
                            }
                        );
                        if (cgRes.ok) {
                            const cgJson = await cgRes.json();
                            btcPrice = cgJson.bitcoin?.usd || 0;
                        }
                    } catch (e) {
                        console.error('CoinGecko BTC price error:', e);
                    }
                }

                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –°–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É FB —Å CoinGecko (fractal-bitcoin)
                try {
                    const cgFBRes = await fetch(
                        'https://api.coingecko.com/api/v3/simple/price?ids=fractal-bitcoin&vs_currencies=usd',
                        {
                            headers: { 'User-Agent': 'Mozilla/5.0' }
                        }
                    );
                    if (cgFBRes.ok) {
                        const cgFBJson = await cgFBRes.json();
                        if (cgFBJson['fractal-bitcoin']?.usd) {
                            fbPrice = cgFBJson['fractal-bitcoin'].usd;
                            console.log(' FB price from CoinGecko:', fbPrice);
                        }
                    }
                } catch (e) {
                    console.error('CoinGecko FB price error:', e);
                }

                // Fallback: FB —Å—á–∏—Ç–∞–µ–º –∏–∑ –ø—É–ª–∞ FB-–ë–∏—Ç–∫–æ–∏–Ω —Å —É—á–µ—Ç–æ–º —Ç–µ–∫—É—â–µ–≥–æ –∫—É—Ä—Å–∞ –±–∏—Ç–∫–æ–∏–Ω–∞
                if (fbPrice === 0 && btcPrice > 0) {
                    try {
                        const poolRes = await fetch(
                            `${FRACTAL_BASE}/indexer/pool_info?tick0=sBTC___000&tick1=sFB___000`,
                            {
                                headers: upstreamHeaders
                            }
                        );
                        if (poolRes.ok) {
                            const poolJson = await poolRes.json().catch(() => null);
                            if (poolJson && poolJson.data) {
                                const d = poolJson.data;
                                const amt0 = parseFloat(d.amount0);
                                const amt1 = parseFloat(d.amount1);
                                const isBtcFirst =
                                    String(d.tick0 || '').includes('BTC') || String(d.tick0 || '') === 'sBTC___000';

                                let ratio = 0;
                                if (isBtcFirst) {
                                    if (amt1 > 0) ratio = amt0 / amt1;
                                } else {
                                    if (amt0 > 0) ratio = amt1 / amt0;
                                }

                                if (ratio > 0) fbPrice = ratio * btcPrice;
                            }
                        }
                    } catch (e) {
                        console.error('FB pool fallback error:', e);
                    }
                }

                return { btcPrice, fbPrice };
            };
            const __parseRangeSec = tr => {
                const v = String(tr || '')
                    .trim()
                    .toLowerCase();
                if (v === '1h') return 60 * 60;
                if (v === '24h') return 24 * 60 * 60;
                if (v === '7d') return 7 * 24 * 60 * 60;
                if (v === '30d') return 30 * 24 * 60 * 60;
                if (v === '90d') return 90 * 24 * 60 * 60;
                return 24 * 60 * 60;
            };

            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–¥–∞–ª–µ–Ω –∞–ª–∏–∞—Å fractal_audit -> audit_data (–∫–æ–Ω—Ñ–ª–∏–∫—Ç handlers)

            // worker_info endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ—Ä—Å–∏–∏ –¥–µ–ø–ª–æ—è
            if (action === 'worker_info') {
                return sendJSON({ code: 0, data: { worker_build: __workerBuild } });
            }

            if (action === 'fennec_id_register') {
                if (String(request.method || 'GET').toUpperCase() !== 'POST') {
                    return sendJSON({ code: -1, msg: 'Method not allowed' }, 405);
                }

                if (!env?.FENNEC_DB) {
                    return sendJSON({ code: -1, msg: 'FENNEC_DB is not configured on the server.' }, 200);
                }

                const body = await request.json().catch(() => null);
                if (!body || typeof body !== 'object') {
                    return sendJSON({ code: -1, msg: 'Invalid JSON body' }, 200);
                }

                const address = String(body.address || body.addr || '').trim();
                const inscriptionId = String(body.inscriptionId || body.inscription_id || body.id || '').trim();
                if (!address || !inscriptionId) {
                    return sendJSON({ code: -1, msg: 'Missing address or inscriptionId' }, 200);
                }

                const addrKey = address.toLowerCase();
                const updatedAt = Date.now();
                const key = `fennec_id_v3:${addrKey}`;

                try {
                    await env.FENNEC_DB.put(key, JSON.stringify({ inscriptionId, updatedAt, address: addrKey }), {
                        metadata: { updatedAt }
                    });
                } catch (e) {
                    return sendJSON({ code: -1, msg: e?.message || String(e) }, 200);
                }

                return sendJSON({ code: 0, data: { address: addrKey, inscriptionId, updatedAt } }, 200);
            }

            if (action === 'fennec_id_lookup') {
                if (!env?.FENNEC_DB) {
                    return sendJSON({ code: -1, msg: 'FENNEC_DB is not configured on the server.' }, 200);
                }

                const address = String(url.searchParams.get('address') || url.searchParams.get('addr') || '').trim();
                if (!address) {
                    return sendJSON({ code: -1, msg: 'Missing address' }, 200);
                }

                const addrKey = address.toLowerCase();
                const key = `fennec_id_v3:${addrKey}`;
                try {
                    const raw = await env.FENNEC_DB.get(key);
                    if (!raw) {
                        return sendJSON({ code: 0, data: null }, 200);
                    }
                    const parsed = (() => {
                        try {
                            return JSON.parse(raw);
                        } catch (_) {
                            return null;
                        }
                    })();

                    const inscriptionId = String(parsed?.inscriptionId || '').trim();
                    const updatedAt = Number(parsed?.updatedAt || 0) || 0;
                    if (!inscriptionId) {
                        return sendJSON({ code: 0, data: null }, 200);
                    }

                    return sendJSON({ code: 0, data: { address: addrKey, inscriptionId, updatedAt } }, 200);
                } catch (e) {
                    return sendJSON({ code: -1, msg: e?.message || String(e) }, 200);
                }
            }

            // –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: quote endpoint –¥–ª—è —Ñ—Ä–æ–Ω—Ç–∞
            if (action === 'quote') {
                try {
                    const tick0Raw = url.searchParams.get('tick0');
                    const tick1Raw = url.searchParams.get('tick1');
                    const tick0 = __normalizeSwapTick(tick0Raw || 'FENNEC');
                    const tick1 = __normalizeSwapTick(tick1Raw || 'sFB___000');
                    const query = `?tick0=${encodeURIComponent(tick0)}&tick1=${encodeURIComponent(tick1)}`;
                    let poolUrl = `${SWAP_BASE}/brc20-swap/pool_info${query}`;
                    let res = await fetch(poolUrl, { headers: upstreamHeaders });
                    if (!res.ok && res.status === 404) {
                        poolUrl = `${SWAP_BASE}/indexer/brc20-swap/pool_info${query}`;
                        res = await fetch(poolUrl, { headers: upstreamHeaders });
                    }
                    const json = await res.json().catch(() => null);
                    if (!json || typeof json !== 'object') {
                        return sendJSON({ code: -1, msg: `API error: ${res.status} ${res.statusText}` }, 200);
                    }
                    return sendJSON(json, res.status);
                } catch (e) {
                    return sendJSON({ code: -1, msg: e?.message || String(e) }, 200);
                }
            }

            // –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: get_prices endpoint –¥–ª—è —Ñ—Ä–æ–Ω—Ç–∞
            if (action === 'get_prices') {
                try {
                    let btc = 0,
                        fb = 0;
                    try {
                        const p = await Promise.race([
                            getCMCPrices(),
                            new Promise(resolve => setTimeout(() => resolve({ btcPrice: 0, fbPrice: 0 }), 3000))
                        ]);
                        btc = Number(p?.btcPrice || 0) || 0;
                        fb = Number(p?.fbPrice || 0) || 0;
                    } catch (e) {
                        void e;
                    }
                    let fennec_in_fb = 0;
                    try {
                        const query = `?tick0=${encodeURIComponent('FENNEC')}&tick1=${encodeURIComponent('sFB___000')}`;
                        let poolUrl = `${SWAP_BASE}/brc20-swap/pool_info${query}`;
                        let res = await fetch(poolUrl, { headers: upstreamHeaders });
                        if (!res.ok && res.status === 404) {
                            poolUrl = `${SWAP_BASE}/indexer/brc20-swap/pool_info${query}`;
                            res = await fetch(poolUrl, { headers: upstreamHeaders });
                        }
                        const json = await res.json().catch(() => null);
                        const d = json?.data && typeof json.data === 'object' ? json.data : null;
                        const a0 = Number(d?.amount0 || 0) || 0;
                        const a1 = Number(d?.amount1 || 0) || 0;
                        const t0 = String(d?.tick0 || '').toUpperCase();
                        const t1 = String(d?.tick1 || '').toUpperCase();
                        if (a0 > 0 && a1 > 0) {
                            if (t0.includes('FENNEC')) fennec_in_fb = a1 / a0;
                            else if (t1.includes('FENNEC')) fennec_in_fb = a0 / a1;
                        }
                    } catch (e) {
                        void e;
                    }
                    return sendJSON({ code: 0, data: { btc, fb, fennec_in_fb } }, 200);
                } catch (e) {
                    return sendJSON(
                        { code: 0, data: { btc: 0, fb: 0, fennec_in_fb: 0 }, error: e?.message || String(e) },
                        200
                    );
                }
            }

            // –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: price_line endpoint –¥–ª—è —Ñ—Ä–æ–Ω—Ç–∞
            if (action === 'price_line') {
                try {
                    const tick0 = __normalizeSwapTick(url.searchParams.get('tick0') || 'sFB___000');
                    const tick1 = __normalizeSwapTick(url.searchParams.get('tick1') || 'FENNEC');
                    const timeRange = String(url.searchParams.get('timeRange') || '7d').trim();

                    const __rangeMs = tr => {
                        const v = String(tr || '').toLowerCase();
                        if (v === '1h') return 60 * 60 * 1000;
                        if (v === '24h') return 24 * 60 * 60 * 1000;
                        if (v === '7d') return 7 * 24 * 60 * 60 * 1000;
                        if (v === '30d') return 30 * 24 * 60 * 60 * 1000;
                        if (v === '90d') return 90 * 24 * 60 * 60 * 1000;
                        if (v === 'all') return 90 * 24 * 60 * 60 * 1000;
                        return 7 * 24 * 60 * 60 * 1000;
                    };

                    const nowMs = Date.now();
                    const cutoffMs = nowMs - __rangeMs(timeRange);

                    let endpointUrl = `${SWAP_BASE}/brc20-swap/swap_history?start=0&limit=2000`;
                    let res = await fetch(endpointUrl, { method: 'GET', headers: upstreamHeaders });
                    if (!res.ok && res.status === 404) {
                        endpointUrl = `${SWAP_BASE}/indexer/brc20-swap/swap_history?start=0&limit=2000`;
                        res = await fetch(endpointUrl, { method: 'GET', headers: upstreamHeaders });
                    }
                    const json = res.ok ? await res.json().catch(() => null) : null;
                    const list = Array.isArray(json?.data?.list) ? json.data.list : [];

                    const outList = [];
                    for (const it of list) {
                        const ts = Number(it?.ts || 0) || 0;
                        if (!ts) continue;
                        const ms = ts * 1000;
                        if (ms < cutoffMs) continue;

                        const tin = __normalizeSwapTick(it?.tickIn);
                        const tout = __normalizeSwapTick(it?.tickOut);
                        const aIn = Number(it?.amountIn || 0) || 0;
                        const aOut = Number(it?.amountOut || 0) || 0;
                        if (!tin || !tout || aIn <= 0 || aOut <= 0) continue;

                        // –•–æ—Ç–∏–º price = FB per FENNEC
                        let price = 0;
                        if (tin === tick1 && tout === tick0) {
                            // FENNEC -> FB
                            price = aOut / aIn;
                        } else if (tin === tick0 && tout === tick1) {
                            // FB -> FENNEC
                            price = aIn / aOut;
                        } else {
                            continue;
                        }

                        if (!(price > 0)) continue;
                        outList.push({ ts, price: String(price) });
                    }

                    outList.sort((a, b) => (a.ts || 0) - (b.ts || 0));
                    return sendJSON({ code: 0, data: { list: outList } }, 200);
                } catch (e) {
                    void e;
                }
                return sendJSON({ code: 0, data: { list: [] } }, 200);
            }

            // –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: summary endpoint –¥–ª—è —Ñ—Ä–æ–Ω—Ç–∞
            if (action === 'summary') {
                const address = String(url.searchParams.get('address') || '').trim();
                if (!address) return sendJSON({ error: 'Address required' }, 400);
                try {
                    const summaryRes = await fetch(`${FRACTAL_BASE}/indexer/address/${address}/summary`, {
                        headers: upstreamHeaders
                    });
                    const summaryJson = summaryRes.ok ? await summaryRes.json().catch(() => null) : null;
                    const d = summaryJson?.data && typeof summaryJson.data === 'object' ? summaryJson.data : {};

                    const txCount =
                        Number(d.tx_count || d.totalTransactionCount || d.historyCount || d.txCount || 0) || 0;
                    const utxoCount = Number(d.utxo_count || d.utxoCount || 0) || 0;
                    const nativeBalance =
                        Number(d.native_balance || d.nativeBalance || 0) ||
                        (Number(d.satoshi || 0) ? Number(d.satoshi || 0) / 100000000 : 0);
                    const firstTxTs =
                        Number(d.first_tx_ts || d.firstTransactionTime || d.firstTxTime || d.first_tx_time || 0) || 0;

                    return sendJSON({
                        code: 0,
                        data: {
                            address,
                            tx_count: txCount,
                            utxo_count: utxoCount,
                            native_balance: nativeBalance,
                            first_tx_ts: firstTxTs,
                            runes_count: Number(d.runes_count || 0) || 0,
                            brc20_count: Number(d.brc20_count || 0) || 0,
                            ordinals_count: Number(d.ordinals_count || 0) || 0,
                            synced_at: new Date().toISOString()
                        }
                    });
                } catch (e) {
                    return sendJSON({ code: 0, data: {}, error: e?.message || String(e) }, 200);
                }
            }

            if (action === 'provenance_pubkey') {
                let signer = null;
                try {
                    signer = await getProvenanceSigner();
                } catch (_) {
                    signer = null;
                }
                return sendJSON({
                    code: 0,
                    data: {
                        key_id: signer?.keyId || 'unconfigured',
                        alg: signer ? 'ECDSA_P256_SHA256' : 'NONE',
                        public_key_jwk: signer?.publicJwk || null
                    }
                });
            }

            if (action === 'sign_provenance') {
                let signer = null;
                let signerError = null;
                try {
                    signer = await getProvenanceSigner();
                } catch (e) {
                    signer = null;
                    signerError = e?.message || String(e);
                }
                if (String(request.method || 'GET').toUpperCase() !== 'POST') {
                    return sendJSON({ error: 'Method not allowed' }, 405);
                }

                const body = await request.json().catch(() => null);
                if (!body) return sendJSON({ error: 'Invalid JSON body' }, 200);

                const inputPayload = body?.payload ?? body;
                const addrIn = String(
                    body?.address || body?.addr || inputPayload?.address || inputPayload?.addr || incomingAddress || ''
                ).trim();
                if (!addrIn) return sendJSON({ error: 'Missing address' }, 200);

                const htmlSha = String(
                    inputPayload?.html_sha256 || body?.html_sha256 || inputPayload?.htmlSha256 || body?.htmlSha256 || ''
                ).trim();

                const computeIdentity = auditData => {
                    const d = auditData && typeof auditData === 'object' ? auditData : {};

                    const txCount = Number(d.tx_count || 0) || 0;
                    const utxoCount = Number(d.utxo_count || 0) || 0;
                    const firstTxTs = Number(d.first_tx_ts || 0) || 0;
                    const runesCount = Number(d.runes_count || 0) || 0;
                    const brc20Count = Number(d.brc20_count || 0) || 0;
                    const ordinalsCount = Number(d.ordinals_count || 0) || 0;

                    const lpValueUSD = Number(d.lp_value_usd || d.lpValueUSD || 0) || 0;
                    const allTokensValueUSD = Number(d.all_tokens_value_usd || d.allTokensValueUSD || 0) || 0;
                    const netWorthUSD = allTokensValueUSD + lpValueUSD;

                    const providerValueUSD = lpValueUSD;
                    const isLiquidityProvider = providerValueUSD >= 50;
                    const isWhale = netWorthUSD >= 1000;
                    const totalInscriptions = brc20Count + runesCount + ordinalsCount;
                    const isArtifactHunter = totalInscriptions >= 50;
                    const isRuneKeeper = runesCount >= 20;

                    const LAUNCH_DATE = 1725840000;
                    const ONE_DAY = 86400;
                    const isGenesis = firstTxTs > 0 && firstTxTs >= LAUNCH_DATE && firstTxTs < LAUNCH_DATE + ONE_DAY;

                    const fennecWalletOnly = Number(d.fennec_wallet_balance || 0) || 0;
                    const fennecLpValueUSD = Number(d.fennec_lp_value_usd || d.fennecLpValueUSD || 0) || 0;
                    const hasFennecInLP = !!(d.has_fennec_in_lp || d.hasFennecInLP);

                    const fennecTotal = Number(d.fennec_native_balance || 0) || 0;
                    const isMempoolRider = txCount >= 10000;
                    const abandonedUtxoCountNum = Number.isFinite(Number(d.abandoned_utxo_count))
                        ? Number(d.abandoned_utxo_count)
                        : 0;
                    const abandonedUtxoCountMissing = !!d.abandoned_utxo_count_missing;
                    const isSandSweeper = !abandonedUtxoCountMissing && abandonedUtxoCountNum < 100;

                    const badges = [];
                    if (isGenesis)
                        badges.push({
                            name: 'GENESIS',
                            icon: '',
                            desc: 'You witnessed the first sunrise over the Fractal dunes.'
                        });
                    if (isWhale)
                        badges.push({
                            name: 'WHALE',
                            icon: '',
                            desc: 'When you move, the sands shift beneath you.'
                        });
                    if (isLiquidityProvider)
                        badges.push({
                            name: 'PROVIDER',
                            icon: '',
                            desc: 'The desert is thirsty, but your well runs deep.'
                        });
                    if (fennecTotal >= 10000 || hasFennecInLP)
                        badges.push({
                            name: 'FENNEC MAXI',
                            icon: '',
                            desc: 'The Spirit of the Fox guides your path.'
                        });
                    if (isArtifactHunter)
                        badges.push({
                            name: 'ARTIFACT HUNTER',
                            icon: '',
                            desc: 'Your pockets are heavy with echoes of the chain.'
                        });
                    if (isRuneKeeper)
                        badges.push({
                            name: 'RUNE KEEPER',
                            icon: '',
                            desc: 'You decipher the glyphs. The stones speak to you.'
                        });
                    if (isMempoolRider)
                        badges.push({
                            name: 'MEMPOOL RIDER',
                            icon: '',
                            desc: 'Surfing the chaos of the 30-second block waves.'
                        });
                    if (isSandSweeper)
                        badges.push({
                            name: 'SAND SWEEPER',
                            icon: '',
                            desc: 'Your UTXO set is clean. No trash left in the dunes.'
                        });

                    const badgeCount = badges.length;
                    let baseKey = 'DRIFTER';

                    if (isGenesis && isLiquidityProvider && isWhale) baseKey = 'PRIME';
                    else if (providerValueUSD >= 200) baseKey = 'LORD';
                    else if (isGenesis) baseKey = 'WALKER';
                    else if (isArtifactHunter && isRuneKeeper) baseKey = 'KEEPER';
                    else if (netWorthUSD >= 100) baseKey = 'MERCHANT';
                    else if (txCount > 1000) baseKey = 'ENGINEER';
                    else if (runesCount >= 20) baseKey = 'SHAMAN';
                    else baseKey = 'DRIFTER';

                    if (badgeCount >= 7) baseKey = 'SINGULARITY';

                    let tierLevel = 0;
                    if (badgeCount >= 6) tierLevel = 3;
                    else if (badgeCount >= 4) tierLevel = 2;
                    else if (badgeCount >= 2) tierLevel = 1;
                    else tierLevel = 0;

                    if (baseKey === 'PRIME' || baseKey === 'SINGULARITY') tierLevel = 3;

                    const tierNames = {
                        DRIFTER: ['DESERT RUNNER', 'SAND WANDERER', 'DUNE NOMAD', 'STORM SURFER'],
                        MERCHANT: ['CARAVAN MERCHANT', 'GOLD TRADER', 'OASIS KING', 'DESERT TYCOON'],
                        ENGINEER: ['CODE ENGINEER', 'SYSTEM BUILDER', 'NEURAL ARCHITECT', 'QUANTUM ENGINEER'],
                        SHAMAN: ['RUNE SHAMAN', 'RUNE SEER', 'RUNE PROPHET', 'RUNE DEITY'],
                        KEEPER: ['KEEPER OF LORE', 'CHRONICLER', 'GRAND ARCHIVIST', 'OMNISCIENT'],
                        WALKER: ['FIRST WALKER', 'ANCIENT WALKER', 'PRIMORDIAL', 'TIMELESS ENTITY'],
                        LORD: ['OASIS LORD', 'TERMINAL BARON', 'FRACTAL KING', 'EMPEROR'],
                        PRIME: ['FRACTAL PRIME', 'APEX PRIME', 'OMEGA PRIME', 'PRIME ABSOLUTE'],
                        SINGULARITY: ['THE SINGULARITY', 'THE SINGULARITY', 'THE SINGULARITY', 'THE SINGULARITY']
                    };

                    const evolutionPath = tierNames[baseKey] || tierNames.DRIFTER;
                    const title = evolutionPath[Math.min(tierLevel, evolutionPath.length - 1)];

                    return {
                        archetype: {
                            baseKey,
                            title,
                            tierLevel
                        },
                        badges,
                        metrics: {
                            address: addrIn,
                            txCount,
                            utxoCount,
                            first_tx_ts: firstTxTs,
                            lpValueUSD: providerValueUSD,
                            netWorth: Number(netWorthUSD.toFixed(2)),
                            fennecWalletBalance: fennecWalletOnly,
                            fennecLpValueUSD
                        }
                    };
                };

                let auditData = null;
                let auditDiagnostics = null;

                try {
                    const clientAudit =
                        body?.audit_data ||
                        body?.auditData ||
                        inputPayload?.audit_data ||
                        inputPayload?.auditData ||
                        null;
                    if (clientAudit && typeof clientAudit === 'object') {
                        auditData = clientAudit;
                        auditDiagnostics = { source: 'client_audit_snapshot' };
                    }
                } catch (_) {
                    void _;
                }

                try {
                    const base = new URL(request.url);
                    base.search = '';
                    const auditUrl = `${base.toString()}?action=fractal_audit&address=${encodeURIComponent(addrIn)}`;
                    if (!auditData) {
                        const auditRes = await fetch(auditUrl, {
                            method: 'GET',
                            headers: { Accept: 'application/json', 'x-internal': '1' }
                        });
                        let auditJson = null;
                        let rawText = null;
                        try {
                            rawText = await auditRes.text();
                            auditJson = rawText ? JSON.parse(rawText) : null;
                        } catch (_) {
                            auditJson = null;
                        }

                        const a = auditJson && typeof auditJson === 'object' ? auditJson.data || null : null;
                        if (auditJson && auditJson.code === 0 && a && typeof a === 'object') {
                            auditData = a;
                            auditDiagnostics = { source: 'self_fetch' };
                        } else {
                            auditDiagnostics = {
                                source: 'self_fetch_failed',
                                audit_url: auditUrl,
                                audit_http_status: auditRes.status,
                                audit_ok: !!auditRes.ok,
                                audit_json_code: auditJson?.code,
                                audit_json_msg: auditJson?.msg || auditJson?.error || null,
                                audit_preview: rawText ? String(rawText).slice(0, 500) : null
                            };
                        }
                    }
                } catch (e) {
                    if (!auditData) {
                        auditData = null;
                        auditDiagnostics = {
                            source: 'self_fetch_exception',
                            audit_exception: e?.message || String(e)
                        };
                    }
                }

                if (!auditData) {
                    const fallbackIdentity = {
                        archetype: { baseKey: 'DRIFTER', title: 'DESERT RUNNER', tierLevel: 0 },
                        badges: [],
                        metrics: { address: addrIn }
                    };
                    const payloadKeyId = signer?.keyId || 'unconfigured';
                    const payload = {
                        schema: 'fennec.provenance.v1',
                        kind: String(inputPayload?.kind || 'mint'),
                        chain: String(inputPayload?.chain || 'fractal-bitcoin'),
                        address: addrIn,
                        html_sha256: htmlSha || null,
                        identity: fallbackIdentity,
                        identity_unverified: true,
                        issued_at: new Date().toISOString(),
                        key_id: payloadKeyId
                    };

                    if (!signer) {
                        return sendJSON({
                            code: 0,
                            data: {
                                payload,
                                signature: null,
                                alg: 'NONE',
                                public_key_jwk: null,
                                signer_error: signerError,
                                ...(auditDiagnostics && __debugEnabled ? { audit_diagnostics: auditDiagnostics } : {})
                            }
                        });
                    }

                    const canonical = stableStringify(payload);
                    const bytes = new TextEncoder().encode(canonical);
                    const sigBuf = await crypto.subtle.sign({ name: 'ECDSA', hash: 'SHA-256' }, signer.key, bytes);
                    const signature = bytesToBase64(new Uint8Array(sigBuf));
                    return sendJSON({
                        code: 0,
                        data: {
                            payload,
                            signature,
                            alg: 'ECDSA_P256_SHA256',
                            public_key_jwk: signer.publicJwk,
                            ...(auditDiagnostics && __debugEnabled ? { audit_diagnostics: auditDiagnostics } : {})
                        }
                    });
                }

                const identity = computeIdentity(auditData);

                const payloadKeyId = signer?.keyId || 'unconfigured';
                const payload = {
                    schema: 'fennec.provenance.v1',
                    kind: String(inputPayload?.kind || 'mint'),
                    chain: String(inputPayload?.chain || 'fractal-bitcoin'),
                    address: addrIn,
                    html_sha256: htmlSha || null,
                    identity,
                    issued_at: new Date().toISOString(),
                    key_id: payloadKeyId
                };

                if (!signer) {
                    return sendJSON({
                        code: 0,
                        data: {
                            payload,
                            signature: null,
                            alg: 'NONE',
                            public_key_jwk: null,
                            signer_error: signerError
                        }
                    });
                }

                const canonical = stableStringify(payload);
                const bytes = new TextEncoder().encode(canonical);
                const sigBuf = await crypto.subtle.sign({ name: 'ECDSA', hash: 'SHA-256' }, signer.key, bytes);
                const signature = bytesToBase64(new Uint8Array(sigBuf));

                return sendJSON({
                    code: 0,
                    data: {
                        payload,
                        signature,
                        alg: 'ECDSA_P256_SHA256',
                        public_key_jwk: signer.publicJwk
                    }
                });
            }

            if (action === 'create_inscription') {
                const body = await request.json().catch(() => null);
                if (!body) return sendJSON({ error: 'Invalid JSON body' }, 200);

                const response = await fetch('https://open-api-fractal.unisat.io/v2/inscribe/order/create', {
                    method: 'POST',
                    headers: upstreamHeaders,
                    body: JSON.stringify(body)
                });

                const text = await response.text().catch(() => '');
                if (!text || text.trim().length === 0) {
                    return sendJSON({ error: 'Empty response from upstream' }, response.status || 500);
                }

                try {
                    return sendJSON(JSON.parse(text), response.status);
                } catch (e) {
                    return sendJSON(
                        { error: `JSON parse error: ${e?.message || String(e)}`, raw: text.substring(0, 200) },
                        response.status || 500
                    );
                }
            }

            if (action === 'inscription_status') {
                const orderId = url.searchParams.get('orderId');
                const response = await fetch(`https://open-api-fractal.unisat.io/v2/inscribe/order/${orderId}`, {
                    headers: upstreamHeaders
                });

                const text = await response.text().catch(() => '');
                if (!text || text.trim().length === 0) {
                    return sendJSON({ error: 'Empty response from upstream' }, response.status || 500);
                }

                try {
                    return sendJSON(JSON.parse(text), response.status);
                } catch (e) {
                    return sendJSON(
                        { error: `JSON parse error: ${e?.message || String(e)}`, raw: text.substring(0, 200) },
                        response.status || 500
                    );
                }
            }

            // 4b. INSCRIPTION INFO (for Burn+Remint)
            if (action === 'inscription_info') {
                requireUniSatKey();
                const inscriptionId = url.searchParams.get('inscriptionId') || url.searchParams.get('id');
                if (!inscriptionId) return sendJSON({ code: -1, msg: 'Missing inscriptionId' }, 200);

                const endpoint = `${FRACTAL_BASE}/indexer/inscription/info/${encodeURIComponent(inscriptionId)}`;
                const response = await fetch(endpoint, {
                    method: 'GET',
                    headers: {
                        ...unisatApiHeaders,
                        ...authHeaders()
                    }
                });
                return sendJSON(await response.json(), response.status);
            }

            if (action === 'inscription_content') {
                const inscriptionIdRaw = url.searchParams.get('inscriptionId') || url.searchParams.get('id');
                if (!inscriptionIdRaw) return sendJSON({ code: -1, msg: 'Missing inscriptionId' }, 200);

                const rawMode = String(url.searchParams.get('raw') || '').trim() === '1';

                const norm = v => String(v == null ? '' : v).trim();
                const idIn = norm(inscriptionIdRaw);
                const mInsc = idIn.match(/^([0-9a-f]{64})(?:i(\d+))?$/i);
                const txid = mInsc ? mInsc[1] : '';
                const idx = mInsc && mInsc[2] != null ? String(mInsc[2]) : '';
                const idWithI = mInsc ? `${txid}i${idx || '0'}` : idIn;
                const idNoI = txid || '';

                if (rawMode) {
                    const cache = caches.default;
                    const cacheKey = new Request(url.toString(), { method: 'GET' });
                    try {
                        const cached = await cache.match(cacheKey);
                        if (cached) return cached;
                    } catch (_) {
                        void _;
                    }

                    const makeRawResponse = (res, cacheSeconds) => {
                        const headers = new Headers(res.headers);
                        for (const [k, v] of Object.entries(corsHeaders)) headers.set(k, v);

                        try {
                            headers.delete('cross-origin-resource-policy');
                            headers.delete('Cross-Origin-Resource-Policy');
                            headers.delete('cross-origin-embedder-policy');
                            headers.delete('Cross-Origin-Embedder-Policy');
                            headers.delete('cross-origin-opener-policy');
                            headers.delete('Cross-Origin-Opener-Policy');
                            headers.delete('x-content-type-options');
                            headers.delete('X-Content-Type-Options');
                            headers.delete('content-security-policy');
                            headers.delete('Content-Security-Policy');
                            headers.delete('content-security-policy-report-only');
                            headers.delete('Content-Security-Policy-Report-Only');
                            headers.delete('x-frame-options');
                            headers.delete('X-Frame-Options');
                        } catch (_) {
                            void _;
                        }

                        // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π MIME type –¥–ª—è JavaScript inscriptions
                        const currentCT = String(res.headers.get('content-type') || '').toLowerCase();
                        const isJSInscription =
                            idWithI === '961a15289f9ec4fb594a7543a5bc4cd94ce6feed2c7df994e8bfa456ada28a5ai0' ||
                            idWithI === '7aa235ba1220cb247c19c6e14f87004cb9c55a3e2f825ab3dbb6c6de5358df8ci0' ||
                            idWithI === '2d1cb598b3c43721850f7b7e5603dc1bfb85e0570afe79eedd20abe910a8fe01i0' ||
                            currentCT.includes('javascript') ||
                            currentCT.includes('application/x-javascript');

                        if (
                            isJSInscription &&
                            (currentCT.includes('text/html') || currentCT.includes('text/plain') || !currentCT)
                        ) {
                            headers.set('Content-Type', 'application/javascript; charset=utf-8');
                        }

                        const secs = Math.max(1, Number(cacheSeconds || 0) || 0);
                        headers.set('Cache-Control', `public, max-age=${secs}, s-maxage=${secs}`);
                        return new Response(res.body, { status: res.status, headers });
                    };

                    const tryFetchRaw = async (targetUrl, headers) => {
                        const res = await fetch(targetUrl, {
                            method: 'GET',
                            headers: {
                                Accept: '*/*',
                                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',
                                ...(headers || {})
                            }
                        });
                        if (!res.ok) return null;
                        return res;
                    };

                    try {
                        if (API_KEY) {
                            const endpoint = `${FRACTAL_BASE}/indexer/inscription/content/${encodeURIComponent(idWithI)}`;
                            const res = await tryFetchRaw(endpoint, authHeaders());
                            if (res) {
                                const out = makeRawResponse(res, 86400);
                                try {
                                    ctx.waitUntil(cache.put(cacheKey, out.clone()));
                                } catch (_) {
                                    try {
                                        await cache.put(cacheKey, out.clone());
                                    } catch (_) {
                                        void _;
                                    }
                                }
                                return out;
                            }
                        }
                    } catch (_) {
                        void _;
                    }

                    const candidates = [];
                    if (idWithI) candidates.push(`https://uniscan.cc/fractal/content/${encodeURIComponent(idWithI)}`);
                    if (idNoI && idNoI !== idWithI)
                        candidates.push(`https://uniscan.cc/fractal/content/${encodeURIComponent(idNoI)}`);
                    if (idWithI) candidates.push(`https://ordinals.com/content/${encodeURIComponent(idWithI)}`);
                    if (idNoI && idNoI !== idWithI)
                        candidates.push(`https://ordinals.com/content/${encodeURIComponent(idNoI)}`);

                    for (const targetUrl of candidates) {
                        try {
                            const res = await tryFetchRaw(targetUrl);
                            if (res) {
                                const out = makeRawResponse(res, 86400);
                                try {
                                    ctx.waitUntil(cache.put(cacheKey, out.clone()));
                                } catch (_) {
                                    try {
                                        await cache.put(cacheKey, out.clone());
                                    } catch (_) {
                                        void _;
                                    }
                                }
                                return out;
                            }
                        } catch (_) {
                            void _;
                        }
                    }

                    return new Response('Not found', {
                        status: 404,
                        headers: {
                            ...corsHeaders,
                            'Cache-Control': 'no-store'
                        }
                    });
                }

                if (API_KEY) {
                    try {
                        const endpoint = `${FRACTAL_BASE}/indexer/inscription/content/${encodeURIComponent(idWithI)}`;
                        const cache = caches.default;
                        const cacheKey = new Request(endpoint, { method: 'GET' });
                        const cached = await cache.match(cacheKey);
                        if (cached) {
                            const cachedText = await cached.text().catch(() => '');
                            const cachedCt = cached.headers.get('content-type') || '';
                            return sendJSON({ code: 0, data: { contentType: cachedCt, body: cachedText } }, 200);
                        }

                        const res = await fetch(endpoint, {
                            method: 'GET',
                            headers: {
                                ...authHeaders(),
                                Accept: '*/*',
                                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
                            }
                        });
                        if (res.ok) {
                            const ct = res.headers.get('content-type') || '';
                            const ctLower = ct.toLowerCase();
                            if (
                                ctLower.includes('image/') ||
                                ctLower.includes('video/') ||
                                ctLower.includes('audio/') ||
                                ctLower.includes('application/octet-stream')
                            ) {
                                // skip non-text
                            } else {
                                const text = await res.text().catch(() => '');
                                if (text) {
                                    const maxLen = 250000;
                                    const body = text.length > maxLen ? text.slice(0, maxLen) : text;
                                    const out = sendJSON({ code: 0, data: { contentType: ct, body } }, 200);
                                    try {
                                        const respToCache = new Response(body, {
                                            status: 200,
                                            headers: {
                                                'content-type': ct,
                                                'cache-control': 'public, max-age=86400'
                                            }
                                        });
                                        await cache.put(cacheKey, respToCache);
                                    } catch (_) {
                                        void _;
                                    }
                                    return out;
                                }
                            }
                        }
                    } catch (e) {
                        // fallback to public mirrors
                    }
                }

                const candidates = [];
                if (idWithI) candidates.push(`https://uniscan.cc/fractal/content/${encodeURIComponent(idWithI)}`);
                if (idNoI && idNoI !== idWithI)
                    candidates.push(`https://uniscan.cc/fractal/content/${encodeURIComponent(idNoI)}`);
                if (idWithI) candidates.push(`https://ordinals.com/content/${encodeURIComponent(idWithI)}`);
                if (idNoI && idNoI !== idWithI)
                    candidates.push(`https://ordinals.com/content/${encodeURIComponent(idNoI)}`);

                const cache = caches.default;
                for (const targetUrl of candidates) {
                    try {
                        const cacheKey = new Request(targetUrl, { method: 'GET' });
                        const cached = await cache.match(cacheKey);
                        if (cached) {
                            const cachedText = await cached.text().catch(() => '');
                            const cachedCt = cached.headers.get('content-type') || '';
                            return sendJSON(
                                {
                                    code: 0,
                                    data: {
                                        contentType: cachedCt,
                                        body: cachedText
                                    }
                                },
                                200
                            );
                        }

                        const res = await fetch(targetUrl, {
                            method: 'GET',
                            headers: {
                                Accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
                                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
                            }
                        });
                        if (!res.ok) continue;
                        const ct = res.headers.get('content-type') || '';
                        const ctLower = ct.toLowerCase();
                        if (
                            ctLower.includes('image/') ||
                            ctLower.includes('video/') ||
                            ctLower.includes('audio/') ||
                            ctLower.includes('application/octet-stream')
                        ) {
                            continue;
                        }
                        const text = await res.text().catch(() => '');
                        if (!text) continue;

                        const maxLen = 250000;
                        const body = text.length > maxLen ? text.slice(0, maxLen) : text;
                        const out = sendJSON(
                            {
                                code: 0,
                                data: {
                                    contentType: ct,
                                    body
                                }
                            },
                            200
                        );
                        try {
                            const respToCache = new Response(body, {
                                status: 200,
                                headers: {
                                    'content-type': ct,
                                    'cache-control': 'public, max-age=86400'
                                }
                            });
                            await cache.put(cacheKey, respToCache);
                        } catch (_) {
                            void _;
                        }
                        return out;
                    } catch (e) {
                        // continue
                    }
                }

                return sendJSON({ code: -1, msg: 'Content fetch failed', data: { contentType: '', body: '' } }, 200);
            }

            // 4c. PUSH TX (broadcast raw transaction)
            if (action === 'push_tx') {
                requireUniSatKey();
                const body = await request.json().catch(() => null);
                const rawtx = body?.rawtx;
                if (!rawtx) return sendJSON({ code: -1, msg: 'Missing rawtx' }, 200);

                const endpoint = `${FRACTAL_BASE}/indexer/local_pushtx`;
                const response = await fetch(endpoint, {
                    method: 'POST',
                    headers: {
                        ...unisatApiHeaders,
                        ...authHeaders()
                    },
                    body: JSON.stringify({ rawtx })
                });
                return sendJSON(await response.json(), response.status);
            }

            if (action === 'push_psbt') {
                requireUniSatKey();
                const body = await request.json().catch(() => null);
                const psbtHex = String(body?.psbt || body?.psbtHex || body?.psbt_hex || '').trim();
                if (!psbtHex) return sendJSON({ code: -1, msg: 'Missing psbt' }, 200);

                let rawtx = '';
                try {
                    const tx = btc.Transaction.fromPSBT(hex.decode(psbtHex));
                    try {
                        tx.finalize();
                    } catch (_) {
                        void _;
                    }
                    rawtx = hex.encode(tx.extract());
                } catch (e) {
                    return sendJSON({ code: -1, msg: e?.message || String(e) }, 200);
                }

                const endpoint = `${FRACTAL_BASE}/indexer/local_pushtx`;
                const response = await fetch(endpoint, {
                    method: 'POST',
                    headers: {
                        ...unisatApiHeaders,
                        ...authHeaders()
                    },
                    body: JSON.stringify({ rawtx })
                });
                return sendJSON(await response.json(), response.status);
            }

            if (action === 'tx_info') {
                requireUniSatKey();
                const txid = String(url.searchParams.get('txid') || '').trim();
                const chain = String(url.searchParams.get('chain') || '')
                    .trim()
                    .toUpperCase();
                if (!txid) return sendJSON({ code: -1, msg: 'Missing txid' }, 200);

                const base = chain.includes('BITCOIN') ? UNISAT_BASE : FRACTAL_BASE;
                const endpoint = `${base}/indexer/tx/${encodeURIComponent(txid)}`;
                const res = await fetch(endpoint, { headers: authHeaders() });
                const json = await res.json().catch(() => null);
                return sendJSON(json || { code: -1, msg: 'Invalid JSON from upstream' }, res.status);
            }

            if (action === 'burn_remint_psbt') {
                requireUniSatKey();
                const body = await request.json().catch(() => null);
                if (!body || typeof body !== 'object') return sendJSON({ code: -1, msg: 'Invalid JSON body' }, 200);

                const address = String(
                    body.address || body.changeAddress || body.change_address || incomingAddress || ''
                ).trim();
                const pubkeyHex = String(
                    body.pubkey || body.publicKey || body.public_key || incomingPubKey || ''
                ).trim();
                const burnAddress = String(body.burnAddress || body.burn_address || '').trim();
                const burnInscriptionId = String(
                    body.burnInscriptionId || body.inscriptionId || body.inscription_id || ''
                ).trim();
                const feeRate = Math.max(1, Number(body.feeRate || body.fee_rate || 5) || 5);
                const inscriptionBody = body.inscriptionBody || body.inscription_body || null;

                if (!address) return sendJSON({ code: -1, msg: 'Missing address' }, 200);
                if (!burnAddress) return sendJSON({ code: -1, msg: 'Missing burnAddress' }, 200);
                if (!burnInscriptionId) return sendJSON({ code: -1, msg: 'Missing burnInscriptionId' }, 200);
                if (!inscriptionBody || typeof inscriptionBody !== 'object') {
                    return sendJSON({ code: -1, msg: 'Missing inscriptionBody' }, 200);
                }

                let orderJson = null;
                try {
                    const response = await fetch('https://open-api-fractal.unisat.io/v2/inscribe/order/create', {
                        method: 'POST',
                        headers: upstreamHeaders,
                        body: JSON.stringify(inscriptionBody)
                    });
                    orderJson = await response.json().catch(() => null);
                    if (!orderJson || typeof orderJson !== 'object') {
                        return sendJSON({ code: -1, msg: 'Order create failed: invalid JSON' }, 502);
                    }
                } catch (e) {
                    return sendJSON({ code: -1, msg: e?.message || String(e) }, 502);
                }

                if (orderJson.code !== 0) {
                    return sendJSON(
                        {
                            code: -1,
                            msg: orderJson.msg || orderJson.error || 'Order create failed',
                            data: orderJson
                        },
                        200
                    );
                }

                const orderId = orderJson?.data?.orderId || orderJson?.data?.id || '';
                const payAddress = orderJson?.data?.payAddress || '';
                const payAmount = BigInt(orderJson?.data?.amount || 0);
                if (!orderId || !payAddress || payAmount <= 0n) {
                    return sendJSON({ code: -1, msg: 'Order create returned missing fields', data: orderJson }, 200);
                }

                let infoJson = null;
                try {
                    const endpoint = `${FRACTAL_BASE}/indexer/inscription/info/${encodeURIComponent(burnInscriptionId)}`;
                    const response = await fetch(endpoint, {
                        method: 'GET',
                        headers: {
                            ...unisatApiHeaders,
                            ...authHeaders()
                        }
                    });
                    infoJson = await response.json().catch(() => null);
                } catch (e) {
                    infoJson = null;
                }

                const burnUtxo = infoJson && infoJson.code === 0 ? infoJson?.data?.utxo || null : null;
                const burnTxid = String(burnUtxo?.txid || '').trim();
                const burnVout = Number(burnUtxo?.vout ?? burnUtxo?.index ?? 0);
                const burnSatoshi = BigInt(burnUtxo?.satoshi || 0);
                const burnScriptPkHex = String(burnUtxo?.scriptPk || burnUtxo?.script_pk || '').trim();
                const burnOwner = String(burnUtxo?.address || '').trim();

                if (!burnTxid || !Number.isFinite(burnVout) || burnSatoshi <= 0n || !burnScriptPkHex) {
                    return sendJSON(
                        { code: -1, msg: 'Failed to resolve burn UTXO for inscription', data: infoJson },
                        200
                    );
                }

                if (burnOwner && burnOwner !== address) {
                    return sendJSON({ code: -1, msg: 'Inscription UTXO is not owned by provided address' }, 200);
                }

                let addrUtxoJson = null;
                try {
                    const utxoUrl = `${FRACTAL_BASE}/indexer/address/${encodeURIComponent(address)}/utxo-data?cursor=0&size=200`;
                    const response = await fetch(utxoUrl, {
                        method: 'GET',
                        headers: {
                            ...authHeaders(),
                            Accept: 'application/json'
                        }
                    });
                    addrUtxoJson = await response.json().catch(() => null);
                } catch (e) {
                    addrUtxoJson = null;
                }

                const listRaw =
                    (addrUtxoJson &&
                        addrUtxoJson.code === 0 &&
                        (addrUtxoJson?.data?.utxo || addrUtxoJson?.data?.list || addrUtxoJson?.data?.data)) ||
                    [];
                const utxoList = Array.isArray(listRaw) ? listRaw : [];

                const isTaprootScript = s => {
                    const h = String(s || '')
                        .trim()
                        .toLowerCase();
                    return h.startsWith('5120') && h.length === 68;
                };

                const xOnlyFromPubkey = pkHex => {
                    const p = String(pkHex || '')
                        .trim()
                        .toLowerCase();
                    if (!p) return '';
                    if (p.length === 66 && (p.startsWith('02') || p.startsWith('03'))) return p.slice(2);
                    if (p.length === 64) return p;
                    return '';
                };

                const xOnlyHex = xOnlyFromPubkey(pubkeyHex);
                const tapInternalKeyBytes = xOnlyHex ? hex.decode(xOnlyHex) : null;

                const normUtxo = u => {
                    if (!u || typeof u !== 'object') return null;
                    const txid = String(u.txid || '').trim();
                    const vout = Number(u.vout ?? u.index ?? 0);
                    const satoshi = BigInt(u.satoshi || 0);
                    const scriptPk = String(u.scriptPk || u.script_pk || '').trim();
                    const inscriptions = Array.isArray(u.inscriptions) ? u.inscriptions : [];
                    if (!txid || !Number.isFinite(vout) || satoshi <= 0n || !scriptPk) return null;
                    return { txid, vout, satoshi, scriptPk, inscriptions };
                };

                const burnKey = `${burnTxid}:${burnVout}`;
                const candidates = utxoList
                    .map(normUtxo)
                    .filter(x => {
                        if (!x) return false;
                        if (`${x.txid}:${x.vout}` === burnKey) return false;
                        if (Array.isArray(x.inscriptions) && x.inscriptions.length > 0) return false;
                        return true;
                    })
                    .sort((a, b) => (a.satoshi === b.satoshi ? 0 : a.satoshi < b.satoshi ? 1 : -1));

                const baseVb = 12;
                const inVb = 75;
                const outVb = 43;
                const estimateFee = (inputsCount, outputsCount) => {
                    const vb = BigInt(baseVb + inputsCount * inVb + outputsCount * outVb);
                    return vb * BigInt(feeRate);
                };

                const burnValue = burnSatoshi;
                const selected = [];
                let totalIn = burnValue;

                const outCount = 3;
                let fee = estimateFee(1, outCount);
                let required = burnValue + payAmount + fee;
                for (const u of candidates) {
                    if (totalIn >= required) break;
                    selected.push(u);
                    totalIn += u.satoshi;
                    fee = estimateFee(1 + selected.length, outCount);
                    required = burnValue + payAmount + fee;
                }

                if (totalIn < burnValue + payAmount + estimateFee(1 + selected.length, 2)) {
                    return sendJSON({ code: -1, msg: 'Insufficient funds to pay order in single transaction' }, 200);
                }

                fee = estimateFee(1 + selected.length, 3);
                let change = totalIn - burnValue - payAmount - fee;
                let withChange = change >= 546n;
                if (!withChange) {
                    fee = estimateFee(1 + selected.length, 2);
                    change = totalIn - burnValue - payAmount - fee;
                    withChange = false;
                    if (change > 0n) {
                        fee = fee + change;
                        change = 0n;
                    }
                }

                const tx = new btc.Transaction();
                const burnScriptBytes = hex.decode(burnScriptPkHex);
                const burnInput = {
                    txid: burnTxid,
                    index: burnVout,
                    witnessUtxo: { script: burnScriptBytes, amount: burnSatoshi }
                };
                if (tapInternalKeyBytes && isTaprootScript(burnScriptPkHex))
                    burnInput.tapInternalKey = tapInternalKeyBytes;
                tx.addInput(burnInput);

                for (const u of selected) {
                    const scriptBytes = hex.decode(u.scriptPk);
                    const input = {
                        txid: u.txid,
                        index: u.vout,
                        witnessUtxo: { script: scriptBytes, amount: u.satoshi }
                    };
                    if (tapInternalKeyBytes && isTaprootScript(u.scriptPk)) input.tapInternalKey = tapInternalKeyBytes;
                    tx.addInput(input);
                }

                for (let i = 0; i < tx.inputsLength; i += 1) {
                    try {
                        tx.updateInput(i, { sighashType: btc.SigHash.ALL });
                    } catch (_) {
                        void _;
                    }
                }

                tx.addOutputAddress(burnAddress, burnValue);
                tx.addOutputAddress(payAddress, payAmount);
                if (withChange && change >= 546n) tx.addOutputAddress(address, change);

                const psbt = hex.encode(tx.toPSBT());
                return sendJSON({
                    code: 0,
                    data: {
                        psbt,
                        order: { orderId, payAddress, amount: String(payAmount) },
                        burn: {
                            inscriptionId: burnInscriptionId,
                            txid: burnTxid,
                            vout: burnVout,
                            satoshi: String(burnSatoshi)
                        },
                        summary: {
                            feeRate,
                            fee: String(fee),
                            change: withChange ? String(change) : '0',
                            inputs: 1 + selected.length,
                            outputs: withChange ? 3 : 2
                        }
                    }
                });
            }

            if (action === 'pre_add_liq') {
                try {
                    requireUniSatKey();
                    const proxyParams = new URLSearchParams(url.searchParams);
                    proxyParams.delete('action');
                    proxyParams.delete('rememberPayType');

                    if (!proxyParams.has('feeTick')) proxyParams.set('feeTick', DEFAULT_FEE_TICK);
                    if (!proxyParams.has('payType')) proxyParams.set('payType', 'tick');

                    let endpointUrl = `${SWAP_BASE}/brc20-swap/pre_add_liq?${proxyParams.toString()}`;
                    let response = await fetch(endpointUrl, { headers: unisatApiHeaders });
                    if (!response.ok && response.status === 404) {
                        endpointUrl = `${SWAP_BASE}/indexer/brc20-swap/pre_add_liq?${proxyParams.toString()}`;
                        response = await fetch(endpointUrl, { headers: unisatApiHeaders });
                    }
                    return sendJSON(await response.json(), response.status);
                } catch (e) {
                    return sendJSON({ code: -1, msg: e?.message || String(e) }, 500);
                }
            }

            if (action === 'add_liq') {
                try {
                    requireUniSatKey();
                    const body = await request.json();

                    if (body && typeof body === 'object') {
                        if (!('feeTick' in body)) body.feeTick = DEFAULT_FEE_TICK;
                        if (!('payType' in body)) body.payType = 'tick';
                        if ('rememberPayType' in body) delete body.rememberPayType;
                    }

                    const headers = { ...unisatApiHeaders, 'Content-Type': 'application/json' };

                    let endpointUrl = `${SWAP_BASE}/brc20-swap/add_liq`;
                    let response = await fetch(endpointUrl, {
                        method: 'POST',
                        headers,
                        body: JSON.stringify(body)
                    });
                    if (!response.ok && response.status === 404) {
                        endpointUrl = `${SWAP_BASE}/indexer/brc20-swap/add_liq`;
                        response = await fetch(endpointUrl, {
                            method: 'POST',
                            headers,
                            body: JSON.stringify(body)
                        });
                    }
                    return sendJSON(await response.json(), response.status);
                } catch (e) {
                    return sendJSON({ code: -1, msg: e?.message || String(e) }, 500);
                }
            }

            if (action === 'quote_remove_liq') {
                try {
                    requireUniSatKey();
                    const proxyParams = new URLSearchParams(url.searchParams);
                    proxyParams.delete('action');
                    proxyParams.delete('rememberPayType');

                    let endpointUrl = `${SWAP_BASE}/brc20-swap/quote_remove_liq?${proxyParams.toString()}`;
                    let response = await fetch(endpointUrl, { headers: unisatApiHeaders });
                    if (!response.ok && response.status === 404) {
                        endpointUrl = `${SWAP_BASE}/indexer/brc20-swap/quote_remove_liq?${proxyParams.toString()}`;
                        response = await fetch(endpointUrl, { headers: unisatApiHeaders });
                    }
                    return sendJSON(await response.json(), response.status);
                } catch (e) {
                    return sendJSON({ code: -1, msg: e?.message || String(e) }, 500);
                }
            }

            if (action === 'pre_remove_liq') {
                try {
                    requireUniSatKey();
                    const proxyParams = new URLSearchParams(url.searchParams);
                    proxyParams.delete('action');
                    proxyParams.delete('rememberPayType');

                    if (!proxyParams.has('feeTick')) proxyParams.set('feeTick', DEFAULT_FEE_TICK);
                    if (!proxyParams.has('payType')) proxyParams.set('payType', 'tick');

                    let endpointUrl = `${SWAP_BASE}/brc20-swap/pre_remove_liq?${proxyParams.toString()}`;
                    let response = await fetch(endpointUrl, { headers: unisatApiHeaders });
                    if (!response.ok && response.status === 404) {
                        endpointUrl = `${SWAP_BASE}/indexer/brc20-swap/pre_remove_liq?${proxyParams.toString()}`;
                        response = await fetch(endpointUrl, { headers: unisatApiHeaders });
                    }
                    return sendJSON(await response.json(), response.status);
                } catch (e) {
                    return sendJSON({ code: -1, msg: e?.message || String(e) }, 500);
                }
            }

            if (action === 'remove_liq') {
                try {
                    requireUniSatKey();
                    const body = await request.json();

                    if (body && typeof body === 'object') {
                        if (!('feeTick' in body)) body.feeTick = DEFAULT_FEE_TICK;
                        if (!('payType' in body)) body.payType = 'tick';
                        if ('rememberPayType' in body) delete body.rememberPayType;
                    }

                    const headers = { ...unisatApiHeaders, 'Content-Type': 'application/json' };

                    let endpointUrl = `${SWAP_BASE}/brc20-swap/remove_liq`;
                    let response = await fetch(endpointUrl, {
                        method: 'POST',
                        headers,
                        body: JSON.stringify(body)
                    });
                    if (!response.ok && response.status === 404) {
                        endpointUrl = `${SWAP_BASE}/indexer/brc20-swap/remove_liq`;
                        response = await fetch(endpointUrl, {
                            method: 'POST',
                            headers,
                            body: JSON.stringify(body)
                        });
                    }
                    return sendJSON(await response.json(), response.status);
                } catch (e) {
                    return sendJSON({ code: -1, msg: e?.message || String(e) }, 500);
                }
            }

            if (action === 'deposit_balance') {
                const address = url.searchParams.get('address');
                const tick = url.searchParams.get('tick');
                if (!address || !tick) return sendJSON({ code: -1, msg: 'Missing address or tick' }, 200);
                try {
                    const endpoint = `${FRACTAL_BASE}/indexer/address/${encodeURIComponent(address)}/brc20/${encodeURIComponent(tick)}/info`;
                    const res = await fetch(endpoint, {
                        headers: upstreamHeaders
                    });
                    const json = await res.json().catch(() => null);
                    const transferable =
                        json?.data?.transferableBalance ||
                        json?.data?.balance?.transferableBalance ||
                        json?.data?.availableBalance ||
                        json?.data?.balance?.availableBalance ||
                        '0';
                    return sendJSON({
                        code: 0,
                        msg: 'OK',
                        data: {
                            externalBalance: { brc20: { transferable } }
                        }
                    });
                } catch (e) {
                    return sendJSON({ code: -1, msg: e?.message || String(e) }, 200);
                }
            }

            if (action === 'transferable_inscriptions') {
                const address = String(url.searchParams.get('address') || '').trim();
                const tick = String(url.searchParams.get('tick') || '').trim();
                const start = Math.max(0, parseInt(String(url.searchParams.get('start') || '0'), 10) || 0);
                const limit = Math.min(
                    1000,
                    Math.max(1, parseInt(String(url.searchParams.get('limit') || '16'), 10) || 16)
                );
                if (!address || !tick) return sendJSON({ error: 'Missing address or tick' }, 400);
                if (!API_KEY) return sendJSON({ error: 'UNISAT_API_KEY required' }, 403);
                try {
                    const endpoint = `${FRACTAL_BASE}/indexer/address/${encodeURIComponent(address)}/brc20/${encodeURIComponent(
                        tick
                    )}/transferable-inscriptions?start=${start}&limit=${limit}`;
                    const res = await fetch(endpoint, { headers: upstreamHeaders });
                    const json = await res.json().catch(() => null);
                    if (json && typeof json === 'object' && json.data && typeof json.data === 'object') {
                        const d = json.data;
                        let list = [];
                        if (Array.isArray(d.list)) list = d.list;
                        else if (Array.isArray(d.detail)) list = d.detail;
                        else if (d.detail && typeof d.detail === 'object') list = [d.detail];
                        else if (Array.isArray(d.inscriptions)) list = d.inscriptions;
                        else if (Array.isArray(d.data)) list = d.data;
                        json.data = { ...d, list };
                    }
                    return sendJSON(json || { code: -1, msg: 'Invalid upstream response' }, res.status);
                } catch (e) {
                    return sendJSON({ error: e?.message || String(e) }, 500);
                }
            }

            if (action === 'quote_swap') {
                const tickIn = __normalizeSwapTick(url.searchParams.get('tickIn'));
                const tickOut = __normalizeSwapTick(url.searchParams.get('tickOut'));
                const exactType = String(url.searchParams.get('exactType') || 'exactIn');
                const amount = Number(url.searchParams.get('amount') || 0);
                if (!tickIn || !tickOut || !Number.isFinite(amount) || amount <= 0) {
                    return sendJSON({ code: -1, msg: 'Missing or invalid params' }, 200);
                }

                const __num = v => {
                    const n = Number(v);
                    return Number.isFinite(n) ? n : 0;
                };

                const __extractReserves = d => {
                    if (!d || typeof d !== 'object') return null;
                    const t0 = __normalizeSwapTick(d.tick0);
                    const t1 = __normalizeSwapTick(d.tick1);
                    const r0 = __num(d.amount0 ?? d.reserve0 ?? d.r0 ?? d.liq0);
                    const r1 = __num(d.amount1 ?? d.reserve1 ?? d.r1 ?? d.liq1);
                    if (!t0 || !t1 || r0 <= 0 || r1 <= 0) return null;
                    return { t0, t1, r0, r1 };
                };

                try {
                    const query = `?tick0=${encodeURIComponent(tickIn)}&tick1=${encodeURIComponent(tickOut)}`;
                    let poolUrl = `${SWAP_BASE}/brc20-swap/pool_info${query}`;
                    let res = await fetch(poolUrl, { headers: upstreamHeaders });
                    if (!res.ok && res.status === 404) {
                        poolUrl = `${SWAP_BASE}/indexer/brc20-swap/pool_info${query}`;
                        res = await fetch(poolUrl, { headers: upstreamHeaders });
                    }
                    if (!res.ok) {
                        return sendJSON(
                            { code: -1, msg: `API error: ${res.status} ${res.statusText}`, url: poolUrl },
                            res.status
                        );
                    }
                    const json = await res.json().catch(() => null);
                    const data = json?.data && typeof json.data === 'object' ? json.data : json;
                    const r = __extractReserves(data);
                    if (!r) return sendJSON({ code: -1, msg: 'Pool reserves unavailable' }, 200);

                    let rIn = 0;
                    let rOut = 0;
                    if (tickIn === r.t0 && tickOut === r.t1) {
                        rIn = r.r0;
                        rOut = r.r1;
                    } else if (tickIn === r.t1 && tickOut === r.t0) {
                        rIn = r.r1;
                        rOut = r.r0;
                    } else {
                        return sendJSON({ code: -1, msg: 'Pool does not match requested pair' }, 200);
                    }

                    const feeMul = 985;
                    const feeDiv = 1000;

                    if (exactType === 'exactOut') {
                        const desiredOut = amount;
                        if (desiredOut >= rOut) return sendJSON({ code: -1, msg: 'Insufficient liquidity' }, 200);
                        const numerator = desiredOut * rIn * feeDiv;
                        const denominator = (rOut - desiredOut) * feeMul;
                        if (denominator <= 0) return sendJSON({ code: -1, msg: 'Invalid quote' }, 200);
                        const needIn = numerator / denominator;
                        return sendJSON({
                            code: 0,
                            msg: 'OK',
                            data: {
                                expect: String(needIn),
                                amountIn: String(needIn),
                                amountOut: String(desiredOut)
                            }
                        });
                    }

                    const amountIn = amount;
                    const feeIn = amountIn * feeMul;
                    const amountOut = (feeIn * rOut) / (rIn * feeDiv + feeIn);
                    return sendJSON({
                        code: 0,
                        msg: 'OK',
                        data: {
                            expect: String(amountOut),
                            amountIn: String(amountIn),
                            amountOut: String(amountOut)
                        }
                    });
                } catch (e) {
                    return sendJSON({ code: -1, msg: e?.message || String(e) }, 200);
                }
            }

            // 5. PROXY GET (InSwap) - –≤–∫–ª—é—á–∞–µ—Ç quote_swap
            const ALLOWED_GET = [
                'create_swap',
                'create_deposit',
                'create_withdraw',
                'config',
                'deposit_list',
                'withdraw_history',
                'deposit_process',
                'withdraw_process',
                'swap_history',
                'pool_info'
            ];

            if (ALLOWED_GET.includes(action)) {
                // –ö—ç—à–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ GET, –∫–æ—Ç–æ—Ä—ã–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã –¥–ª—è –≤—Å–µ—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä swap_history)
                // –≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –∏ —É—Å–∫–æ—Ä—è–µ—Ç UI, –Ω–æ –Ω–µ –∫—ç—à–∏—Ä—É–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
                if (action === 'swap_history') {
                    try {
                        const cache = caches.default;
                        const cacheKeyUrl = new URL(request.url);
                        cacheKeyUrl.searchParams.delete('action');
                        // —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∑–∞–ø—Ä–æ—Å–∞
                        const swapCacheKey = new Request(
                            `https://fennec-api.pages.dev/swap_history?${cacheKeyUrl.searchParams.toString()}`,
                            {
                                method: 'GET'
                            }
                        );
                        const cached = await cache.match(swapCacheKey);
                        if (cached) return cached;

                        const proxyParams = new URLSearchParams(url.searchParams);
                        proxyParams.delete('action');
                        const endpoint = action;
                        let endpointUrl = `${SWAP_BASE}/brc20-swap/${endpoint}?${proxyParams.toString()}`;
                        let response = await fetch(endpointUrl, { method: 'GET', headers: upstreamHeaders });
                        if (!response.ok && response.status === 404) {
                            endpointUrl = `${SWAP_BASE}/indexer/brc20-swap/${endpoint}?${proxyParams.toString()}`;
                            response = await fetch(endpointUrl, { method: 'GET', headers: upstreamHeaders });
                        }
                        const json = await response.json();
                        const out = sendJSON(json, response.status);
                        out.headers.set('Cache-Control', 's-maxage=60, max-age=30');
                        if (ctx?.waitUntil) ctx.waitUntil(cache.put(swapCacheKey, out.clone()));
                        else await cache.put(swapCacheKey, out.clone());
                        return out;
                    } catch (_) {
                        // fallback to uncached below
                    }
                }
                const proxyParams = new URLSearchParams(url.searchParams);
                proxyParams.delete('action');

                const __maybeNormalizeParam = name => {
                    if (!proxyParams.has(name)) return;
                    proxyParams.set(name, __normalizeSwapTick(proxyParams.get(name)));
                };

                __maybeNormalizeParam('tick0');
                __maybeNormalizeParam('tick1');
                __maybeNormalizeParam('tick');
                __maybeNormalizeParam('tickIn');
                __maybeNormalizeParam('tickOut');
                __maybeNormalizeParam('feeTick');

                let endpoint = action;
                if (action === 'create_swap') endpoint = 'pre_swap';

                const isBridgeCreateDeposit =
                    action === 'create_deposit' && !proxyParams.has('inscriptionId') && proxyParams.has('networkType');
                const isBridgeCreateWithdraw =
                    action === 'create_withdraw' && (proxyParams.has('networkType') || proxyParams.has('feeRate'));
                void isBridgeCreateDeposit;
                void isBridgeCreateWithdraw;

                let endpointUrl = `${SWAP_BASE}/brc20-swap/${endpoint}?${proxyParams.toString()}`;
                let response = await fetch(endpointUrl, { method: 'GET', headers: upstreamHeaders });
                if (!response.ok && response.status === 404) {
                    endpointUrl = `${SWAP_BASE}/indexer/brc20-swap/${endpoint}?${proxyParams.toString()}`;
                    response = await fetch(endpointUrl, { method: 'GET', headers: upstreamHeaders });
                }
                return sendJSON(await response.json(), response.status);
            }

            // 6. PROXY POST
            if (['submit_swap', 'confirm_deposit', 'confirm_withdraw'].includes(action)) {
                const body = await request.json();
                let endpoint = action;
                if (action === 'submit_swap') endpoint = 'swap';
                const isBrc20DepositConfirm =
                    action === 'confirm_deposit' && body && typeof body === 'object' && 'inscriptionId' in body;
                const isSwapSubmit = action === 'submit_swap';
                if (isSwapSubmit || isBrc20DepositConfirm) {
                    let endpointUrl = `${SWAP_BASE}/brc20-swap/${endpoint}`;
                    let response = await fetch(endpointUrl, {
                        method: 'POST',
                        headers: upstreamHeaders,
                        body: JSON.stringify(body)
                    });
                    if (!response.ok && response.status === 404) {
                        endpointUrl = `${SWAP_BASE}/indexer/brc20-swap/${endpoint}`;
                        response = await fetch(endpointUrl, {
                            method: 'POST',
                            headers: upstreamHeaders,
                            body: JSON.stringify(body)
                        });
                    }
                    return sendJSON(await response.json(), response.status);
                }

                let endpointUrl = `${SWAP_BASE}/brc20-swap/${endpoint}`;
                let response = await fetch(endpointUrl, {
                    method: 'POST',
                    headers: upstreamHeaders,
                    body: JSON.stringify(body)
                });
                if (!response.ok && response.status === 404) {
                    endpointUrl = `${SWAP_BASE}/indexer/brc20-swap/${endpoint}`;
                    response = await fetch(endpointUrl, {
                        method: 'POST',
                        headers: upstreamHeaders,
                        body: JSON.stringify(body)
                    });
                }
                return sendJSON(await response.json(), response.status);
            }

            // 7. BALANCE
            // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: Batch –±–∞–ª–∞–Ω—Å–æ–≤ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
            if (action === 'balance_batch') {
                const address = url.searchParams.get('address');
                const ticks = url.searchParams.get('ticks')?.split(',') || [];
                const walletOnly = url.searchParams.get('walletOnly') === 'true';

                if (!address || ticks.length === 0) {
                    return sendJSON({ error: 'Missing address or ticks' }, 200);
                }

                // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –±–∞–ª–∞–Ω—Å—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
                const balancePromises = ticks.map(async tick => {
                    if (walletOnly) {
                        return fetch(`${FRACTAL_BASE}/indexer/address/${address}/brc20/${tick}/info`, {
                            headers: upstreamHeaders
                        })
                            .then(r => r.json())
                            .then(data => ({ tick, data }))
                            .catch(e => ({ tick, error: e.message }));
                    } else {
                        // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–±—É–µ–º —Å–Ω–∞—á–∞–ª–∞ –±–µ–∑ /indexer/, –∑–∞—Ç–µ–º —Å /indexer/ (fallback)
                        let balanceUrl = `${SWAP_BASE}/brc20-swap/balance?address=${address}&tick=${tick}`;
                        let balanceRes = await fetch(balanceUrl, { headers: upstreamHeaders });

                        // Fallback: –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ /indexer/, –ø—Ä–æ–±—É–µ–º —Å /indexer/
                        if (!balanceRes.ok && balanceRes.status === 404) {
                            balanceUrl = `${SWAP_BASE}/indexer/brc20-swap/balance?address=${address}&tick=${tick}`;
                            balanceRes = await fetch(balanceUrl, { headers: upstreamHeaders });
                        }

                        try {
                            const data = await balanceRes.json();
                            return { tick, data };
                        } catch (e) {
                            return { tick, error: e.message };
                        }
                    }
                });

                const results = await Promise.all(balancePromises);
                const balances = {};
                results.forEach(({ tick, data, error }) => {
                    balances[tick] = error ? { error } : data;
                });

                return sendJSON({ code: 0, data: balances });
            }

            if (action === 'balance') {
                const address = url.searchParams.get('address');
                const tick = url.searchParams.get('tick') || 'sFB___000';
                const walletOnly = url.searchParams.get('walletOnly') === 'true';
                if (walletOnly) {
                    try {
                        const res = await fetch(`${FRACTAL_BASE}/indexer/address/${address}/brc20/${tick}/info`, {
                            headers: upstreamHeaders
                        });
                        if (!res.ok) {
                            return sendJSON({ error: `API error: ${res.status} ${res.statusText}` }, res.status);
                        }
                        const text = await res.text();
                        if (!text || text.trim().length === 0) {
                            return sendJSON({ error: 'Empty response from API' }, 500);
                        }
                        try {
                            return sendJSON(JSON.parse(text));
                        } catch (parseError) {
                            return sendJSON(
                                { error: `JSON parse error: ${parseError.message}`, raw: text.substring(0, 200) },
                                500
                            );
                        }
                    } catch (e) {
                        return sendJSON({ error: `Fetch error: ${e.message}` }, 500);
                    }
                } else {
                    try {
                        let balanceUrl = `${SWAP_BASE}/brc20-swap/balance?address=${address}&tick=${tick}`;
                        let res = await fetch(balanceUrl, { headers: upstreamHeaders });
                        if (!res.ok && res.status === 404) {
                            balanceUrl = `${SWAP_BASE}/indexer/brc20-swap/balance?address=${address}&tick=${tick}`;
                            res = await fetch(balanceUrl, { headers: upstreamHeaders });
                        }

                        if (!res.ok) {
                            return sendJSON(
                                { error: `API error: ${res.status} ${res.statusText}`, url: balanceUrl },
                                res.status
                            );
                        }
                        const text = await res.text();
                        if (!text || text.trim().length === 0) {
                            return sendJSON({ error: 'Empty response from API' }, 500);
                        }
                        try {
                            return sendJSON(JSON.parse(text));
                        } catch (parseError) {
                            return sendJSON(
                                { error: `JSON parse error: ${parseError.message}`, raw: text.substring(0, 200) },
                                500
                            );
                        }
                    } catch (e) {
                        return sendJSON({ error: `Fetch error: ${e.message}` }, 500);
                    }
                }
            }

            // 8. FIP-101 HISTORY
            if (action === 'history') {
                requireUniSatKey();
                const address = url.searchParams.get('address');
                const tick = url.searchParams.get('tick'); // –ï—Å–ª–∏ –µ—Å—Ç—å, –∏—â–µ–º BRC-20, –µ—Å–ª–∏ –Ω–µ—Ç - Native FB

                if (!address) return sendJSON({ code: -1, msg: 'No address' }, 400);

                let targetUrl;
                if (tick && tick !== 'FB') {
                    // –ò—Å—Ç–æ—Ä–∏—è —Ç–æ–∫–µ–Ω–∞ BRC-20 (FENNEC)
                    // FIP-101: /v1/indexer/address/{address}/brc20/{ticker}/history
                    targetUrl = `${FRACTAL_BASE}/indexer/address/${address}/brc20/${tick}/history?type=transfer&start=0&limit=10`;
                } else {
                    // –ò—Å—Ç–æ—Ä–∏—è –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ FB
                    // FIP-101: /v1/indexer/address/{address}/history
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã cursor –∏ size (–ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API)
                    targetUrl = `${FRACTAL_BASE}/indexer/address/${address}/history?cursor=0&size=10`;
                }

                const response = await fetch(targetUrl, { headers: authHeaders() });
                return sendJSON(await response.json(), response.status);
            }

            // 9. FULL UTXO DATA (for Audit)
            if (action === 'full_utxo_data') {
                requireUniSatKey();
                const address = url.searchParams.get('address');
                const filter = url.searchParams.get('filter') || 'all';
                const status = url.searchParams.get('status') || 'all';
                const cursor = url.searchParams.get('cursor') || '0';
                const size = url.searchParams.get('size') || '50';

                if (!address) return sendJSON({ error: 'Missing address' }, 200);

                // Try Fractal UniSat API v1 endpoint (with API key) first
                try {
                    const v1Endpoint = `${FRACTAL_BASE}/indexer/address/${address}/utxo-data?cursor=${cursor}&size=${size}`;

                    const v1Response = await fetch(v1Endpoint, {
                        method: 'GET',
                        headers: {
                            ...authHeaders(),
                            Accept: 'application/json'
                        }
                    });

                    if (v1Response.ok) {
                        const v1Data = await v1Response.json();
                        return sendJSON(v1Data, v1Response.status);
                    }
                } catch (e) {
                    console.warn('v1 UTXO endpoint failed:', e);
                }

                // Fallback: return empty result (UTXO count will use window.unisat.getUtxos() instead)
                return sendJSON(
                    {
                        code: 0,
                        data: { list: [], total: 0 },
                        msg: 'UTXO data unavailable via API, using wallet fallback'
                    },
                    200
                );
            }

            // --- FENNEC ID DATA (Simplified: Prices + Summary only) ---
            if (action === 'audit_data') {
                const address = url.searchParams.get('address');
                if (!address) return sendJSON({ error: 'No address' }, 200);

                // –•–µ–ª–ø–µ—Ä –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ñ–µ—Ç—á–∞ (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–∏–¥–∞–µ—Ç throw)
                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: Throttling –¥–ª—è UniSat API (1-2 –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥—É)
                let lastUniSatRequest = 0;
                const UNISAT_THROTTLE_MS = 4000; // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 4000ms = 0.25 –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥—É –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

                // –ö—ç—à –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ (30 —Å–µ–∫—É–Ω–¥ –¥–ª—è UI) - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è UniSat
                const responseCache = new Map();
                const CACHE_TTL = 60000; // 60 —Å–µ–∫—É–Ω–¥ –¥–ª—è –±–∞–ª–∞–Ω—Å–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

                const safeFetch = async (p, options = {}) => {
                    const { useCache = false, cacheKey = null, isUniSat = false } = options;

                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
                    if (useCache && cacheKey) {
                        const cached = responseCache.get(cacheKey);
                        if (cached && Date.now() - cached.timestamp < CACHE_TTL) {
                            return cached.data;
                        }
                    }

                    // Throttling –¥–ª—è UniSat API
                    if (isUniSat) {
                        const now = Date.now();
                        const timeSinceLastRequest = now - lastUniSatRequest;
                        if (timeSinceLastRequest < UNISAT_THROTTLE_MS) {
                            await new Promise(r => setTimeout(r, UNISAT_THROTTLE_MS - timeSinceLastRequest));
                        }
                        lastUniSatRequest = Date.now();
                    }

                    try {
                        const response = await p;
                        if (!response.ok) {
                            // Exponential backoff –¥–ª—è 429
                            if (response.status === 429) {
                                const retryAfter = response.headers.get('Retry-After');
                                const delay = retryAfter ? parseInt(retryAfter) * 1000 : 1000; // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –£–º–µ–Ω—å—à–µ–Ω–æ –¥–æ 1 —Å–µ–∫—É–Ω–¥—ã
                                console.warn(`Rate limited (429), waiting ${delay}ms`);
                                await new Promise(r => setTimeout(r, delay));
                                // –ù–µ —Ä–µ—Ç—Ä–∞–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ - –ø—É—Å—Ç—å –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ —Ä–µ—à–∞–µ—Ç
                                return null;
                            }
                            return null;
                        }
                        const data = await response.json();

                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à
                        if (useCache && cacheKey) {
                            responseCache.set(cacheKey, { data, timestamp: Date.now() });
                        }

                        return data;
                    } catch (err) {
                        console.warn('Fetch error:', err.message);
                        return null;
                    }
                };

                try {
                    // –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ
                    const [summaryRes, btcPriceData, poolRes, coingeckoRes, fennecPoolRes] = await Promise.all([
                        safeFetch(
                            fetch(`${FRACTAL_BASE}/indexer/address/${address}/summary`, {
                                headers: upstreamHeaders
                            })
                        ),
                        safeFetch(fetch('https://mempool.space/api/v1/prices')),
                        safeFetch(
                            fetch(`${SWAP_BASE}/brc20-swap/pool_info?tick0=sBTC___000&tick1=sFB___000`, {
                                headers: upstreamHeaders
                            })
                        ),
                        safeFetch(fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd')),
                        safeFetch(
                            fetch(`${SWAP_BASE}/brc20-swap/pool_info?tick0=FENNEC&tick1=sFB___000`, {
                                headers: upstreamHeaders
                            })
                        )
                    ]);

                    // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å —Ñ–æ–ª–ª–±–µ–∫–∞–º–∏
                    const btcPriceUSD = btcPriceData?.USD || coingeckoRes?.bitcoin?.usd || 95000;

                    // –†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã FB
                    let fbPriceUSD = 0;
                    if (poolRes?.data) {
                        // –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ü–µ–Ω—ã FB —á–µ—Ä–µ–∑ –ø—É–ª sBTC/sFB
                        const isBtcFirst = poolRes.data.tick0 && poolRes.data.tick0.includes('BTC');
                        const amt0 = parseFloat(poolRes.data.amount0 || 0);
                        const amt1 = parseFloat(poolRes.data.amount1 || 0);

                        if (isBtcFirst && amt1 > 0) fbPriceUSD = (amt0 / amt1) * btcPriceUSD;
                        else if (!isBtcFirst && amt0 > 0) fbPriceUSD = (amt1 / amt0) * btcPriceUSD;
                    }
                    if (fbPriceUSD === 0) fbPriceUSD = btcPriceUSD / 12000; // –•–∞—Ä–¥–∫–æ–¥ —Ñ–æ–ª–ª–±–µ–∫

                    // –†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã FENNEC
                    let fennecPriceInFB = 0;
                    if (fennecPoolRes?.data) {
                        const isFennecFirst = fennecPoolRes.data.tick0 && fennecPoolRes.data.tick0.includes('FENNEC');
                        const amt0 = parseFloat(fennecPoolRes.data.amount0 || 0);
                        const amt1 = parseFloat(fennecPoolRes.data.amount1 || 0);

                        if (isFennecFirst && amt0 > 0) fennecPriceInFB = amt1 / amt0;
                        else if (!isFennecFirst && amt1 > 0) fennecPriceInFB = amt0 / amt1;
                    }

                    // Summary data
                    const summary = summaryRes?.data || {};
                    const txCount = summary.totalTransactionCount || summary.historyCount || 0;

                    // First TX time
                    let firstTxTime = 0;
                    if (summary.firstTransactionTime) {
                        firstTxTime = summary.firstTransactionTime;
                    } else if (txCount > 0) {
                        try {
                            const offset = Math.max(0, txCount - 1);
                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã cursor –∏ size (–ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API)
                            const hRes = await safeFetch(
                                fetch(`${FRACTAL_BASE}/indexer/address/${address}/history?cursor=${offset}&size=1`, {
                                    headers: upstreamHeaders
                                })
                            );
                            if (hRes?.data?.detail?.[0]) {
                                firstTxTime = hRes.data.detail[0].blocktime || hRes.data.detail[0].timestamp || 0;
                            }
                        } catch (e) {
                            void e;
                        }
                    }

                    return sendJSON({
                        code: 0,
                        data: {
                            summary: summary,
                            prices: {
                                btc: btcPriceUSD,
                                fb: fbPriceUSD,
                                fennec_in_fb: fennecPriceInFB
                            },
                            synced_at: new Date().toISOString()
                        }
                    });
                } catch (e) {
                    return sendJSON({ error: 'Critical audit error: ' + e.message }, 200); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º 200 —Å –æ—à–∏–±–∫–æ–π –≤–Ω—É—Ç—Ä–∏, —á—Ç–æ–±—ã —Ñ—Ä–æ–Ω—Ç –Ω–µ –ø–∞–¥–∞–ª
                }
            }

            // --- MEMPOOL SUMMARY (–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ Mempool Fractal API) ---
            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º Mempool Fractal API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–∑–æ–≤–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (—Ä–∞–∑–≥—Ä—É–∂–∞–µ–º UniSat)
            if (action === 'mempool_summary') {
                const address = url.searchParams.get('address');
                if (!address) return sendJSON({ error: 'Address required' }, 400);

                try {
                    // –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ UTXO –∏–∑ Mempool Fractal API
                    const [mempoolRes, utxoRes] = await Promise.all([
                        fetch(`https://mempool.fractalbitcoin.io/api/address/${address}`, {
                            headers: { 'User-Agent': 'Mozilla/5.0' }
                        }).catch(() => null),
                        fetch(`https://mempool.fractalbitcoin.io/api/address/${address}/utxo`, {
                            headers: { 'User-Agent': 'Mozilla/5.0' }
                        }).catch(() => null)
                    ]);

                    let txCount = 0;
                    let utxoCount = 0;
                    let nativeBalance = 0;

                    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–∑ mempool
                    if (mempoolRes?.ok) {
                        const mempoolData = await mempoolRes.json();
                        let c = {},
                            m = {};

                        if (mempoolData.chain_stats || mempoolData.mempool_stats) {
                            c = mempoolData.chain_stats || {};
                            m = mempoolData.mempool_stats || {};
                        } else if (mempoolData.funded_txo_count !== undefined) {
                            c = mempoolData;
                            m = {};
                        }

                        txCount = Number(c.tx_count || 0) + Number(m.tx_count || 0);
                        const fundedSum = Number(c.funded_txo_sum || 0) + Number(m.funded_txo_sum || 0);
                        const spentSum = Number(c.spent_txo_sum || 0) + Number(m.spent_txo_sum || 0);
                        nativeBalance = Math.max(0, (fundedSum - spentSum) / 1e8);

                        // UTXO count –∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                        const chainFunded = Number(c.funded_txo_count || 0);
                        const chainSpent = Number(c.spent_txo_count || 0);
                        const mempoolFunded = Number(m.funded_txo_count || 0);
                        const mempoolSpent = Number(m.spent_txo_count || 0);
                        utxoCount = Math.max(0, chainFunded + mempoolFunded - (chainSpent + mempoolSpent));
                    }

                    // UTXO count –∏–∑ –ø—Ä—è–º–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
                    if (utxoRes?.ok) {
                        const utxoData = await utxoRes.json();
                        if (Array.isArray(utxoData)) {
                            utxoCount = utxoData.length;
                        } else if (utxoData.data && Array.isArray(utxoData.data)) {
                            utxoCount = utxoData.data.length;
                        } else if (utxoData.list && Array.isArray(utxoData.list)) {
                            utxoCount = utxoData.list.length;
                        }
                    }

                    return sendJSON({
                        code: 0,
                        data: {
                            address: address,
                            tx_count: txCount,
                            utxo_count: utxoCount,
                            native_balance: nativeBalance,
                            source: 'mempool_fractal',
                            synced_at: new Date().toISOString()
                        },
                        _debug: {
                            mempool_ok: mempoolRes?.ok || false,
                            utxo_ok: utxoRes?.ok || false,
                            mempool_status: mempoolRes?.status,
                            utxo_status: utxoRes?.status
                        }
                    });
                } catch (e) {
                    return sendJSON({ error: 'Mempool Summary error: ' + e.message }, 500);
                }
            }

            // --- INSWAP SUMMARY (–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ InSwap API) ---
            if (action === 'inswap_summary') {
                const address = url.searchParams.get('address');
                const pubkey = url.searchParams.get('pubkey') || '';
                if (!address) return sendJSON({ error: 'Address required' }, 400);

                const cache = caches.default;
                const cacheKeyUrl = new URL(request.url);
                cacheKeyUrl.searchParams.delete('pubkey');
                cacheKeyUrl.searchParams.delete('t');
                cacheKeyUrl.searchParams.delete('ts');
                cacheKeyUrl.searchParams.delete('_');
                cacheKeyUrl.searchParams.delete('debug');
                cacheKeyUrl.searchParams.set('v', '1');
                const cacheKey = new Request(cacheKeyUrl.toString(), { method: 'GET' });

                if (!__debugEnabled) {
                    const cached = await cache.match(cacheKey);
                    if (cached) return cached;
                }

                if (__disableInswap) {
                    const summary = {
                        address: address,
                        all_balance: {},
                        lp_list: [],
                        lp_count: 0,
                        lp_total_usd: 0,
                        total_usd: 0,
                        user_info: {},
                        tokens: {},
                        lp_positions: [],
                        synced_at: new Date().toISOString()
                    };
                    const out = { code: 0, data: summary };
                    if (__debugEnabled) out._debug = { source: 'inswap_summary', disabled: true };
                    const response = sendJSON(out);
                    try {
                        response.headers.set('Cache-Control', 's-maxage=120, max-age=30');
                        if (!__debugEnabled) {
                            if (ctx?.waitUntil) ctx.waitUntil(cache.put(cacheKey, response.clone()));
                            else await cache.put(cacheKey, response.clone());
                        }
                    } catch (_) {
                        void _;
                    }
                    return response;
                }

                try {
                    void pubkey;
                    const myPoolListUrl = `${SWAP_BASE}/brc20-swap/my_pool_list?address=${address}&start=0&limit=100`;
                    let myPoolListRes = await fetch(myPoolListUrl, { headers: upstreamHeaders }).catch(() => null);
                    if (!myPoolListRes?.ok && myPoolListRes?.status === 404) {
                        const myPoolListUrlIdx = `${SWAP_BASE}/indexer/brc20-swap/my_pool_list?address=${address}&start=0&limit=100`;
                        myPoolListRes = await fetch(myPoolListUrlIdx, { headers: upstreamHeaders }).catch(() => null);
                    }
                    const myPoolList = myPoolListRes?.ok ? await myPoolListRes.json().catch(() => null) : null;

                    // –°–æ–±–∏—Ä–∞–µ–º summary –¥–∞–Ω–Ω—ã–µ –∏–∑ InSwap (–∫–∞–∫ –≤ –∫–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
                    const summary = {
                        address: address,
                        // –ë–∞–ª–∞–Ω—Å—ã –∏–∑ all_balance (getAllBalance)
                        all_balance: {},
                        // LP –¥–∞–Ω–Ω—ã–µ –∏–∑ my_pool_list (myPoolList)
                        lp_list: myPoolList?.data?.list || [],
                        lp_count: myPoolList?.data?.list?.length || 0,
                        lp_total_usd: myPoolList?.data?.totalLpUSD || 0,
                        // Net worth –∏–∑ address_usd (getAddressUsd) –∏–ª–∏ all_balance
                        total_usd: 0,
                        // User info (userInfo) - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
                        user_info: {},
                        // –î–µ—Ç–∞–ª–∏ –ø–æ —Ç–æ–∫–µ–Ω–∞–º (–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∏–∑ all_balance)
                        tokens: {},
                        // LP –ø–æ–∑–∏—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ all_balance)
                        lp_positions: [],
                        synced_at: new Date().toISOString()
                    };

                    const out = { code: 0, data: summary };
                    if (__debugEnabled) {
                        out._debug = {
                            source: 'inswap_summary',
                            my_pool_list_code: myPoolList?.code,
                            my_pool_list_msg: myPoolList?.msg,
                            tokens_count: Object.keys(summary.tokens).length,
                            lp_positions_count: summary.lp_positions.length
                        };
                    }

                    const response = sendJSON(out);
                    try {
                        response.headers.set('Cache-Control', 's-maxage=120, max-age=30');
                        if (!__debugEnabled) {
                            if (ctx?.waitUntil) ctx.waitUntil(cache.put(cacheKey, response.clone()));
                            else await cache.put(cacheKey, response.clone());
                        }
                    } catch (_) {
                        void _;
                    }
                    return response;
                } catch (e) {
                    return sendJSON({ error: 'InSwap Summary error: ' + e.message }, 500);
                }
            }

            // --- AUDIT DATA / FRACTAL AUDIT (Grand Dossier v4 - CoinGecko FB Price) ---
            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –æ–±–∞ action –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
            if (action === 'audit_data' || action === 'fractal_audit') {
                const address = url.searchParams.get('address');
                if (!address) return sendJSON({ error: 'Address required' }, 400);

                const __fastMode = url.searchParams.get('fast') === '1';

                // Cache API (Cloudflare) ‚Äî –ê–ì–†–ï–°–°–ò–í–ù–û–ï –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è 429 –æ—à–∏–±–æ–∫
                // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ö—ç—à–∏—Ä—É–µ–º –ø–æ –∞–¥—Ä–µ—Å—É (–±–µ–∑ pubkey –∏ –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤) –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
                const cache = caches.default;
                // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º URL –¥–ª—è –∫—ç—à–∞ (—É–±–∏—Ä–∞–µ–º pubkey –∏ –¥—Ä—É–≥–∏–µ –Ω–µ–≤–∞–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
                const cacheKeyUrl = new URL(request.url);
                cacheKeyUrl.searchParams.delete('pubkey'); // pubkey –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –∫—ç—à–∞
                cacheKeyUrl.searchParams.delete('fast');
                cacheKeyUrl.searchParams.delete('t');
                cacheKeyUrl.searchParams.delete('ts');
                cacheKeyUrl.searchParams.delete('_');
                cacheKeyUrl.searchParams.delete('debug');
                cacheKeyUrl.searchParams.set('v', '7');
                const cacheKey = new Request(cacheKeyUrl.toString(), { method: 'GET' });

                const cachedResponse = !__debugEnabled ? await cache.match(cacheKey) : null;
                if (cachedResponse) {
                    console.log(
                        `‚úÖ Serving fractal_audit from Cloudflare cache for address ${address?.substring(0, 10)}... (reduces 429 errors)`
                    );
                    return cachedResponse;
                }

                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: Throttling –¥–ª—è UniSat API (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏)
                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (address —É–∂–µ –æ–±—ä—è–≤–ª–µ–Ω –≤—ã—à–µ –Ω–∞ —Å—Ç—Ä–æ–∫–µ 745)
                const pubkey = url.searchParams.get('pubkey') || '';
                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±—Ä–∞–Ω–∞ –ø–æ–¥–ø–∏—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —ç—Ç–∏—Ö API
                // const userSignature = url.searchParams.get('signature') || '';
                // if (userSignature) {
                //     upstreamHeaders['x-signature'] = userSignature;
                //     upstreamHeaders['x-address'] = address;
                // }

                // –§—É–Ω–∫—Ü–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–∏–∫–µ—Ä–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö)
                const normalizeTicker = ticker => {
                    if (!ticker) return '';
                    // –£–±–∏—Ä–∞–µ–º —Å—É—Ñ—Ñ–∏–∫—Å—ã —Ç–∏–ø–∞ ___000, –∑–∞—Ç–µ–º –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ü–µ, –∑–∞—Ç–µ–º –ø—Ä–∏–≤–æ–¥–∏–º –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
                    return ticker
                        .replace(/___\d+$/, '')
                        .replace(/_+$/, '')
                        .toUpperCase()
                        .trim();
                };

                let lastUniSatRequest = 0;
                // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: Throttling –¥–ª—è UniSat API (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: 1-5 req/s max)
                // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - –º–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ = –º–µ–Ω—å—à–µ 429
                const UNISAT_THROTTLE_MS = 900; // 900ms = ~1.1 req/s (–±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ 429)

                // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –æ—á–µ—Ä–µ–¥—å, —á—Ç–æ–±—ã UniSat-–∑–∞–ø—Ä–æ—Å—ã –Ω–µ –±–∏–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –Ω–µ –ª–æ–≤–∏–ª–∏ 429 burst'–æ–º
                let __unisatQueue = Promise.resolve();
                const __runUniSatQueued = fn => {
                    const p = __unisatQueue.then(fn, fn);
                    __unisatQueue = p.catch(() => null);
                    return p;
                };

                // –ö—ç—à –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ - —É–≤–µ–ª–∏—á–µ–Ω –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è 429 –æ—à–∏–±–æ–∫ –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                const responseCache = new Map();
                // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –£–≤–µ–ª–∏—á–µ–Ω–æ –≤—Ä–µ–º—è –∫—ç—à–∞ - –¥–∞–∂–µ –µ—Å–ª–∏ –∞–¥—Ä–µ—Å–∞ —Ä–∞–∑–Ω—ã–µ, –∫—ç—à —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É
                const CACHE_TTL = 60000; // 60 —Å–µ–∫—É–Ω–¥ –¥–ª—è –±–∞–ª–∞–Ω—Å–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–ª—É—á—à–µ–Ω–Ω—ã–π safeFetch —Å throttling, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ exponential backoff
                const safeFetch = async (p, options = {}) => {
                    const { useCache = false, cacheKey = null, isUniSat = false, retryOn429 = false } = options;

                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
                    if (useCache && cacheKey) {
                        const cached = responseCache.get(cacheKey);
                        if (cached && Date.now() - cached.timestamp < CACHE_TTL) {
                            return cached.data;
                        }
                    }

                    // Exponential backoff –¥–ª—è 429 (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è Unisat)
                    let retries = retryOn429 ? 3 : 0;
                    let delay = 1000; // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –£–º–µ–Ω—å—à–µ–Ω–æ –¥–æ 1 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏

                    while (retries >= 0) {
                        try {
                            let response;
                            if (isUniSat && typeof p === 'function') {
                                response = await __runUniSatQueued(async () => {
                                    const now = Date.now();
                                    const timeSinceLastRequest = now - lastUniSatRequest;
                                    if (timeSinceLastRequest < UNISAT_THROTTLE_MS) {
                                        await new Promise(r =>
                                            setTimeout(r, UNISAT_THROTTLE_MS - timeSinceLastRequest)
                                        );
                                    }
                                    lastUniSatRequest = Date.now();
                                    return await p();
                                });
                            } else if (typeof p === 'function') {
                                response = await p();
                            } else {
                                response = await p;
                            }

                            if (!response.ok) {
                                // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –î–æ–±–∞–≤–ª—è–µ–º debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç–∞—Ç—É—Å–µ –æ—Ç–≤–µ—Ç–∞
                                // –ü—Ä–æ–≤–µ—Ä—è–µ–º cacheKey –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∞–∫–æ–π –∑–∞–ø—Ä–æ—Å —ç—Ç–æ
                                if (cacheKey && cacheKey.includes('uniscan_summary')) {
                                    debugInfo.uniscan_summary_raw_status = response.status;
                                    debugInfo.uniscan_summary_raw_statusText = response.statusText;
                                    debugInfo.uniscan_summary_raw_headers = Object.fromEntries(
                                        response.headers.entries()
                                    );
                                }

                                // –û–±—Ä–∞–±–æ—Ç–∫–∞ 429 (Too Many Requests)
                                if (response.status === 429) {
                                    // –ï—Å–ª–∏ p - –Ω–µ —Ñ—É–Ω–∫—Ü–∏—è, –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–µ–ª—å–∑—è (fetch —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω)
                                    if (typeof p !== 'function') {
                                        if (cacheKey && cacheKey.includes('uniscan_summary')) {
                                            debugInfo.uniscan_summary_429_final = true;
                                        }
                                        return null;
                                    }
                                    if (retries > 0) {
                                        const retryAfter = response.headers.get('Retry-After');
                                        delay = retryAfter ? parseInt(retryAfter) * 1000 : delay;
                                        console.warn(
                                            `Rate limited (429), waiting ${delay}ms, retries left: ${retries}`
                                        );
                                        await new Promise(r => setTimeout(r, delay));
                                        delay = Math.min(delay * 2, 30000); // Exponential backoff, max 30s
                                        retries--;
                                        continue; // –ü–æ–≤—Ç–æ—Ä—è–µ–º –∑–∞–ø—Ä–æ—Å
                                    } else {
                                        console.warn('Rate limited (429), no more retries');
                                        if (cacheKey && cacheKey.includes('uniscan_summary')) {
                                            debugInfo.uniscan_summary_429_final = true;
                                        }
                                        return null;
                                    }
                                }

                                // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ï—Å–ª–∏ –Ω–µ 429, –Ω–æ —Å—Ç–∞—Ç—É—Å –Ω–µ OK - –ª–æ–≥–∏—Ä—É–µ–º
                                if (cacheKey && cacheKey.includes('uniscan_summary')) {
                                    debugInfo.uniscan_summary_not_ok = true;
                                    debugInfo.uniscan_summary_not_ok_status = response.status;
                                }

                                return null;
                            }

                            const data = await response.json();

                            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à
                            if (useCache && cacheKey) {
                                responseCache.set(cacheKey, { data, timestamp: Date.now() });
                            }

                            return data;
                        } catch (err) {
                            // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –î–æ–±–∞–≤–ª—è–µ–º debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—à–∏–±–∫–µ
                            if (cacheKey && cacheKey.includes('uniscan_summary')) {
                                debugInfo.uniscan_summary_fetch_error = err.message || 'unknown';
                                debugInfo.uniscan_summary_fetch_error_name = err.name;
                                debugInfo.uniscan_summary_fetch_error_stack = err.stack;
                            }

                            if (retries > 0 && retryOn429) {
                                console.warn(`Fetch error, retrying: ${err.message}`);
                                await new Promise(r => setTimeout(r, delay));
                                delay = Math.min(delay * 2, 30000);
                                retries--;
                                continue;
                            }
                            console.warn('Fetch error:', err.message);
                            return null;
                        }
                    }

                    return null;
                };

                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: debugInfo —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤—ã—à–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç
                // –û—á–∏—â–∞–µ–º –µ–≥–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
                Object.keys(debugInfo).forEach(key => delete debugInfo[key]);

                try {
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º Mempool Fractal API –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (—Ä–∞–∑–≥—Ä—É–∂–∞–µ–º UniSat)
                    // 1. MEMPOOL (–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞) - —Ç–æ–ª—å–∫–æ Fractal
                    // –ü—Ä–æ–±—É–µ–º –æ–±–∞ –æ–±–æ–∑—Ä–µ–≤–∞—Ç–µ–ª—è Fractal –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
                    const mempoolFractalPromise = safeFetch(() => {
                        const controller = new AbortController();
                        const timeoutId = setTimeout(() => controller.abort(), 4500);
                        return fetch(`https://mempool.fractalbitcoin.io/api/address/${address}`, {
                            headers: { 'User-Agent': 'Mozilla/5.0' },
                            signal: controller.signal
                        }).finally(() => clearTimeout(timeoutId));
                    });
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: UTXO —Å–ø–∏—Å–æ–∫ –∏–∑ Mempool Fractal (—Ä–∞–∑–≥—Ä—É–∂–∞–µ–º UniSat)
                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: —ç—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—á–µ–Ω—å —Ç—è–∂–µ–ª—ã–º -> –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏
                    const utxoListPromise = safeFetch(() => {
                        const controller = new AbortController();
                        const timeoutId = setTimeout(() => controller.abort(), 3500);
                        return fetch(`https://mempool.fractalbitcoin.io/api/address/${address}/utxo`, {
                            headers: { 'User-Agent': 'Mozilla/5.0' },
                            signal: controller.signal
                        }).finally(() => clearTimeout(timeoutId));
                    });
                    // Uniscan –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω API)
                    const uniscanPromise = safeFetch(() => {
                        const controller = new AbortController();
                        const timeoutId = setTimeout(() => controller.abort(), 4500);
                        return fetch(`https://uniscan.cc/api/fractal/address/${address}`, {
                            headers: {
                                Accept: 'application/json',
                                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
                            },
                            signal: controller.signal
                        }).finally(() => clearTimeout(timeoutId));
                    });

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û–±—ä—è–≤–ª—è–µ–º mempoolPromise –î–û –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
                    const mempoolPromise = Promise.all([mempoolFractalPromise, uniscanPromise]).then(
                        ([fractal, uniscan]) => {
                            // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: mempool.fractalbitcoin.io, –∑–∞—Ç–µ–º uniscan
                            if (
                                fractal &&
                                (fractal.chain_stats || fractal.mempool_stats || fractal.funded_txo_count !== undefined)
                            ) {
                                return fractal;
                            }
                            if (
                                uniscan &&
                                (uniscan.chain_stats || uniscan.mempool_stats || uniscan.funded_txo_count !== undefined)
                            ) {
                                return uniscan;
                            }
                            return fractal || uniscan || null;
                        }
                    );

                    const uniscanSummaryPromise = Promise.resolve(null);

                    // 1. UniSat Balance API - BTC –±–∞–ª–∞–Ω—Å, inscriptionUtxoCount (proxy –¥–ª—è ordinals), utxoCount
                    const unisatBalancePromise = safeFetch(
                        () =>
                            fetch(`${FRACTAL_BASE}/indexer/address/${address}/balance`, {
                                headers: upstreamHeaders
                            }),
                        {
                            isUniSat: true,
                            useCache: true,
                            cacheKey: `unisat_balance_${address}`,
                            retryOn429: !__fastMode
                        }
                    );

                    // 2. UniSat BRC-20 Summary API - –≤—Å–µ BRC-20 —Ç–æ–∫–µ–Ω—ã —Ä–∞–∑–æ–º
                    const unisatBrc20SummaryPromise = (async () => {
                        const result = await safeFetch(
                            () =>
                                fetch(
                                    `${FRACTAL_BASE}/indexer/address/${address}/brc20/summary?start=0&limit=500&tick_filter=24&exclude_zero=true`,
                                    { headers: upstreamHeaders }
                                ),
                            {
                                isUniSat: true,
                                useCache: true,
                                cacheKey: `unisat_brc20_${address}`,
                                retryOn429: !__fastMode
                            }
                        );
                        if (result) {
                            debugInfo.brc20_api_used = 'brc20_summary';
                        }
                        return result;
                    })();

                    // 3. UniSat History API - total —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (–¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞)
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã cursor –∏ size (–ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API)
                    const unisatHistoryPromise = safeFetch(
                        () =>
                            fetch(`${FRACTAL_BASE}/indexer/address/${address}/history?cursor=0&size=1`, {
                                headers: upstreamHeaders
                            }),
                        {
                            isUniSat: true,
                            useCache: true,
                            cacheKey: `unisat_history_${address}`,
                            retryOn429: !__fastMode
                        }
                    );

                    // 4. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: UniSat Runes Balance List - –≤—Å–µ —Ä—É–Ω—ã —Ä–∞–∑–æ–º
                    const unisatRunesPromise = safeFetch(
                        () =>
                            fetch(`${FRACTAL_BASE}/indexer/address/${address}/runes/balance-list?start=0&limit=100`, {
                                headers: upstreamHeaders
                            }),
                        {
                            isUniSat: true,
                            useCache: true,
                            cacheKey: `unisat_runes_${address}`,
                            retryOn429: !__fastMode
                        }
                    );

                    // 5. –ù–û–í–´–ô: UniSat Summary API - –ø–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∫–æ—à–µ–ª—å–∫–∞ –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º (–∏–∑ –∫–æ–¥–∞ Gemini)
                    const unisatSummaryPromise = safeFetch(
                        () =>
                            fetch(`${FRACTAL_BASE}/indexer/address/${address}/summary`, {
                                headers: upstreamHeaders
                            }),
                        {
                            isUniSat: true,
                            useCache: true,
                            cacheKey: `unisat_summary_${address}`,
                            retryOn429: !__fastMode
                        }
                    );

                    const unisatAbandonNftUtxoPromise = safeFetch(
                        () =>
                            fetch(`${FRACTAL_BASE}/indexer/address/${address}/abandon-nft-utxo-data`, {
                                headers: upstreamHeaders
                            }),
                        {
                            isUniSat: true,
                            useCache: true,
                            cacheKey: `unisat_abandon_nft_utxo_${address}`,
                            retryOn429: !__fastMode
                        }
                    );

                    const unisatInscriptionDataPromise = safeFetch(
                        () =>
                            fetch(`${FRACTAL_BASE}/indexer/address/${address}/inscription-data?cursor=0&size=100`, {
                                headers: upstreamHeaders
                            }),
                        {
                            isUniSat: true,
                            useCache: true,
                            cacheKey: `unisat_inscription_data_${address}`,
                            retryOn429: !__fastMode
                        }
                    );

                    // 6. –ù–û–í–´–ô: InSwap Asset Summary API - –ø–æ–ª—É—á–∞–µ–º LP –¥–∞–Ω–Ω—ã–µ –∏–∑ –º–æ–¥—É–ª—è —Å–≤–∞–ø–∞ (–∏–∑ –∫–æ–¥–∞ Gemini)
                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º SWAP_BASE –¥–ª—è brc20-swap —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å - –≤–æ–∑–º–æ–∂–Ω–æ —ç—Ç–æ /brc20-swap/address/{address}/asset-summary
                    // –ü—Ä–æ–±—É–µ–º –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: —Å /indexer/ –∏ –±–µ–∑ (fallback)
                    const inswapAssetSummaryPromise = (async () => {
                        if (__disableInswap) return null;
                        // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –±–µ–∑ /indexer/
                        let result = await safeFetch(
                            () =>
                                fetch(`${SWAP_BASE}/brc20-swap/address/${address}/asset-summary`, {
                                    headers: upstreamHeaders
                                }),
                            { isUniSat: true, useCache: false, retryOn429: false }
                        );
                        // Fallback: –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–±—É–µ–º —Å /indexer/
                        if (!result || (result.code !== undefined && result.code !== 0)) {
                            result = await safeFetch(
                                () =>
                                    fetch(`${SWAP_BASE}/indexer/brc20-swap/address/${address}/asset-summary`, {
                                        headers: upstreamHeaders
                                    }),
                                {
                                    isUniSat: true,
                                    useCache: true,
                                    cacheKey: `inswap_asset_summary_${address}`,
                                    retryOn429: !__fastMode
                                }
                            );
                        }
                        return result;
                    })();

                    // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –£–±—Ä–∞–Ω CoinGecko - —Ü–µ–Ω—ã –ø–æ–ª—É—á–∞–µ–º –∏–∑ InSwap all_balance
                    // const cgPromise = null;

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: all_balance –±–æ–ª—å—à–µ –Ω–µ –¥–µ—Ä–≥–∞–µ–º —Å inswap.cc (x-sign).
                    // –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —Å—Ç—Ä–æ–∏–º allBalance-—Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ UniSat Open API asset-summary.
                    const allBalancePromise = (async () => {
                        if (__disableInswap) return null;
                        const assetSummary = await Promise.resolve(inswapAssetSummaryPromise).catch(() => null);
                        const list = assetSummary?.data;
                        if (!Array.isArray(list) || !list.length) return null;

                        const data = {};
                        let totalUsd = 0;
                        for (const asset of list) {
                            const rawTicker = String(
                                asset?.ticker || asset?.tick || asset?.symbol || asset?.name || ''
                            ).trim();
                            if (!rawTicker) continue;
                            const u = rawTicker.toUpperCase();
                            let key = rawTicker;
                            if (u === 'SFB' || u === 'SFB___000') key = 'sFB___000';
                            else if (u === 'SBTC' || u === 'SBTC___000') key = 'sBTC___000';

                            const bal = parseFloat(asset?.balance ?? asset?.amount ?? asset?.available ?? 0) || 0;
                            let valueUSD = parseFloat(
                                asset?.valueUSD ??
                                    asset?.value_usd ??
                                    asset?.usdValue ??
                                    asset?.usd_value ??
                                    asset?.totalUsd ??
                                    asset?.total_usd ??
                                    asset?.value ??
                                    asset?.usd ??
                                    0
                            );
                            const priceUSD = parseFloat(
                                asset?.priceUSD ?? asset?.price_usd ?? asset?.priceUsd ?? asset?.price ?? 0
                            );
                            if (!(valueUSD > 0) && priceUSD > 0 && bal > 0) valueUSD = priceUSD * bal;
                            if (valueUSD > 0) totalUsd += valueUSD;

                            data[key] = {
                                balance: { swap: bal },
                                price: priceUSD > 0 ? priceUSD : bal > 0 && valueUSD > 0 ? valueUSD / bal : 0
                            };
                        }

                        data.total_usd = totalUsd;
                        return { code: 0, data };
                    })();

                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: my_pool_list –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API
                    // –ü–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: /v1/brc20-swap/my_pool_list (–ë–ï–ó /indexer/)
                    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: address (required), start (required), limit (required), tick (optional)
                    const myPoolListUrl = `${SWAP_BASE}/brc20-swap/my_pool_list?address=${address}&start=0&limit=10`;
                    debugInfo.my_pool_list_url = myPoolListUrl;
                    debugInfo.my_pool_list_auth_provided = !!API_KEY;
                    // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –£–≤–µ–ª–∏—á–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –∏ –∑–∞–¥–µ—Ä–∂–∫–∏ –∏–∑ backup –≤–µ—Ä—Å–∏–∏
                    const myPoolListPromise = (async () => {
                        if (__disableInswap) return null;
                        const retries = 2; // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 3 –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
                        let delay = 600; // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –£–º–µ–Ω—å—à–µ–Ω–æ –¥–æ 2 —Å–µ–∫—É–Ω–¥ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
                        debugInfo.my_pool_list_retries_total = retries;
                        for (let attempt = 0; attempt < retries; attempt++) {
                            debugInfo.my_pool_list_current_attempt = attempt + 1;
                            try {
                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–∞–π–º–∞—É—Ç –¥–æ 10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ (–∏–∑ backup)
                                const controller = new AbortController();
                                const timeoutId = setTimeout(() => controller.abort(), 4500);

                                const res = await fetch(myPoolListUrl, {
                                    headers: unisatApiHeaders,
                                    signal: controller.signal
                                });

                                clearTimeout(timeoutId);

                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ï—Å–ª–∏ 429 - –∂–¥–µ–º –∏ –ø–æ–≤—Ç–æ—Ä—è–µ–º (–∏–∑ backup –≤–µ—Ä—Å–∏–∏)
                                if (res.status === 429) {
                                    debugInfo.my_pool_list_retry_attempt = attempt + 1;
                                    debugInfo.my_pool_list_retry_delay = delay;

                                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º Retry-After –∑–∞–≥–æ–ª–æ–≤–æ–∫ –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
                                    const retryAfter = res.headers.get('Retry-After');
                                    if (retryAfter) {
                                        const retryAfterSeconds = parseInt(retryAfter, 10);
                                        if (!isNaN(retryAfterSeconds) && retryAfterSeconds > 0) {
                                            delay = Math.max(delay, retryAfterSeconds * 1000);
                                            debugInfo.my_pool_list_retry_after = retryAfterSeconds;
                                        }
                                    }

                                    if (attempt === retries - 1) {
                                        // –ü–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–ø—ã—Ç–∫–∞ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º null
                                        debugInfo.my_pool_list_rate_limited = true;
                                        debugInfo.my_pool_list_raw_status = 429;
                                        debugInfo.my_pool_list_raw_statusText = 'Too Many Requests';
                                        return null;
                                    }
                                    await new Promise(r => setTimeout(r, delay));
                                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: Exponential backoff –∏–∑ backup: 5, 10, 15 —Å–µ–∫—É–Ω–¥
                                    delay = Math.min(delay * 2, 4000); // Exponential backoff: 5, 10, 30 —Å–µ–∫—É–Ω–¥ (–º–∞–∫—Å)
                                    debugInfo.my_pool_list_next_delay = delay;
                                    continue;
                                }
                                if (res.ok) {
                                    const data = await res.json();
                                    debugInfo.my_pool_list_fetch_ok = true;
                                    debugInfo.my_pool_list_response_code = data?.code;
                                    debugInfo.my_pool_list_response_msg = data?.msg || data?.message;
                                    return data;
                                } else {
                                    debugInfo.my_pool_list_raw_status = res.status;
                                    debugInfo.my_pool_list_raw_statusText = res.statusText;
                                    const errorText = await res.text().catch(() => '');
                                    debugInfo.my_pool_list_raw_error = errorText.substring(0, 500);
                                    if (res.status === 403 && !API_KEY) {
                                        debugInfo.my_pool_list_auth_required = true;
                                    }
                                    return null;
                                }
                            } catch (e) {
                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ç–∞–π–º–∞—É—Ç—ã –∏ –¥—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏
                                if (e.name === 'AbortError') {
                                    debugInfo.my_pool_list_timeout = true;
                                    debugInfo.my_pool_list_fetch_error = 'Request timeout (8s)';
                                } else {
                                    debugInfo.my_pool_list_fetch_error = e.message || 'unknown';
                                }
                                if (attempt === retries - 1) {
                                    debugInfo.my_pool_list_final_attempt = true;
                                    return null;
                                }
                                await new Promise(r => setTimeout(r, delay));
                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: Exponential backoff –∏–∑ backup: 5, 10, 15 —Å–µ–∫—É–Ω–¥
                                delay = Math.min(delay * 2, 4000); // Exponential backoff: 5, 10, 30 —Å–µ–∫—É–Ω–¥ (–º–∞–∫—Å)
                                debugInfo.my_pool_list_next_delay = delay;
                            }
                        }
                        debugInfo.my_pool_list_all_retries_exhausted = true;
                        return null;
                    })();

                    // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –í—ã–ø–æ–ª–Ω—è–µ–º 4-5 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ (100-200ms) –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è 429
                    console.log('üìä Loading data with optimized UniSat Open API (4-5 requests)...');

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è 429 –æ—à–∏–±–æ–∫
                    // –ò–∑ backup –≤–µ—Ä—Å–∏–∏: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –±–æ–ª—å—à–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã (10 —Å–µ–∫—É–Ω–¥ –¥–ª—è all_balance)
                    // –ö–æ–º–ø—Ä–æ–º–∏—Å—Å: 500ms –º–µ–∂–¥—É UniSat –∑–∞–ø—Ä–æ—Å–∞–º–∏, 2 —Å–µ–∫—É–Ω–¥—ã –ø–µ—Ä–µ–¥ InSwap

                    // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –í—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è (–∏–∑ –∫–æ–¥–∞ Gemini)
                    // 0. –ü–†–ò–û–†–ò–¢–ï–¢: Uniscan Summary API (–æ–¥–∏–Ω "–∂–∏—Ä–Ω—ã–π" —ç–Ω–¥–ø–æ–∏–Ω—Ç)
                    console.log('üìä [0/7] Loading Uniscan Summary (priority)...');
                    let uniscanSummary = null;
                    try {
                        uniscanSummary = await Promise.race([
                            uniscanSummaryPromise,
                            new Promise(resolve => setTimeout(() => resolve(null), 5500))
                        ]);
                        debugInfo.uniscan_summary_loaded = !!uniscanSummary;
                        debugInfo.uniscan_summary_code = uniscanSummary?.code;
                        debugInfo.uniscan_summary_msg = uniscanSummary?.msg;

                        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ –∏ –Ω–∞–ª–∏—á–∏–µ –¥–∞–Ω–Ω—ã—Ö
                        if (uniscanSummary && uniscanSummary.code !== 0) {
                            debugInfo.uniscan_summary_invalid_code = true;
                            debugInfo.uniscan_summary_fallback_to_unisat = true;
                            uniscanSummary = null;
                        } else if (
                            uniscanSummary &&
                            (!uniscanSummary.data || typeof uniscanSummary.data !== 'object')
                        ) {
                            debugInfo.uniscan_summary_no_data = true;
                            debugInfo.uniscan_summary_fallback_to_unisat = true;
                            uniscanSummary = null;
                        }
                    } catch (e) {
                        debugInfo.uniscan_summary_error = e.message;
                        debugInfo.uniscan_summary_loaded = false;
                        debugInfo.uniscan_summary_fallback_to_unisat = true;
                    }

                    await new Promise(r => setTimeout(r, 120));

                    const withTimeout = (promise, ms) =>
                        Promise.race([promise, new Promise(resolve => setTimeout(() => resolve(null), ms))]).catch(
                            () => null
                        );

                    const UNISAT_AUDIT_TIMEOUT_MS = __fastMode ? 2500 : 6500;
                    const INSWAP_AUDIT_TIMEOUT_MS = __fastMode ? 3000 : 5500;

                    // 1-5. UniSat API –∑–∞–ø—Ä–æ—Å—ã (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
                    console.log('üìä [1-5/7] Loading UniSat APIs in parallel...');

                    const needRunesFallback =
                        !(typeof uniscanSummary?.data?.runes_count !== 'undefined') &&
                        !(
                            uniscanSummary?.data?.assets?.RunesList &&
                            Array.isArray(uniscanSummary.data.assets.RunesList) &&
                            uniscanSummary.data.assets.RunesList.length
                        );
                    const [
                        unisatBalance,
                        unisatBrc20Summary,
                        unisatHistory,
                        unisatRunes,
                        unisatInscriptionData,
                        unisatSummary,
                        unisatAbandonNftUtxo
                    ] = await Promise.all([
                        withTimeout(unisatBalancePromise, UNISAT_AUDIT_TIMEOUT_MS),
                        withTimeout(unisatBrc20SummaryPromise, UNISAT_AUDIT_TIMEOUT_MS),
                        withTimeout(unisatHistoryPromise, UNISAT_AUDIT_TIMEOUT_MS),
                        needRunesFallback
                            ? withTimeout(unisatRunesPromise, UNISAT_AUDIT_TIMEOUT_MS)
                            : Promise.resolve(null),
                        withTimeout(unisatInscriptionDataPromise, UNISAT_AUDIT_TIMEOUT_MS),
                        __fastMode ? Promise.resolve(null) : withTimeout(unisatSummaryPromise, UNISAT_AUDIT_TIMEOUT_MS),
                        withTimeout(unisatAbandonNftUtxoPromise, UNISAT_AUDIT_TIMEOUT_MS)
                    ]);
                    await new Promise(r => setTimeout(r, 120));

                    // 6. InSwap All Balance API - –≤—Å–µ —Ç–æ–∫–µ–Ω—ã —Å –±–∞–ª–∞–Ω—Å–∞–º–∏ –∏ —Ü–µ–Ω–∞–º–∏ –≤ USD
                    console.log('üí± [6/7] Loading InSwap All Balance...');
                    let allBalance = null;
                    let allBalanceAttempted = false;
                    try {
                        allBalanceAttempted = true;
                        allBalance = await Promise.race([
                            allBalancePromise,
                            new Promise((_, reject) =>
                                setTimeout(() => reject(new Error('Timeout')), INSWAP_AUDIT_TIMEOUT_MS)
                            )
                        ]).catch(() => null);
                    } catch (e) {
                        debugInfo.all_balance_error = e.message;
                    }
                    await new Promise(r => setTimeout(r, 120));

                    // 7. –ù–û–í–´–ô: InSwap Asset Summary API - LP –¥–∞–Ω–Ω—ã–µ –∏–∑ –º–æ–¥—É–ª—è —Å–≤–∞–ø–∞ (–∏–∑ –∫–æ–¥–∞ Gemini)
                    console.log('üí± [7/7] Loading InSwap Asset Summary (LP)...');
                    let inswapAssetSummary = null;
                    try {
                        inswapAssetSummary = await Promise.race([
                            inswapAssetSummaryPromise,
                            new Promise((_, reject) =>
                                setTimeout(() => reject(new Error('Timeout')), INSWAP_AUDIT_TIMEOUT_MS)
                            )
                        ]).catch(() => null);
                    } catch (e) {
                        debugInfo.inswap_asset_summary_error = e.message;
                    }
                    await new Promise(r => setTimeout(r, 120));

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–∫–∞–∫ –≤ backup –≤–µ—Ä—Å–∏–∏)
                    // 1. –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–±–∞–∑–æ–≤—ã–µ) - –∑–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–≤—ã–º–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
                    const [mempool, utxoList] = await Promise.all([mempoolPromise, utxoListPromise]);

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º txCount –î–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –ø–æ–ª—É—á–∞–µ–º –∏–∑ mempool
                    let txCount = 0;
                    if (mempool) {
                        let c = {},
                            m = {};
                        if (mempool.chain_stats || mempool.mempool_stats) {
                            c = mempool.chain_stats || {};
                            m = mempool.mempool_stats || {};
                        }
                        txCount = Number(c.tx_count || 0) + Number(m.tx_count || 0);
                    }

                    // –ü–æ–ª—É—á–∞–µ–º txCount –¥–ª—è genesis –∑–∞–ø—Ä–æ—Å–∞ (–ü–†–ò–û–†–ò–¢–ï–¢: Mempool, –∑–∞—Ç–µ–º Uniscan Summary, –∑–∞—Ç–µ–º UniSat History)
                    let txCountForOffset = txCount;
                    let genesisTxPromise = null;

                    // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –µ—Å–ª–∏ Uniscan Summary —É–∂–µ –æ—Ç–¥–∞–ª –≤—Ä–µ–º—è –ø–µ—Ä–≤–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ
                    // –∏ –Ω–µ –¥–µ—Ä–≥–∞–µ–º /history (—ç—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∏ rate-limited –∑–∞–ø—Ä–æ—Å–æ–≤).
                    let firstTxTsHint = 0;
                    try {
                        const nowTs = Math.floor(Date.now() / 1000);
                        const MIN_VALID_TS = 1700000000;
                        const candidateRaw = Number(
                            uniscanSummary?.data?.firstTxTime ??
                                uniscanSummary?.data?.firstTxTime ??
                                uniscanSummary?.data?.firstTxTs ??
                                uniscanSummary?.data?.first_tx_time ??
                                uniscanSummary?.data?.first_tx_ts ??
                                uniscanSummary?.data?.firstTransactionTime ??
                                0
                        );
                        const candidateTs = Number.isFinite(candidateRaw) ? Math.floor(candidateRaw) : 0;
                        if (candidateTs > 0 && candidateTs >= MIN_VALID_TS && candidateTs <= nowTs) {
                            const currentDate = new Date();
                            const currentYear = currentDate.getFullYear();
                            const currentMonth = currentDate.getMonth();
                            const currentDay = currentDate.getDate();
                            const tsDate = new Date(candidateTs * 1000);
                            const tsYear = tsDate.getFullYear();
                            const tsMonth = tsDate.getMonth();
                            const tsDay = tsDate.getDate();
                            const isFutureYear = tsYear > currentYear;
                            const isFutureMonth = tsYear === currentYear && tsMonth > currentMonth;
                            const isFutureDay =
                                tsYear === currentYear && tsMonth === currentMonth && tsDay > currentDay;
                            if (!isFutureYear && !isFutureMonth && !isFutureDay) {
                                firstTxTsHint = candidateTs;
                                debugInfo.first_tx_method = 'uniscan_summary_firstTxTime';
                                debugInfo.first_tx_hint = firstTxTsHint;
                            }
                        }
                    } catch (_) {
                        void _;
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º txCount –∏–∑ mempool –∫–∞–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ (–æ–Ω —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω)
                    if (txCount > 0) {
                        txCountForOffset = txCount;
                        debugInfo.genesis_txCount_source = 'mempool_stats';
                    } else if (uniscanSummary?.data) {
                        txCountForOffset = Number(
                            uniscanSummary.data.totalTransactionCount || uniscanSummary.data.tx_count || 0
                        );
                        txCount = txCountForOffset;
                        debugInfo.genesis_txCount_source = 'uniscan_summary';
                    } else if (unisatHistory?.data?.total) {
                        txCountForOffset = unisatHistory.data.total;
                        txCount = txCountForOffset;
                        debugInfo.genesis_txCount_source = 'unisat_history';
                    }

                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏—Å–ø–æ–ª—å–∑—É—è total –∏–∑ history
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ï—Å–ª–∏ txCountForOffset = 0, –ø—Ä–æ–±—É–µ–º start=0&limit=100
                    // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –ù–µ –¥–µ—Ä–≥–∞–µ–º /history –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π firstTxTsHint
                    // –∏ –Ω–µ –¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –µ—Å–ª–∏ txCount –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω/0.
                    if (firstTxTsHint === 0 && (txCountForOffset > 0 || txCount > 0)) {
                        genesisTxPromise = (async () => {
                            try {
                                const GENESIS_TIMEOUT_MS = 3500;
                                const controller = new AbortController();
                                const timeoutId = setTimeout(() => controller.abort(), GENESIS_TIMEOUT_MS);
                                let cursor, size;
                                if (txCountForOffset > 0) {
                                    cursor = Math.max(0, txCountForOffset - 1);
                                    size = 1;
                                } else {
                                    cursor = 0;
                                    size = 100;
                                }
                                const res = await fetch(
                                    `${FRACTAL_BASE}/indexer/address/${address}/history?cursor=${cursor}&size=${size}`,
                                    { headers: upstreamHeaders, signal: controller.signal }
                                );
                                clearTimeout(timeoutId);
                                if (res.ok) {
                                    const data = await res.json();
                                    if (
                                        data?.data?.detail &&
                                        Array.isArray(data.data.detail) &&
                                        data.data.detail.length > 0
                                    ) {
                                        const tx =
                                            size === 1
                                                ? data.data.detail[0]
                                                : data.data.detail[data.data.detail.length - 1];
                                        const txTs =
                                            tx.timestamp ||
                                            tx.blocktime ||
                                            tx.time ||
                                            (tx.blockTime ? Math.floor(tx.blockTime / 1000) : 0);
                                        const now = Math.floor(Date.now() / 1000);
                                        const MIN_VALID = 1700000000;
                                        const currentDate = new Date();
                                        const currentYear = currentDate.getFullYear();
                                        const currentMonth = currentDate.getMonth();
                                        const currentDay = currentDate.getDate();
                                        const timestampDate = txTs > 0 ? new Date(txTs * 1000) : null;
                                        const timestampYear = timestampDate ? timestampDate.getFullYear() : 0;
                                        const timestampMonth = timestampDate ? timestampDate.getMonth() : 0;
                                        const timestampDay = timestampDate ? timestampDate.getDate() : 0;
                                        const isFutureYear = timestampYear > currentYear;
                                        const isFutureMonth =
                                            timestampYear === currentYear && timestampMonth > currentMonth;
                                        const isFutureDay =
                                            timestampYear === currentYear &&
                                            timestampMonth === currentMonth &&
                                            timestampDay > currentDay;
                                        const isFuture = isFutureYear || isFutureMonth || isFutureDay;
                                        if (txTs > 0 && txTs >= MIN_VALID && txTs <= now && !isFuture) {
                                            debugInfo.genesis_tx_found = true;
                                            debugInfo.genesis_tx_cursor_used = cursor;
                                            debugInfo.genesis_tx_timestamp = txTs;
                                            return {
                                                data: {
                                                    detail: [
                                                        {
                                                            txid: tx.txid || tx.hash || '',
                                                            timestamp: txTs,
                                                            blocktime: txTs,
                                                            time: txTs,
                                                            ...tx
                                                        }
                                                    ]
                                                }
                                            };
                                        }
                                    }
                                }
                            } catch (e) {
                                debugInfo.genesis_error = e.message;
                            }
                            return null;
                        })();
                    } else {
                        debugInfo.genesis_tx_skipped = true;
                        debugInfo.genesis_tx_skipped_reason = firstTxTsHint > 0 ? 'have_first_tx_hint' : 'no_tx_count';
                    }

                    // –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é (genesis)
                    let genesisTxData = null;
                    if (genesisTxPromise) {
                        try {
                            genesisTxData = await genesisTxPromise;
                        } catch (e) {
                            debugInfo.genesis_error = e.message;
                        }
                    }

                    // 2. –¶–µ–Ω—ã –∏ –∏—Å—Ç–æ—Ä–∏—è - –∏—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Å —Ç–∞–π–º–∞—É—Ç–æ–º)
                    // const cg = null; // –£–±—Ä–∞–Ω CoinGecko - —Ü–µ–Ω—ã –ø–æ–ª—É—á–∞–µ–º –∏–∑ InSwap all_balance
                    const historyData = unisatHistory;

                    // 3. Runes, BRC-20 –∏ Ordinals - –∏—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (—Å —Ç–∞–π–º–∞—É—Ç–æ–º)
                    const runesBalanceList = unisatRunes;
                    const brc20Data = unisatBrc20Summary;
                    const ordinalsInscriptionData = unisatInscriptionData;
                    const runesData = null; // –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
                    const ordinalsData = null; // –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

                    // 4. InSwap –¥–∞–Ω–Ω—ã–µ - –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –µ—Å–ª–∏ rate limited, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ
                    let brc20Select = null;
                    let myPoolList = null;
                    brc20Select = null; // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: brc20SelectPromise –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º null
                    try {
                        myPoolList = await Promise.race([
                            myPoolListPromise,
                            new Promise((_, reject) =>
                                setTimeout(() => reject(new Error('Timeout')), INSWAP_AUDIT_TIMEOUT_MS)
                            )
                        ]).catch(() => null);
                    } catch (e) {
                        // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏
                    }

                    const summaryData = null; // –û—Ç–∫–ª—é—á–µ–Ω

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è rate limiting
                    // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –í—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è 429 –æ—à–∏–±–æ–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è UniSat)
                    debugInfo.all_balance_parallel = true;
                    debugInfo.my_pool_list_parallel = true;
                    debugInfo.sequential_execution = false;

                    // –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º allBalance, –ø–æ—Ç–æ–º myPoolList
                    debugInfo.summary_has_data = false; // summary –æ—Ç–∫–ª—é—á–µ–Ω
                    debugInfo.summary_txCount = 0;
                    debugInfo.summary_firstTxTime = 'disabled';
                    debugInfo.summary_structure = 'disabled';
                    debugInfo.genesis_tx_has_data = !!genesisTxData;
                    debugInfo.genesis_tx_method = genesisTxPromise ? 'offset_based' : 'not_attempted';
                    debugInfo.genesis_txCount_for_offset = txCountForOffset;
                    debugInfo.genesis_txCount_source = txCountForOffset > 0 ? 'mempool_early' : 'none';
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±—Ä–∞–Ω—ã debug –¥–ª—è fbPool - –∑–∞–ø—Ä–æ—Å —É–¥–∞–ª–µ–Ω –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
                    debugInfo.all_balance_has_data = !!allBalance?.data;
                    debugInfo.all_balance_structure = allBalance
                        ? typeof allBalance === 'object'
                            ? Object.keys(allBalance)
                            : typeof allBalance
                        : 'null';
                    debugInfo.all_balance_code = allBalance?.code;
                    debugInfo.all_balance_msg = allBalance?.msg;
                    debugInfo.all_balance_sFB_price = allBalance?.data?.sFB___000?.price || 'not found';
                    debugInfo.all_balance_FENNEC_price = allBalance?.data?.FENNEC?.price || 'not found';
                    debugInfo.all_balance_keys = allBalance?.data ? Object.keys(allBalance.data) : 'no data';
                    // all_balance_url, all_balance_has_pubkey, all_balance_fetch_ok, all_balance_fetch_error —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—ã—à–µ
                    debugInfo.fbPool_method = 'pool_info'; // –ë—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–æ –ø–æ–∑–∂–µ
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±—Ä–∞–Ω—ã debug –¥–ª—è lp (user_positions) - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
                    // debugInfo.lp_has_data = !!lp?.data;
                    // debugInfo.lp_list_length = lp?.data?.list?.length || 0;
                    // debugInfo.lp_code = lp?.code;
                    // debugInfo.lp_msg = lp?.msg;
                    debugInfo.my_pool_list_has_data = !!myPoolList?.data;
                    debugInfo.my_pool_list_structure = myPoolList
                        ? typeof myPoolList === 'object'
                            ? Object.keys(myPoolList)
                            : typeof myPoolList
                        : 'null';
                    debugInfo.my_pool_list_length = myPoolList?.data?.list?.length || 0;
                    debugInfo.my_pool_list_code = myPoolList?.code;
                    debugInfo.my_pool_list_msg = myPoolList?.msg || myPoolList?.message;
                    debugInfo.my_pool_list_data_keys = myPoolList?.data ? Object.keys(myPoolList.data) : 'no data';
                    // my_pool_list_url, my_pool_list_fetch_ok, my_pool_list_fetch_error, my_pool_list_response_code, my_pool_list_response_msg —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—ã—à–µ
                    debugInfo.mempool_has_data = !!mempool;
                    debugInfo.mempool_structure = mempool ? Object.keys(mempool) : 'null';
                    debugInfo.mempool_chain_stats = mempool?.chain_stats ? Object.keys(mempool.chain_stats) : 'null';
                    debugInfo.mempool_mempool_stats = mempool?.mempool_stats
                        ? Object.keys(mempool.mempool_stats)
                        : 'null';
                    debugInfo.runes_data_structure = runesBalanceList
                        ? typeof runesBalanceList === 'object'
                            ? Object.keys(runesBalanceList)
                            : typeof runesBalanceList
                        : 'null';
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±—Ä–∞–Ω—ã debug –¥–ª—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö runes fallback –º–µ—Ç–æ–¥–æ–≤ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
                    // debugInfo.runes_utxo_list_structure = runesUtxoList ? (typeof runesUtxoList === 'object' ? Object.keys(runesUtxoList) : typeof runesUtxoList) : 'null';
                    // debugInfo.runes_summary_structure = runesSummary ? (typeof runesSummary === 'object' ? Object.keys(runesSummary) : typeof runesSummary) : 'null';
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±–∏—Ä–∞–µ–º —Å—Ç—Ä–æ–∫—É "null", –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–π null –∏–ª–∏ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª–µ
                    if (ordinalsData) {
                        debugInfo.ordinals_data_structure =
                            typeof ordinalsData === 'object' ? Object.keys(ordinalsData) : typeof ordinalsData;
                    }
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±—Ä–∞–Ω debug –¥–ª—è ordinalsInscriptions (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±–∏—Ä–∞–µ–º —Å—Ç—Ä–æ–∫—É "null", –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–π null –∏–ª–∏ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª–µ
                    if (ordinalsData !== null && ordinalsData !== undefined) {
                        debugInfo.ordinals_utxo_promise_result = 'has_data';
                    }
                    // debugInfo.ordinals_inscriptions_promise_result = ordinalsInscriptions === null ? 'null' : (ordinalsInscriptions === undefined ? 'undefined' : 'has_data');
                    {
                        let ordinalsInscriptionDataResult = 'has_data';
                        if (ordinalsInscriptionData === null) ordinalsInscriptionDataResult = 'null';
                        else if (ordinalsInscriptionData === undefined) ordinalsInscriptionDataResult = 'undefined';
                        debugInfo.ordinals_inscription_data_promise_result = ordinalsInscriptionDataResult;
                    }
                    debugInfo.utxo_list_type = utxoList
                        ? Array.isArray(utxoList)
                            ? 'array'
                            : typeof utxoList
                        : 'null';
                    {
                        let utxoListLength = 0;
                        if (Array.isArray(utxoList)) utxoListLength = utxoList.length;
                        else if (utxoList?.data && Array.isArray(utxoList.data)) utxoListLength = utxoList.data.length;
                        debugInfo.utxo_list_length = utxoListLength;
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±—Ä–∞–Ω—ã –≤—Å–µ fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥
                    // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å, —ç—Ç–æ –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ –≤ debug
                    const finalGenesisTxData = genesisTxData;

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –î–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
                    // txCount —É–∂–µ –æ–±—ä—è–≤–ª–µ–Ω –≤—ã—à–µ –¥–ª—è genesis –∑–∞–ø—Ä–æ—Å–∞
                    let utxoCount = 0; // –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ debugInfo –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö
                    let nativeBalance = 0;

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ Mempool Fractal API (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) –∏ UniSat Open API (fallback)
                    // 1. UTXO Count - –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å /utxo –∏–∑ Mempool (–ü–†–ò–û–†–ò–¢–ï–¢)
                    if (utxoList) {
                        if (Array.isArray(utxoList)) {
                            utxoCount = utxoList.length;
                            debugInfo.utxo_method = 'mempool_direct_array';
                        } else if (utxoList.data && Array.isArray(utxoList.data)) {
                            utxoCount = utxoList.data.length;
                            debugInfo.utxo_method = 'mempool_direct_data_array';
                        } else if (utxoList.list && Array.isArray(utxoList.list)) {
                            utxoCount = utxoList.list.length;
                            debugInfo.utxo_method = 'mempool_direct_list_array';
                        }
                    }

                    // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥: –µ—Å–ª–∏ –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–∞—Å—á–µ—Ç —á–µ—Ä–µ–∑ stats –∏–∑ Mempool
                    if (utxoCount === 0 && mempool) {
                        let c = {},
                            m = {};

                        if (mempool.chain_stats || mempool.mempool_stats) {
                            c = mempool.chain_stats || {};
                            m = mempool.mempool_stats || {};
                        } else if (mempool.funded_txo_count !== undefined) {
                            c = mempool;
                            m = {};
                        } else if (mempool.data) {
                            c = mempool.data.chain_stats || mempool.data || {};
                            m = mempool.data.mempool_stats || {};
                        }

                        const hasChainStats = c && (c.funded_txo_count !== undefined || c.tx_count !== undefined);
                        const hasMempoolStats = m && (m.funded_txo_count !== undefined || m.tx_count !== undefined);

                        if (hasChainStats || hasMempoolStats) {
                            const chainFunded = Number(c.funded_txo_count || 0);
                            const chainSpent = Number(c.spent_txo_count || 0);
                            const mempoolFunded = Number(m.funded_txo_count || 0);
                            const mempoolSpent = Number(m.spent_txo_count || 0);

                            const funded = chainFunded + mempoolFunded;
                            const spent = chainSpent + mempoolSpent;
                            utxoCount = Math.max(0, funded - spent);

                            debugInfo.utxo_method = 'mempool_calculated_from_stats';
                            debugInfo.mempool_chain_funded = chainFunded;
                            debugInfo.mempool_chain_spent = chainSpent;
                            debugInfo.mempool_mempool_funded = mempoolFunded;
                            debugInfo.mempool_mempool_spent = mempoolSpent;
                            debugInfo.mempool_calculated_funded = funded;
                            debugInfo.mempool_calculated_spent = spent;
                        }

                        txCount = Number(c.tx_count || 0) + Number(m.tx_count || 0);
                        const fundedSum = Number(c.funded_txo_sum || 0) + Number(m.funded_txo_sum || 0);
                        const spentSum = Number(c.spent_txo_sum || 0) + Number(m.spent_txo_sum || 0);
                        nativeBalance = Math.max(0, (fundedSum - spentSum) / 1e8);
                    } else if (mempool) {
                        // –ï—Å–ª–∏ UTXO –ø–æ–ª—É—á–∏–ª–∏ —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å, –≤—Å–µ —Ä–∞–≤–Ω–æ –±–µ—Ä–µ–º tx_count –∏ balance –∏–∑ stats
                        let c = {},
                            m = {};
                        if (mempool.chain_stats || mempool.mempool_stats) {
                            c = mempool.chain_stats || {};
                            m = mempool.mempool_stats || {};
                        }
                        txCount = Number(c.tx_count || 0) + Number(m.tx_count || 0);
                        const fundedSum = Number(c.funded_txo_sum || 0) + Number(m.funded_txo_sum || 0);
                        const spentSum = Number(c.spent_txo_sum || 0) + Number(m.spent_txo_sum || 0);
                        nativeBalance = Math.max(0, (fundedSum - spentSum) / 1e8);
                    }

                    // Fallback: UniSat Balance API (–µ—Å–ª–∏ Mempool –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
                    if (utxoCount === 0 && unisatBalance?.data) {
                        utxoCount = Number(unisatBalance.data.utxoCount || 0);
                        debugInfo.utxo_method = 'unisat_balance_fallback';
                    }
                    if (nativeBalance === 0 && unisatBalance?.data) {
                        nativeBalance = parseFloat(unisatBalance.data.satoshi || 0) / 100000000; // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º satoshi –≤ BTC
                        debugInfo.native_balance_source = 'unisat_balance_fallback';
                    } else if (nativeBalance > 0) {
                        debugInfo.native_balance_source = 'mempool_stats';
                    }
                    debugInfo.utxo_count_source = debugInfo.utxo_method || 'unknown';
                    debugInfo.ordinals_count_from_balance = Number(unisatBalance?.data?.inscriptionUtxoCount || 0);

                    // 2. History API - total —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (–ü–†–ò–û–†–ò–¢–ï–¢: Uniscan Summary, fallback: UniSat History)
                    if (uniscanSummary?.data) {
                        txCount = Number(
                            uniscanSummary.data.totalTransactionCount || uniscanSummary.data.tx_count || 0
                        );
                        debugInfo.tx_count_source = 'uniscan_summary';
                    } else if (unisatHistory?.data?.total) {
                        txCount = Number(unisatHistory.data.total);
                        debugInfo.tx_count_source = 'unisat_history';
                    } else if (unisatHistory?.data) {
                        // Fallback: –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥—Ä—É–≥–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ–ª—è
                        txCount = Number(unisatHistory.data.total || unisatHistory.data.count || 0);
                        debugInfo.tx_count_source = 'unisat_history_fallback';
                        debugInfo.tx_count_debug = Object.keys(unisatHistory.data);
                    } else {
                        // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ï—Å–ª–∏ history –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è, –ø—Ä–æ–±—É–µ–º –∑–∞–ø—Ä–æ—Å–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è total
                        debugInfo.tx_count_source = 'fallback_attempt';
                        debugInfo.tx_count_error = 'History API not loaded - will try to fetch total separately';
                        try {
                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã cursor –∏ size (–ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API)
                            const historyRes = await fetch(
                                `${FRACTAL_BASE}/indexer/address/${address}/history?cursor=0&size=1`,
                                {
                                    headers: upstreamHeaders
                                }
                            );
                            if (historyRes.ok) {
                                const historyData = await historyRes.json();
                                if (historyData?.data?.total) {
                                    txCount = Number(historyData.data.total);
                                    debugInfo.tx_count_source = 'fallback_separate_request';
                                }
                            }
                        } catch (e) {
                            debugInfo.tx_count_fallback_error = e.message;
                        }
                    }

                    // 3. BRC-20 Summary API - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ BRC-20 —Ç–æ–∫–µ–Ω–æ–≤ (–∫–æ—à–µ–ª–µ–∫ + InSwap)
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –°—á–∏—Ç–∞–µ–º BRC-20 –∏ –Ω–∞ –∫–æ—à–µ–ª—å–∫–µ, –∏ –≤ InSwap (–æ–±—ä–µ–¥–∏–Ω—è–µ–º)
                    let brc20Count = 0;
                    const walletBrc20Tickers = new Set();
                    const inswapBrc20Tickers = new Set();

                    // BRC-20 –Ω–∞ –∫–æ—à–µ–ª—å–∫–µ (UniSat)
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞ (brc20-prog –∏ brc20)
                    if (unisatBrc20Summary?.data) {
                        let tokensList = [];

                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞
                        if (unisatBrc20Summary.data.detail && Array.isArray(unisatBrc20Summary.data.detail)) {
                            tokensList = unisatBrc20Summary.data.detail;
                        } else if (unisatBrc20Summary.data.list && Array.isArray(unisatBrc20Summary.data.list)) {
                            tokensList = unisatBrc20Summary.data.list;
                        } else if (Array.isArray(unisatBrc20Summary.data)) {
                            tokensList = unisatBrc20Summary.data;
                        }

                        if (tokensList.length > 0) {
                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –°—á–∏—Ç–∞–µ–º –í–°–ï —Ç–æ–∫–µ–Ω—ã –∏–∑ detail, –¥–∞–∂–µ —Å –±–∞–ª–∞–Ω—Å–æ–º 0 (–Ω–∞–ø—Ä–∏–º–µ—Ä, MULTIBIT)
                            // –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–¥—Å—á–µ—Ç–∞ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ BRC-20 —Ç–æ–∫–µ–Ω–æ–≤
                            tokensList.forEach(t => {
                                const ticker = (t.ticker || t.tick || t.symbol || '').toUpperCase();
                                if (ticker) {
                                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ —Ç–æ–∫–µ–Ω—ã, –Ω–µ —Ç–æ–ª—å–∫–æ —Å –±–∞–ª–∞–Ω—Å–æ–º > 0
                                    // –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–¥—Å—á–µ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, MULTIBIT –º–æ–∂–µ—Ç –±—ã—Ç—å —Å –±–∞–ª–∞–Ω—Å–æ–º 0)
                                    walletBrc20Tickers.add(ticker);
                                }
                            });
                            debugInfo.brc20_wallet_count = walletBrc20Tickers.size;
                            debugInfo.brc20_count_source = 'unisat_brc20_summary_wallet';
                            debugInfo.brc20_data_exists = true;
                            debugInfo.brc20_data_structure =
                                tokensList.length > 0 ? Object.keys(tokensList[0]) : 'empty';
                            debugInfo.brc20_detail_length = tokensList.length;
                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –°—á–∏—Ç–∞–µ–º —Ç–æ–∫–µ–Ω—ã —Å –±–∞–ª–∞–Ω—Å–æ–º > 0 –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                            const tokensWithBalance = tokensList.filter(t => {
                                const bal =
                                    parseFloat(t.availableBalance || t.balance || 0) +
                                    parseFloat(t.transferableBalance || 0);
                                return bal > 0;
                            });
                            debugInfo.brc20_with_balance = tokensWithBalance.length;
                        } else {
                            debugInfo.brc20_wallet_count = 0;
                            debugInfo.brc20_data_exists = false;
                            debugInfo.brc20_data_error = 'BRC-20 summary data exists but no tokens list found';
                        }
                    } else {
                        // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: Fallback –¥–ª—è BRC-20 —Å –∫–æ—à–µ–ª—å–∫–∞ - –µ—Å–ª–∏ summary –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è, –ø—Ä–æ–±—É–µ–º –∑–∞–ø—Ä–æ—Å–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
                        debugInfo.brc20_wallet_count = 0;
                        debugInfo.brc20_wallet_error =
                            'BRC-20 summary not loaded from UniSat API, will try separate request';
                        // –ü—Ä–æ–±—É–µ–º –∑–∞–ø—Ä–æ—Å–∏—Ç—å BRC-20 –æ—Ç–¥–µ–ª—å–Ω–æ
                        try {
                            const brc20Res = await fetch(
                                `${FRACTAL_BASE}/indexer/address/${address}/brc20/summary?start=0&limit=500&tick_filter=24&exclude_zero=true`,
                                {
                                    headers: upstreamHeaders
                                }
                            );

                            if (brc20Res.ok) {
                                const brc20Data = await brc20Res.json();
                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: brc20-prog/summary –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –¥—Ä—É–≥—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö
                                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞
                                let tokensList = [];

                                if (brc20Data?.data?.detail && Array.isArray(brc20Data.data.detail)) {
                                    tokensList = brc20Data.data.detail;
                                } else if (brc20Data?.data?.list && Array.isArray(brc20Data.data.list)) {
                                    tokensList = brc20Data.data.list;
                                } else if (brc20Data?.data && Array.isArray(brc20Data.data)) {
                                    tokensList = brc20Data.data;
                                } else if (Array.isArray(brc20Data)) {
                                    tokensList = brc20Data;
                                }

                                if (tokensList.length > 0) {
                                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –°—á–∏—Ç–∞–µ–º –í–°–ï —Ç–æ–∫–µ–Ω—ã –∏–∑ detail, –¥–∞–∂–µ —Å –±–∞–ª–∞–Ω—Å–æ–º 0 (–Ω–∞–ø—Ä–∏–º–µ—Ä, MULTIBIT)
                                    tokensList.forEach(t => {
                                        const ticker = (t.ticker || t.tick || t.symbol || '').toUpperCase();
                                        if (ticker) {
                                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ —Ç–æ–∫–µ–Ω—ã, –Ω–µ —Ç–æ–ª—å–∫–æ —Å –±–∞–ª–∞–Ω—Å–æ–º > 0
                                            walletBrc20Tickers.add(ticker);
                                        }
                                    });
                                    debugInfo.brc20_wallet_count = walletBrc20Tickers.size;
                                    debugInfo.brc20_count_source = 'fallback_separate_request';
                                    debugInfo.brc20_fallback_api_used = 'brc20';
                                    debugInfo.brc20_fallback_structure =
                                        tokensList.length > 0 ? Object.keys(tokensList[0]) : 'empty';
                                }
                            }
                        } catch (e) {
                            debugInfo.brc20_wallet_fallback_error = e.message;
                        }
                    }

                    // BRC-20 –≤ InSwap (–∏–∑ all_balance)
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£—á–∏—Ç—ã–≤–∞–µ–º –í–°–ï —Ç–æ–∫–µ–Ω—ã –∏–∑ all_balance, –≤–∫–ª—é—á–∞—è sFB
                    if (allBalance?.data) {
                        Object.keys(allBalance.data).forEach(key => {
                            if (['lp_positions', 'positions', 'total_usd'].includes(key)) return;
                            const tokenData = allBalance.data[key];
                            if (typeof tokenData !== 'object' || !tokenData) return;
                            const bal = tokenData.balance || tokenData;
                            let balance = 0;
                            if (typeof bal === 'object' && bal !== null) {
                                balance = parseFloat(
                                    bal.swap || bal.module || bal.pendingSwap || bal.pendingAvailable || 0
                                );
                            } else {
                                balance = parseFloat(bal || 0);
                            }
                            if (balance > 0) {
                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Ç–∏–∫–µ—Ä (—É–±–∏—Ä–∞–µ–º ___000, –ø—Ä–∏–≤–æ–¥–∏–º –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É)
                                const ticker = key.replace(/___\d+$/, '').toUpperCase();
                                if (ticker) {
                                    inswapBrc20Tickers.add(ticker);
                                    debugInfo[`brc20_inswap_${ticker}`] = balance;
                                }
                            }
                        });
                        debugInfo.brc20_inswap_count = inswapBrc20Tickers.size;
                        debugInfo.brc20_inswap_tickers = Array.from(inswapBrc20Tickers);
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û–±—ä–µ–¥–∏–Ω—è–µ–º: –∫–æ—à–µ–ª–µ–∫ + InSwap (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–∏–∫–µ—Ä—ã)
                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Ç–∏–∫–µ—Ä—ã –ø–µ—Ä–µ–¥ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º (–∫–∞–∫ –≤ backup –≤–µ—Ä—Å–∏–∏)
                    // normalizeTicker —É–∂–µ –æ–±—ä—è–≤–ª–µ–Ω–∞ –≤—ã—à–µ

                    // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Ç–∏–∫–µ—Ä—ã –∏–∑ –∫–æ—à–µ–ª—å–∫–∞
                    const normalizedWalletTickers = new Set();
                    walletBrc20Tickers.forEach(t => {
                        const normalized = normalizeTicker(t);
                        if (normalized) normalizedWalletTickers.add(normalized);
                    });

                    // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Ç–∏–∫–µ—Ä—ã –∏–∑ InSwap –∏ –¥–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –∫–æ—à–µ–ª—å–∫–µ
                    const inswapAddedTickers = [];
                    const inswapSkippedTickers = [];
                    inswapBrc20Tickers.forEach(t => {
                        const normalized = normalizeTicker(t);
                        if (normalized) {
                            if (!normalizedWalletTickers.has(normalized)) {
                                normalizedWalletTickers.add(normalized);
                                inswapAddedTickers.push({ original: t, normalized });
                            } else {
                                inswapSkippedTickers.push({ original: t, normalized, reason: 'already_in_wallet' });
                            }
                        }
                    });

                    brc20Count = normalizedWalletTickers.size;
                    debugInfo.brc20_count_total = brc20Count;
                    debugInfo.brc20_count_combined = true;
                    debugInfo.brc20_final_list = Array.from(normalizedWalletTickers).sort();
                    debugInfo.brc20_wallet_tickers_raw = Array.from(walletBrc20Tickers).map(t => ({
                        raw: t,
                        normalized: normalizeTicker(t)
                    }));
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–∫–µ—Ä—ã –∏–∑ –∫–æ—à–µ–ª—å–∫–∞ –î–û –¥–æ–±–∞–≤–ª–µ–Ω–∏—è InSwap
                    const walletNormalizedBeforeInSwap = Array.from(normalizedWalletTickers).sort();
                    debugInfo.brc20_wallet_tickers_normalized = walletNormalizedBeforeInSwap;
                    debugInfo.brc20_wallet_tickers_normalized_count = walletNormalizedBeforeInSwap.length;
                    debugInfo.brc20_inswap_tickers_raw = Array.from(inswapBrc20Tickers).sort();
                    debugInfo.brc20_inswap_added_tickers = inswapAddedTickers;
                    debugInfo.brc20_inswap_skipped_tickers = inswapSkippedTickers;
                    debugInfo.brc20_wallet_count_before_normalize = walletBrc20Tickers.size;
                    debugInfo.brc20_inswap_count_before_normalize = inswapBrc20Tickers.size;

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–±–∞–≤–ª—è–µ–º –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö —Ç–æ–∫–µ–Ω–∞—Ö –∏–∑ all_balance –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                    if (allBalance?.data) {
                        const allCheckedTickers = [];
                        Object.keys(allBalance.data).forEach(key => {
                            if (['lp_positions', 'positions', 'total_usd'].includes(key)) return;
                            const tokenData = allBalance.data[key];
                            if (typeof tokenData !== 'object' || !tokenData) return;
                            const bal = tokenData.balance || tokenData;
                            let balance = 0;
                            if (typeof bal === 'object' && bal !== null) {
                                balance = parseFloat(
                                    bal.swap || bal.module || bal.pendingSwap || bal.pendingAvailable || 0
                                );
                            } else {
                                balance = parseFloat(bal || 0);
                            }
                            const normalized = normalizeTicker(key.replace(/___\d+$/, '').toUpperCase());
                            const inWallet = normalizedWalletTickers.has(normalized);
                            allCheckedTickers.push({ original: key, normalized, balance, inWallet });
                        });
                        debugInfo.brc20_inswap_all_checked = allCheckedTickers;
                    }

                    // 4. Runes Balance List API - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—É–Ω
                    // –ü–†–ò–û–†–ò–¢–ï–¢: Uniscan Summary API (–∫–∞–∫ –≤ –∫–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
                    let runesCount = 0;
                    if (uniscanSummary?.data?.runes_count !== undefined) {
                        runesCount = Number(uniscanSummary.data.runes_count || 0);
                        debugInfo.runes_count_source = 'uniscan_summary';
                    } else if (
                        uniscanSummary?.data?.assets?.RunesList &&
                        Array.isArray(uniscanSummary.data.assets.RunesList)
                    ) {
                        runesCount = uniscanSummary.data.assets.RunesList.length;
                        debugInfo.runes_count_source = 'uniscan_summary_runes_list';
                    } else if (unisatRunes?.data) {
                        // Fallback: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞ UniSat API
                        if (Array.isArray(unisatRunes.data)) {
                            runesCount = unisatRunes.data.length;
                        } else if (unisatRunes.data.detail && Array.isArray(unisatRunes.data.detail)) {
                            runesCount = unisatRunes.data.detail.length;
                        } else if (unisatRunes.data.list && Array.isArray(unisatRunes.data.list)) {
                            runesCount = unisatRunes.data.list.length;
                        } else if (unisatRunes.data.total) {
                            runesCount = Number(unisatRunes.data.total) || 0;
                        }
                        if (runesCount > 0) {
                            debugInfo.runes_count_source = 'unisat_runes_balance_list';
                        }
                    } else {
                        // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: Fallback –¥–ª—è —Ä—É–Ω - –µ—Å–ª–∏ UniSat API –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è, –ø—Ä–æ–±—É–µ–º –∑–∞–ø—Ä–æ—Å–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
                        debugInfo.runes_count_source = 'fallback_attempt';
                        debugInfo.runes_error =
                            'Runes data not loaded - UniSat API returned no data, will try separate request';
                        // –ü—Ä–æ–±—É–µ–º –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Ä—É–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ
                        try {
                            const runesRes = await fetch(
                                `${FRACTAL_BASE}/indexer/address/${address}/runes/balance-list?start=0&limit=100`,
                                {
                                    headers: upstreamHeaders
                                }
                            );
                            if (runesRes.ok) {
                                const runesData = await runesRes.json();
                                if (runesData?.data) {
                                    if (Array.isArray(runesData.data)) {
                                        runesCount = runesData.data.length;
                                    } else if (runesData.data.detail && Array.isArray(runesData.data.detail)) {
                                        runesCount = runesData.data.detail.length;
                                    } else if (runesData.data.total) {
                                        runesCount = Number(runesData.data.total) || 0;
                                    }
                                    if (runesCount > 0) {
                                        debugInfo.runes_count_source = 'fallback_separate_request';
                                    }
                                }
                            }
                        } catch (e) {
                            debugInfo.runes_fallback_error = e.message;
                        }
                    }

                    // 5. Total inscriptions (–≤—Å–µ –∏–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏) ‚Äî –Ω—É–∂–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ fallback.
                    // –í–ê–ñ–ù–û: ordinals_count –Ω–∏–∂–µ ‚Äî —ç—Ç–æ –ù–ï total, –∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Å–∫—Ä–∏–ø—Ü–∏–π, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º.
                    let totalInscriptionsCount = 0;
                    {
                        const d0 =
                            ordinalsInscriptionData && typeof ordinalsInscriptionData === 'object'
                                ? ordinalsInscriptionData
                                : null;
                        const d1 = d0 && typeof d0.data === 'object' && d0.data ? d0.data : null;
                        const d2 = d1 && typeof d1.data === 'object' && d1.data ? d1.data : null;
                        const totalRaw =
                            (d2 ? d2.total : undefined) ??
                            (d2 ? d2.totalConfirmed : undefined) ??
                            (d1 ? d1.total : undefined) ??
                            (d1 ? d1.totalConfirmed : undefined) ??
                            (d0 ? d0.total : undefined) ??
                            0;
                        const total = Number(totalRaw);
                        if (Number.isFinite(total) && total >= 0) {
                            totalInscriptionsCount = Math.max(0, Math.floor(total));
                            debugInfo.total_inscriptions_count_source = 'unisat_inscription_data_total';
                        } else {
                            const list =
                                (d2 ? d2.inscription || d2.inscriptions || d2.list : null) ||
                                (d1 ? d1.inscription || d1.inscriptions || d1.list : null) ||
                                (Array.isArray(d1) ? d1 : Array.isArray(d0) ? d0 : []);
                            totalInscriptionsCount = Array.isArray(list) ? list.length : 0;
                            debugInfo.total_inscriptions_count_source = 'unisat_inscription_data_list_length';
                        }
                    }

                    // –ö–æ–ª-–≤–æ –∏–Ω—Å–∫—Ä–∏–ø—Ü–∏–π, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º (—Å—É–º–º–∞ –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º)
                    let ordinalsCount = 0;
                    let ordinalsByCollection = null;

                    // UniSat Market API collection_summary (—Ç—Ä–µ–±—É–µ—Ç API_KEY)
                    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞–∫ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫: total_collections = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–ª–µ–∫—Ü–∏–π (–Ω–µ —Å—É–º–º–∞ –∏–Ω—Å–∫—Ä–∏–ø—Ü–∏–π).
                    // –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –¥–µ—Ç–µ–∫—Ç–∏–º –≤–ª–∞–¥–µ–Ω–∏–µ fennec_boxes –∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ—á–Ω—ã–π fennecBoxesCount.
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±—Ä–∞–Ω–æ —É—Å–ª–æ–≤–∏–µ !(InscriptionsList) - –≤—Å–µ–≥–¥–∞ –ø—ã—Ç–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–ª—è ordinals_count
                    let collectionSummaryAgg = null;
                    if (API_KEY) {
                        try {
                            const summaryUrl =
                                'https://open-api-fractal.unisat.io/v3/market/collection/auction/collection_summary';
                            let cursor = '';
                            let page = 0;
                            let sawAny = false;
                            let totalCollectionsCount = 0;
                            const collectionIdSet = new Set();
                            const collectionHoldingsById = {};
                            let sawFennecBoxes = false;
                            let fennecBoxesTotal = 0;
                            let fennecBoxesFromHolding = false;

                            while (page < (__fastMode ? 1 : 3)) {
                                const cacheKey = `collection_summary_${address}_${cursor || 'start'}_${page}`;
                                const res = await safeFetch(
                                    () =>
                                        fetch(summaryUrl, {
                                            method: 'POST',
                                            headers: {
                                                ...unisatApiHeaders,
                                                ...authHeaders(),
                                                'Content-Type': 'application/json'
                                            },
                                            body: JSON.stringify(
                                                cursor ? { firstCollectionId: cursor, address } : { address }
                                            )
                                        }),
                                    {
                                        isUniSat: true,
                                        useCache: true,
                                        cacheKey,
                                        retryOn429: !__fastMode
                                    }
                                );

                                let list = [];
                                if (Array.isArray(res?.data?.list)) list = res.data.list;
                                else if (Array.isArray(res?.data?.data?.list)) list = res.data.data.list;
                                else if (Array.isArray(res?.data)) list = res.data;
                                else if (Array.isArray(res?.list)) list = res.list;
                                if (!list.length) break;
                                sawAny = true;

                                for (const it of list) {
                                    // Holdings per collection (–¥–ª—è ordinals_count –∏ breakdown)
                                    const holdingCandidate = it?.holding ?? it?.holdings;
                                    const holdingValue = (() => {
                                        const v =
                                            holdingCandidate ??
                                            it?.count ??
                                            it?.items ??
                                            it?.itemCount ??
                                            it?.inscriptionCount ??
                                            it?.inscription_count ??
                                            it?.total ??
                                            0;
                                        if (typeof v === 'number') return v;
                                        if (typeof v === 'string') {
                                            const n = Number(v.replace(/,/g, '').trim());
                                            return Number.isFinite(n) ? n : 0;
                                        }
                                        if (v && typeof v === 'object') {
                                            const inner =
                                                v.holding ??
                                                v.holdings ??
                                                v.count ??
                                                v.items ??
                                                v.itemCount ??
                                                v.inscriptionCount ??
                                                v.inscription_count ??
                                                v.total ??
                                                v.amount ??
                                                0;
                                            if (typeof inner === 'number') return inner;
                                            if (typeof inner === 'string') {
                                                const n = Number(inner.replace(/,/g, '').trim());
                                                return Number.isFinite(n) ? n : 0;
                                            }
                                        }
                                        return 0;
                                    })();
                                    const itemTotal = Number(holdingValue);
                                    const cid = String(
                                        it?.collectionId ??
                                            it?.collection_id ??
                                            it?.id ??
                                            it?.collection?.collectionId ??
                                            it?.collection?.collection_id ??
                                            it?.collection?.id ??
                                            it?.collectionInfo?.collectionId ??
                                            it?.collectionInfo?.collection_id ??
                                            it?.collectionInfo?.id ??
                                            ''
                                    ).trim();
                                    const cidNorm = String(cid).toLowerCase();
                                    const isBoxes =
                                        cidNorm === 'fennec_boxes' ||
                                        (cidNorm.includes('fennec') && cidNorm.includes('box'));

                                    if (cid) {
                                        collectionIdSet.add(cid);
                                        totalCollectionsCount = collectionIdSet.size;

                                        let countNorm = itemTotal;
                                        if (isBoxes) {
                                            if (
                                                (holdingCandidate === null || holdingCandidate === undefined) &&
                                                Number.isFinite(countNorm) &&
                                                countNorm >= 20 &&
                                                countNorm % 20 === 0
                                            ) {
                                                countNorm = countNorm / 20;
                                            }
                                        }
                                        const countInt = Number.isFinite(countNorm)
                                            ? Math.max(0, Math.floor(countNorm))
                                            : 0;
                                        if (countInt > 0) {
                                            collectionHoldingsById[cid] = Math.max(
                                                Number(collectionHoldingsById[cid] || 0) || 0,
                                                countInt
                                            );
                                        }
                                    }
                                    if (cid === 'fennec_boxes') {
                                        sawFennecBoxes = true;
                                        if (Number.isFinite(itemTotal) && itemTotal > 0) {
                                            fennecBoxesTotal = Math.max(fennecBoxesTotal, itemTotal);
                                            if (holdingCandidate !== null && holdingCandidate !== undefined) {
                                                fennecBoxesFromHolding = true;
                                            }
                                        }
                                    }
                                }

                                const last = list[list.length - 1];
                                const nextCursor = String(
                                    last?.collectionId ?? last?.collection_id ?? last?.id ?? ''
                                ).trim();
                                if (!nextCursor || nextCursor === cursor) break;
                                cursor = nextCursor;
                                page++;
                            }

                            const rawBoxes =
                                Number.isFinite(fennecBoxesTotal) && fennecBoxesTotal > 0 ? fennecBoxesTotal : 1;
                            const normBoxes =
                                !fennecBoxesFromHolding && rawBoxes >= 20 && rawBoxes % 20 === 0
                                    ? rawBoxes / 20
                                    : rawBoxes;
                            const fennecBoxesCountAgg = sawFennecBoxes
                                ? Math.max(1, Math.floor(Number(normBoxes) || 1))
                                : 0;

                            collectionSummaryAgg = {
                                sawAny,
                                pages: sawAny ? page + 1 : 0,
                                totalItems: totalCollectionsCount,
                                hasFennecBoxes: sawFennecBoxes,
                                fennecBoxesCount: fennecBoxesCountAgg,
                                holdingsByCollection: collectionHoldingsById,
                                holdingsTotal: Object.values(collectionHoldingsById).reduce(
                                    (a, b) => a + (Number(b) || 0),
                                    0
                                )
                            };
                            debugInfo.collection_summary_saw_any = sawAny;
                            debugInfo.collection_summary_pages = collectionSummaryAgg.pages;
                            debugInfo.collection_summary_total_collections = totalCollectionsCount;
                            debugInfo.collection_summary_has_fennec_boxes = sawFennecBoxes;
                            debugInfo.collection_summary_fennec_boxes_count = fennecBoxesCountAgg;
                            debugInfo.collection_summary_holdings_total = collectionSummaryAgg.holdingsTotal;
                        } catch (e) {
                            debugInfo.collection_summary_error = e?.message || String(e);
                        }
                    }

                    let totalCollections = null;
                    let ordinalsCollectionsTotal = null;
                    let ordinalsCollectionsById = null;
                    let ordinalsCollectionsSource = null;
                    try {
                        const ids = new Set();
                        const perCollection = {};
                        const listRaw = uniscanSummary?.data?.assets?.InscriptionsList;
                        if (Array.isArray(listRaw)) {
                            const asId = v => {
                                if (typeof v === 'string') return v.trim();
                                if (typeof v === 'number' && Number.isFinite(v)) return String(v);
                                return '';
                            };
                            for (const it of listRaw) {
                                const collectionObj =
                                    it?.collection && typeof it.collection === 'object' ? it.collection : null;
                                const collectionInfoObj =
                                    it?.collectionInfo && typeof it.collectionInfo === 'object'
                                        ? it.collectionInfo
                                        : null;
                                const metaObj = it?.meta && typeof it.meta === 'object' ? it.meta : null;
                                const parentObj = it?.parent && typeof it.parent === 'object' ? it.parent : null;

                                const cid =
                                    asId(it?.collectionId) ||
                                    asId(it?.collection_id) ||
                                    asId(it?.collectionInscriptionId) ||
                                    asId(it?.collection_inscription_id) ||
                                    asId(it?.collectionParent) ||
                                    asId(it?.collection_parent) ||
                                    asId(it?.collectionRef) ||
                                    asId(it?.collection_ref) ||
                                    asId(
                                        metaObj &&
                                            (metaObj.collectionId ||
                                                metaObj.collection_id ||
                                                metaObj.inscriptionId ||
                                                metaObj.inscription_id)
                                    ) ||
                                    asId(
                                        collectionInfoObj &&
                                            (collectionInfoObj.collectionId ||
                                                collectionInfoObj.collection_id ||
                                                collectionInfoObj.inscriptionId ||
                                                collectionInfoObj.inscription_id ||
                                                collectionInfoObj.id)
                                    ) ||
                                    asId(
                                        collectionObj &&
                                            (collectionObj.collectionId ||
                                                collectionObj.collection_id ||
                                                collectionObj.id)
                                    ) ||
                                    asId(it?.parentId) ||
                                    asId(it?.parent_inscription_id) ||
                                    asId(it?.parentInscriptionId) ||
                                    asId(
                                        parentObj &&
                                            (parentObj.inscriptionId || parentObj.inscription_id || parentObj.id)
                                    ) ||
                                    asId(it?.parent) ||
                                    asId(it?.collection);

                                if (cid) ids.add(cid);
                                if (cid) {
                                    const k = String(cid);
                                    perCollection[k] = (Number(perCollection[k] || 0) || 0) + 1;
                                }
                            }
                            if (ids.size > 0) {
                                debugInfo.total_collections_collections_unique = ids.size;
                                debugInfo.total_collections_collections_unique_source =
                                    'uniscan_inscriptions_unique_parent';
                                if (
                                    !(
                                        typeof totalCollections === 'number' &&
                                        Number.isFinite(totalCollections) &&
                                        totalCollections > 0
                                    )
                                ) {
                                    totalCollections = ids.size;
                                    debugInfo.total_collections_source = 'uniscan_inscriptions_unique_parent';
                                }
                            }

                            const ordTotal = Object.values(perCollection).reduce((a, b) => a + (Number(b) || 0), 0);
                            if (ordTotal > 0) {
                                ordinalsCollectionsTotal = ordTotal;
                                ordinalsCollectionsById = perCollection;
                                ordinalsCollectionsSource = 'uniscan_inscriptions_list_collection_memberships';
                            }
                        }

                        if (!(typeof ordinalsCollectionsTotal === 'number' && ordinalsCollectionsTotal > 0)) {
                            const d0 =
                                ordinalsInscriptionData && typeof ordinalsInscriptionData === 'object'
                                    ? ordinalsInscriptionData
                                    : null;
                            const d1 = d0 && typeof d0.data === 'object' && d0.data ? d0.data : null;
                            const d2 = d1 && typeof d1.data === 'object' && d1.data ? d1.data : null;
                            const list2 =
                                (d2 ? d2.inscription || d2.inscriptions || d2.list : null) ||
                                (d1 ? d1.inscription || d1.inscriptions || d1.list : null) ||
                                (Array.isArray(d1) ? d1 : Array.isArray(d0) ? d0 : []);
                            if (Array.isArray(list2) && list2.length > 0) {
                                const ids2 = new Set();
                                const per2 = {};
                                const asId2 = v => {
                                    if (typeof v === 'string') return v.trim();
                                    if (typeof v === 'number' && Number.isFinite(v)) return String(v);
                                    return '';
                                };
                                for (const it of list2) {
                                    const collectionObj =
                                        it?.collection && typeof it.collection === 'object' ? it.collection : null;
                                    const cid =
                                        asId2(it?.collectionId) ||
                                        asId2(it?.collection_id) ||
                                        asId2(it?.collectionInscriptionId) ||
                                        asId2(it?.collection_inscription_id) ||
                                        asId2(
                                            collectionObj &&
                                                (collectionObj.collectionId ||
                                                    collectionObj.collection_id ||
                                                    collectionObj.id)
                                        ) ||
                                        asId2(it?.parentInscriptionId) ||
                                        asId2(it?.parent_inscription_id) ||
                                        asId2(it?.parent);

                                    if (cid) {
                                        ids2.add(cid);
                                        const k = String(cid);
                                        per2[k] = (Number(per2[k] || 0) || 0) + 1;
                                    }
                                }

                                const ordTotal2 = Object.values(per2).reduce((a, b) => a + (Number(b) || 0), 0);
                                if (ordTotal2 > 0) {
                                    ordinalsCollectionsTotal = ordTotal2;
                                    ordinalsCollectionsById = per2;
                                    ordinalsCollectionsSource = 'unisat_inscription_data_collection_memberships';
                                    if (
                                        !(
                                            typeof totalCollections === 'number' &&
                                            Number.isFinite(totalCollections) &&
                                            totalCollections > 0
                                        )
                                    ) {
                                        totalCollections = ids2.size;
                                        debugInfo.total_collections_source =
                                            'unisat_inscription_data_collection_memberships';
                                    }
                                }
                            }
                        }
                    } catch (e) {
                        debugInfo.total_collections_error = e?.message || String(e);
                    }

                    // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è ordinals_count: holdings (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ) -> list memberships.
                    if (
                        collectionSummaryAgg &&
                        collectionSummaryAgg.holdingsByCollection &&
                        typeof collectionSummaryAgg.holdingsTotal === 'number' &&
                        Number.isFinite(collectionSummaryAgg.holdingsTotal) &&
                        collectionSummaryAgg.holdingsTotal > 0 &&
                        Object.keys(collectionSummaryAgg.holdingsByCollection).length > 0
                    ) {
                        ordinalsCollectionsTotal = Math.max(0, Math.floor(collectionSummaryAgg.holdingsTotal));
                        ordinalsCollectionsById = collectionSummaryAgg.holdingsByCollection;
                        ordinalsCollectionsSource = 'unisat_market_collection_summary_holdings';
                    }

                    // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: UniSat collection_summary -> —Å—É–º–º–∞ total
                    if (
                        !(
                            typeof totalCollections === 'number' &&
                            Number.isFinite(totalCollections) &&
                            totalCollections > 0
                        ) &&
                        collectionSummaryAgg &&
                        typeof collectionSummaryAgg.totalItems === 'number' &&
                        Number.isFinite(collectionSummaryAgg.totalItems) &&
                        collectionSummaryAgg.totalItems > 0
                    ) {
                        totalCollections = Math.floor(collectionSummaryAgg.totalItems);
                        debugInfo.total_collections_source = 'unisat_market_collection_summary_total_sum';
                        debugInfo.total_collections_pages = collectionSummaryAgg.pages;
                    }

                    // Fallback: UniSat Collection Indexer (—Ç—Ä–µ–±—É–µ—Ç API_KEY)
                    // Docs: /v1/collection-indexer/address/{address}/collection/list
                    if (
                        !(
                            typeof totalCollections === 'number' &&
                            Number.isFinite(totalCollections) &&
                            totalCollections > 0
                        ) &&
                        API_KEY
                    ) {
                        try {
                            requireUniSatKey();
                            const addrEnc = encodeURIComponent(address);
                            const endpoints = [
                                `${FRACTAL_BASE}/collection-indexer/address/${addrEnc}/collection/list`,
                                `${UNISAT_BASE}/collection-indexer/address/${addrEnc}/collection/list`
                            ];
                            for (let i = 0; i < endpoints.length; i++) {
                                const endpointBase = endpoints[i];
                                const limit = 100;
                                let start = 0;
                                let page = 0;
                                let totalCollectionsCount = 0;
                                let totalRows = null;

                                while (page < (__fastMode ? 2 : 10)) {
                                    const cacheKey = `collection_indexer_${address}_${endpointBase}_${start}_${page}`;
                                    const res = await safeFetch(
                                        () =>
                                            fetch(endpointBase, {
                                                method: 'GET',
                                                headers: upstreamHeaders
                                            }),
                                        {
                                            isUniSat: true,
                                            useCache: true,
                                            cacheKey,
                                            retryOn429: !__fastMode
                                        }
                                    );

                                    let list = [];
                                    if (Array.isArray(res?.data?.list)) list = res.data.list;
                                    else if (Array.isArray(res?.data)) list = res.data;
                                    else if (Array.isArray(res?.list)) list = res.list;
                                    if (!list.length) break;

                                    // Count collections, not items in collections
                                    totalCollectionsCount += list.length;

                                    if (page === 0) {
                                        const totalRaw = res?.data?.total ?? res?.total;
                                        const total = Number(totalRaw);
                                        totalRows = Number.isFinite(total) && total > 0 ? Math.floor(total) : null;
                                    }

                                    if (Number.isFinite(totalRows) && totalRows > 0 && start + list.length >= totalRows)
                                        break;
                                    if (list.length < limit) break;

                                    start += list.length;
                                    page++;
                                }

                                // Prefer totalRows from API if available, otherwise use counted collections
                                if (Number.isFinite(totalRows) && totalRows > 0) {
                                    totalCollections = totalRows;
                                    debugInfo.total_collections_source = 'unisat_collection_indexer_total';
                                    debugInfo.total_collections_endpoint = endpointBase;
                                    debugInfo.total_collections_pages = page + 1;
                                    break;
                                } else if (totalCollectionsCount > 0) {
                                    totalCollections = Math.floor(totalCollectionsCount);
                                    debugInfo.total_collections_source = 'unisat_collection_indexer_count';
                                    debugInfo.total_collections_endpoint = endpointBase;
                                    debugInfo.total_collections_pages = page + 1;
                                    break;
                                }
                            }
                        } catch (e) {
                            debugInfo.total_collections_collection_indexer_error = e?.message || String(e);
                        }
                    }

                    // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫: UniSat Market API collection_summary
                    // –¢—Ä–µ–±—É–µ—Ç—Å—è API_KEY. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–ª–ª–µ–∫—Ü–∏–π —É –∞–¥—Ä–µ—Å–∞.
                    if (
                        !(
                            typeof totalCollections === 'number' &&
                            Number.isFinite(totalCollections) &&
                            totalCollections > 0
                        ) &&
                        API_KEY &&
                        !(collectionSummaryAgg && collectionSummaryAgg.sawAny)
                    ) {
                        try {
                            const summaryUrl =
                                'https://open-api-fractal.unisat.io/v3/market/collection/auction/collection_summary';
                            let cursor = '';
                            let page = 0;
                            let sawProgress = false;
                            let totalCollectionsCount = 0;

                            while (page < (__fastMode ? 2 : 20)) {
                                const cacheKey = `collection_summary_${address}_${cursor || 'start'}_${page}`;
                                const res = await safeFetch(
                                    () =>
                                        fetch(summaryUrl, {
                                            method: 'POST',
                                            headers: {
                                                ...unisatApiHeaders,
                                                ...authHeaders(),
                                                'Content-Type': 'application/json'
                                            },
                                            body: JSON.stringify(
                                                cursor ? { firstCollectionId: cursor, address } : { address }
                                            )
                                        }),
                                    {
                                        isUniSat: true,
                                        useCache: true,
                                        cacheKey,
                                        retryOn429: !__fastMode
                                    }
                                );

                                let list = [];
                                if (Array.isArray(res?.data?.list)) list = res.data.list;
                                else if (Array.isArray(res?.data?.data?.list)) list = res.data.data.list;
                                else if (Array.isArray(res?.data)) list = res.data;
                                else if (Array.isArray(res?.list)) list = res.list;
                                if (!list.length) break;

                                // Sum total from all collections for ordinals count
                                totalCollectionsCount += list.length;

                                const last = list[list.length - 1];
                                const nextCursor = String(
                                    last?.collectionId ?? last?.collection_id ?? last?.id ?? ''
                                ).trim();
                                if (!nextCursor || nextCursor === cursor) break;
                                cursor = nextCursor;
                                page++;
                                sawProgress = true;
                            }

                            if (totalCollectionsCount > 0) {
                                totalCollections = totalCollectionsCount;
                                debugInfo.total_collections_source = 'unisat_market_collection_summary_fallback';
                                debugInfo.total_collections_pages = sawProgress ? page + 1 : 1;
                            }
                        } catch (e) {
                            debugInfo.total_collections_market_error = e?.message || String(e);
                        }
                    }

                    // Public API fallback: UniSat inscription-data (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç API_KEY)
                    if (
                        !(
                            typeof totalCollections === 'number' &&
                            Number.isFinite(totalCollections) &&
                            totalCollections > 0
                        )
                    ) {
                        debugInfo.total_collections_public_attempt = true;
                        try {
                            const ids = new Set();
                            const per = {};
                            const asId = v => {
                                if (typeof v === 'string') return v.trim();
                                if (typeof v === 'number' && Number.isFinite(v)) return String(v);
                                return '';
                            };

                            let cursor = 0;
                            let page = 0;
                            const pageSize = 100;

                            while (page < (__fastMode ? 2 : 5)) {
                                const cacheKey = `inscription_data_public_${address}_${cursor}`;
                                const endpoint = `${FRACTAL_BASE}/indexer/address/${encodeURIComponent(address)}/inscription-data?cursor=${cursor}&size=${pageSize}`;
                                debugInfo[`total_collections_public_url_${page}`] = endpoint;

                                const res = await safeFetch(
                                    () =>
                                        fetch(endpoint, {
                                            method: 'GET',
                                            headers: unisatApiHeaders
                                        }),
                                    {
                                        isUniSat: false,
                                        useCache: true,
                                        cacheKey,
                                        retryOn429: false
                                    }
                                );

                                debugInfo[`total_collections_public_res_${page}`] = res ? 'has_data' : 'null';
                                const list = Array.isArray(res?.data?.inscription) ? res.data.inscription : [];
                                debugInfo[`total_collections_public_list_length_${page}`] = list.length;

                                if (!list.length) {
                                    debugInfo.total_collections_public_stopped_reason = 'empty_list';
                                    break;
                                }

                                if (page === 0 && list.length > 0) {
                                    const sample = list[0];
                                    debugInfo.total_collections_sample_keys = Object.keys(sample || {});
                                    debugInfo.total_collections_sample_collectionId = sample?.collectionId;
                                    debugInfo.total_collections_sample_collection_id = sample?.collection_id;
                                    debugInfo.total_collections_sample_collectionInscriptionId =
                                        sample?.collectionInscriptionId;
                                    debugInfo.total_collections_sample_collection = sample?.collection;
                                    debugInfo.total_collections_sample_parent = sample?.parent;
                                    debugInfo.total_collections_sample_parentInscriptionId =
                                        sample?.parentInscriptionId;
                                }

                                for (const it of list) {
                                    const cid =
                                        asId(it?.collectionId) ||
                                        asId(it?.collection_id) ||
                                        asId(it?.collectionInscriptionId) ||
                                        asId(it?.collection?.collectionId) ||
                                        asId(it?.collection?.id) ||
                                        asId(it?.parentInscriptionId) ||
                                        asId(it?.parent);
                                    if (cid) {
                                        ids.add(cid);
                                        const k = String(cid);
                                        per[k] = (Number(per[k] || 0) || 0) + 1;
                                    }
                                }

                                const total = Number(res?.data?.total || 0);
                                debugInfo[`total_collections_public_total_${page}`] = total;
                                cursor += list.length;
                                page++;

                                if (cursor >= total || list.length < pageSize) {
                                    debugInfo.total_collections_public_stopped_reason =
                                        cursor >= total ? 'reached_total' : 'partial_page';
                                    break;
                                }
                            }

                            debugInfo.total_collections_public_unique_ids = ids.size;
                            if (ids.size > 0) {
                                totalCollections = ids.size;
                                debugInfo.total_collections_source = 'unisat_inscription_data_public';
                                debugInfo.total_collections_pages = page;
                                debugInfo.total_collections_explanation =
                                    'Total collections count COLLECTION MEMBERSHIPS, not individual inscriptions. Empty parent field means standalone inscriptions, not collection members';

                                const ordTotal = Object.values(per).reduce((a, b) => a + (Number(b) || 0), 0);
                                if (
                                    ordTotal > 0 &&
                                    !(
                                        typeof ordinalsCollectionsTotal === 'number' &&
                                        Number.isFinite(ordinalsCollectionsTotal) &&
                                        ordinalsCollectionsTotal > 0
                                    )
                                ) {
                                    ordinalsCollectionsTotal = ordTotal;
                                    ordinalsCollectionsById = per;
                                    ordinalsCollectionsSource = 'unisat_inscription_data_public_collection_memberships';
                                }
                            } else {
                                debugInfo.total_collections_public_no_collections = true;
                                debugInfo.total_collections_explanation =
                                    'Inscriptions have empty parent field - they are standalone inscriptions, not collection members';
                            }
                        } catch (e) {
                            debugInfo.total_collections_public_error = e?.message || String(e);
                            debugInfo.total_collections_public_stack = String(e?.stack || '').substring(0, 200);
                        }
                    } else {
                        debugInfo.total_collections_public_skipped = true;
                        debugInfo.total_collections_public_skip_reason = totalCollections;
                    }

                    if (typeof totalCollections === 'number' && Number.isFinite(totalCollections)) {
                        totalCollections = Math.max(0, Math.floor(totalCollections));
                    } else {
                        const fallback = Number(totalInscriptionsCount);
                        totalCollections = Number.isFinite(fallback) ? Math.max(0, Math.floor(fallback)) : 0;
                        debugInfo.total_collections_source =
                            debugInfo.total_collections_source || 'fallback_ordinals_count';
                    }

                    if (typeof ordinalsCollectionsTotal === 'number' && Number.isFinite(ordinalsCollectionsTotal)) {
                        ordinalsCount = Math.max(0, Math.floor(ordinalsCollectionsTotal));
                        ordinalsByCollection = ordinalsCollectionsById;
                        debugInfo.ordinals_count_source = ordinalsCollectionsSource || 'collections';
                    } else {
                        ordinalsCount = 0;
                        ordinalsByCollection = null;
                        debugInfo.ordinals_count_source = 'collections_none_or_unknown';
                    }

                    let abandonedUtxoCount = 0;
                    let abandonedUtxoCountMissing = true;
                    try {
                        const raw = unisatAbandonNftUtxo;
                        const d = raw && typeof raw === 'object' ? (raw.data !== undefined ? raw.data : raw) : null;
                        if (d && typeof d === 'object') {
                            if (typeof d.total === 'number') abandonedUtxoCount = d.total;
                            else if (typeof d.count === 'number') abandonedUtxoCount = d.count;
                            else if (typeof d.abandonedUtxoCount === 'number')
                                abandonedUtxoCount = d.abandonedUtxoCount;
                            else if (typeof d.abandoned_utxo_count === 'number')
                                abandonedUtxoCount = d.abandoned_utxo_count;
                            else if (d.data && typeof d.data.total === 'number') abandonedUtxoCount = d.data.total;
                            else if (d.data && typeof d.data.count === 'number') abandonedUtxoCount = d.data.count;
                            else if (d.data && Array.isArray(d.data.list)) abandonedUtxoCount = d.data.list.length;
                            else if (Array.isArray(d.list)) abandonedUtxoCount = d.list.length;
                            debugInfo.abandoned_utxo_raw_keys = Object.keys(d).slice(0, 30);
                        } else {
                            debugInfo.abandoned_utxo_raw_type = typeof raw;
                        }
                    } catch (e) {
                        debugInfo.abandoned_utxo_parse_error = e?.message || String(e);
                    }
                    if (typeof abandonedUtxoCount === 'number' && Number.isFinite(abandonedUtxoCount)) {
                        abandonedUtxoCount = Math.max(0, Math.floor(abandonedUtxoCount));
                        abandonedUtxoCountMissing = false;
                        debugInfo.abandoned_utxo_count_source = 'unisat_abandon_nft_utxo_data';
                    } else {
                        abandonedUtxoCount = 0;
                        abandonedUtxoCountMissing = true;
                        debugInfo.abandoned_utxo_count_defaulted = true;
                        debugInfo.abandoned_utxo_count_source =
                            debugInfo.abandoned_utxo_count_source ||
                            (unisatAbandonNftUtxo ? 'no_numeric_field_default_0' : 'no_response_default_0');
                    }

                    // Debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                    debugInfo.unisat_balance_has_data = !!unisatBalance?.data;
                    debugInfo.unisat_brc20_summary_has_data = !!unisatBrc20Summary?.data;
                    debugInfo.unisat_history_has_data = !!unisatHistory?.data;
                    debugInfo.unisat_runes_has_data = !!unisatRunes?.data;
                    debugInfo.data_source = 'unisat_open_api';
                    debugInfo.utxo_method = 'unisat_balance';

                    // B. –í–æ–∑—Ä–∞—Å—Ç –∫–æ—à–µ–ª—å–∫–∞ (–†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û - –ó–ê–§–ò–ö–°–ò–†–û–í–ê–ù–û)
                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–≤–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ cursor=total-1&size=1
                    // 1. –ü–æ–ª—É—á–∞–µ–º txCount –∏–∑ mempool (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) –∏–ª–∏ UniSat History API
                    // 2. –ò—Å–ø–æ–ª—å–∑—É–µ–º cursor=txCount-1&size=1 –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∞–º–æ–π —Å—Ç–∞—Ä–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
                    // 3. –í–∞–ª–∏–¥–∏—Ä—É–µ–º timestamp (–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –±—É–¥—É—â–µ–º, –ø—Ä–æ–≤–µ—Ä—è–µ–º –≥–æ–¥/–º–µ—Å—è—Ü/–¥–µ–Ω—å)
                    // 4. –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤–∞–ª–∏–¥–Ω—ã–π timestamp –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞
                    let firstTxTs = 0;

                    // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –µ—Å–ª–∏ –º—ã —É–∂–µ –ø–æ–ª—É—á–∏–ª–∏ –≤–∞–ª–∏–¥–Ω—ã–π hint –∏–∑ Uniscan Summary ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –∫–∞–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
                    if (typeof firstTxTsHint === 'number' && Number.isFinite(firstTxTsHint) && firstTxTsHint > 0) {
                        firstTxTs = Math.floor(firstTxTsHint);
                    }

                    // –ú–µ—Ç–æ–¥ 0 (–ù–û–í–´–ô –ü–†–ò–û–†–ò–¢–ï–¢): –ò—Å–ø–æ–ª—å–∑—É–µ–º offset –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–≤–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞–ø—Ä—è–º—É—é
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–±–∞–≤–ª—è–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏—é timestamp
                    const now = Math.floor(Date.now() / 1000);
                    const MIN_VALID = 1700000000; // –ù–æ—è–±—Ä—å 2023
                    const FRACTAL_LAUNCH = 1725840000; // 9 —Å–µ–Ω—Ç—è–±—Ä—è 2024 (–∑–∞–ø—É—Å–∫ Fractal)
                    const MAX_VALID = now; // –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –±—É–¥—É—â–µ–º

                    void FRACTAL_LAUNCH;

                    if (
                        firstTxTs === 0 &&
                        finalGenesisTxData &&
                        finalGenesisTxData.data &&
                        finalGenesisTxData.data.detail &&
                        finalGenesisTxData.data.detail.length > 0
                    ) {
                        const genesisTx = finalGenesisTxData.data.detail[0];
                        // UniSat –æ—Ç–¥–∞–µ—Ç timestamp –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
                        let candidateTs = genesisTx.timestamp || genesisTx.blocktime || genesisTx.time || 0;

                        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ timestamp –Ω–µ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
                        if (candidateTs > 10000000000) {
                            candidateTs = Math.floor(candidateTs / 1000);
                            debugInfo.genesis_tx_converted_from_ms = true;
                        }

                        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è timestamp –∏–∑ backup –≤–µ—Ä—Å–∏–∏
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥–æ–¥ –∏ –º–µ—Å—è—Ü –î–û —É—Å—Ç–∞–Ω–æ–≤–∫–∏ firstTxTs
                        const currentDate = new Date();
                        const currentYear = currentDate.getFullYear();
                        const currentMonth = currentDate.getMonth(); // 0-11

                        const timestampDate = candidateTs > 0 ? new Date(candidateTs * 1000) : null;
                        const timestampYear = timestampDate ? timestampDate.getFullYear() : 0;
                        const timestampMonth = timestampDate ? timestampDate.getMonth() : 0;

                        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ timestamp –Ω–µ –≤ –±—É–¥—É—â–µ–º (–≥–æ–¥ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ)
                        const isFutureYear = timestampYear > currentYear;
                        const isFutureMonth = timestampYear === currentYear && timestampMonth > currentMonth;

                        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - –ù–ï –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∞—Å –¥–ª—è –±—É–¥—É—â–µ–≥–æ
                        // Timestamp –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–±–µ–∑ –∑–∞–ø–∞—Å–∞)
                        const STRICT_MAX_VALID = now; // –ë–ï–ó –∑–∞–ø–∞—Å–∞ - –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –±—É–¥—É—â–µ–º

                        // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –í–∞–ª–∏–¥–∞—Ü–∏—è timestamp –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
                        // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –¥–Ω—è –¥–ª—è –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
                        const isFutureDay =
                            timestampYear === currentYear && timestampMonth === currentMonth && timestampDate
                                ? timestampDate.getDate() > currentDate.getDate()
                                : false;

                        if (
                            candidateTs > 0 &&
                            candidateTs >= MIN_VALID &&
                            candidateTs <= STRICT_MAX_VALID &&
                            !isFutureYear &&
                            !isFutureMonth &&
                            !isFutureDay
                        ) {
                            firstTxTs = candidateTs;
                            debugInfo.first_tx_method = genesisTxData
                                ? 'genesis_offset_direct'
                                : 'genesis_offset_fallback_mempool';
                            debugInfo.genesis_tx_timestamp = firstTxTs;
                            debugInfo.genesis_tx_txid = genesisTx.txid || genesisTx.hash || 'unknown';
                            debugInfo.genesis_tx_structure = Object.keys(genesisTx);
                            debugInfo.first_tx_final_validation = 'passed';
                        } else {
                            debugInfo.genesis_tx_no_timestamp = true;
                            debugInfo.genesis_tx_candidate_ts = candidateTs;
                            debugInfo.genesis_tx_candidate_valid =
                                candidateTs > 0 && candidateTs >= MIN_VALID && candidateTs <= STRICT_MAX_VALID;
                            debugInfo.genesis_tx_is_future_year = isFutureYear;
                            debugInfo.genesis_tx_is_future_month = isFutureMonth;
                            debugInfo.genesis_tx_timestamp_year = timestampYear;
                            debugInfo.genesis_tx_timestamp_month = timestampMonth;
                            debugInfo.genesis_tx_current_year = currentYear;
                            debugInfo.genesis_tx_current_month = currentMonth;
                            debugInfo.genesis_tx_keys = Object.keys(genesisTx);
                            debugInfo.first_tx_final_validation = 'failed';
                        }
                    } else if (finalGenesisTxData) {
                        debugInfo.genesis_tx_has_data_but_no_detail = true;
                        debugInfo.genesis_tx_structure = Object.keys(finalGenesisTxData);
                        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ï—Å–ª–∏ data.detail –ø—É—Å—Ç–æ–π, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º —ç—Ç–æ—Ç –º–µ—Ç–æ–¥
                        // –û—Å—Ç–∞–≤–ª—è–µ–º firstTxTs = 0 –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±—Ä–∞–Ω fallback –º–µ—Ç–æ–¥ mempool_txs_sorted - –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∞ –Ω–µ –ø–µ—Ä–≤—É—é
                    // –ï—Å–ª–∏ –ø–µ—Ä–≤–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞, —ç—Ç–æ –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ –≤ debug
                    // –ú–µ—Ç–æ–¥ 1: mempool_txs_sorted - –û–¢–ö–õ–Æ–ß–ï–ù (fallback) - –º–µ—Ä—Ç–≤—ã–π –∫–æ–¥ —É–¥–∞–ª–µ–Ω
                    if (String(env?.ENABLE_MEMPOOL_TXS_SORTED_FALLBACK || '').trim() === '1' && firstTxTs === 0) {
                        const txsData = [];
                        // now, MI N_VALID, MAX_VALID —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤—ã—à–µ

                        // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –≤–∞–ª–∏–¥–Ω—ã–º timestamp
                        const confirmedTxs = txsData.filter(tx => {
                            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
                            const blockTime =
                                tx.status?.block_time ||
                                tx.block_time ||
                                tx.time ||
                                (tx.status && typeof tx.status === 'object' && tx.status.block_time !== undefined
                                    ? tx.status.block_time
                                    : null);
                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ timestamp –≤–∞–ª–∏–¥–Ω—ã–π (–Ω–µ –≤ –±—É–¥—É—â–µ–º –∏ –Ω–µ —Å–ª–∏—à–∫–æ–º —Å—Ç–∞—Ä—ã–π)
                            if (blockTime && blockTime > 0) {
                                // –ï—Å–ª–∏ timestamp –≤ –±—É–¥—É—â–µ–º –∏–ª–∏ —Å–ª–∏—à–∫–æ–º —Å—Ç–∞—Ä—ã–π - –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º
                                if (blockTime > now || blockTime < MIN_VALID) {
                                    return false;
                                }
                                return true;
                            }
                            return false;
                        });

                        if (confirmedTxs.length > 0) {
                            // –°–æ—Ä—Ç–∏—Ä—É–µ–º: –æ—Ç —Å—Ç–∞—Ä—ã—Ö –∫ –Ω–æ–≤—ã–º (–º–µ–Ω—å—à–µ–µ –≤—Ä–µ–º—è -> –±–æ–ª—å—à–µ–µ –≤—Ä–µ–º—è)
                            confirmedTxs.sort((a, b) => {
                                const timeA = a.status?.block_time || a.block_time || a.time || 0;
                                const timeB = b.status?.block_time || b.block_time || b.time || 0;
                                return timeA - timeB;
                            });

                            // –ë–µ—Ä–µ–º —Å–∞–º—É—é –ø–µ—Ä–≤—É—é (—Å–∞–º—É—é —Å—Ç–∞—Ä—É—é)
                            const oldestTx = confirmedTxs[0];
                            let candidateTs = oldestTx.status?.block_time || oldestTx.block_time || oldestTx.time || 0;

                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ timestamp –Ω–µ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (–µ—Å–ª–∏ > 10000000000, —Ç–æ —ç—Ç–æ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã)
                            if (candidateTs > 10000000000) {
                                candidateTs = Math.floor(candidateTs / 1000);
                                debugInfo.first_tx_converted_from_ms = true;
                            }

                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
                            // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ timestamp –Ω–µ –≤ –±—É–¥—É—â–µ–º (2025 –≥–æ–¥ = –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
                            // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º now –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π (–Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ –ø—Ä–æ—à–ª–æ –≤—Ä–µ–º—è)
                            const validationNow = Math.floor(Date.now() / 1000);
                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è - –∏—Å–ø–æ–ª—å–∑—É–µ–º validationNow –∫–∞–∫ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π timestamp
                            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–ø–∞—Å —Ç–æ–ª—å–∫–æ –¥–ª—è —É—á–µ—Ç–∞ –∑–∞–¥–µ—Ä–∂–µ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, +1 —á–∞—Å)
                            const MAX_VALID_TS = validationNow + 3600; // +1 —á–∞—Å –∑–∞–ø–∞—Å –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

                            // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥–æ–¥ –∏ –º–µ—Å—è—Ü –î–û —É—Å—Ç–∞–Ω–æ–≤–∫–∏ firstTxTs
                            const currentDate = new Date();
                            const currentYear = currentDate.getFullYear();
                            const currentMonth = currentDate.getMonth(); // 0-11
                            const currentDay = currentDate.getDate();

                            const timestampDate = candidateTs > 0 ? new Date(candidateTs * 1000) : null;
                            const timestampYear = timestampDate ? timestampDate.getFullYear() : 0;
                            const timestampMonth = timestampDate ? timestampDate.getMonth() : 0;
                            const timestampDay = timestampDate ? timestampDate.getDate() : 0;

                            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ timestamp –ù–ï –≤ –±—É–¥—É—â–µ–º
                            const isFutureYear = timestampYear > currentYear;
                            const isFutureMonth = timestampYear === currentYear && timestampMonth > currentMonth;
                            const isFutureDay =
                                timestampYear === currentYear &&
                                timestampMonth === currentMonth &&
                                timestampDay > currentDay;
                            const isFuture = isFutureYear || isFutureMonth || isFutureDay;

                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è - –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ –¥–∏–∞–ø–∞–∑–æ–Ω timestamp
                            // Mempool –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∞ –Ω–µ –ø–µ—Ä–≤—É—é, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ–Ω–∞–¥–µ–∂–µ–Ω
                            // –ò—Å–ø–æ–ª—å–∑—É–µ–º MAX_VALID_TS (validationNow + 1 —á–∞—Å) –¥–ª—è —É—á–µ—Ç–∞ –∑–∞–¥–µ—Ä–∂–µ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
                            const isValidTimestamp =
                                candidateTs > 0 && candidateTs >= MIN_VALID && candidateTs <= MAX_VALID_TS;

                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –¢–∞–∫–∂–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—Å–ª–∏ genesis fallback –±—ã–ª –ø–æ–ø—ã—Ç–∫–æ–π (–¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–æ–≤–∞–ª–∏–ª—Å—è)
                            const genesisWasAttempted =
                                debugInfo.genesis_fallback_to_mempool ||
                                (debugInfo.genesis_tx_method && debugInfo.genesis_tx_method !== 'not_attempted');

                            void genesisWasAttempted;

                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º timestamp –µ—Å–ª–∏ –æ–Ω –≤–∞–ª–∏–¥–Ω—ã–π (–Ω–µ –≤ –±—É–¥—É—â–µ–º –∏ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ)
                            // –ù–ï –ø—Ä–æ–≤–µ—Ä—è–µ–º genesisWasAttempted - –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –µ—Å–ª–∏ –æ–Ω–∏ –≤–∞–ª–∏–¥–Ω—ã–µ
                            if (isValidTimestamp && !isFuture) {
                                firstTxTs = candidateTs;
                                debugInfo.first_tx_method = 'mempool_txs_sorted';
                                debugInfo.first_tx_total_txs = txsData.length;
                                debugInfo.first_tx_confirmed_txs = confirmedTxs.length;
                                debugInfo.first_tx_timestamp = candidateTs;
                                debugInfo.first_tx_timestamp_date = new Date(candidateTs * 1000).toISOString();
                                debugInfo.first_tx_timestamp_year = timestampYear;
                                debugInfo.first_tx_current_year = currentYear;
                                debugInfo.first_tx_timestamp_month = timestampMonth;
                                debugInfo.first_tx_current_month = currentMonth;
                                debugInfo.first_tx_timestamp_day = timestampDay;
                                debugInfo.first_tx_current_day = currentDay;
                                debugInfo.first_tx_warning =
                                    'Using mempool_txs_sorted (last transactions, not first) - may be inaccurate';
                            } else {
                                // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º mempool_txs_sorted –µ—Å–ª–∏ timestamp –≤ –±—É–¥—É—â–µ–º
                                // Mempool –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∞ –Ω–µ –ø–µ—Ä–≤—É—é, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ–Ω–∞–¥–µ–∂–µ–Ω
                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: mempool_txs_sorted —É–±—Ä–∞–Ω –∫–∞–∫ fallback - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ
                                debugInfo.first_tx_method = 'error_mempool_txs_sorted_disabled';
                                debugInfo.first_tx_error = `mempool_txs_sorted is disabled as fallback - it returns last transactions, not first. Invalid timestamp from mempool: ${candidateTs} (date: ${candidateTs > 0 ? new Date(candidateTs * 1000).toISOString() : 'invalid'}, year: ${timestampYear}, month: ${timestampMonth}, day: ${timestampDay}). Valid range: ${MIN_VALID} - ${validationNow}, year: <= ${currentYear}, month: <= ${currentMonth}, day: <= ${currentDay}`;
                                debugInfo.first_tx_candidate_ts = candidateTs;
                                debugInfo.first_tx_candidate_date =
                                    candidateTs > 0 ? new Date(candidateTs * 1000).toISOString() : 'invalid';
                                debugInfo.first_tx_candidate_year = timestampYear;
                                debugInfo.first_tx_candidate_month = timestampMonth;
                                debugInfo.first_tx_candidate_day = timestampDay;
                                debugInfo.first_tx_current_year = currentYear;
                                debugInfo.first_tx_current_month = currentMonth;
                                debugInfo.first_tx_current_day = currentDay;
                                debugInfo.first_tx_is_future_year = isFutureYear;
                                debugInfo.first_tx_is_future_month = isFutureMonth;
                                debugInfo.first_tx_is_future_day = isFutureDay;
                                debugInfo.first_tx_is_future = isFuture;
                                const MAX_VALID_TS = validationNow + 3600; // +1 —á–∞—Å –∑–∞–ø–∞—Å –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
                                debugInfo.first_tx_candidate_valid = isValidTimestamp;
                                debugInfo.first_tx_now = validationNow;
                                debugInfo.first_tx_min_valid = MIN_VALID;
                                debugInfo.first_tx_max_valid = MAX_VALID_TS;
                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º MAX_VALID_TS –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏, –∞ –Ω–µ validationNow
                                debugInfo.first_tx_rejected_reason = isFuture
                                    ? `Timestamp is in future (year: ${timestampYear}, month: ${timestampMonth}, day: ${timestampDay})`
                                    : `Timestamp out of valid range (${candidateTs} not in [${MIN_VALID}, ${MAX_VALID_TS}])`;
                                // –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º firstTxTs –µ—Å–ª–∏ timestamp –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π - –æ—Å—Ç–∞–≤–ª—è–µ–º 0 –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤
                            }
                        } else {
                            // –û–®–ò–ë–ö–ê: –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –º–µ–º–ø—É–ª–µ (–Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã) - –Ω–µ –º–æ–∂–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–µ—Ä–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
                            debugInfo.first_tx_method = 'error_all_txs_in_mempool';
                            debugInfo.first_tx_error =
                                'All transactions are in mempool (unconfirmed). Cannot determine first transaction timestamp.';
                        }
                    }

                    // –ú–µ—Ç–æ–¥ 2: –ü—Ä–æ–≤–µ—Ä—è–µ–º summary
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–±–∞–≤–ª—è–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏—é timestamp –∏–∑ summary
                    if (firstTxTs === 0 && summaryData?.data) {
                        let candidateTs = 0;
                        if (summaryData.data.firstTransactionTime) {
                            candidateTs = summaryData.data.firstTransactionTime;
                        } else if (summaryData.data.firstTxTime) {
                            candidateTs = summaryData.data.firstTxTime;
                        } else if (summaryData.firstTransactionTime) {
                            candidateTs = summaryData.firstTransactionTime;
                        }

                        // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
                        if (candidateTs > 0 && candidateTs >= MIN_VALID && candidateTs <= MAX_VALID) {
                            firstTxTs = candidateTs;
                            if (summaryData.data?.firstTransactionTime) {
                                debugInfo.first_tx_method = 'summary_firstTransactionTime';
                            } else if (summaryData.data?.firstTxTime) {
                                debugInfo.first_tx_method = 'summary_firstTxTime';
                            } else {
                                debugInfo.first_tx_method = 'summary_root_firstTransactionTime';
                            }
                        } else if (candidateTs > 0) {
                            debugInfo.first_tx_method = 'error_summary_invalid_timestamp';
                            debugInfo.first_tx_error = `Summary returned invalid timestamp: ${candidateTs} (date: ${new Date(candidateTs * 1000).toISOString()}). Valid range: ${MIN_VALID} - ${MAX_VALID}`;
                            debugInfo.summary_candidate_ts = candidateTs;
                            debugInfo.summary_candidate_valid = candidateTs >= MIN_VALID && candidateTs <= MAX_VALID;
                        } else {
                            debugInfo.first_tx_method = 'error_summary_no_timestamp';
                            debugInfo.first_tx_error = 'Summary data exists but no firstTransactionTime field found.';
                        }
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –í–∞–ª–∏–¥–∞—Ü–∏—è timestamp (–Ω–æ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –µ—Å–ª–∏ –æ–Ω —É–∂–µ –Ω–∞–π–¥–µ–Ω)
                    if (firstTxTs > 0) {
                        // –ï—Å–ª–∏ timestamp –Ω–∞–π–¥–µ–Ω, –Ω–æ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π - –ª–æ–≥–∏—Ä—É–µ–º, –Ω–æ –æ—Å—Ç–∞–≤–ª—è–µ–º (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π)
                        if (firstTxTs > now || firstTxTs < MIN_VALID) {
                            console.warn(
                                `‚ö†Ô∏è Suspicious first_tx_ts: ${firstTxTs} (date: ${new Date(firstTxTs * 1000).toISOString()})`
                            );
                            debugInfo.first_tx_warning = `Timestamp ${firstTxTs} is outside valid range (${MIN_VALID} - ${now})`;
                            // –ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ–º - –≤–æ–∑–º–æ–∂–Ω–æ —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π timestamp –∏–∑ –±—É–¥—É—â–µ–≥–æ (–µ—Å–ª–∏ —á–∞—Å—ã —Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç—Å—Ç–∞—é—Ç)
                        }
                    } else {
                        // –ï—Å–ª–∏ timestamp –Ω–µ –Ω–∞–π–¥–µ–Ω - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º 0
                        debugInfo.first_tx_method = 'error_no_valid_timestamp';
                        debugInfo.first_tx_error =
                            'Failed to determine first transaction timestamp from all available sources. Invalid timestamp or no data.';
                        firstTxTs = 0; // –†–µ–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞, –Ω–µ fallback
                    }

                    // –ú–µ—Ç–æ–¥ 3: –ò—Å–ø–æ–ª—å–∑—É–µ–º history (–ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–ø—ã—Ç–∫–∞)
                    if (firstTxTs === 0 && historyData) {
                        let txList = [];
                        // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞
                        // –ï—Å–ª–∏ historyData.data —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –ø—É—Å—Ç–æ–π –∏–ª–∏ –Ω–µ –º–∞—Å—Å–∏–≤, –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
                        if (historyData.data) {
                            if (historyData.data.detail && Array.isArray(historyData.data.detail)) {
                                txList = historyData.data.detail;
                                debugInfo.history_structure = 'data.detail';
                            } else if (historyData.data.list && Array.isArray(historyData.data.list)) {
                                txList = historyData.data.list;
                                debugInfo.history_structure = 'data.list';
                            } else if (Array.isArray(historyData.data)) {
                                txList = historyData.data;
                                debugInfo.history_structure = 'data_array';
                            } else {
                                // data —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ –º–∞—Å—Å–∏–≤ - –ø—Ä–æ–≤–µ—Ä—è–µ–º –µ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
                                debugInfo.history_data_structure = typeof historyData.data;
                                debugInfo.history_data_keys = historyData.data ? Object.keys(historyData.data) : 'null';
                            }
                        } else if (Array.isArray(historyData)) {
                            txList = historyData;
                            debugInfo.history_structure = 'root_array';
                        } else {
                            debugInfo.history_structure = 'unknown';
                            debugInfo.history_keys = historyData ? Object.keys(historyData) : 'null';
                        }

                        debugInfo.history_tx_count = txList.length;

                        if (txList.length > 0) {
                            // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Å timestamp –∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ–º –∏—Ö (—Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - –Ω–µ –≤ –±—É–¥—É—â–µ–º)
                            const validationNow = Math.floor(Date.now() / 1000);
                            const txsWithTime = txList.filter(tx => {
                                let ts = tx.timestamp || tx.blocktime || tx.time || 0;
                                // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã –≤ —Å–µ–∫—É–Ω–¥—ã –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                                if (ts > 1000000000000) {
                                    ts = Math.floor(ts / 1000);
                                }
                                // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±–∏—Ä–∞–µ–º –∑–∞–ø–∞—Å –≤ 1 –¥–µ–Ω—å - –æ—Ç–∫–ª–æ–Ω—è–µ–º –ª—é–±–æ–π timestamp –≤ –±—É–¥—É—â–µ–º
                                // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º –°–ù–ê–ß–ê–õ–ê —á—Ç–æ timestamp –Ω–µ –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
                                const nowCheck = Math.floor(Date.now() / 1000);
                                if (ts > 0 && ts >= MIN_VALID && ts <= validationNow && ts <= nowCheck) {
                                    const tsYear = new Date(ts * 1000).getFullYear();
                                    const tsMonth = new Date(ts * 1000).getMonth();
                                    const tsDay = new Date(ts * 1000).getDate();
                                    const currentYear = new Date().getFullYear();
                                    const currentMonth = new Date().getMonth();
                                    const currentDay = new Date().getDate();
                                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –û—Ç–∫–ª–æ–Ω—è–µ–º –µ—Å–ª–∏ –≥–æ–¥, –º–µ—Å—è—Ü –ò–õ–ò –¥–µ–Ω—å –≤ –±—É–¥—É—â–µ–º
                                    const isFutureYear = tsYear > currentYear;
                                    const isFutureMonth = tsYear === currentYear && tsMonth > currentMonth;
                                    const isFutureDay =
                                        tsYear === currentYear && tsMonth === currentMonth && tsDay > currentDay;
                                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - –µ—Å–ª–∏ timestamp –±–æ–ª—å—à–µ nowCheck, –æ—Ç–∫–ª–æ–Ω—è–µ–º
                                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º true —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ù–ï –≤ –±—É–¥—É—â–µ–º –ò –Ω–µ –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
                                    return !isFutureYear && !isFutureMonth && !isFutureDay && ts <= nowCheck;
                                }
                                return false;
                            });

                            debugInfo.history_txs_with_time = txsWithTime.length;

                            if (txsWithTime.length > 0) {
                                // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–æ—Ç —Å—Ç–∞—Ä—ã—Ö –∫ –Ω–æ–≤—ã–º)
                                txsWithTime.sort((a, b) => {
                                    let timeA = a.timestamp || a.blocktime || a.time || 0;
                                    let timeB = b.timestamp || b.blocktime || b.time || 0;
                                    // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã –≤ —Å–µ–∫—É–Ω–¥—ã –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                                    if (timeA > 1000000000000) timeA = Math.floor(timeA / 1000);
                                    if (timeB > 1000000000000) timeB = Math.floor(timeB / 1000);
                                    return timeA - timeB;
                                });
                                let candidateTs =
                                    txsWithTime[0].timestamp || txsWithTime[0].blocktime || txsWithTime[0].time || 0;
                                // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã –≤ —Å–µ–∫—É–Ω–¥—ã –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                                if (candidateTs > 1000000000000) {
                                    candidateTs = Math.floor(candidateTs / 1000);
                                }
                                // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ timestamp –Ω–µ –≤ –±—É–¥—É—â–µ–º –ü–ï–†–ï–î —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
                                const nowCheckStrict = Math.floor(Date.now() / 1000);
                                const tsYear = new Date(candidateTs * 1000).getFullYear();
                                const tsMonth = new Date(candidateTs * 1000).getMonth();
                                const tsDay = new Date(candidateTs * 1000).getDate();
                                const currentYear = new Date().getFullYear();
                                const currentMonth = new Date().getMonth();
                                const currentDay = new Date().getDate();
                                const isFutureYear = tsYear > currentYear;
                                const isFutureMonth = tsYear === currentYear && tsMonth > currentMonth;
                                const isFutureDay =
                                    tsYear === currentYear && tsMonth === currentMonth && tsDay > currentDay;
                                // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º –°–¢–†–û–ì–û —á—Ç–æ timestamp –Ω–µ –±–æ–ª—å—à–µ validationNow –ò –Ω–µ –±–æ–ª—å—à–µ nowCheckStrict
                                const isFuture =
                                    isFutureYear ||
                                    isFutureMonth ||
                                    isFutureDay ||
                                    candidateTs > validationNow ||
                                    candidateTs > nowCheckStrict;

                                // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û—Ç–∫–ª–æ–Ω—è–µ–º timestamp –µ—Å–ª–∏ –æ–Ω –≤ –±—É–¥—É—â–µ–º (–¥–∞–∂–µ –Ω–∞ 1 –≥–æ–¥)
                                // –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–∫–∂–µ —á—Ç–æ timestamp –Ω–µ –±–æ–ª—å—à–µ validationNow –ò –Ω–µ –±–æ–ª—å—à–µ nowCheckStrict
                                if (isFuture || candidateTs > validationNow || candidateTs > nowCheckStrict) {
                                    debugInfo.first_tx_method = 'error_history_future_timestamp';
                                    debugInfo.first_tx_error = `History timestamp ${candidateTs} (year: ${tsYear}, month: ${tsMonth + 1}, day: ${tsDay}) is in future. Current: ${currentYear}-${currentMonth + 1}-${currentDay}, validationNow: ${validationNow}, nowCheck: ${nowCheckStrict}, firstTxTs > validationNow: ${candidateTs > validationNow}, firstTxTs > nowCheckStrict: ${candidateTs > nowCheckStrict}, isFuture: ${isFuture}`;
                                    debugInfo.first_tx_from_history = candidateTs;
                                    debugInfo.first_tx_future_check = {
                                        tsYear,
                                        tsMonth,
                                        tsDay,
                                        currentYear,
                                        currentMonth,
                                        currentDay,
                                        isFutureYear,
                                        isFutureMonth,
                                        isFutureDay,
                                        isFuture,
                                        candidateTs,
                                        validationNow,
                                        tsGreaterThanNow: candidateTs > validationNow
                                    };
                                    firstTxTs = 0; // –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º timestamp –∏–∑ –±—É–¥—É—â–µ–≥–æ
                                } else if (
                                    candidateTs > 0 &&
                                    candidateTs >= MIN_VALID &&
                                    candidateTs <= validationNow &&
                                    !isFuture
                                ) {
                                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±—É–¥—É—â–µ–µ –≤—Ä–µ–º—è - —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
                                    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ candidateTs –Ω–µ –±–æ–ª—å—à–µ validationNow –ò –Ω–µ –≤ –±—É–¥—É—â–µ–º –ø–æ –¥–∞—Ç–µ
                                    const nowCheck2 = Math.floor(Date.now() / 1000);
                                    const tsYear2 = new Date(candidateTs * 1000).getFullYear();
                                    const tsMonth2 = new Date(candidateTs * 1000).getMonth();
                                    const tsDay2 = new Date(candidateTs * 1000).getDate();
                                    const isStillFuture2 =
                                        tsYear2 > currentYear ||
                                        (tsYear2 === currentYear && tsMonth2 > currentMonth) ||
                                        (tsYear2 === currentYear && tsMonth2 === currentMonth && tsDay2 > currentDay);

                                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –°–¢–†–û–ì–ê–Ø –ø—Ä–æ–≤–µ—Ä–∫–∞ - –µ—Å–ª–∏ timestamp –±–æ–ª—å—à–µ validationNow –ò–õ–ò –≤ –±—É–¥—É—â–µ–º –ø–æ –¥–∞—Ç–µ - –û–¢–ö–õ–û–ù–Ø–ï–ú
                                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º timestamp —Å —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –Ω–∞–ø—Ä—è–º—É—é
                                    const strictNowCheck = Math.floor(Date.now() / 1000);
                                    const isGreaterThanStrictNow = candidateTs > strictNowCheck;

                                    if (
                                        candidateTs > validationNow ||
                                        candidateTs > nowCheck2 ||
                                        candidateTs > strictNowCheck ||
                                        isStillFuture2 ||
                                        isGreaterThanStrictNow
                                    ) {
                                        // –ï—â–µ –æ–¥–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ - –µ—Å–ª–∏ –≤—Å–µ —Ä–∞–≤–Ω–æ –≤ –±—É–¥—É—â–µ–º, –æ—Ç–∫–ª–æ–Ω—è–µ–º
                                        debugInfo.first_tx_method = 'error_history_future_timestamp';
                                        debugInfo.first_tx_error = `Now check failed: timestamp ${candidateTs} (year: ${tsYear2}, month: ${tsMonth2 + 1}, day: ${tsDay2}) > validationNow ${validationNow} or > nowCheck ${nowCheck2} or > strictNowCheck ${strictNowCheck} or is future. Current: ${currentYear}-${currentMonth + 1}-${currentDay}, isStillFuture: ${isStillFuture2}, isGreaterThanStrictNow: ${isGreaterThanStrictNow}`;
                                        debugInfo.first_tx_debug_values = {
                                            firstTxTs,
                                            validationNow,
                                            nowCheck2,
                                            strictNowCheck,
                                            isStillFuture2,
                                            isGreaterThanStrictNow,
                                            tsYear2,
                                            tsMonth2,
                                            tsDay2,
                                            currentYear,
                                            currentMonth,
                                            currentDay
                                        };
                                        firstTxTs = 0;
                                    } else {
                                        // Timestamp –≤–∞–ª–∏–¥–Ω—ã–π - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω –≤ –ø—Ä–æ—à–ª–æ–º –∏–ª–∏ –Ω–∞—Å—Ç–æ—è—â–µ–º –ò –ø—Ä–æ—à–µ–ª –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
                                        debugInfo.first_tx_method = 'history_sorted';
                                        debugInfo.first_tx_from_history = firstTxTs;
                                        debugInfo.first_tx_absolute_now_check = strictNowCheck;
                                        debugInfo.first_tx_candidate_vs_now = `${candidateTs} <= ${strictNowCheck}`;
                                    }
                                } else {
                                    debugInfo.first_tx_method = 'error_history_invalid_timestamp';
                                    debugInfo.first_tx_error = `History timestamp ${candidateTs} is invalid. Valid range: ${MIN_VALID} - ${validationNow}, isFuture: ${isFuture}, candidateTs > validationNow: ${candidateTs > validationNow}`;
                                    firstTxTs = 0;
                                }
                            } else {
                                debugInfo.first_tx_method = 'error_history_no_valid_timestamps';
                                debugInfo.first_tx_error = 'History has transactions but none have valid timestamps.';
                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–±—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ timestamp (–¥–ª—è debug)
                                if (txList.length > 0) {
                                    const firstTx = txList[0];
                                    const rawTs = firstTx.timestamp || firstTx.blocktime || firstTx.time || 0;
                                    debugInfo.first_tx_raw_timestamp = rawTs;
                                    debugInfo.first_tx_raw_timestamp_date =
                                        rawTs > 0 ? new Date(rawTs * 1000).toISOString() : 'invalid';
                                }
                            }
                        } else {
                            debugInfo.first_tx_method = 'error_history_no_txs';
                            debugInfo.first_tx_error = 'History data exists but no transactions found.';
                            debugInfo.history_data_type = typeof historyData;
                            debugInfo.history_data_keys = historyData ? Object.keys(historyData) : 'null';
                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ï—Å–ª–∏ data —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –ø—É—Å—Ç–æ–π, –ª–æ–≥–∏—Ä—É–µ–º —ç—Ç–æ
                            if (historyData.data) {
                                debugInfo.history_data_empty = true;
                                debugInfo.history_data_type_detail = typeof historyData.data;
                            }
                        }
                    }

                    // –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è: –ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ timestamp –Ω–µ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö –∏ –≤–∞–ª–∏–¥–Ω—ã–π
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ–º sanitizeTimestamp - –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏–∑ backup
                    if (firstTxTs > 0) {
                        // –ï—Å–ª–∏ timestamp –≤ –±—É–¥—É—â–µ–º, –≤–æ–∑–º–æ–∂–Ω–æ —ç—Ç–æ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º
                        if (firstTxTs > 1000000000000) {
                            firstTxTs = Math.floor(firstTxTs / 1000);
                            debugInfo.first_tx_converted_from_ms = true;
                        }

                        // –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫—É –≤–º–µ—Å—Ç–æ fallback
                        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - timestamp –ù–ï –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –±—É–¥—É—â–µ–º
                        const validationNow = Math.floor(Date.now() / 1000);
                        const nowCheck = Math.floor(Date.now() / 1000); // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
                        const currentYear = new Date().getFullYear();
                        const currentMonth = new Date().getMonth(); // 0-11
                        void currentYear;
                        void currentMonth;

                        if (firstTxTs > validationNow || firstTxTs > nowCheck) {
                            debugInfo.first_tx_final_validation = 'invalid_future';
                            firstTxTs = 0;
                        } else if (firstTxTs < MIN_VALID) {
                            debugInfo.first_tx_final_validation = 'invalid_too_old';
                            firstTxTs = 0;
                        }

                        // –ú–µ—Ç–æ–¥ 2: pool_info (—É–±—Ä–∞–Ω fbPool - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ myPoolList)
                        // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: fbPool –±—ã–ª —É–¥–∞–ª–µ–Ω –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ myPoolList

                        // –ú–µ—Ç–æ–¥ 3: my_pool_list (–µ—Å–ª–∏ pool_info –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
                        let poolData = null;
                        if (!poolData && myPoolList?.data?.list && Array.isArray(myPoolList.data.list)) {
                            const sbtcFbPool = myPoolList.data.list.find(p => {
                                const t0 = p.tick0 || '';
                                const t1 = p.tick1 || '';
                                return (
                                    (t0 === 'sBTC___000' && t1 === 'sFB___000') ||
                                    (t1 === 'sBTC___000' && t0 === 'sFB___000')
                                );
                            });
                            if (sbtcFbPool) {
                                poolData = sbtcFbPool;
                                debugInfo.fbPool_method = 'from_my_pool_list';
                            }
                        }

                        if (poolData) {
                            const tick0 = poolData.tick0 || '';
                            const tick1 = poolData.tick1 || '';
                            const isBtc0 = tick0.includes('BTC') || tick0 === 'sBTC___000' || tick0.includes('sBTC');
                            const isBtc1 = tick1.includes('BTC') || tick1 === 'sBTC___000' || tick1.includes('sBTC');

                            let amtBTC = 0;
                            let amtFB = 0;

                            if (isBtc0) {
                                amtBTC = parseFloat(poolData.amount0 || 0);
                                amtFB = parseFloat(poolData.amount1 || 0);
                            } else if (isBtc1) {
                                amtBTC = parseFloat(poolData.amount1 || 0);
                                amtFB = parseFloat(poolData.amount0 || 0);
                            }

                            if (amtFB > 0 && amtBTC > 0 && !isNaN(amtBTC) && !isNaN(amtFB)) {
                                fbPrice = (amtBTC / amtFB) * btcPrice;
                                if (isNaN(fbPrice) || !isFinite(fbPrice)) {
                                    fbPrice = 0;
                                }
                                debugInfo.fbPrice_method = 'pool_calculation';
                                debugInfo.fbPrice_calculated = fbPrice;
                                debugInfo.fbPool_calc_amtBTC = amtBTC;
                                debugInfo.fbPool_calc_amtFB = amtFB;
                                debugInfo.fbPool_calc_btcPrice = btcPrice;
                            } else {
                                debugInfo.fbPrice_method = 'pool_calculation_failed';
                                debugInfo.fbPrice_fail_reason = `amtBTC=${amtBTC}, amtFB=${amtFB}, btcPrice=${btcPrice}`;
                            }
                        } else {
                            debugInfo.fbPrice_method = 'no_pool_data';
                            debugInfo.fbPool_data_available = !!poolData;
                        }
                    }

                    // –†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã FENNEC —á–µ—Ä–µ–∑ –ø—É–ª FENNEC/sFB
                    let fennecPriceInFB = 0;

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–±—É–µ–º all_balance –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω—ã FENNEC
                    if (allBalance?.data?.FENNEC?.price && allBalance?.data?.sFB___000?.price) {
                        // –¶–µ–Ω–∞ FENNEC –≤ BTC –∏–∑ all_balance
                        const fennecPriceInBTC = parseFloat(allBalance.data.FENNEC.price) || 0;
                        // –¶–µ–Ω–∞ FB –≤ BTC –∏–∑ all_balance
                        const fbPriceInBTC = parseFloat(allBalance.data.sFB___000.price) || 0;
                        // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ FB: (—Ü–µ–Ω–∞ FENNEC –≤ BTC) / (—Ü–µ–Ω–∞ FB –≤ BTC)
                        if (fbPriceInBTC > 0) {
                            fennecPriceInFB = fennecPriceInBTC / fbPriceInBTC;
                            debugInfo.fennecPrice_method = 'all_balance_price';
                        }
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ fennecPool - –∑–∞–ø—Ä–æ—Å —É–¥–∞–ª–µ–Ω –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
                    // –¶–µ–Ω–∞ FENNEC –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω–∞ –∏–∑ all_balance –∏–ª–∏ my_pool_list

                    // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥: –ü—Ä–æ–±—É–µ–º my_pool_list –¥–ª—è –ø—É–ª–∞ FENNEC/sFB
                    if (fennecPriceInFB === 0 && myPoolList?.data?.list && Array.isArray(myPoolList.data.list)) {
                        const fennecFbPool = myPoolList.data.list.find(p => {
                            const t0 = p.tick0 || '';
                            const t1 = p.tick1 || '';
                            return (t0 === 'FENNEC' && t1 === 'sFB___000') || (t1 === 'FENNEC' && t0 === 'sFB___000');
                        });
                        if (fennecFbPool) {
                            const isFennec0 = fennecFbPool.tick0 === 'FENNEC';
                            const amtFennec = parseFloat(isFennec0 ? fennecFbPool.amount0 : fennecFbPool.amount1) || 0;
                            const amtFB = parseFloat(isFennec0 ? fennecFbPool.amount1 : fennecFbPool.amount0) || 0;
                            if (amtFennec > 0) {
                                fennecPriceInFB = amtFB / amtFennec;
                                debugInfo.fennecPrice_method = 'my_pool_list';
                            }
                        }
                    }

                    // C. –¢–æ—á–Ω—ã–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ê–∫—Ç–∏–≤–æ–≤ (–ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)

                    // Runes: –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø - –∏—Å–ø–æ–ª—å–∑—É–µ–º UniSat Runes Balance List API
                    // runesCount —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—ã—à–µ –∏–∑ unisatRunes
                    if (runesCount === 0) {
                        debugInfo.runes_method = 'error_no_data';
                        debugInfo.runes_error = 'Runes data not loaded - UniSat API returned no data';
                    } else {
                        debugInfo.runes_method = 'unisat_runes_balance_list';
                    }

                    // BRC-20: –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø - –∏—Å–ø–æ–ª—å–∑—É–µ–º UniSat BRC-20 Summary API
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–±–∞–≤–ª—è–µ–º debug –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
                    debugInfo.brc20_data_exists = !!unisatBrc20Summary;
                    debugInfo.brc20_data_structure = unisatBrc20Summary ? Object.keys(unisatBrc20Summary) : 'null';
                    debugInfo.brc20_data_has_data = !!unisatBrc20Summary?.data;
                    debugInfo.brc20_data_keys = unisatBrc20Summary?.data
                        ? Object.keys(unisatBrc20Summary.data)
                        : 'no data';

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ BRC-20 - —Å–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —Ç–∏–∫–µ—Ä—ã –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã
                    // –û–±—ä–µ–¥–∏–Ω—è–µ–º —Å–ø–∏—Å–∫–∏ –∏–∑ –∫–æ—à–µ–ª—å–∫–∞ –∏ InSwap, —É–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã
                    const uniqueTickers = new Set();
                    const walletTickers = new Set(); // –¢–∏–∫–µ—Ä—ã –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤)

                    // normalizeTicker —É–∂–µ –æ–±—ä—è–≤–ª–µ–Ω–∞ –≤—ã—à–µ

                    // 1. –î–æ–±–∞–≤–ª—è–µ–º —Ç–∏–∫–µ—Ä—ã –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞ (UniSat BRC-20 Summary API)
                    {
                        let tokensList = [];
                        if (unisatBrc20Summary?.data?.detail && Array.isArray(unisatBrc20Summary.data.detail)) {
                            tokensList = unisatBrc20Summary.data.detail;
                        } else if (unisatBrc20Summary?.data?.list && Array.isArray(unisatBrc20Summary.data.list)) {
                            tokensList = unisatBrc20Summary.data.list;
                        } else if (Array.isArray(unisatBrc20Summary?.data)) {
                            tokensList = unisatBrc20Summary.data;
                        }

                        if (tokensList.length > 0) {
                            tokensList.forEach(t => {
                                const rawTicker = t.ticker || t.tick || t.symbol || '';
                                const normalizedTicker = normalizeTicker(rawTicker);
                                const overallBal = parseFloat(t.overallBalance || t.overall || 0);
                                const availBal = parseFloat(t.availableBalance || t.available || 0);
                                const transferBal = parseFloat(t.transferableBalance || t.transferable || 0);
                                const plainBal = parseFloat(t.balance || 0);
                                const bal =
                                    Number.isFinite(overallBal) && overallBal > 0
                                        ? overallBal
                                        : (Number.isFinite(availBal) ? availBal : 0) +
                                          (Number.isFinite(transferBal) ? transferBal : 0) +
                                          (Number.isFinite(plainBal) ? plainBal : 0);

                                if (normalizedTicker && Number.isFinite(bal) && bal > 0) {
                                    uniqueTickers.add(normalizedTicker);
                                    walletTickers.add(normalizedTicker);
                                }
                            });
                        }
                    }

                    // 2. –î–æ–±–∞–≤–ª—è–µ–º —Ç–∏–∫–µ—Ä—ã –∏–∑ InSwap (all_balance) - –ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –∏—Ö –Ω–µ—Ç –≤ –∫–æ—à–µ–ª—å–∫–µ
                    if (allBalance?.data) {
                        const inswapTickersAdded = [];
                        const inswapTickersSkipped = [];
                        const inswapTickersChecked = []; // –í—Å–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ç–∏–∫–µ—Ä—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

                        Object.keys(allBalance.data).forEach(key => {
                            // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–ª—É–∂–µ–±–Ω—ã–µ –ø–æ–ª—è (–Ω–æ –ù–ï total_usd - —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—â–∏–π –±–∞–ª–∞–Ω—Å –≤ USD)
                            if (['lp_positions', 'positions'].includes(key)) return;

                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ï—Å–ª–∏ —ç—Ç–æ total_usd, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–∞—Å—á–µ—Ç–µ net worth
                            if (key === 'total_usd' && typeof allBalance.data[key] === 'number') {
                                debugInfo.all_balance_total_usd = allBalance.data[key];
                                return; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –Ω–µ —Ç–æ–∫–µ–Ω
                            }

                            const tokenData = allBalance.data[key];
                            if (tokenData === null || tokenData === undefined) return;

                            const bal =
                                typeof tokenData === 'object' && tokenData
                                    ? tokenData.balance !== undefined
                                        ? tokenData.balance
                                        : tokenData
                                    : tokenData;

                            let balance = 0;
                            if (typeof bal === 'object' && bal !== null) {
                                balance = parseFloat(
                                    bal.swap ||
                                        bal.module ||
                                        bal.available ||
                                        bal.transferable ||
                                        bal.pendingSwap ||
                                        bal.pendingAvailable ||
                                        (typeof tokenData === 'object' && tokenData
                                            ? tokenData.swap ||
                                              tokenData.module ||
                                              tokenData.available ||
                                              tokenData.transferable ||
                                              0
                                            : 0)
                                );
                            } else {
                                balance = parseFloat(
                                    bal ||
                                        (typeof tokenData === 'object' && tokenData
                                            ? tokenData.available || tokenData.swap || tokenData.module || 0
                                            : 0)
                                );
                            }

                            if (!Number.isFinite(balance)) balance = 0;

                            // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Ç–∏–∫–µ—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
                            const normalizedTicker = normalizeTicker(key);

                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º –í–°–ï —Ç–∏–∫–µ—Ä—ã, –¥–∞–∂–µ —Å –Ω—É–ª–µ–≤—ã–º –±–∞–ª–∞–Ω—Å–æ–º (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
                            inswapTickersChecked.push({
                                original: key,
                                normalized: normalizedTicker,
                                balance: balance,
                                inWallet: walletTickers.has(normalizedTicker)
                            });

                            if (balance > 0) {
                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Ç–∏–∫–µ—Ä –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –∏–∑ –∫–æ—à–µ–ª—å–∫–∞
                                if (normalizedTicker && !walletTickers.has(normalizedTicker)) {
                                    uniqueTickers.add(normalizedTicker);
                                    inswapTickersAdded.push({
                                        original: key,
                                        normalized: normalizedTicker,
                                        balance: balance
                                    });
                                } else {
                                    inswapTickersSkipped.push({
                                        original: key,
                                        normalized: normalizedTicker,
                                        reason: 'already_in_wallet',
                                        balance: balance
                                    });
                                }
                            }
                        });

                        // Debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                        debugInfo.brc20_inswap_added_tickers = inswapTickersAdded;
                        debugInfo.brc20_inswap_skipped_tickers = inswapTickersSkipped;
                        debugInfo.brc20_inswap_all_checked = inswapTickersChecked; // –í—Å–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ç–∏–∫–µ—Ä—ã
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–±–∞–≤–ª—è–µ–º —Ç–∏–∫–µ—Ä—ã –∏–∑ /select API (–≤–∫–ª—é—á–∞—è bSATS_)
                    if (brc20Select?.data && Array.isArray(brc20Select.data)) {
                        const selectTickersAdded = [];
                        brc20Select.data.forEach(item => {
                            const rawTicker = item.tick || item.ticker || '';
                            if (!rawTicker) return;

                            const normalizedTicker = normalizeTicker(rawTicker);
                            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å (brc20Balance –∏–ª–∏ swapBalance)
                            const brc20Bal = parseFloat(item.brc20Balance || 0);
                            const swapBal = parseFloat(item.swapBalance || 0);
                            const totalBal = brc20Bal + swapBal;

                            if (totalBal > 0 && normalizedTicker) {
                                selectTickersAdded.push({
                                    original: rawTicker,
                                    normalized: normalizedTicker,
                                    brc20Balance: brc20Bal,
                                    swapBalance: swapBal
                                });
                            }
                        });
                        debugInfo.brc20_select_added = selectTickersAdded;
                    }

                    // –ò—Ç–æ–≥: —Å—á–∏—Ç–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–∏–∫–µ—Ä—ã
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–¥—Å—á–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç–∏–∫–µ—Ä–æ–≤ (–∫–æ—à–µ–ª–µ–∫ + InSwap + select)
                    brc20Count = uniqueTickers.size;
                    debugInfo.brc20_method = 'wallet_plus_inswap_positive_balance';
                    debugInfo.brc20_count_combined = true;
                    debugInfo.brc20_count_total = brc20Count;
                    debugInfo.brc20_wallet_count = walletTickers.size;

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ï—Å–ª–∏ BRC-20 –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å, —ç—Ç–æ –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ –≤ debug
                    if (brc20Count === 0) {
                        debugInfo.brc20_method = debugInfo.brc20_method || 'error_no_data';
                        debugInfo.brc20_error = 'BRC-20 data not loaded - tried all fallback methods';
                    }

                    // Debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è - –†–ê–°–®–ò–†–ï–ù–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê
                    debugInfo.brc20_final_list = Array.from(uniqueTickers).sort();
                    debugInfo.brc20_wallet_tickers = Array.from(walletTickers).sort();
                    debugInfo.brc20_wallet_count_raw = walletTickers.size;
                    debugInfo.brc20_unique_count_final = uniqueTickers.size;

                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–∫–∏–µ —Ç–∏–∫–µ—Ä—ã –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–∑ –∫–æ—à–µ–ª—å–∫–∞
                    const walletTickersAddedList = [];
                    walletTickers.forEach(t => {
                        walletTickersAddedList.push(t);
                    });
                    debugInfo.brc20_wallet_tickers_added = walletTickersAddedList;

                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É walletTickers –∏ uniqueTickers
                    debugInfo.brc20_walletTickers_in_uniqueTickers = Array.from(walletTickers).every(t =>
                        uniqueTickers.has(t)
                    );
                    {
                        let brc20WalletTickersRaw = [];
                        if (unisatBrc20Summary?.data?.detail) {
                            brc20WalletTickersRaw = unisatBrc20Summary.data.detail
                                .filter(t => {
                                    const bal =
                                        parseFloat(t.availableBalance || 0) + parseFloat(t.transferableBalance || 0);
                                    return bal > 0;
                                })
                                .map(t => ({
                                    raw: t.ticker || t.tick || t.symbol || '',
                                    normalized: normalizeTicker(t.ticker || t.tick || t.symbol || '')
                                }));
                        }
                        debugInfo.brc20_wallet_tickers_raw = brc20WalletTickersRaw;
                    }
                    debugInfo.brc20_detail_length = unisatBrc20Summary?.data?.detail?.length || 0;
                    {
                        let brc20WithBalance = 0;
                        if (unisatBrc20Summary?.data?.detail) {
                            brc20WithBalance = unisatBrc20Summary.data.detail.filter(t => {
                                const bal =
                                    parseFloat(t.availableBalance || 0) + parseFloat(t.transferableBalance || 0);
                                return bal > 0;
                            }).length;
                        }
                        debugInfo.brc20_with_balance = brc20WithBalance;
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - —Å–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ç–∏–∫–µ—Ä—ã –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
                    if (unisatBrc20Summary?.data?.detail && Array.isArray(unisatBrc20Summary.data.detail)) {
                        const allWalletTickersRaw = unisatBrc20Summary.data.detail
                            .filter(t => {
                                const bal =
                                    parseFloat(t.availableBalance || 0) + parseFloat(t.transferableBalance || 0);
                                return bal > 0;
                            })
                            .map(t => {
                                const raw = t.ticker || t.tick || t.symbol || '';
                                return { raw, normalized: normalizeTicker(raw) };
                            });
                        debugInfo.brc20_wallet_tickers_raw = allWalletTickersRaw;
                    }

                    // E. LP Value (–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ –∏–∑ –∫–æ–¥–∞ Gemini + fallback)
                    let lpCount = 0;
                    let lpValueFB = 0;
                    let lpValueUSD = 0; // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞—Å—á–µ—Ç –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö
                    let hasFennecInLP = false; // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ LP —Å FENNEC
                    let fennecLpValueUSD = 0;

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥—Ä–æ–±–Ω—ã–π debug –¥–ª—è LP
                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞ my_pool_list –∏–∑ backup –≤–µ—Ä—Å–∏–∏
                    debugInfo.my_pool_list_response = myPoolList
                        ? JSON.stringify(myPoolList).substring(0, 500)
                        : 'null';
                    debugInfo.my_pool_list_code = myPoolList?.code;
                    debugInfo.my_pool_list_msg = myPoolList?.msg || myPoolList?.message;
                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ backup –≤–µ—Ä—Å–∏–∏
                    debugInfo.my_pool_list_has_data = !!myPoolList?.data;
                    debugInfo.my_pool_list_structure = myPoolList ? Object.keys(myPoolList) : 'null';
                    debugInfo.my_pool_list_length = myPoolList?.data?.list?.length || 0;
                    debugInfo.my_pool_list_data_keys = myPoolList?.data ? Object.keys(myPoolList.data) : 'no data';
                    debugInfo.all_balance_code = allBalance?.code;
                    debugInfo.all_balance_msg = allBalance?.msg || allBalance?.message;
                    debugInfo.inswap_asset_summary_has_data = !!inswapAssetSummary?.data;
                    debugInfo.inswap_asset_summary_structure = inswapAssetSummary
                        ? Object.keys(inswapAssetSummary)
                        : 'null';

                    // –ú–µ—Ç–æ–¥ 0 (–ù–û–í–´–ô –ü–†–ò–û–†–ò–¢–ï–¢): InSwap Asset Summary API (–∏–∑ –∫–æ–¥–∞ Gemini)
                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç /brc20-swap/address/{address}/asset-summary
                    if (inswapAssetSummary?.data && Array.isArray(inswapAssetSummary.data)) {
                        const swapAssets = inswapAssetSummary.data;
                        debugInfo.lp_method = 'inswap_asset_summary';
                        debugInfo.inswap_asset_summary_count = swapAssets.length;

                        swapAssets.forEach(asset => {
                            const ticker = (asset.ticker || '').toUpperCase();
                            const amount = parseFloat(asset.balance || 0);

                            const isLpLike =
                                ticker.includes('/') ||
                                ticker.includes('-') ||
                                ticker.includes(' LP') ||
                                ticker.startsWith('LP') ||
                                !!(
                                    asset &&
                                    (asset.is_lp ||
                                        asset.isLp ||
                                        asset.poolId ||
                                        asset.pool_id ||
                                        asset.tick0 ||
                                        asset.tick1)
                                );

                            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∞–∫—Ç–∏–≤ LP-—Ç–æ–∫–µ–Ω–æ–º (–æ–±—ã—á–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç '/' –∏–ª–∏ '-')
                            if (isLpLike) {
                                // –≠—Ç–æ –ø—É–ª! –ù–∞–ø—Ä–∏–º–µ—Ä "FB/FENNEC" –∏–ª–∏ "FB-FENNEC"
                                if (ticker.includes('FENNEC')) {
                                    hasFennecInLP = true;
                                    debugInfo.has_fennec_in_lp_found = true;
                                    debugInfo.has_fennec_in_lp_pool = ticker;
                                }
                                lpCount++;

                                let valueUSD = parseFloat(
                                    asset.valueUSD ??
                                        asset.value_usd ??
                                        asset.usdValue ??
                                        asset.usd_value ??
                                        asset.totalUsd ??
                                        asset.total_usd ??
                                        asset.value ??
                                        asset.usd ??
                                        0
                                );
                                if (!(valueUSD > 0)) {
                                    const priceUSD = parseFloat(
                                        asset.priceUSD ?? asset.price_usd ?? asset.priceUsd ?? asset.price ?? 0
                                    );
                                    if (priceUSD > 0 && amount > 0) valueUSD = priceUSD * amount;
                                }
                                if (valueUSD > 0) {
                                    lpValueUSD += valueUSD;
                                    if (fbPrice > 0) lpValueFB += valueUSD / fbPrice;
                                    if (ticker.includes('FENNEC')) fennecLpValueUSD += valueUSD;
                                }

                                // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞: –µ—Å–ª–∏ API –Ω–µ –¥–∞–µ—Ç —Ü–µ–Ω—É LP, —Å—á–∏—Ç–∞–µ–º –∫–∞–∫ 0
                                // –ù–æ –µ—Å–ª–∏ —ç—Ç–æ FB, —Å—á–∏—Ç–∞–µ–º –ø–æ —Ü–µ–Ω–µ FB
                                // TODO: –ù—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É LP –∏–∑ API –∏–ª–∏ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∏–∑ amount0/amount1
                            } else {
                                // –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ç–æ–∫–µ–Ω—ã, –ª–µ–∂–∞—â–∏–µ –≤–Ω—É—Ç—Ä–∏ Inswap (–Ω–µ –≤ –ø—É–ª–µ, –Ω–æ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ —Å–≤–∞–ø–∞)
                                // –ù–µ —Å—á–∏—Ç–∞–µ–º –∏—Ö –∫–∞–∫ LP, —Ç–æ–ª—å–∫–æ –∫–∞–∫ –±–∞–ª–∞–Ω—Å –≤ InSwap
                            }
                        });
                    }

                    // –ú–µ—Ç–æ–¥ 1: my_pool_list (FALLBACK)
                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞ –∏–∑ backup –≤–µ—Ä—Å–∏–∏
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API –Ω–µ—Ç –ø–æ–ª—è lpUSD, —Ç–æ–ª—å–∫–æ amount0, amount1, lp, shareOfPool
                    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å LP –∏–∑ amount0 –∏ amount1, –∏—Å–ø–æ–ª—å–∑—É—è —Ü–µ–Ω—ã —Ç–æ–∫–µ–Ω–æ–≤
                    if (
                        (lpCount === 0 || (lpValueUSD === 0 && lpValueFB === 0)) &&
                        myPoolList?.code === 0 &&
                        myPoolList?.data?.list &&
                        Array.isArray(myPoolList.data.list)
                    ) {
                        lpCount = myPoolList.data.list.length;
                        debugInfo.lp_method = 'my_pool_list_calculated';

                        // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ FENNEC –≤ –ø—É–ª–∞—Ö –î–û —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
                        myPoolList.data.list.forEach(pool => {
                            const tick0 = pool.tick0 || '';
                            const tick1 = pool.tick1 || '';
                            const amount0 = parseFloat(pool.amount0 || 0);
                            const amount1 = parseFloat(pool.amount1 || 0);

                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ FENNEC –≤ –ø—É–ª–µ (—Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
                            if ((tick0 === 'FENNEC' || tick1 === 'FENNEC') && (amount0 > 0 || amount1 > 0)) {
                                hasFennecInLP = true;
                                debugInfo.has_fennec_in_lp_found = true;
                                debugInfo.has_fennec_in_lp_pool = { tick0, tick1, amount0, amount1 };
                            }
                        });

                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ totalLpUSD –≤ –æ—Ç–≤–µ—Ç–µ (–º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö API)
                        if (myPoolList.data.totalLpUSD) {
                            debugInfo.lp_total_lpUSD = myPoolList.data.totalLpUSD;
                            lpValueUSD = parseFloat(myPoolList.data.totalLpUSD) || 0;
                            if (fbPrice > 0) {
                                lpValueFB = lpValueUSD / fbPrice;
                            }

                            // –û—Ç–¥–µ–ª—å–Ω–æ —Å—á–∏—Ç–∞–µ–º LP –∏–º–µ–Ω–Ω–æ –ø–æ –ø–∞—Ä–µ —Å FENNEC (–¥–ª—è —Å–∫–∏–¥–∫–∏)
                            try {
                                myPoolList.data.list.forEach(pool => {
                                    const tick0 = pool.tick0 || '';
                                    const tick1 = pool.tick1 || '';
                                    if (tick0 !== 'FENNEC' && tick1 !== 'FENNEC') return;
                                    const amount0 = parseFloat(pool.amount0 || 0);
                                    const amount1 = parseFloat(pool.amount1 || 0);
                                    let price0 = 0;
                                    let price1 = 0;
                                    if (tick0 === 'sFB___000' || tick0.includes('FB')) price0 = fbPrice;
                                    else if (tick0 === 'FENNEC')
                                        price0 = fennecPriceInFB > 0 ? fennecPriceInFB * fbPrice : 0;
                                    else if (tick0 === 'sBTC___000' || tick0.includes('BTC')) price0 = btcPrice;
                                    if (tick1 === 'sFB___000' || tick1.includes('FB')) price1 = fbPrice;
                                    else if (tick1 === 'FENNEC')
                                        price1 = fennecPriceInFB > 0 ? fennecPriceInFB * fbPrice : 0;
                                    else if (tick1 === 'sBTC___000' || tick1.includes('BTC')) price1 = btcPrice;
                                    const poolValueUSD = amount0 * price0 + amount1 * price1;
                                    fennecLpValueUSD += poolValueUSD;
                                });
                            } catch (e) {
                                void e;
                            }
                        } else {
                            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∏–∑ amount0 –∏ amount1
                            myPoolList.data.list.forEach(pool => {
                                const tick0 = pool.tick0 || '';
                                const tick1 = pool.tick1 || '';
                                const amount0 = parseFloat(pool.amount0 || 0);
                                const amount1 = parseFloat(pool.amount1 || 0);

                                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–µ–Ω—ã —Ç–æ–∫–µ–Ω–æ–≤
                                let price0 = 0;
                                let price1 = 0;

                                // –î–ª—è sFB___000 –∏—Å–ø–æ–ª—å–∑—É–µ–º fbPrice
                                if (tick0 === 'sFB___000' || tick0.includes('FB')) {
                                    price0 = fbPrice;
                                } else if (tick0 === 'FENNEC') {
                                    price0 = fennecPriceInFB > 0 ? fennecPriceInFB * fbPrice : 0;
                                } else if (tick0 === 'sBTC___000' || tick0.includes('BTC')) {
                                    price0 = btcPrice;
                                }

                                if (tick1 === 'sFB___000' || tick1.includes('FB')) {
                                    price1 = fbPrice;
                                } else if (tick1 === 'FENNEC') {
                                    price1 = fennecPriceInFB > 0 ? fennecPriceInFB * fbPrice : 0;
                                } else if (tick1 === 'sBTC___000' || tick1.includes('BTC')) {
                                    price1 = btcPrice;
                                }

                                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å LP –ø–æ–∑–∏—Ü–∏–∏ –≤ USD
                                const value0USD = amount0 * price0;
                                const value1USD = amount1 * price1;
                                const poolValueUSD = value0USD + value1USD;

                                lpValueUSD += poolValueUSD;

                                if (tick0 === 'FENNEC' || tick1 === 'FENNEC') {
                                    fennecLpValueUSD += poolValueUSD;
                                }

                                // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ FB –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞
                                if (fbPrice > 0) {
                                    lpValueFB += poolValueUSD / fbPrice;
                                } else {
                                    // –ï—Å–ª–∏ —Ü–µ–Ω—ã –Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º amount1 (–æ–±—ã—á–Ω–æ —ç—Ç–æ FB –≤ –ø–∞—Ä–µ)
                                    // –ù–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ FB, –∏–Ω–∞—á–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
                                    if (tick1 === 'sFB___000' || tick1.includes('FB')) {
                                        lpValueFB += amount1 * 2; // –ü—Ä–∏–º–µ—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ (amount1 * 2 = –æ–±—â–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)
                                    } else if (tick0 === 'sFB___000' || tick0.includes('FB')) {
                                        lpValueFB += amount0 * 2;
                                    }
                                }
                            });
                        }
                    } else if (myPoolList?.code !== undefined) {
                        // –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞, –Ω–æ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö - –ª–æ–≥–∏—Ä—É–µ–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                        debugInfo.lp_method = 'my_pool_list_error';
                        debugInfo.my_pool_list_error_code = myPoolList.code;
                        debugInfo.my_pool_list_error_msg = myPoolList.msg || myPoolList.message || 'unknown';
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º fallback –∏–∑ all_balance, –µ—Å–ª–∏ my_pool_list –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è –∏–ª–∏ –≤–µ—Ä–Ω—É–ª 404
                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–∫–∂–µ totalLpUSD –≤ all_balance
                    if ((lpCount === 0 || (lpValueUSD === 0 && lpValueFB === 0)) && allBalance?.data) {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º totalLpUSD –≤ all_balance (–º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –∫–æ—Ä–Ω–µ data)
                        if (allBalance.data.totalLpUSD) {
                            lpValueUSD = parseFloat(allBalance.data.totalLpUSD) || 0;
                            if (fbPrice > 0) {
                                lpValueFB = lpValueUSD / fbPrice;
                            }
                            lpCount = 1; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º count –µ—Å–ª–∏ –µ—Å—Ç—å LP
                            debugInfo.lp_method = 'all_balance_totalLpUSD';
                            debugInfo.lp_total_lpUSD = allBalance.data.totalLpUSD;
                            debugInfo.lp_included_in_all_tokens = true; // –£–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤—ã—à–µ

                            // –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ–∑–∏—Ü–∏–∏ LP, —Å—á–∏—Ç–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—É–º–º—É –ø–æ –ø—É–ª–∞–º —Å FENNEC
                            if (allBalance.data.lp_positions && Array.isArray(allBalance.data.lp_positions)) {
                                allBalance.data.lp_positions.forEach(lpPos => {
                                    const tick0 = lpPos.tick0 || '';
                                    const tick1 = lpPos.tick1 || '';
                                    if (tick0 !== 'FENNEC' && tick1 !== 'FENNEC') return;
                                    const amount0 = parseFloat(lpPos.amount0 || 0);
                                    const amount1 = parseFloat(lpPos.amount1 || 0);
                                    let price0 = 0;
                                    let price1 = 0;
                                    if (tick0 === 'sFB___000' || tick0.includes('FB')) price0 = fbPrice;
                                    else if (tick0 === 'FENNEC')
                                        price0 = fennecPriceInFB > 0 ? fennecPriceInFB * fbPrice : 0;
                                    else if (tick0 === 'sBTC___000' || tick0.includes('BTC')) price0 = btcPrice;
                                    if (tick1 === 'sFB___000' || tick1.includes('FB')) price1 = fbPrice;
                                    else if (tick1 === 'FENNEC')
                                        price1 = fennecPriceInFB > 0 ? fennecPriceInFB * fbPrice : 0;
                                    else if (tick1 === 'sBTC___000' || tick1.includes('BTC')) price1 = btcPrice;
                                    const poolValueUSD = amount0 * price0 + amount1 * price1;
                                    fennecLpValueUSD += poolValueUSD;
                                });
                            }
                        } else if (allBalance.data.lp_positions && Array.isArray(allBalance.data.lp_positions)) {
                            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º LP –∏–∑ lp_positions
                            lpCount = allBalance.data.lp_positions.length;
                            allBalance.data.lp_positions.forEach(lpPos => {
                                const amount0 = parseFloat(lpPos.amount0 || 0);
                                const amount1 = parseFloat(lpPos.amount1 || 0);
                                const tick0 = lpPos.tick0 || '';
                                const tick1 = lpPos.tick1 || '';

                                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–µ–Ω—ã
                                let price0 = 0;
                                let price1 = 0;

                                if (tick0 === 'sFB___000' || tick0.includes('FB')) {
                                    price0 = fbPrice;
                                } else if (tick0 === 'FENNEC') {
                                    price0 = fennecPriceInFB > 0 ? fennecPriceInFB * fbPrice : 0;
                                } else if (tick0 === 'sBTC___000' || tick0.includes('BTC')) {
                                    price0 = btcPrice;
                                }

                                if (tick1 === 'sFB___000' || tick1.includes('FB')) {
                                    price1 = fbPrice;
                                } else if (tick1 === 'FENNEC') {
                                    price1 = fennecPriceInFB > 0 ? fennecPriceInFB * fbPrice : 0;
                                } else if (tick1 === 'sBTC___000' || tick1.includes('BTC')) {
                                    price1 = btcPrice;
                                }

                                const value0USD = amount0 * price0;
                                const value1USD = amount1 * price1;
                                const poolValueUSD = value0USD + value1USD;

                                lpValueUSD += poolValueUSD;

                                if (tick0 === 'FENNEC' || tick1 === 'FENNEC') {
                                    fennecLpValueUSD += poolValueUSD;
                                }

                                if (fbPrice > 0) {
                                    lpValueFB += poolValueUSD / fbPrice;
                                }

                                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ FENNEC –≤ –ø—É–ª–µ
                                if ((tick0 === 'FENNEC' || tick1 === 'FENNEC') && (amount0 > 0 || amount1 > 0)) {
                                    hasFennecInLP = true;
                                }
                            });
                            debugInfo.lp_method = 'all_balance_lp_positions';
                            debugInfo.lp_fallback_used = true;
                        }
                    }

                    // –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ LP
                    debugInfo.lp_count_final = lpCount;
                    debugInfo.lp_value_fb_final = lpValueFB;
                    debugInfo.lp_value_usd_final = lpValueUSD;
                    debugInfo.fennec_lp_value_usd_final = fennecLpValueUSD;
                    debugInfo.has_fennec_in_lp_final = hasFennecInLP;
                    if (lpCount === 0) {
                        debugInfo.lp_method = debugInfo.lp_method || 'error_no_data';
                        debugInfo.lp_error = 'LP data not loaded - no fallback methods available';
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±—Ä–∞–Ω fallback –º–µ—Ç–æ–¥ user_positions –¥–ª—è LP - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ my_pool_list
                    // –ï—Å–ª–∏ LP –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å, —ç—Ç–æ –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ –≤ debug

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ï—Å–ª–∏ lpValueUSD –Ω–µ –±—ã–ª —Ä–∞—Å—Å—á–∏—Ç–∞–Ω, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –∏–∑ FB
                    if (lpValueUSD === 0 && lpValueFB > 0 && fbPrice > 0) {
                        lpValueUSD = lpValueFB * fbPrice;
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ù–∞—Ç–∏–≤–Ω—ã–π –±–∞–ª–∞–Ω—Å FENNEC –±–µ—Ä–µ–º –∏–∑ brc20 summary (–∫–æ—à–µ–ª–µ–∫) + allBalance (InSwap)
                    // –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞ (brc20-prog –∏ brc20)
                    let fennecNativeBalance = 0;
                    let fennecWalletBalance = 0;
                    let fennecInSwapBalance = 0;

                    // 1. FENNEC –Ω–∞ –∫–æ—à–µ–ª—å–∫–µ (–∏–∑ brc20 summary)
                    if (unisatBrc20Summary?.data) {
                        let tokensList = [];

                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞
                        if (unisatBrc20Summary.data.detail && Array.isArray(unisatBrc20Summary.data.detail)) {
                            tokensList = unisatBrc20Summary.data.detail;
                        } else if (unisatBrc20Summary.data.list && Array.isArray(unisatBrc20Summary.data.list)) {
                            tokensList = unisatBrc20Summary.data.list;
                        } else if (Array.isArray(unisatBrc20Summary.data)) {
                            tokensList = unisatBrc20Summary.data;
                        }

                        if (tokensList.length > 0) {
                            const fen = tokensList.find(t => {
                                const raw = t.ticker || t.tick || t.symbol || '';
                                return raw.toUpperCase() === 'FENNEC';
                            });
                            if (fen) {
                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: brc20-prog –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –¥—Ä—É–≥–∏–µ –ø–æ–ª—è –¥–ª—è –±–∞–ª–∞–Ω—Å–∞
                                const avail = parseFloat(fen.availableBalance || fen.balance || 0);
                                const trans = parseFloat(fen.transferableBalance || 0);
                                fennecWalletBalance = avail + trans || 0;
                                debugInfo.fennec_balance_method = 'brc20_summary_detail';
                            }
                        }
                    }

                    // 2. FENNEC –≤ InSwap (–∏–∑ all_balance)
                    if (allBalance?.data?.FENNEC) {
                        const fennecData = allBalance.data.FENNEC;
                        const bal = fennecData.balance || fennecData;
                        if (typeof bal === 'object' && bal !== null) {
                            fennecInSwapBalance = parseFloat(
                                bal.swap || bal.module || bal.pendingSwap || bal.pendingAvailable || 0
                            );
                        } else {
                            fennecInSwapBalance = parseFloat(bal || 0);
                        }
                        debugInfo.fennec_inswap_balance = fennecInSwapBalance;
                    }

                    // 3. –°—É–º–º–∏—Ä—É–µ–º: –∫–æ—à–µ–ª–µ–∫ + InSwap
                    fennecNativeBalance = fennecWalletBalance + fennecInSwapBalance;
                    debugInfo.fennec_native_balance = fennecNativeBalance;
                    debugInfo.fennec_wallet_balance = fennecWalletBalance;
                    debugInfo.fennec_inswap_balance = fennecInSwapBalance;

                    // FENNEC BOXES: –≤–ª–∞–¥–µ–ª—å—Ü–∞–º –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤—ã–¥–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø–µ—Ä–∫–∏ (—Å–∫–∏–¥–∫–∞/–±–µ–π–¥–∂/—Å–µ—Ä–¥—Ü–µ) –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–∞—Ä—Ç–æ—á–∫–∏
                    let fennecBoxesCount = 0;
                    let hasFennecBoxes = false;
                    try {
                        const targetCollectionId = 'fennec_boxes';
                        const normKey = s =>
                            String(s || '')
                                .trim()
                                .toLowerCase()
                                .replace(/[^a-z0-9]+/g, '');
                        const targetCollectionIdNorm = normKey(targetCollectionId);
                        const asId = v => (typeof v === 'string' ? v.trim() : typeof v === 'number' ? String(v) : '');

                        // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –µ—Å–ª–∏ —É–∂–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏ collection_summary —Ä–∞–Ω–µ–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞)
                        if (collectionSummaryAgg && collectionSummaryAgg.sawAny) {
                            if (collectionSummaryAgg.hasFennecBoxes) {
                                hasFennecBoxes = true;
                                fennecBoxesCount = Math.max(
                                    1,
                                    Math.floor(Number(collectionSummaryAgg.fennecBoxesCount) || 1)
                                );
                                debugInfo.fennec_boxes_source = 'unisat_market_collection_summary_exact';
                            } else {
                                debugInfo.fennec_boxes_source = 'unisat_market_collection_summary_exact';
                                debugInfo.fennec_boxes_not_found_in_summary = true;
                            }
                        }

                        // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç API_KEY): Uniscan Summary -> InscriptionsList
                        // –ß–∞—Å—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç collection/parent –ø–æ–ª—è, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–ª–µ–Ω—Å—Ç–≤–æ
                        try {
                            const listRaw = uniscanSummary?.data?.assets?.InscriptionsList;
                            if (Array.isArray(listRaw) && listRaw.length) {
                                const looksLikeBoxes = s => {
                                    const k = normKey(s);
                                    if (!k) return false;
                                    if (k === targetCollectionIdNorm) return true;
                                    // –§–∞–∑–∑–∏: –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ slug –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è (fennec-boxes, fennecboxes, etc)
                                    if (k.includes('fennec') && k.includes('box')) return true;
                                    return false;
                                };

                                for (const it of listRaw) {
                                    const collectionObj =
                                        it?.collection && typeof it.collection === 'object' ? it.collection : null;
                                    const metaObj = it?.meta && typeof it.meta === 'object' ? it.meta : null;

                                    const candidates = [
                                        asId(it?.collectionId),
                                        asId(it?.collection_id),
                                        asId(it?.collectionSlug),
                                        asId(it?.collection_slug),
                                        asId(it?.slug),
                                        asId(it?.collectionInscriptionId),
                                        asId(it?.collection_inscription_id),
                                        asId(it?.parentInscriptionId),
                                        asId(it?.parent_inscription_id),
                                        asId(it?.name),
                                        asId(it?.title),
                                        asId(it?.collectionName),
                                        asId(it?.collection_name),
                                        asId(metaObj?.collectionId),
                                        asId(metaObj?.collection_id),
                                        asId(metaObj?.collectionSlug),
                                        asId(metaObj?.collection_slug),
                                        asId(metaObj?.slug),
                                        asId(metaObj?.name),
                                        asId(metaObj?.title),
                                        asId(collectionObj?.collectionId),
                                        asId(collectionObj?.collection_id),
                                        asId(collectionObj?.collectionSlug),
                                        asId(collectionObj?.collection_slug),
                                        asId(collectionObj?.slug),
                                        asId(collectionObj?.name),
                                        asId(collectionObj?.title),
                                        asId(collectionObj?.id)
                                    ].filter(Boolean);

                                    if (candidates.some(looksLikeBoxes)) {
                                        hasFennecBoxes = true;
                                        fennecBoxesCount = 1;
                                        debugInfo.fennec_boxes_source = 'uniscan_summary_inscriptions_list';
                                        debugInfo.fennec_boxes_matched_field = candidates.find(looksLikeBoxes);
                                        break;
                                    }
                                }
                            }
                        } catch (e) {
                            debugInfo.fennec_boxes_uniscan_error = e?.message || String(e);
                        }

                        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ collection_summary API (—Ç—Ä–µ–±—É–µ—Ç API_KEY)
                        if (
                            !hasFennecBoxes &&
                            API_KEY &&
                            !__fastMode &&
                            !(collectionSummaryAgg && collectionSummaryAgg.sawAny)
                        ) {
                            try {
                                const summaryUrl =
                                    'https://open-api-fractal.unisat.io/v3/market/collection/auction/collection_summary';
                                let cursor = '';
                                let page = 0;

                                while (page < 20 && !hasFennecBoxes) {
                                    const cacheKey = `fennec_boxes_summary_${address}_${cursor || 'start'}_${page}`;
                                    const res = await safeFetch(
                                        () =>
                                            fetch(summaryUrl, {
                                                method: 'POST',
                                                headers: {
                                                    ...unisatApiHeaders,
                                                    ...authHeaders(),
                                                    'Content-Type': 'application/json'
                                                },
                                                body: JSON.stringify(
                                                    cursor ? { firstCollectionId: cursor, address } : { address }
                                                )
                                            }),
                                        {
                                            isUniSat: true,
                                            useCache: true,
                                            cacheKey,
                                            retryOn429: true
                                        }
                                    );

                                    let list = [];
                                    if (Array.isArray(res?.data?.list)) list = res.data.list;
                                    else if (Array.isArray(res?.data?.data?.list)) list = res.data.data.list;
                                    else if (Array.isArray(res?.data)) list = res.data;
                                    else if (Array.isArray(res?.list)) list = res.list;
                                    if (!list.length) break;

                                    const looksLikeBoxes = s => {
                                        const k = normKey(s);
                                        if (!k) return false;
                                        if (k === targetCollectionIdNorm) return true;
                                        if (k.includes('fennec') && k.includes('box')) return true;
                                        return false;
                                    };

                                    for (const it of list) {
                                        const candidates = [
                                            asId(it?.collectionId),
                                            asId(it?.collection_id),
                                            asId(it?.collectionSlug),
                                            asId(it?.slug),
                                            asId(it?.collectionName),
                                            asId(it?.name)
                                        ].filter(Boolean);

                                        if (candidates.some(looksLikeBoxes)) {
                                            hasFennecBoxes = true;
                                            fennecBoxesCount = 1;
                                            debugInfo.fennec_boxes_source = 'unisat_market_collection_summary';
                                            debugInfo.fennec_boxes_matched_field = candidates.find(looksLikeBoxes);
                                            break;
                                        }
                                    }

                                    if (hasFennecBoxes) break;

                                    const last = list[list.length - 1];
                                    const nextCursor = String(
                                        last?.collectionId ?? last?.collection_id ?? last?.id ?? ''
                                    ).trim();
                                    if (!nextCursor || nextCursor === cursor) break;
                                    cursor = nextCursor;
                                    page++;
                                }
                            } catch (e) {
                                debugInfo.fennec_boxes_summary_error = e?.message || String(e);
                            }
                        }

                        // –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫: UniSat Collection Indexer –ø–æ –∞–¥—Ä–µ—Å—É (—ç—Ç–æ –≤–ª–∞–¥–µ–Ω–∏–µ, –Ω–µ –∞—É–∫—Ü–∏–æ–Ω)
                        if (!hasFennecBoxes) {
                            try {
                                if (API_KEY) requireUniSatKey();
                                const addrEnc = encodeURIComponent(address);
                                const limit = 100;
                                const sources = [
                                    {
                                        name: 'unisat_collection_indexer_fractal',
                                        base: `${FRACTAL_BASE}/collection-indexer/address/${addrEnc}/collection/list`
                                    },
                                    {
                                        name: 'unisat_collection_indexer_unisat',
                                        base: `${UNISAT_BASE}/collection-indexer/address/${addrEnc}/collection/list`
                                    }
                                ];

                                for (let s = 0; s < sources.length && !hasFennecBoxes; s++) {
                                    let start = 0;
                                    let page = 0;
                                    while (page < (__fastMode ? 2 : 10) && !hasFennecBoxes) {
                                        const endpoint = `${sources[s].base}?start=${start}&limit=${limit}`;
                                        const cacheKey = `fennec_boxes_${sources[s].name}_${address}_${start}_${limit}`;
                                        const res = await safeFetch(
                                            () =>
                                                fetch(endpoint, {
                                                    method: 'GET',
                                                    headers: unisatApiHeaders
                                                }),
                                            {
                                                isUniSat: true,
                                                useCache: true,
                                                cacheKey,
                                                retryOn429: !__fastMode
                                            }
                                        );

                                        let list = [];
                                        if (Array.isArray(res?.data?.list)) list = res.data.list;
                                        else if (Array.isArray(res?.data)) list = res.data;
                                        else if (Array.isArray(res?.list)) list = res.list;

                                        for (const it of list) {
                                            const cid =
                                                asId(it?.collectionId) ||
                                                asId(it?.collection_id) ||
                                                asId(it?.collectionSlug) ||
                                                asId(it?.collection_slug) ||
                                                asId(it?.slug) ||
                                                asId(it?.id) ||
                                                asId(it?.name) ||
                                                asId(it?.title) ||
                                                asId(it?.collectionName) ||
                                                asId(it?.collection_name) ||
                                                asId(it?.collection?.collectionId) ||
                                                asId(it?.collection?.collection_id) ||
                                                asId(it?.collection?.collectionSlug) ||
                                                asId(it?.collection?.collection_slug) ||
                                                asId(it?.collection?.slug) ||
                                                asId(it?.collection?.id) ||
                                                asId(it?.collection?.name) ||
                                                asId(it?.collection?.title) ||
                                                asId(it?.collection?.collectionName) ||
                                                asId(it?.collection?.collection_name);
                                            const cidNorm = normKey(cid);
                                            if (
                                                cidNorm &&
                                                (cidNorm === targetCollectionIdNorm ||
                                                    (cidNorm.includes('fennec') && cidNorm.includes('box')))
                                            ) {
                                                const holdingCandidate = it?.holding ?? it?.holdings;
                                                const countCandidateRaw = Number(
                                                    holdingCandidate ??
                                                        it?.count ??
                                                        it?.amount ??
                                                        it?.inscriptionCount ??
                                                        it?.inscription_count ??
                                                        it?.total ??
                                                        it?.totalCount ??
                                                        it?.total_count ??
                                                        0
                                                );
                                                const countCandidateNorm =
                                                    (holdingCandidate === null || holdingCandidate === undefined) &&
                                                    Number.isFinite(countCandidateRaw) &&
                                                    countCandidateRaw >= 20 &&
                                                    countCandidateRaw % 20 === 0
                                                        ? countCandidateRaw / 20
                                                        : countCandidateRaw;
                                                fennecBoxesCount =
                                                    Number.isFinite(countCandidateNorm) && countCandidateNorm > 0
                                                        ? Math.floor(countCandidateNorm)
                                                        : 1;
                                                hasFennecBoxes = true;
                                                debugInfo.fennec_boxes_source = sources[s].name;
                                                debugInfo.fennec_boxes_endpoint = endpoint;
                                                debugInfo.fennec_boxes_matched_id = cid;
                                                debugInfo.fennec_boxes_count_from_api = countCandidateRaw;
                                                break;
                                            }
                                        }

                                        const totalRaw = res?.data?.total ?? res?.total;
                                        const total = Number(totalRaw);
                                        if (hasFennecBoxes) break;
                                        if (!list.length) break;
                                        if (Number.isFinite(total) && total > 0 && start + list.length >= total) break;
                                        if (list.length < limit) break;

                                        start += list.length;
                                        page++;
                                    }
                                }
                            } catch (e) {
                                debugInfo.fennec_boxes_indexer_error = e?.message || String(e);
                            }
                        }

                        // Fallback: Public inscription-data (–±–µ–∑ API_KEY) ‚Äî –∏—â–µ–º —á–ª–µ–Ω—Å—Ç–≤–æ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –ø–æ –ø–æ–ª—è–º collectionId
                        if (!hasFennecBoxes) {
                            try {
                                const addrEnc = encodeURIComponent(address);
                                let cursor = 0;
                                let page = 0;
                                const pageSize = 100;
                                while (page < (__fastMode ? 2 : 5) && !hasFennecBoxes) {
                                    const endpoint = `${FRACTAL_BASE}/indexer/address/${addrEnc}/inscription-data?cursor=${cursor}&size=${pageSize}`;
                                    const cacheKey = `fennec_boxes_inscription_data_${address}_${cursor}_${pageSize}`;
                                    const res = await safeFetch(
                                        () =>
                                            fetch(endpoint, {
                                                method: 'GET',
                                                headers: unisatApiHeaders
                                            }),
                                        {
                                            isUniSat: true,
                                            useCache: true,
                                            cacheKey,
                                            retryOn429: !__fastMode
                                        }
                                    );

                                    const list = Array.isArray(res?.data?.inscription) ? res.data.inscription : [];
                                    if (!list.length) break;

                                    for (const it of list) {
                                        const cid =
                                            asId(it?.collectionId) ||
                                            asId(it?.collection_id) ||
                                            asId(it?.collection?.collectionId) ||
                                            asId(it?.collection?.collection_id) ||
                                            asId(it?.collection?.id);
                                        const cidNorm = normKey(cid);
                                        const nameNorm = normKey(
                                            asId(it?.name) ||
                                                asId(it?.title) ||
                                                asId(it?.collection?.name) ||
                                                asId(it?.collection?.title)
                                        );
                                        if (
                                            (cidNorm &&
                                                (cidNorm === targetCollectionIdNorm ||
                                                    (cidNorm.includes('fennec') && cidNorm.includes('box')))) ||
                                            (nameNorm &&
                                                (nameNorm === targetCollectionIdNorm ||
                                                    (nameNorm.includes('fennec') && nameNorm.includes('box'))))
                                        ) {
                                            fennecBoxesCount = 1;
                                            hasFennecBoxes = true;
                                            debugInfo.fennec_boxes_matched_field = cidNorm || nameNorm;
                                            break;
                                        }
                                    }

                                    if (hasFennecBoxes) {
                                        debugInfo.fennec_boxes_source = 'unisat_inscription_data_public';
                                        debugInfo.fennec_boxes_endpoint = endpoint;
                                        break;
                                    }

                                    const total = Number(res?.data?.total || 0);
                                    cursor += list.length;
                                    page++;
                                    if (cursor >= total || list.length < pageSize) break;
                                }
                            } catch (e) {
                                debugInfo.fennec_boxes_public_error = e?.message || String(e);
                            }
                        }
                    } catch (e) {
                        // silent
                    }
                    debugInfo.has_fennec_boxes = hasFennecBoxes;
                    debugInfo.fennec_boxes_count = fennecBoxesCount;

                    if (!(typeof totalCollections === 'number' && Number.isFinite(totalCollections))) {
                        totalCollections = 0;
                    }
                    if (hasFennecBoxes && totalCollections < 1) {
                        totalCollections = 1;
                        debugInfo.total_collections_source =
                            debugInfo.total_collections_source || 'forced_min_due_to_fennec_boxes';
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ë–∞–ª–∞–Ω—Å FB –≤ InSwap (sFB___000). –ù—É–∂–µ–Ω –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ fbTotal.
                    let fbInSwapBalance = 0;
                    if (allBalance?.data?.sFB___000) {
                        const sfbData = allBalance.data.sFB___000;
                        const bal = sfbData.balance || sfbData;
                        if (typeof bal === 'object' && bal !== null) {
                            fbInSwapBalance = parseFloat(
                                bal.swap ||
                                    bal.module ||
                                    bal.pendingSwap ||
                                    bal.pendingAvailable ||
                                    bal.available ||
                                    bal.total ||
                                    0
                            );
                        } else {
                            fbInSwapBalance = parseFloat(bal || 0);
                        }
                    }
                    debugInfo.fb_inswap_balance = fbInSwapBalance;

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–æ–∏—Å–∫ —Å—Ç–µ–π–∫–∏–Ω–≥–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é —Å—Ç–æ—Ä–æ–Ω—É –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –°—Ç–µ–π–∫–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω - —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞–Ω–∏–º–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∞–¥—Ä–µ—Å–æ–≤ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
                    // –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ API –∏–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥
                    const stakedFB = 0;
                    debugInfo.staked_fb = 0;
                    debugInfo.staking_method = 'disabled';
                    debugInfo.staking_note =
                        'Staking detection temporarily disabled - scanning transactions is too slow for addresses with many transactions';

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –í–°–ï–• —Ç–æ–∫–µ–Ω–æ–≤ –∏–∑ InSwap (–≤–∫–ª—é—á–∞—è Bitcoin, Wangcai –∏ –¥—Ä—É–≥–∏–µ)
                    // –í–ê–ñ–ù–û: –ò—Å–∫–ª—é—á–∞–µ–º sFB –∏ FENNEC, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —É–∂–µ —É—á—Ç–µ–Ω—ã –≤ fbSwapBal –∏ fennecSwapBal
                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –í–∫–ª—é—á–∞–µ–º LP –≤ –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤
                    let allTokensValueUSD = 0;
                    const allTokensDetails = {};

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º total_usd –∏–∑ all_balance (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
                    // all_balance –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª–µ total_usd —Å –æ–±—â–∏–º –±–∞–ª–∞–Ω—Å–æ–º –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö
                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: total_usd –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å LP, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –∫–∞–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
                    let allBalanceTotalUSD = 0;
                    if (allBalance?.data?.total_usd !== undefined) {
                        allBalanceTotalUSD = parseFloat(allBalance.data.total_usd) || 0;
                        debugInfo.all_balance_total_usd_found = true;
                        debugInfo.all_balance_total_usd_value = allBalanceTotalUSD;
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: LP –ù–ï –¥–æ–±–∞–≤–ª—è–µ–º –≤ all_tokens_value_usd –∑–¥–µ—Å—å
                    // LP —É–∂–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –≤ Net Worth —á–µ—Ä–µ–∑ lpValueUSD
                    // –ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å LP –∑–¥–µ—Å—å, –æ–Ω –±—É–¥–µ—Ç —É—á—Ç–µ–Ω –¥–≤–∞–∂–¥—ã (–∑–¥–µ—Å—å + –≤ fbValueUSD)

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º allBalance –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–æ–≤
                    // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –£—á–∏—Ç—ã–≤–∞–µ–º –¢–û–õ–¨–ö–û —Ç–æ–∫–µ–Ω—ã –∏–∑ InSwap (all_balance), –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º —Ç–æ–∫–µ–Ω—ã –∏–∑ –∫–æ—à–µ–ª—å–∫–∞
                    // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Å—á–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤ —Å 0 –æ–±—ä–µ–º–æ–º, –Ω–æ –≤—ã—Å–æ–∫–æ–π —Ü–µ–Ω–æ–π
                    if (allBalance?.data) {
                        // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –∫–ª—é—á–∞–º –≤ allBalance.data
                        Object.keys(allBalance.data).forEach(ticker => {
                            const tokenData = allBalance.data[ticker];

                            const isLikelyLpTicker = (() => {
                                const t = String(ticker || '').toUpperCase();
                                if (!t) return false;
                                if (t.includes('/')) return true;
                                if (t.includes(' LP')) return true;
                                if (t.startsWith('LP')) return true;
                                if (t.includes('-')) {
                                    // avoid skipping normal hyphenated tokens; only skip common LP pair patterns
                                    const lpKey = ['FB', 'SFB', 'BTC', 'SBTC', 'FENNEC'].some(x => t.includes(x));
                                    if (lpKey) return true;
                                }
                                if (tokenData && typeof tokenData === 'object') {
                                    if (tokenData.tick0 || tokenData.tick1 || tokenData.poolId || tokenData.pool_id)
                                        return true;
                                    if (tokenData.is_lp || tokenData.isLp) return true;
                                }
                                return false;
                            })();

                            // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Ç–æ–ª—å–∫–æ —Å–ª—É–∂–µ–±–Ω—ã–µ –ø–æ–ª—è
                            if (
                                ticker === 'lp_positions' ||
                                ticker === 'positions' ||
                                ticker === 'total_usd' ||
                                isLikelyLpTicker ||
                                typeof tokenData !== 'object' ||
                                !tokenData
                            ) {
                                return;
                            }

                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–∫–ª—é—á–∞–µ–º —Ç–æ–ª—å–∫–æ sFB, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —É–∂–µ —É—á—Ç–µ–Ω –≤ fbSwapBal
                            // FENNEC —Ç–µ–ø–µ—Ä—å —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ –≤ Net Worth
                            const normalizedTicker = ticker
                                .replace(/___\d+$/, '')
                                .toUpperCase()
                                .replace(/_+$/, '');
                            if (normalizedTicker === 'SFB') {
                                return; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º sFB, —Ç–∞–∫ –∫–∞–∫ —É–∂–µ —É—á—Ç–µ–Ω –≤ fbSwapBal
                            }
                            // FENNEC —Ç–µ–ø–µ—Ä—å —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤ all_tokens_value_usd

                            // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò–∑–≤–ª–µ–∫–∞–µ–º –±–∞–ª–∞–Ω—Å —Å —É—á–µ—Ç–æ–º —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä (balance –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—ä–µ–∫—Ç–æ–º)
                            let balance = 0;
                            const bal = tokenData.balance || tokenData;

                            // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä: { balance: { swap: X, module: Y } } –∏–ª–∏ { balance: X }
                            if (typeof bal === 'object' && bal !== null) {
                                balance = parseFloat(
                                    bal.swap ||
                                        bal.module ||
                                        bal.pendingSwap ||
                                        bal.pendingAvailable ||
                                        bal.available ||
                                        bal.total ||
                                        0
                                );
                            } else {
                                balance = parseFloat(bal || tokenData.available || tokenData.total || 0);
                            }

                            if (balance > 0) {
                                let tokenValueUSD = 0;

                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ü–µ–Ω—É –∏–∑ all_balance (–æ–Ω–∞ —É–∂–µ –≤ USD)
                                const price = parseFloat(tokenData.price || 0);

                                if (price > 0) {
                                    // –¶–µ–Ω–∞ —É–∂–µ –≤ USD (–∏–∑ all_balance API)
                                    tokenValueUSD = balance * price;
                                } else {
                                    // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥: –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ FB –∏–ª–∏ BTC –µ—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞
                                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£—á–∏—Ç—ã–≤–∞–µ–º –≤—Å–µ —Ç–æ–∫–µ–Ω—ã, –≤–∫–ª—é—á–∞—è sBTC, sFB, FENNEC
                                    if (ticker === 'sBTC___000' || ticker === 'sBTC' || ticker === 'BTC') {
                                        tokenValueUSD = balance * btcPrice;
                                    } else if (ticker === 'sFB___000' || ticker === 'sFB' || ticker === 'FB') {
                                        tokenValueUSD = balance * fbPrice;
                                    } else if (ticker === 'FENNEC') {
                                        // FENNEC —á–µ—Ä–µ–∑ —Ü–µ–Ω—É –≤ FB
                                        if (fennecPriceInFB > 0 && fbPrice > 0) {
                                            tokenValueUSD = balance * fennecPriceInFB * fbPrice;
                                        }
                                    } else {
                                        // –î–ª—è –¥—Ä—É–≥–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, wangcai) –ø—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ —Ü–µ–Ω—É
                                        // –ï—Å–ª–∏ –µ—Å—Ç—å —Ü–µ–Ω–∞ –≤ FB, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º
                                        const priceInFB = parseFloat(tokenData.priceInFB || tokenData.price_fb || 0);
                                        if (priceInFB > 0 && fbPrice > 0) {
                                            tokenValueUSD = balance * priceInFB * fbPrice;
                                        } else if (btcPrice > 0) {
                                            // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥: —á–µ—Ä–µ–∑ BTC (–µ—Å–ª–∏ –µ—Å—Ç—å —Ü–µ–Ω–∞ –≤ BTC)
                                            const priceInBTC = parseFloat(
                                                tokenData.priceInBTC || tokenData.price_btc || 0
                                            );
                                            if (priceInBTC > 0) {
                                                tokenValueUSD = balance * priceInBTC * btcPrice;
                                            }
                                        }
                                    }
                                }

                                if (tokenValueUSD > 0) {
                                    allTokensValueUSD += tokenValueUSD;
                                    allTokensDetails[ticker] = {
                                        balance: balance,
                                        valueUSD: tokenValueUSD,
                                        price: price || tokenValueUSD / balance
                                    };
                                }
                            }
                        });
                    }

                    if (!(lpValueUSD > 0) && allBalanceTotalUSD > 0 && lpCount > 0) {
                        const inferred = allBalanceTotalUSD - allTokensValueUSD;
                        if (inferred > 0) {
                            lpValueUSD = inferred;
                            if (fbPrice > 0) lpValueFB = lpValueUSD / fbPrice;
                            debugInfo.lp_method = debugInfo.lp_method || 'inferred_from_total_usd';
                            debugInfo.lp_value_usd_inferred = lpValueUSD;
                        }
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ï—Å–ª–∏ total_usd –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ all_balance, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –∫–∞–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ù–ï –¥–æ–±–∞–≤–ª—è–µ–º LP –≤ all_tokens_value_usd, —Ç–∞–∫ –∫–∞–∫ LP —É–∂–µ –≤–∫–ª—é—á–µ–Ω –≤ total_usd –∏–∑ all_balance
                    // LP value —É–∂–µ —É—á—Ç–µ–Ω –≤ all_balance.total_usd, –ø–æ—ç—Ç–æ–º—É –Ω–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –µ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ
                    if (allBalanceTotalUSD > 0) {
                        // –í–ê–ñ–ù–û: –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ netWorth —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ all_tokens_value_usd + lp_value_usd.
                        // –ü–æ—ç—Ç–æ–º—É –∑–¥–µ—Å—å –¥–µ—Ä–∂–∏–º all_tokens_value_usd –ë–ï–ó LP (–≤—ã—á–∏—Ç–∞–µ–º LP –∏–∑ total_usd),
                        // –∏–Ω–∞—á–µ LP –±—É–¥–µ—Ç —É—á—Ç–µ–Ω –¥–≤–∞–∂–¥—ã.
                        allTokensValueUSD = Math.max(0, allBalanceTotalUSD - lpValueUSD);
                        debugInfo.all_tokens_value_usd_source = 'all_balance_total_usd';
                        debugInfo.all_tokens_value_usd_calculated = allTokensValueUSD;
                        debugInfo.lp_included_in_all_tokens = false;
                        debugInfo.all_balance_total_usd_includes_lp = true;
                        debugInfo.all_tokens_value_usd_lp_subtracted = lpValueUSD;
                    } else if (allTokensValueUSD > 0) {
                        // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ù–ï –¥–æ–±–∞–≤–ª—è–µ–º LP, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —É–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—á—Ç–µ–Ω –≤ all_balance –∏–ª–∏ –±—É–¥–µ—Ç —É—á—Ç–µ–Ω –æ—Ç–¥–µ–ª—å–Ω–æ
                        debugInfo.all_tokens_value_usd_source = 'calculated_from_prices';
                    } else {
                        // FALLBACK: –ï—Å–ª–∏ all_balance –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (429 error), –ø—ã—Ç–∞–µ–º—Å—è —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                        // –ò—Å–ø–æ–ª—å–∑—É–µ–º FENNEC balance * price –∫–∞–∫ –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É
                        const fennecBalance = parseFloat(fennecNativeBalance || 0);
                        const fennecPrice = fbPrice * 0.0005; // –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Ü–µ–Ω–∞ FENNEC –≤ USD (fallback)
                        allTokensValueUSD = fennecBalance * fennecPrice;
                        debugInfo.all_tokens_value_usd_source = 'fallback_fennec_estimate';
                        debugInfo.all_tokens_value_usd_fallback_note =
                            'all_balance returned 429, using FENNEC balance estimate';
                    }

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–∫–µ–Ω—ã —Å –∫–æ—à–µ–ª—å–∫–∞, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ InSwap (–Ω–∞–ø—Ä–∏–º–µ—Ä, BITMAP)
                    // –≠—Ç–∏ —Ç–æ–∫–µ–Ω—ã —Ç–æ—Ä–≥—É—é—Ç—Å—è, –Ω–æ –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞ InSwap, –ø–æ—ç—Ç–æ–º—É –∏—Ö –Ω—É–∂–Ω–æ —É—á–µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
                    const walletTokensNotInInSwap = {};
                    let walletTokensValueUSD = 0;

                    if (unisatBrc20Summary?.data) {
                        let tokensList = [];
                        if (unisatBrc20Summary.data.detail && Array.isArray(unisatBrc20Summary.data.detail)) {
                            tokensList = unisatBrc20Summary.data.detail;
                        } else if (unisatBrc20Summary.data.list && Array.isArray(unisatBrc20Summary.data.list)) {
                            tokensList = unisatBrc20Summary.data.list;
                        } else if (Array.isArray(unisatBrc20Summary.data)) {
                            tokensList = unisatBrc20Summary.data;
                        }

                        // –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤ –∏–∑ InSwap –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
                        const inswapTickers = new Set();
                        if (allBalance?.data) {
                            Object.keys(allBalance.data).forEach(key => {
                                if (['lp_positions', 'positions', 'total_usd'].includes(key)) return;
                                const normalized = normalizeTicker(key.replace(/___\d+$/, '').toUpperCase());
                                if (normalized) inswapTickers.add(normalized);
                            });
                        }

                        // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ —Ç–æ–∫–µ–Ω–∞–º —Å –∫–æ—à–µ–ª—å–∫–∞
                        tokensList.forEach(t => {
                            const ticker = (t.ticker || t.tick || t.symbol || '').toUpperCase();
                            if (!ticker) return;

                            const normalizedTicker = normalizeTicker(ticker);

                            // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Ç–æ–∫–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ InSwap
                            if (inswapTickers.has(normalizedTicker)) return;

                            // –ü–æ–ª—É—á–∞–µ–º –±–∞–ª–∞–Ω—Å —Ç–æ–∫–µ–Ω–∞
                            const bal =
                                parseFloat(t.availableBalance || t.balance || 0) +
                                parseFloat(t.transferableBalance || 0);

                            if (bal > 0) {
                                // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ —Ü–µ–Ω—É –¥–ª—è —Ç–æ–∫–µ–Ω–∞
                                // –î–ª—è —Ç–æ–∫–µ–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ—Ä–≥—É—é—Ç—Å—è, –Ω–æ –Ω–µ –Ω–∞ InSwap, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω—É—é –æ—Ü–µ–Ω–∫—É
                                // –ò–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É —á–µ—Ä–µ–∑ API (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
                                const tokenValueUSD = 0;

                                // –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É: –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω —Ç–æ—Ä–≥—É–µ—Ç—Å—è, –Ω–æ —Ü–µ–Ω–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
                                // –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∫ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω —Ç–æ–∫–µ–Ω–æ–≤
                                // –î–ª—è BITMAP –∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å hardcoded —Ü–µ–Ω—ã –∏–ª–∏ API –∑–∞–ø—Ä–æ—Å

                                // –ü–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º —Ç–æ–∫–µ–Ω—ã –±–µ–∑ —Ü–µ–Ω—ã, —á—Ç–æ–±—ã –Ω–µ –∑–∞–≤—ã—à–∞—Ç—å Net Worth
                                // –≠—Ç–æ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —É–ª—É—á—à–∏—Ç—å, –¥–æ–±–∞–≤–∏–≤ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω —Ç–æ–∫–µ–Ω–æ–≤

                                if (tokenValueUSD > 0) {
                                    walletTokensValueUSD += tokenValueUSD;
                                    walletTokensNotInInSwap[normalizedTicker] = {
                                        balance: bal,
                                        valueUSD: tokenValueUSD,
                                        price: tokenValueUSD / bal
                                    };
                                }
                            }
                        });
                    }

                    // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤ —Å –∫–æ—à–µ–ª—å–∫–∞ –∫ –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
                    allTokensValueUSD += walletTokensValueUSD;
                    Object.assign(allTokensDetails, walletTokensNotInInSwap);

                    debugInfo.wallet_tokens_not_in_inswap = Object.keys(walletTokensNotInInSwap);
                    debugInfo.wallet_tokens_value_usd = walletTokensValueUSD;
                    debugInfo.all_tokens_count = Object.keys(allTokensDetails).length;
                    debugInfo.all_tokens_value_usd = allTokensValueUSD;
                    debugInfo.all_tokens_list = Object.keys(allTokensDetails);
                    debugInfo.all_balance_tokens_processed = Object.keys(allTokensDetails);
                    debugInfo.all_balance_calculation_debug = {
                        sFB_balance: allBalance?.data?.sFB___000?.balance,
                        sFB_price: allBalance?.data?.sFB___000?.price,
                        sBTC_balance: allBalance?.data?.sBTC___000?.balance,
                        sBTC_price: allBalance?.data?.sBTC___000?.price,
                        FENNEC_balance: allBalance?.data?.FENNEC?.balance,
                        FENNEC_price: allBalance?.data?.FENNEC?.price,
                        wangcai_balance: allBalance?.data?.wangcai?.balance,
                        wangcai_price: allBalance?.data?.wangcai?.price,
                        fbPrice_used: fbPrice,
                        btcPrice_used: btcPrice
                    };

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ï—Å–ª–∏ all_balance –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è, –¥–æ–±–∞–≤–ª—è–µ–º sFB –∏ FENNEC –∏–∑ allBalance –≤ —Ä–∞—Å—á–µ—Ç
                    // (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å –≤ allBalance, –Ω–æ –±—ã–ª–∏ –ø—Ä–æ–ø—É—â–µ–Ω—ã –≤—ã—à–µ)
                    if (allBalance?.data && allBalanceTotalUSD <= 0) {
                        // –î–æ–±–∞–≤–ª—è–µ–º sFB –∏–∑ all_balance (–µ—Å–ª–∏ –Ω–µ –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤—ã—à–µ)
                        if (allBalance.data.sFB___000 && !allTokensDetails['sFB___000']) {
                            const sFbBalance = parseFloat(allBalance.data.sFB___000.balance || 0);
                            const sFbPrice = parseFloat(allBalance.data.sFB___000.price || 0);
                            if (sFbBalance > 0) {
                                const sFbValueUSD = sFbPrice > 0 ? sFbBalance * sFbPrice : sFbBalance * fbPrice;
                                if (sFbValueUSD > 0) {
                                    allTokensValueUSD += sFbValueUSD;
                                    allTokensDetails['sFB___000'] = {
                                        balance: sFbBalance,
                                        valueUSD: sFbValueUSD,
                                        price: sFbPrice || fbPrice
                                    };
                                }
                            }
                        }

                        // –î–æ–±–∞–≤–ª—è–µ–º FENNEC –∏–∑ all_balance (–µ—Å–ª–∏ –Ω–µ –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤—ã—à–µ)
                        if (allBalance.data.FENNEC && !allTokensDetails['FENNEC']) {
                            const fennecBalance = parseFloat(allBalance.data.FENNEC.balance || 0);
                            const fennecPrice = parseFloat(allBalance.data.FENNEC.price || 0);
                            if (fennecBalance > 0) {
                                let fennecValueUSD = 0;
                                if (fennecPrice > 0) {
                                    fennecValueUSD = fennecBalance * fennecPrice;
                                } else if (fennecPriceInFB > 0 && fbPrice > 0) {
                                    fennecValueUSD = fennecBalance * fennecPriceInFB * fbPrice;
                                }
                                if (fennecValueUSD > 0) {
                                    allTokensValueUSD += fennecValueUSD;
                                    allTokensDetails['FENNEC'] = {
                                        balance: fennecBalance,
                                        valueUSD: fennecValueUSD,
                                        price: fennecPrice || fennecPriceInFB * fbPrice
                                    };
                                }
                            }
                        }

                        // –î–æ–±–∞–≤–ª—è–µ–º sBTC –∏–∑ all_balance
                        if (allBalance.data.sBTC___000 && !allTokensDetails['sBTC___000']) {
                            const sBtcBalance = parseFloat(allBalance.data.sBTC___000.balance || 0);
                            const sBtcPrice = parseFloat(allBalance.data.sBTC___000.price || 0);
                            if (sBtcBalance > 0) {
                                const sBtcValueUSD = sBtcPrice > 0 ? sBtcBalance * sBtcPrice : sBtcBalance * btcPrice;
                                if (sBtcValueUSD > 0) {
                                    allTokensValueUSD += sBtcValueUSD;
                                    allTokensDetails['sBTC___000'] = {
                                        balance: sBtcBalance,
                                        valueUSD: sBtcValueUSD,
                                        price: sBtcPrice || btcPrice
                                    };
                                }
                            }
                        }
                    }

                    // –î–æ–ø–æ–ª–Ω—è–µ–º debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (–ü–ï–†–ï–î –≤–æ–∑–≤—Ä–∞—Ç–æ–º)
                    debugInfo.calculated_utxo = utxoCount || 0;
                    debugInfo.calculated_runes = runesCount || 0;
                    debugInfo.calculated_ordinals = ordinalsCount || 0;
                    debugInfo.calculated_total_inscriptions = totalInscriptionsCount || 0;
                    debugInfo.calculated_lp_count = lpCount || 0;
                    debugInfo.calculated_lp_value_fb = lpValueFB || 0;
                    debugInfo.calculated_lp_value_usd = lpValueUSD || 0;

                    let aiLore = '';
                    const loreCacheKey = `ai_lore_v2:${String(address || '').trim()}`;
                    try {
                        if (env?.FENNEC_DB) {
                            const cachedLore = await env.FENNEC_DB.get(loreCacheKey);
                            if (cachedLore) aiLore = String(cachedLore || '').trim();
                        }
                    } catch (_) {
                        void _;
                        aiLore = '';
                    }

                    const makeLocalLore = () => {
                        try {
                            const seedStr = `${String(address || '').trim()}|${txCount}|${firstTxTs}|${runesCount}|${totalCollections}|${Math.floor(allTokensValueUSD)}`;
                            let h = 2166136261;
                            for (let i = 0; i < seedStr.length; i++) {
                                h ^= seedStr.charCodeAt(i);
                                h = Math.imul(h, 16777619) >>> 0;
                            }
                            const A = [
                                'Signature verified.',
                                'Cipher engaged.',
                                'Telemetry locked.',
                                'Fragment recovered.',
                                'Anomaly contained.',
                                'Node authenticated.',
                                'Signal stabilized.',
                                'Protocol resumed.'
                            ];
                            const B = [
                                'Ancient channel open.',
                                'Fox kernel online.',
                                'Mempool echoes detected.',
                                'Runic cache warming.',
                                'Liquidity imprint bound.',
                                'Artifact index synced.',
                                'Chainlight calibrated.',
                                'Vault access granted.'
                            ];
                            const C = [
                                'Proceed silently.',
                                'Hold formation.',
                                'Await next block.',
                                'Do not blink.',
                                'Keep the flame.',
                                'Trace complete.',
                                'No rollback.',
                                'Final check passed.'
                            ];
                            const a = A[h % A.length];
                            const b = B[(h >>> 8) % B.length];
                            const c = C[(h >>> 16) % C.length];
                            const out = `${a} ${b} ${c}`.trim();
                            return out.slice(0, 220);
                        } catch (_) {
                            void _;
                            return 'Signal stabilized. Fox kernel online. Await next block.';
                        }
                    };

                    try {
                        debugInfo.ai_lore_cache_key = loreCacheKey;
                        debugInfo.ai_lore_cache_hit = Boolean(aiLore);
                    } catch (_) {
                        void _;
                    }

                    if (!aiLore) {
                        try {
                            const ageInDays = Math.max(0, Math.floor((Date.now() / 1000 - firstTxTs) / 86400));
                            const wealthUSD = allTokensValueUSD.toFixed(0);
                            const lorePrompt = `Generate ONE short (max 12 words) mysterious cyberpunk system log. No greetings. Output only the message.

Stats: TX=${txCount}, Age=${ageInDays}d, Wealth=$${wealthUSD}, Collections=${totalCollections}, Runes=${runesCount}, LP=${lpCount}

Example: "Signature verified. Ancient protocol access granted."`;

                            const loreResult = await callGemini(lorePrompt, {
                                purpose: 'lore',
                                temperature: 0.9,
                                maxModelAttempts: 6,
                                timeoutMs: 10000
                            });

                            try {
                                debugInfo.ai_lore_model = String(loreResult?.model || '').trim() || null;
                            } catch (_) {
                                void _;
                            }

                            const cleaned = String(loreResult?.text || '')
                                .trim()
                                .replace(/^\s*["'`]+|["'`]+\s*$/g, '')
                                .replace(/\s+/g, ' ')
                                .slice(0, 220);

                            if (cleaned && cleaned.length >= 6) {
                                aiLore = cleaned;
                                try {
                                    if (env?.FENNEC_DB) {
                                        await env.FENNEC_DB.put(loreCacheKey, aiLore, { expirationTtl: 6 * 3600 });
                                    }
                                } catch (_) {
                                    void _;
                                }
                            }
                        } catch (e) {
                            try {
                                debugInfo.ai_lore_error = String(e?.message || e || '').slice(0, 500);
                            } catch (_) {
                                void _;
                            }
                            try {
                                aiLore = makeLocalLore();
                                debugInfo.ai_lore_fallback = 'local_template';
                                if (env?.FENNEC_DB && aiLore) {
                                    await env.FENNEC_DB.put(loreCacheKey, aiLore, { expirationTtl: 2 * 3600 });
                                }
                            } catch (_) {
                                void _;
                            }
                        }
                    }

                    if (!aiLore) aiLore = 'Initializing neural link...';

                    try {
                        debugInfo.ai_lore_used_default = aiLore === 'Initializing neural link...';
                    } catch (_) {
                        void _;
                    }

                    const outData = {
                        schema_version: 1,
                        tx_count: txCount,
                        utxo_count: utxoCount,
                        native_balance: nativeBalance,
                        fb_inswap_balance: fbInSwapBalance,
                        fennec_native_balance: fennecNativeBalance,
                        fennec_wallet_balance: fennecWalletBalance,
                        fennec_inswap_balance: fennecInSwapBalance,
                        fennecWalletBalance: fennecWalletBalance,
                        staked_fb: stakedFB,
                        has_fennec_in_lp: hasFennecInLP,
                        first_tx_ts: firstTxTs,
                        runes_count: runesCount,
                        brc20_count: brc20Count,
                        ordinals_count: ordinalsCount,
                        total_collections: totalCollections,
                        collection_inscriptions_by_collection: ordinalsByCollection || {},
                        total_inscriptions_count: totalInscriptionsCount,
                        abandoned_utxo_count: abandonedUtxoCount,
                        abandoned_utxo_count_missing: abandonedUtxoCountMissing,
                        lp_count: lpCount,
                        lp_value_fb: lpValueFB,
                        lp_value_usd: lpValueUSD,
                        fennec_lp_value_usd: fennecLpValueUSD,
                        fennecLpValueUSD: fennecLpValueUSD,
                        has_fennec_boxes: hasFennecBoxes,
                        fennec_boxes_count: fennecBoxesCount,
                        hasFennecBoxes: hasFennecBoxes,
                        fennecBoxesCount: fennecBoxesCount,
                        all_tokens_value_usd: allTokensValueUSD,
                        all_tokens_details: allTokensDetails,
                        ai_lore: aiLore,
                        prices: {
                            btc: btcPrice,
                            fb: fbPrice,
                            fennec_in_fb: fennecPriceInFB
                        }
                    };
                    if (__debugEnabled) outData._debug = debugInfo;

                    const response = sendJSON({ code: 0, data: outData });
                    // –ö—ç—à–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç - –ê–ì–†–ï–°–°–ò–í–ù–û–ï –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è 429 –æ—à–∏–±–æ–∫
                    try {
                        // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–≤–µ–ª–∏—á–µ–Ω–æ –≤—Ä–µ–º—è –∫—ç—à–∞ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è 429 –æ—à–∏–±–æ–∫ (–æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
                        // –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π cacheKey (–±–µ–∑ pubkey) –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
                        const normalizedCacheKey = new Request(cacheKeyUrl.toString(), { method: 'GET' });
                        response.headers.set('Cache-Control', 's-maxage=60, max-age=30'); // 60s –≤ Cloudflare, 30s –≤ –±—Ä–∞—É–∑–µ—Ä–µ
                        if (!__debugEnabled) {
                            if (ctx?.waitUntil) {
                                ctx.waitUntil(cache.put(normalizedCacheKey, response.clone()));
                            } else {
                                await cache.put(normalizedCacheKey, response.clone());
                            }
                        }
                    } catch (cacheErr) {
                        console.warn('Cache put failed:', cacheErr.message);
                    }
                    return response;
                } catch (e) {
                    return sendJSON({ error: e.message }, 500);
                }
            }

            // --- AI CHAT (OpenAI) ---
            if (action === 'chat') {
                if (request.method !== 'POST') return sendJSON({ error: 'Method not allowed' }, 405);

                let userMessage = '';
                let history = [];
                let uiContext = {};

                const __fallbackChat = text => {
                    const raw = String(text || '').trim();
                    const t = raw.toLowerCase();

                    const numMatch = raw.match(/(\d+(?:\.\d+)?)/);
                    const amount = numMatch ? numMatch[1] : '';

                    const mkReply = (msg, actionObj) => {
                        const safeMsg = String(msg || '').trim();
                        if (actionObj) return `${safeMsg}\n\n|||${JSON.stringify(actionObj)}|||`;
                        return safeMsg;
                    };

                    if (t.includes('connect') && t.includes('wallet')) {
                        return mkReply('AI is temporarily unavailable. I can still trigger wallet connection.', {
                            type: 'CONNECT_WALLET',
                            params: {}
                        });
                    }

                    if ((t.includes('open') && t.includes('id')) || t.includes('fennec id')) {
                        return mkReply('AI is temporarily unavailable. I can still open your Fennec ID section.', {
                            type: 'OPEN_ID',
                            params: {}
                        });
                    }

                    if (t.includes('deposit')) {
                        return mkReply('AI is temporarily unavailable. I can still open the deposit tab.', {
                            type: 'OPEN_DEPOSIT',
                            params: {}
                        });
                    }

                    if (t.includes('withdraw')) {
                        return mkReply('AI is temporarily unavailable. I can still open the withdraw tab.', {
                            type: 'OPEN_WITHDRAW',
                            params: {}
                        });
                    }

                    if (t.includes('swap') || t.includes('buy') || t.includes('sell')) {
                        const hasBtc = t.includes('btc');
                        const pair = hasBtc ? 'BTC_FB' : 'FB_FENNEC';

                        let buy = true;
                        if (pair === 'FB_FENNEC') {
                            if (t.includes('sell') && t.includes('fennec')) buy = false;
                            if (t.includes('to fb')) buy = false;
                            if (t.includes('buy') && t.includes('fennec')) buy = true;
                            if (t.includes('to fennec')) buy = true;
                        } else {
                            if (t.includes('sell') && (t.includes('fb') || t.includes('sfb'))) buy = false;
                            if (t.includes('to btc')) buy = false;
                            if (t.includes('buy') && (t.includes('fb') || t.includes('sfb'))) buy = true;
                            if (t.includes('to fb')) buy = true;
                        }

                        return mkReply('AI is temporarily unavailable. I can still prefill the swap form for you.', {
                            type: 'FILL_SWAP',
                            params: {
                                pair,
                                amount: amount || '0.0',
                                buy
                            }
                        });
                    }

                    return 'AI is temporarily unavailable (Gemini key missing/blocked). Please try again later.';
                };

                try {
                    const ip =
                        String(request.headers.get('CF-Connecting-IP') || '').trim() ||
                        String(request.headers.get('X-Forwarded-For') || '')
                            .split(',')[0]
                            .trim() ||
                        'unknown';

                    if (env?.RATE_LIMITER) {
                        const bucket = Math.floor(Date.now() / 3600000);
                        const k = `chat:${ip}:${bucket}`;
                        const v = Number((await env.RATE_LIMITER.get(k)) || 0) || 0;
                        if (v >= 20) return sendJSON({ reply: 'Too many messages. Chill.' }, 429);
                        await env.RATE_LIMITER.put(k, String(v + 1), { expirationTtl: 3600 });
                    } else {
                        const rl = __rateLimit(`ip:${ip}:chat`, 20, 3_600_000);
                        if (!rl.ok) return sendJSON({ reply: 'Too many messages. Chill.' }, 429);
                    }
                } catch (_) {
                    void _;
                }

                try {
                    const body = await request.json();
                    userMessage = body?.message;
                    history = Array.isArray(body?.history) ? body.history : [];
                    uiContext = body?.context && typeof body.context === 'object' ? body.context : {};
                } catch (_) {
                    void _;
                }

                try {
                    const builtinKnowledgeBase = `Fennec Swap is a DEX + terminal on Fractal Bitcoin.

KEY FACTS:
- Fractal Bitcoin is a Bitcoin-adjacent network with fast blocks (~30s).
- FENNEC is a BRC-20 token on Fractal.
- FB (sFB___000) is the native gas / main asset in the UI.
- BTC (sBTC___000) is bridged BTC inside Fractal.

TERMINAL OPERATIONS:
- SWAP: FB ‚Üî FENNEC and BTC ‚Üî FB.
- DEPOSIT: funds move from Bitcoin/Fractal into Fractal; balances appear after confirmations.
- WITHDRAW: funds move from Fractal back to Bitcoin mainnet.
  - Withdraw often has two tx identifiers: a burn/fee tx on Fractal and a receiveTxid on Bitcoin mainnet.

UNISAT:
- The site uses UniSat as a browser extension wallet (window.unisat).

FENNEC ID (v6.0, brief):
- Score (0..100) is derived from Activity/Wealth/Time/Badges, with an optional MAXI multiplier.
- Rarity thresholds: CUB(0-29), SCOUT(30-49), HUNTER(50-64), ALPHA(65-79), ELDER(80-94), SPIRIT(95-100).
- MAXI activates if FENNEC >= 10,000 or there is a LP position involving FENNEC.

IF YOU ARE NOT SURE:
- Say you are not sure.
- Provide verifiable sources or a search query.`;

                    let knowledgeBase = builtinKnowledgeBase;
                    try {
                        const controller = new AbortController();
                        setTimeout(() => controller.abort(), 1500);
                        const kbRes = await fetch('https://fennecbtc.xyz/knowledge_en.txt', {
                            signal: controller.signal
                        });
                        if (kbRes.ok) {
                            const kbText = await kbRes.text();
                            const trimmed = (kbText || '').trim();
                            knowledgeBase = trimmed ? `${trimmed}\n\n${builtinKnowledgeBase}` : builtinKnowledgeBase;
                        }
                    } catch (e) {
                        void e;
                    }

                    let marketData = 'Price unavailable.';
                    try {
                        const cacheObj = globalThis.__fennecChatPriceCache || (globalThis.__fennecChatPriceCache = {});
                        const now = Date.now();
                        if (cacheObj.ts && cacheObj.text && now - cacheObj.ts < 15000) {
                            marketData = cacheObj.text;
                        } else if (!__disableInswap) {
                            let poolUrl = `${SWAP_BASE}/brc20-swap/pool_info?tick0=FENNEC&tick1=sFB___000`;
                            let poolRes = await fetch(poolUrl, { headers: upstreamHeaders });
                            if (!poolRes.ok && poolRes.status === 404) {
                                poolUrl = `${SWAP_BASE}/indexer/brc20-swap/pool_info?tick0=FENNEC&tick1=sFB___000`;
                                poolRes = await fetch(poolUrl, { headers: upstreamHeaders });
                            }
                            const poolJson = await poolRes.json();
                            if (poolJson.data) {
                                const fennec = parseFloat(poolJson.data.amount0 || poolJson.data.amount1);
                                const fb = parseFloat(poolJson.data.amount1 || poolJson.data.amount0);
                                const price = (fb / fennec).toFixed(8);
                                marketData = `PRICE: 1 FENNEC = ${price} FB.`;
                                cacheObj.ts = now;
                                cacheObj.text = marketData;
                            }
                        }
                    } catch (e) {
                        void e;
                    }

                    const contextStr = `Section: ${uiContext.section || 'home'}, Tab: ${uiContext.tab || 'none'}, Swap: ${uiContext.swapPair || 'N/A'}`;

                    const systemPrompt = `
You are Fennec (Fennec Oracle), the AI assistant of the Fennec terminal on Fractal Bitcoin.
Your goal is to help users trade, debug issues, and understand the ecosystem.

CURRENT UI CONTEXT:
${contextStr}

KNOWLEDGE BASE:
${knowledgeBase}

MARKET DATA:
${marketData}

INSTRUCTIONS:
1. LANGUAGE: ALWAYS respond in English. Do not output any non-English words. If the user writes in another language, respond in English.
2. If the question is about Fennec/Fractal/UniSat/Terminal errors, answer precisely using the Knowledge Base.
3. If you are unsure, say so and provide verifiable sources or a search query.
4. Style: concise, technical, friendly.

=== TERMINAL FUNCTIONS ===
SWAP: Swap FB ‚Üî FENNEC and BTC ‚Üî FB
DEPOSIT: Deposit BTC/FB/FENNEC into Fractal
WITHDRAW: Withdraw to Bitcoin mainnet (burn on Fractal)
FENNEC ID: Generate and view your Fennec ID card

=== AI COMMANDS ===
1. NAVIGATE: {"type":"NAVIGATE","params":{"tab":"swap|deposit|withdraw|id"}}
2. FILL_SWAP: {"type":"FILL_SWAP","params":{"pair":"FB_FENNEC|BTC_FB","amount":"0.5","buy":true|false}}
   - buy=true: BUY FENNEC (you pay FB/BTC)
   - buy=false: SELL FENNEC (you pay FENNEC)
3. EXECUTE_SWAP: auto-execute the swap after filling
4. CONNECT_WALLET: {"type":"CONNECT_WALLET","params":{}}
5. OPEN_ID: {"type":"OPEN_ID","params":{}}

EXAMPLES:
- "swap 0.5 FB to FENNEC" ‚Üí |||{"type":"FILL_SWAP","params":{"pair":"FB_FENNEC","amount":"0.5","buy":true}}|||
- "sell 100 FENNEC" ‚Üí |||{"type":"FILL_SWAP","params":{"pair":"FB_FENNEC","amount":"100","buy":false}}|||
- "show my ID" ‚Üí |||{"type":"OPEN_ID","params":{}}|||
`;

                    let conversationHistory = '';
                    for (const h of history.slice(-6)) {
                        const role = h && h.role === 'assistant' ? 'AI' : 'User';
                        const content = h && typeof h.content === 'string' ? h.content : '';
                        if (content && content.length <= 500) {
                            conversationHistory += `${role}: ${content}\n`;
                        }
                    }

                    const fullPrompt = `${systemPrompt}\n\n${conversationHistory ? 'History:\n' + conversationHistory + '\n' : ''}User: ${String(userMessage || '')}`;

                    const result = await callGemini(fullPrompt, {
                        purpose: 'chat',
                        useSearch: true,
                        temperature: 0.7,
                        maxModelAttempts: 3,
                        timeoutMs: 12000
                    });

                    let replyText = String(result.text || '').trim();
                    try {
                        if (replyText && /[\u0400-\u04FF]/.test(replyText)) {
                            const rewrite = await callGemini(
                                `Rewrite the following text in English only. Output ONLY English.\n\nTEXT:\n${replyText}`,
                                {
                                    purpose: 'chat',
                                    useSearch: false,
                                    temperature: 0.2,
                                    maxModelAttempts: 1,
                                    timeoutMs: 6000
                                }
                            );
                            const fixed = String(rewrite && rewrite.text ? rewrite.text : '').trim();
                            if (fixed && !/[\u0400-\u04FF]/.test(fixed)) replyText = fixed;
                        }
                    } catch (e) {
                        void e;
                    }

                    return sendJSON({ reply: replyText || 'Empty reply.' });
                } catch (e) {
                    console.error('Chat error:', e);
                    const fallbackReply = __fallbackChat(userMessage);
                    return sendJSON({ reply: fallbackReply || 'AI is temporarily unavailable.' }, 200);
                }
            }

            // --- GAS ESTIMATE (–ü—Ä–æ–∫—Å–∏ –¥–ª—è CORS —Å –∏–º–∏—Ç–∞—Ü–∏–µ–π –±—Ä–∞—É–∑–µ—Ä–∞) ---
            if (action === 'gas') {
                try {
                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º Mempool Fractal API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è fee rates (—Ä–∞–∑–≥—Ä—É–∂–∞–µ–º UniSat)
                    // –ü—Ä–æ–±—É–µ–º —Å–Ω–∞—á–∞–ª–∞ Mempool Fractal, –ø–æ—Ç–æ–º fallback –Ω–∞ UniSat
                    let response = await fetch('https://mempool.fractalbitcoin.io/api/v1/fees/recommended', {
                        headers: { 'User-Agent': 'Mozilla/5.0' }
                    });

                    // Fallback: –µ—Å–ª–∏ Mempool –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º UniSat
                    if (!response.ok) {
                        requireUniSatKey();
                        response = await fetch(`${FRACTAL_BASE}/indexer/fees/recommended`, {
                            headers: {
                                ...authHeaders(),
                                'Content-Type': 'application/json',
                                'User-Agent':
                                    'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'
                            }
                        });
                    }

                    if (!response.ok) throw new Error('Upstream API Error');
                    const data = await response.json();

                    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: API –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö
                    // –ï—Å–ª–∏ –µ—Å—Ç—å fastestFee, halfHourFee, hourFee - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å
                    // –ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥—Ä—É–≥–∞—è, –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º
                    if (data.data) {
                        const fees = data.data;
                        return sendJSON(
                            {
                                fastestFee: fees.fastestFee || fees.fastest || fees.high || 10,
                                halfHourFee: fees.halfHourFee || fees.halfHour || fees.medium || 8,
                                hourFee: fees.hourFee || fees.hour || fees.low || 5,
                                minimumFee: fees.minimumFee || fees.minimum || 3
                            },
                            200,
                            30,
                            'public'
                        );
                    } else if (data.fastestFee !== undefined) {
                        return sendJSON(data, 200, 30, 'public');
                    } else {
                        // –ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
                        return sendJSON(
                            { fastestFee: 10, halfHourFee: 8, hourFee: 5, minimumFee: 3 },
                            200,
                            30,
                            'public'
                        );
                    }
                } catch (e) {
                    // Fallback: mempool.fractalbitcoin.io
                    try {
                        const fallbackResponse = await fetch(
                            'https://mempool.fractalbitcoin.io/api/v1/fees/recommended'
                        );
                        if (!fallbackResponse.ok) throw new Error('Fallback API Error');
                        const fallbackData = await fallbackResponse.json();
                        return sendJSON(fallbackData, 200, 30, 'public');
                    } catch (e2) {
                        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
                        return sendJSON(
                            { fastestFee: 10, halfHourFee: 8, hourFee: 5, minimumFee: 3 },
                            200,
                            30,
                            'public'
                        );
                    }
                }
            }

            // --- QA AGENT CHECK (Gemini) ---
            if (action === 'qa_agent_check') {
                if (request.method !== 'POST') return sendJSON({ error: 'Method not allowed' }, 405);

                try {
                    const body = await request.json();
                    const { page_state, console_logs, network_errors } = body;

                    const errorLogs = (console_logs || []).filter(l => l.type === 'error');
                    const hasErrors = errorLogs.length > 0 || (network_errors || []).length > 0;

                    if (!hasErrors) {
                        return sendJSON({
                            status: 'PASS',
                            message: '–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –û—à–∏–±–æ–∫ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ.'
                        });
                    }

                    const prompt = `–¢—ã QA Lead. –ü—Ä–æ–≤–µ—Ä—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

–õ–æ–≥–∏: ${JSON.stringify(errorLogs, null, 2)}
–°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏: ${JSON.stringify(network_errors, null, 2)}
–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: ${JSON.stringify(page_state, null, 2)}

–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ (–∫—Ä–∞—Å–Ω—ã–µ –ª–æ–≥–∏, NaN –≤ –±–∞–ª–∞–Ω—Å–∞—Ö, –ø—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏):
–í–µ—Ä–Ω–∏ JSON: { "status": "FAIL", "windsurf_instruction": "–í —Ñ–∞–π–ª–µ X –æ—à–∏–±–∫–∞ Y. –ò—Å–ø—Ä–∞–≤—å —Ç–∞–∫: ..." }

–ï—Å–ª–∏ –≤—Å–µ —á–∏—Å—Ç–æ:
–í–µ—Ä–Ω–∏ JSON: { "status": "PASS", "message": "–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ." }`;

                    const result = await callGemini(prompt, {
                        purpose: 'qa',
                        temperature: 0.3,
                        maxModelAttempts: 3,
                        timeoutMs: 12000
                    });

                    try {
                        const parsed = JSON.parse(result.text);
                        return sendJSON(parsed);
                    } catch (e) {
                        return sendJSON({
                            status: 'FAIL',
                            windsurf_instruction: result.text
                        });
                    }
                } catch (e) {
                    return sendJSON({ error: e.message }, 500);
                }
            }

            // --- ANALYZE ERROR (Dev Console) ---
            if (action === 'analyze_error') {
                if (request.method !== 'POST') return sendJSON({ error: 'Method not allowed' }, 405);

                try {
                    const body = await request.json();
                    const { error, stack, variables } = body;

                    const prompt = `–¢—ã Senior Frontend Developer. –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ.

Error: ${error}
Stack: ${stack || 'N/A'}
–í–∞–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: ${JSON.stringify(variables, null, 2)}

–ó–∞–¥–∞—á–∞:
1. –ù–∞–π–¥–∏ —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –æ—à–∏–±–∫–∏.
2. –ü—Ä–µ–¥–ª–æ–∂–∏ –±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (—á—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ –∫–æ–¥–µ).
3. –ï—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ —Å API –∏–ª–∏ –¥–∞–Ω–Ω—ã–º–∏, —É–∫–∞–∂–∏ —ç—Ç–æ.
–ë—É–¥—å –∫—Ä–∞—Ç–∫–∏–º –∏ —Ç–µ—Ö–Ω–∏—á–Ω—ã–º.`;

                    const result = await callGemini(prompt, {
                        purpose: 'analysis',
                        temperature: 0.3,
                        maxModelAttempts: 3,
                        timeoutMs: 12000
                    });

                    return sendJSON({ analysis: result.text });
                } catch (e) {
                    return sendJSON({ analysis: `AI analysis failed: ${e.message}` });
                }
            }

            return sendJSON({ error: 'Unknown action' }, 400);
        } catch (error) {
            console.error('Worker error:', error);

            const debugInfo = {
                error: error.message || 'Internal server error',
                stack: error.stack || 'N/A',
                url: request?.url || 'unknown',
                method: request?.method || 'unknown'
            };

            try {
                const action = new URL(request.url).searchParams.get('action') || 'none';
                debugInfo.action = action;
            } catch (e) {
                debugInfo.action = 'parse_error';
            }

            return sendJSON(debugInfo, 500);
        }
    }
};

==================================================
FILE PATH: \wrangler.pages.toml
==================================================

name = "fennec-swap"
pages_build_output_dir = "."

==================================================
FILE PATH: \wrangler.toml
==================================================

# Cloudflare Worker Configuration
name = "fennec-api"
account_id = "81cbc5b7d6c703bae35387c133b3c10d"
main = "worker.js"
compatibility_date = "2024-12-05"
workers_dev = true

# Pages Configuration

kv_namespaces = [
  { binding = "FENNEC_DB", id = "5f3166bbef7d4104921a24de3fe6fe20" }
]

[vars]
# Environment variables (if needed)

